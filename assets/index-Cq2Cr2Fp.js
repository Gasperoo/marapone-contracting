var Kd=Object.defineProperty;var Gd=(t,e,s)=>e in t?Kd(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s;var $=(t,e,s)=>Gd(t,typeof e!="symbol"?e+"":e,s);import{r as S,a as Yd,R as nt,u as nr,b as Mc,N as Jd,L as Po,c as Xd,B as Zd,d as Qd,e as vt}from"./react-vendor-C-abPITq.js";import{C as Ca,D as ef,R as tf,L as ti,a as si,V as ze,W as sf,b as rf,S as Ea,c as ja,M as Qi,P as en,d as ri,e as nf,H as of,F as af,f as lf,B as cf,g as uf,h as hf,A as df}from"./three-vendor-Cv8pSpCK.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const n of i)if(n.type==="childList")for(const o of n.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function s(i){const n={};return i.integrity&&(n.integrity=i.integrity),i.referrerPolicy&&(n.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?n.credentials="include":i.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function r(i){if(i.ep)return;i.ep=!0;const n=s(i);fetch(i.href,n)}})();var Lc={exports:{}},Bi={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ff=S,pf=Symbol.for("react.element"),mf=Symbol.for("react.fragment"),gf=Object.prototype.hasOwnProperty,yf=ff.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,vf={key:!0,ref:!0,__self:!0,__source:!0};function Fc(t,e,s){var r,i={},n=null,o=null;s!==void 0&&(n=""+s),e.key!==void 0&&(n=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)gf.call(e,r)&&!vf.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:pf,type:t,key:n,ref:o,props:i,_owner:yf.current}}Bi.Fragment=mf;Bi.jsx=Fc;Bi.jsxs=Fc;Lc.exports=Bi;var h=Lc.exports,In={},Pa=Yd;In.createRoot=Pa.createRoot,In.hydrateRoot=Pa.hydrateRoot;const $c=S.createContext(),Vc=()=>{const t=S.useContext($c);if(!t)throw new Error("useCurrency must be used within a CurrencyProvider");return t},wf=({children:t})=>{const[e,s]=S.useState(()=>localStorage.getItem("selectedCurrency")||"USD"),r={USD:1,CAD:1.35,EUR:.92},i={USD:"$",CAD:"C$",EUR:"â‚¬"};S.useEffect(()=>{localStorage.setItem("selectedCurrency",e)},[e]);const n=l=>(l*r[e]).toFixed(2),o=l=>{const c=n(l),u=i[e];return e==="EUR"?`${c}${u}`:`${u}${c}`},a=l=>{r[l]&&s(l)};return h.jsx($c.Provider,{value:{currency:e,changeCurrency:a,convertPrice:n,formatPrice:o,currencySymbol:i[e],exchangeRates:r},children:t})};function Ui(t,e){var s={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(s[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(s[r[i]]=t[r[i]]);return s}function _f(t,e,s,r){function i(n){return n instanceof s?n:new s(function(o){o(n)})}return new(s||(s=Promise))(function(n,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?n(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})}const bf=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class Ao extends Error{constructor(e,s="FunctionsError",r){super(e),this.name=s,this.context=r}}class xf extends Ao{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Aa extends Ao{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Ra extends Ao{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Mn;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Mn||(Mn={}));class Sf{constructor(e,{headers:s={},customFetch:r,region:i=Mn.Any}={}){this.url=e,this.headers=s,this.region=i,this.fetch=bf(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return _f(this,arguments,void 0,function*(s,r={}){var i;let n,o;try{const{headers:a,method:l,body:c,signal:u,timeout:d}=r;let f={},{region:p}=r;p||(p=this.region);const g=new URL(`${this.url}/${s}`);p&&p!=="any"&&(f["x-region"]=p,g.searchParams.set("forceFunctionRegion",p));let m;c&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)?typeof Blob<"u"&&c instanceof Blob||c instanceof ArrayBuffer?(f["Content-Type"]="application/octet-stream",m=c):typeof c=="string"?(f["Content-Type"]="text/plain",m=c):typeof FormData<"u"&&c instanceof FormData?m=c:(f["Content-Type"]="application/json",m=JSON.stringify(c)):c&&typeof c!="string"&&!(typeof Blob<"u"&&c instanceof Blob)&&!(c instanceof ArrayBuffer)&&!(typeof FormData<"u"&&c instanceof FormData)?m=JSON.stringify(c):m=c;let y=u;d&&(o=new AbortController,n=setTimeout(()=>o.abort(),d),u?(y=o.signal,u.addEventListener("abort",()=>o.abort())):y=o.signal);const w=yield this.fetch(g.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},f),this.headers),a),body:m,signal:y}).catch(x=>{throw new xf(x)}),v=w.headers.get("x-relay-error");if(v&&v==="true")throw new Aa(w);if(!w.ok)throw new Ra(w);let _=((i=w.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),b;return _==="application/json"?b=yield w.json():_==="application/octet-stream"||_==="application/pdf"?b=yield w.blob():_==="text/event-stream"?b=w:_==="multipart/form-data"?b=yield w.formData():b=yield w.text(),{data:b,error:null,response:w}}catch(a){return{data:null,error:a,response:a instanceof Ra||a instanceof Aa?a.context:void 0}}finally{n&&clearTimeout(n)}})}}var Tf=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}},kf=class{constructor(t){var e,s;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(e=t.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=t.signal,this.isMaybeSingle=(s=t.isMaybeSingle)!==null&&s!==void 0?s:!1,t.fetch?this.fetch=t.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,e){return this.headers=new Headers(this.headers),this.headers.set(t,e),this}then(t,e){var s=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async n=>{let o=null,a=null,l=null,c=n.status,u=n.statusText;if(n.ok){var d,f;if(s.method!=="HEAD"){var p;const w=await n.text();w===""||(s.headers.get("Accept")==="text/csv"||s.headers.get("Accept")&&(!((p=s.headers.get("Accept"))===null||p===void 0)&&p.includes("application/vnd.pgrst.plan+text"))?a=w:a=JSON.parse(w))}const m=(d=s.headers.get("Prefer"))===null||d===void 0?void 0:d.match(/count=(exact|planned|estimated)/),y=(f=n.headers.get("content-range"))===null||f===void 0?void 0:f.split("/");m&&y&&y.length>1&&(l=parseInt(y[1])),s.isMaybeSingle&&s.method==="GET"&&Array.isArray(a)&&(a.length>1?(o={code:"PGRST116",details:`Results contain ${a.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},a=null,l=null,c=406,u="Not Acceptable"):a.length===1?a=a[0]:a=null)}else{var g;const m=await n.text();try{o=JSON.parse(m),Array.isArray(o)&&n.status===404&&(a=[],o=null,c=200,u="OK")}catch{n.status===404&&m===""?(c=204,u="No Content"):o={message:m}}if(o&&s.isMaybeSingle&&(!(o==null||(g=o.details)===null||g===void 0)&&g.includes("0 rows"))&&(o=null,c=200,u="OK"),o&&s.shouldThrowOnError)throw new Tf(o)}return{error:o,data:a,count:l,status:c,statusText:u}});return this.shouldThrowOnError||(i=i.catch(n=>{var o;let a="";const l=n==null?void 0:n.cause;if(l){var c,u,d,f;const g=(c=l==null?void 0:l.message)!==null&&c!==void 0?c:"",m=(u=l==null?void 0:l.code)!==null&&u!==void 0?u:"";a=`${(d=n==null?void 0:n.name)!==null&&d!==void 0?d:"FetchError"}: ${n==null?void 0:n.message}`,a+=`

Caused by: ${(f=l==null?void 0:l.name)!==null&&f!==void 0?f:"Error"}: ${g}`,m&&(a+=` (${m})`),l!=null&&l.stack&&(a+=`
${l.stack}`)}else{var p;a=(p=n==null?void 0:n.stack)!==null&&p!==void 0?p:""}return{error:{message:`${(o=n==null?void 0:n.name)!==null&&o!==void 0?o:"FetchError"}: ${n==null?void 0:n.message}`,details:a,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),i.then(t,e)}returns(){return this}overrideTypes(){return this}},Cf=class extends kf{select(t){let e=!1;const s=(t??"*").split("").map(r=>/\s/.test(r)&&!e?"":(r==='"'&&(e=!e),r)).join("");return this.url.searchParams.set("select",s),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:e=!0,nullsFirst:s,foreignTable:r,referencedTable:i=r}={}){const n=i?`${i}.order`:"order",o=this.url.searchParams.get(n);return this.url.searchParams.set(n,`${o?`${o},`:""}${t}.${e?"asc":"desc"}${s===void 0?"":s?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:s=e}={}){const r=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(r,`${t}`),this}range(t,e,{foreignTable:s,referencedTable:r=s}={}){const i=typeof r>"u"?"offset":`${r}.offset`,n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(n,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:e=!1,settings:s=!1,buffers:r=!1,wal:i=!1,format:n="text"}={}){var o;const a=[t?"analyze":null,e?"verbose":null,s?"settings":null,r?"buffers":null,i?"wal":null].filter(Boolean).join("|"),l=(o=this.headers.get("Accept"))!==null&&o!==void 0?o:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${n}; for="${l}"; options=${a};`),n==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};const Oa=new RegExp("[,()]");var Ms=class extends Cf{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}regexMatch(t,e){return this.url.searchParams.append(t,`match.${e}`),this}regexIMatch(t,e){return this.url.searchParams.append(t,`imatch.${e}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}isDistinct(t,e){return this.url.searchParams.append(t,`isdistinct.${e}`),this}in(t,e){const s=Array.from(new Set(e)).map(r=>typeof r=="string"&&Oa.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(t,`in.(${s})`),this}notIn(t,e){const s=Array.from(new Set(e)).map(r=>typeof r=="string"&&Oa.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(t,`not.in.(${s})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:s,type:r}={}){let i="";r==="plain"?i="pl":r==="phrase"?i="ph":r==="websearch"&&(i="w");const n=s===void 0?"":`(${s})`;return this.url.searchParams.append(t,`${i}fts${n}.${e}`),this}match(t){return Object.entries(t).forEach(([e,s])=>{this.url.searchParams.append(e,`eq.${s}`)}),this}not(t,e,s){return this.url.searchParams.append(t,`not.${e}.${s}`),this}or(t,{foreignTable:e,referencedTable:s=e}={}){const r=s?`${s}.or`:"or";return this.url.searchParams.append(r,`(${t})`),this}filter(t,e,s){return this.url.searchParams.append(t,`${e}.${s}`),this}},Ef=class{constructor(t,{headers:e={},schema:s,fetch:r}){this.url=t,this.headers=new Headers(e),this.schema=s,this.fetch=r}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(t,e){const{head:s=!1,count:r}=e??{},i=s?"HEAD":"GET";let n=!1;const o=(t??"*").split("").map(c=>/\s/.test(c)&&!n?"":(c==='"'&&(n=!n),c)).join(""),{url:a,headers:l}=this.cloneRequestState();return a.searchParams.set("select",o),r&&l.append("Prefer",`count=${r}`),new Ms({method:i,url:a,headers:l,schema:this.schema,fetch:this.fetch})}insert(t,{count:e,defaultToNull:s=!0}={}){var r;const i="POST",{url:n,headers:o}=this.cloneRequestState();if(e&&o.append("Prefer",`count=${e}`),s||o.append("Prefer","missing=default"),Array.isArray(t)){const a=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(a.length>0){const l=[...new Set(a)].map(c=>`"${c}"`);n.searchParams.set("columns",l.join(","))}}return new Ms({method:i,url:n,headers:o,schema:this.schema,body:t,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}upsert(t,{onConflict:e,ignoreDuplicates:s=!1,count:r,defaultToNull:i=!0}={}){var n;const o="POST",{url:a,headers:l}=this.cloneRequestState();if(l.append("Prefer",`resolution=${s?"ignore":"merge"}-duplicates`),e!==void 0&&a.searchParams.set("on_conflict",e),r&&l.append("Prefer",`count=${r}`),i||l.append("Prefer","missing=default"),Array.isArray(t)){const c=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);a.searchParams.set("columns",u.join(","))}}return new Ms({method:o,url:a,headers:l,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}update(t,{count:e}={}){var s;const r="PATCH",{url:i,headers:n}=this.cloneRequestState();return e&&n.append("Prefer",`count=${e}`),new Ms({method:r,url:i,headers:n,schema:this.schema,body:t,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}delete({count:t}={}){var e;const s="DELETE",{url:r,headers:i}=this.cloneRequestState();return t&&i.append("Prefer",`count=${t}`),new Ms({method:s,url:r,headers:i,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch})}},jf=class Bc{constructor(e,{headers:s={},schema:r,fetch:i}={}){this.url=e,this.headers=new Headers(s),this.schemaName=r,this.fetch=i}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new Ef(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new Bc(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,s={},{head:r=!1,get:i=!1,count:n}={}){var o;let a;const l=new URL(`${this.url}/rpc/${e}`);let c;const u=p=>p!==null&&typeof p=="object"&&(!Array.isArray(p)||p.some(u)),d=r&&Object.values(s).some(u);d?(a="POST",c=s):r||i?(a=r?"HEAD":"GET",Object.entries(s).filter(([p,g])=>g!==void 0).map(([p,g])=>[p,Array.isArray(g)?`{${g.join(",")}}`:`${g}`]).forEach(([p,g])=>{l.searchParams.append(p,g)})):(a="POST",c=s);const f=new Headers(this.headers);return d?f.set("Prefer",n?`count=${n},return=minimal`:"return=minimal"):n&&f.set("Prefer",`count=${n}`),new Ms({method:a,url:l,headers:f,schema:this.schemaName,body:c,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};class Pf{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const s=globalThis.process;if(s){const r=s.versions;if(r&&r.node){const i=r.node,n=parseInt(i.replace(/^v/,"").split(".")[0]);return n>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${n} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${n} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let s=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(s+=`

Suggested solution: ${e.workaround}`),new Error(s)}static createWebSocket(e,s){const r=this.getWebSocketConstructor();return new r(e,s)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const Af="2.93.3",Rf=`realtime-js/${Af}`,Of="1.0.0",Uc="2.0.0",Na=Uc,Ln=1e4,Nf=1e3,Df=100;var Wt;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Wt||(Wt={}));var Ee;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Ee||(Ee={}));var St;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(St||(St={}));var Fn;(function(t){t.websocket="websocket"})(Fn||(Fn={}));var ys;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(ys||(ys={}));class If{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,s){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return s(this._binaryEncodeUserBroadcastPush(e));let r=[e.join_ref,e.ref,e.topic,e.event,e.payload];return s(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(e){var s;return this._isArrayBuffer((s=e.payload)===null||s===void 0?void 0:s.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var s,r;const i=(r=(s=e.payload)===null||s===void 0?void 0:s.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(e){var s,r;const i=(r=(s=e.payload)===null||s===void 0?void 0:s.payload)!==null&&r!==void 0?r:{},o=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,o)}_encodeUserBroadcastPush(e,s,r){var i,n;const o=e.topic,a=(i=e.ref)!==null&&i!==void 0?i:"",l=(n=e.join_ref)!==null&&n!==void 0?n:"",c=e.payload.event,u=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},d=Object.keys(u).length===0?"":JSON.stringify(u);if(l.length>255)throw new Error(`joinRef length ${l.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`ref length ${a.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`topic length ${o.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`userEvent length ${c.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`metadata length ${d.length} exceeds maximum of 255`);const f=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+a.length+o.length+c.length+d.length,p=new ArrayBuffer(this.HEADER_LENGTH+f);let g=new DataView(p),m=0;g.setUint8(m++,this.KINDS.userBroadcastPush),g.setUint8(m++,l.length),g.setUint8(m++,a.length),g.setUint8(m++,o.length),g.setUint8(m++,c.length),g.setUint8(m++,d.length),g.setUint8(m++,s),Array.from(l,w=>g.setUint8(m++,w.charCodeAt(0))),Array.from(a,w=>g.setUint8(m++,w.charCodeAt(0))),Array.from(o,w=>g.setUint8(m++,w.charCodeAt(0))),Array.from(c,w=>g.setUint8(m++,w.charCodeAt(0))),Array.from(d,w=>g.setUint8(m++,w.charCodeAt(0)));var y=new Uint8Array(p.byteLength+r.byteLength);return y.set(new Uint8Array(p),0),y.set(new Uint8Array(r),p.byteLength),y.buffer}decode(e,s){if(this._isArrayBuffer(e)){let r=this._binaryDecode(e);return s(r)}if(typeof e=="string"){const r=JSON.parse(e),[i,n,o,a,l]=r;return s({join_ref:i,ref:n,topic:o,event:a,payload:l})}return s({})}_binaryDecode(e){const s=new DataView(e),r=s.getUint8(0),i=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,s,i)}}_decodeUserBroadcast(e,s,r){const i=s.getUint8(1),n=s.getUint8(2),o=s.getUint8(3),a=s.getUint8(4);let l=this.HEADER_LENGTH+4;const c=r.decode(e.slice(l,l+i));l=l+i;const u=r.decode(e.slice(l,l+n));l=l+n;const d=r.decode(e.slice(l,l+o));l=l+o;const f=e.slice(l,e.byteLength),p=a===this.JSON_ENCODING?JSON.parse(r.decode(f)):f,g={type:this.BROADCAST_EVENT,event:u,payload:p};return o>0&&(g.meta=JSON.parse(d)),{join_ref:null,ref:null,topic:c,event:this.BROADCAST_EVENT,payload:g}}_isArrayBuffer(e){var s;return e instanceof ArrayBuffer||((s=e==null?void 0:e.constructor)===null||s===void 0?void 0:s.name)==="ArrayBuffer"}_pick(e,s){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([r])=>s.includes(r)))}}class zc{constructor(e,s){this.callback=e,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ae;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(ae||(ae={}));const Da=(t,e,s={})=>{var r;const i=(r=s.skipTypes)!==null&&r!==void 0?r:[];return e?Object.keys(e).reduce((n,o)=>(n[o]=Mf(o,t,e,i),n),{}):{}},Mf=(t,e,s,r)=>{const i=e.find(a=>a.name===t),n=i==null?void 0:i.type,o=s[t];return n&&!r.includes(n)?Wc(n,o):$n(o)},Wc=(t,e)=>{if(t.charAt(0)==="_"){const s=t.slice(1,t.length);return Vf(e,s)}switch(t){case ae.bool:return Lf(e);case ae.float4:case ae.float8:case ae.int2:case ae.int4:case ae.int8:case ae.numeric:case ae.oid:return Ff(e);case ae.json:case ae.jsonb:return $f(e);case ae.timestamp:return Bf(e);case ae.abstime:case ae.date:case ae.daterange:case ae.int4range:case ae.int8range:case ae.money:case ae.reltime:case ae.text:case ae.time:case ae.timestamptz:case ae.timetz:case ae.tsrange:case ae.tstzrange:return $n(e);default:return $n(e)}},$n=t=>t,Lf=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},Ff=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},$f=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t},Vf=(t,e)=>{if(typeof t!="string")return t;const s=t.length-1,r=t[s];if(t[0]==="{"&&r==="}"){let n;const o=t.slice(1,s);try{n=JSON.parse("["+o+"]")}catch{n=o?o.split(","):[]}return n.map(a=>Wc(e,a))}return t},Bf=t=>typeof t=="string"?t.replace(" ","T"):t,qc=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class tn{constructor(e,s,r={},i=Ln){this.channel=e,this.event=s,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,s){var r;return this._hasReceived(e)&&s((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:s}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(s))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Ia;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Ia||(Ia={}));class xr{constructor(e,s){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(s==null?void 0:s.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:n,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=xr.syncState(this.state,i,n,o),this.pendingDiffs.forEach(l=>{this.state=xr.syncDiff(this.state,l,n,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},i=>{const{onJoin:n,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=xr.syncDiff(this.state,i,n,o),a())}),this.onJoin((i,n,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:n,newPresences:o})}),this.onLeave((i,n,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:n,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,s,r,i){const n=this.cloneDeep(e),o=this.transformState(s),a={},l={};return this.map(n,(c,u)=>{o[c]||(l[c]=u)}),this.map(o,(c,u)=>{const d=n[c];if(d){const f=u.map(y=>y.presence_ref),p=d.map(y=>y.presence_ref),g=u.filter(y=>p.indexOf(y.presence_ref)<0),m=d.filter(y=>f.indexOf(y.presence_ref)<0);g.length>0&&(a[c]=g),m.length>0&&(l[c]=m)}else a[c]=u}),this.syncDiff(n,{joins:a,leaves:l},r,i)}static syncDiff(e,s,r,i){const{joins:n,leaves:o}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(n,(a,l)=>{var c;const u=(c=e[a])!==null&&c!==void 0?c:[];if(e[a]=this.cloneDeep(l),u.length>0){const d=e[a].map(p=>p.presence_ref),f=u.filter(p=>d.indexOf(p.presence_ref)<0);e[a].unshift(...f)}r(a,u,l)}),this.map(o,(a,l)=>{let c=e[a];if(!c)return;const u=l.map(d=>d.presence_ref);c=c.filter(d=>u.indexOf(d.presence_ref)<0),e[a]=c,i(a,c,l),c.length===0&&delete e[a]}),e}static map(e,s){return Object.getOwnPropertyNames(e).map(r=>s(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((s,r)=>{const i=e[r];return"metas"in i?s[r]=i.metas.map(n=>(n.presence_ref=n.phx_ref,delete n.phx_ref,delete n.phx_ref_prev,n)):s[r]=i,s},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Ma;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Ma||(Ma={}));var Sr;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Sr||(Sr={}));var Nt;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Nt||(Nt={}));class Vs{constructor(e,s={config:{}},r){var i,n;if(this.topic=e,this.params=s,this.socket=r,this.bindings={},this.state=Ee.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new tn(this,St.join,this.params,this.timeout),this.rejoinTimer=new zc(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ee.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ee.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Ee.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ee.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Ee.errored,this.rejoinTimer.scheduleTimeout())}),this._on(St.reply,{},(o,a)=>{this._trigger(this._replyEventName(a),o)}),this.presence=new xr(this),this.broadcastEndpointURL=qc(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((n=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||n===void 0)&&n.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,s=this.timeout){var r,i,n;if(this.socket.isConnected()||this.socket.connect(),this.state==Ee.closed){const{config:{broadcast:o,presence:a,private:l}}=this.params,c=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(p=>p.filter))!==null&&i!==void 0?i:[],u=!!this.bindings[Sr.PRESENCE]&&this.bindings[Sr.PRESENCE].length>0||((n=this.params.config.presence)===null||n===void 0?void 0:n.enabled)===!0,d={},f={broadcast:o,presence:Object.assign(Object.assign({},a),{enabled:u}),postgres_changes:c,private:l};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(p=>e==null?void 0:e(Nt.CHANNEL_ERROR,p)),this._onClose(()=>e==null?void 0:e(Nt.CLOSED)),this.updateJoinPayload(Object.assign({config:f},d)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:p})=>{var g;if(this.socket._isManualToken()||this.socket.setAuth(),p===void 0){e==null||e(Nt.SUBSCRIBED);return}else{const m=this.bindings.postgres_changes,y=(g=m==null?void 0:m.length)!==null&&g!==void 0?g:0,w=[];for(let v=0;v<y;v++){const _=m[v],{filter:{event:b,schema:x,table:T,filter:k}}=_,j=p&&p[v];if(j&&j.event===b&&Vs.isFilterValueEqual(j.schema,x)&&Vs.isFilterValueEqual(j.table,T)&&Vs.isFilterValueEqual(j.filter,k))w.push(Object.assign(Object.assign({},_),{id:j.id}));else{this.unsubscribe(),this.state=Ee.errored,e==null||e(Nt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=w,e&&e(Nt.SUBSCRIBED);return}}).receive("error",p=>{this.state=Ee.errored,e==null||e(Nt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Nt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,s={}){return await this.send({type:"presence",event:"track",payload:e},s.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,s,r){return this.state===Ee.joined&&e===Sr.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,s,r)}async httpSend(e,s,r={}){var i;if(s==null)return Promise.reject("Payload is required for httpSend()");const n={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(n.Authorization=`Bearer ${this.socket.accessTokenValue}`);const o={method:"POST",headers:n,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:s,private:this.private}]})},a=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(i=r.timeout)!==null&&i!==void 0?i:this.timeout);if(a.status===202)return{success:!0};let l=a.statusText;try{const c=await a.json();l=c.error||c.message||l}catch{}return Promise.reject(new Error(l))}async send(e,s={}){var r,i;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:n,payload:o}=e,a={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(a.Authorization=`Bearer ${this.socket.accessTokenValue}`);const l={method:"POST",headers:a,body:JSON.stringify({messages:[{topic:this.subTopic,event:n,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=s.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=c.body)===null||i===void 0?void 0:i.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(n=>{var o,a,l;const c=this._push(e.type,e,s.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&n("ok"),c.receive("ok",()=>n("ok")),c.receive("error",()=>n("error")),c.receive("timeout",()=>n("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Ee.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(St.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new tn(this,St.leave,{},e),r.receive("ok",()=>{s(),i("ok")}).receive("timeout",()=>{s(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Ee.closed,this.bindings={}}async _fetchWithTimeout(e,s,r){const i=new AbortController,n=setTimeout(()=>i.abort(),r),o=await this.socket.fetch(e,Object.assign(Object.assign({},s),{signal:i.signal}));return clearTimeout(n),o}_push(e,s,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new tn(this,e,s,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>Df){const s=this.pushBuffer.shift();s&&(s.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${s.event}`,s.payload))}}_onMessage(e,s,r){return s}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,s,r){var i,n;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:c,join:u}=St;if(r&&[a,l,c,u].indexOf(o)>=0&&r!==this._joinRef())return;let f=this._onMessage(o,s,r);if(s&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(p=>{var g,m,y;return((g=p.filter)===null||g===void 0?void 0:g.event)==="*"||((y=(m=p.filter)===null||m===void 0?void 0:m.event)===null||y===void 0?void 0:y.toLocaleLowerCase())===o}).map(p=>p.callback(f,r)):(n=this.bindings[o])===null||n===void 0||n.filter(p=>{var g,m,y,w,v,_;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in p){const b=p.id,x=(g=p.filter)===null||g===void 0?void 0:g.event;return b&&((m=s.ids)===null||m===void 0?void 0:m.includes(b))&&(x==="*"||(x==null?void 0:x.toLocaleLowerCase())===((y=s.data)===null||y===void 0?void 0:y.type.toLocaleLowerCase()))}else{const b=(v=(w=p==null?void 0:p.filter)===null||w===void 0?void 0:w.event)===null||v===void 0?void 0:v.toLocaleLowerCase();return b==="*"||b===((_=s==null?void 0:s.event)===null||_===void 0?void 0:_.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===o}).map(p=>{if(typeof f=="object"&&"ids"in f){const g=f.data,{schema:m,table:y,commit_timestamp:w,type:v,errors:_}=g;f=Object.assign(Object.assign({},{schema:m,table:y,commit_timestamp:w,eventType:v,new:{},old:{},errors:_}),this._getPayloadRecords(g))}p.callback(f,r)})}_isClosed(){return this.state===Ee.closed}_isJoined(){return this.state===Ee.joined}_isJoining(){return this.state===Ee.joining}_isLeaving(){return this.state===Ee.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,s,r){const i=e.toLocaleLowerCase(),n={type:i,filter:s,callback:r};return this.bindings[i]?this.bindings[i].push(n):this.bindings[i]=[n],this}_off(e,s){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var n;return!(((n=i.type)===null||n===void 0?void 0:n.toLocaleLowerCase())===r&&Vs.isEqual(i.filter,s))})),this}static isEqual(e,s){if(Object.keys(e).length!==Object.keys(s).length)return!1;for(const r in e)if(e[r]!==s[r])return!1;return!0}static isFilterValueEqual(e,s){return(e??void 0)===(s??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(St.close,{},e)}_onError(e){this._on(St.error,{},s=>e(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ee.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const s={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(s.new=Da(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(s.old=Da(e.columns,e.old_record)),s}}const sn=()=>{},ii={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Uf=[1e3,2e3,5e3,1e4],zf=1e4,Wf=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class qf{constructor(e,s){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Ln,this.transport=null,this.heartbeatIntervalMs=ii.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=sn,this.ref=0,this.reconnectTimer=null,this.vsn=Na,this.logger=sn,this.conn=null,this.sendBuffer=[],this.serializer=new If,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=i=>i?(...n)=>i(...n):(...n)=>fetch(...n),!(!((r=s==null?void 0:s.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=s.params.apikey,this.endPoint=`${e}/${Fn.websocket}`,this.httpEndpoint=qc(e),this._initializeOptions(s),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(s==null?void 0:s.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Pf.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const s=e.message;throw s.includes("Node.js")?new Error(`${s}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${s}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,s){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,s??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const s=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const e=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,s,r){this.logger(e,s,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Wt.connecting:return ys.Connecting;case Wt.open:return ys.Open;case Wt.closing:return ys.Closing;default:return ys.Closed}}isConnected(){return this.connectionState()===ys.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,s={config:{}}){const r=`realtime:${e}`,i=this.getChannels().find(n=>n.topic===r);if(i)return i;{const n=new Vs(`realtime:${e}`,s,this);return this.channels.push(n),n}}push(e){const{topic:s,event:r,payload:i,ref:n}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${s} ${r} (${n})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(s){this.log("error","error in heartbeat callback",s)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(s){this.log("error","error in heartbeat callback",s)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(Nf,"heartbeat timeout"),setTimeout(()=>{var s;this.isConnected()||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout()},ii.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(s){this.log("error","error in heartbeat callback",s)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let s=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${e}"`),s.unsubscribe())}_remove(e){this.channels=this.channels.filter(s=>s.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,s=>{if(s.topic==="phoenix"&&s.event==="phx_reply"&&s.ref&&s.ref===this.pendingHeartbeatRef){const c=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(s.payload.status==="ok"?"ok":"error",c)}catch(u){this.log("error","error in heartbeat callback",u)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:r,event:i,payload:n,ref:o}=s,a=o?`(${o})`:"",l=n.status||"";this.log("receive",`${l} ${r} ${i} ${a}`.trim(),n),this.channels.filter(c=>c._isMember(r)).forEach(c=>c._trigger(i,n,o)),this._triggerStateCallbacks("message",s)})}_clearTimer(e){var s;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((s=this.reconnectTimer)===null||s===void 0||s.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===Wt.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Wt.open||this.conn.readyState===Wt.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(s=>{this.log("error","error waiting for auth on connect",s),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this._terminateWorker()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var s;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e);try{this.heartbeatCallback("error")}catch(s){this.log("error","error in heartbeat callback",s)}}_triggerChanError(){this.channels.forEach(e=>e._trigger(St.error))}_appendParams(e,s){if(Object.keys(s).length===0)return e;const r=e.match(/\?/)?"&":"?",i=new URLSearchParams(s);return`${e}${r}${i}`}_workerObjectUrl(e){let s;if(e)s=e;else{const r=new Blob([Wf],{type:"application/javascript"});s=URL.createObjectURL(r)}return s}_setConnectionState(e,s=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=s)}async _performAuth(e=null){let s,r=!1;if(e)s=e,r=!0;else if(this.accessToken)try{s=await this.accessToken()}catch(i){this.log("error","Error fetching access token from callback",i),s=this.accessTokenValue}else s=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=s&&(this.accessTokenValue=s,this.channels.forEach(i=>{const n={access_token:s,version:Rf};s&&i.updateJoinPayload(n),i.joinedOnce&&i._isJoined()&&i._push(St.access_token,{access_token:s})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(s=>{this.log("error",`Error setting auth in ${e}`,s)})}_triggerStateCallbacks(e,s){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(s)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new zc(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},ii.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var s,r,i,n,o,a,l,c,u,d,f,p;switch(this.transport=(s=e==null?void 0:e.transport)!==null&&s!==void 0?s:null,this.timeout=(r=e==null?void 0:e.timeout)!==null&&r!==void 0?r:Ln,this.heartbeatIntervalMs=(i=e==null?void 0:e.heartbeatIntervalMs)!==null&&i!==void 0?i:ii.HEARTBEAT_INTERVAL,this.worker=(n=e==null?void 0:e.worker)!==null&&n!==void 0?n:!1,this.accessToken=(o=e==null?void 0:e.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(a=e==null?void 0:e.heartbeatCallback)!==null&&a!==void 0?a:sn,this.vsn=(l=e==null?void 0:e.vsn)!==null&&l!==void 0?l:Na,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=e==null?void 0:e.reconnectAfterMs)!==null&&c!==void 0?c:g=>Uf[g-1]||zf,this.vsn){case Of:this.encode=(u=e==null?void 0:e.encode)!==null&&u!==void 0?u:(g,m)=>m(JSON.stringify(g)),this.decode=(d=e==null?void 0:e.decode)!==null&&d!==void 0?d:(g,m)=>m(JSON.parse(g));break;case Uc:this.encode=(f=e==null?void 0:e.encode)!==null&&f!==void 0?f:this.serializer.encode.bind(this.serializer),this.decode=(p=e==null?void 0:e.decode)!==null&&p!==void 0?p:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}var Rr=class extends Error{constructor(t,e){var s;super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&((s=e.icebergType)==null?void 0:s.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function Hf(t,e,s){const r=new URL(e,t);if(s)for(const[i,n]of Object.entries(s))n!==void 0&&r.searchParams.set(i,n);return r.toString()}async function Kf(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function Gf(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:s,path:r,query:i,body:n,headers:o}){const a=Hf(t.baseUrl,r,i),l=await Kf(t.auth),c=await e(a,{method:s,headers:{...n?{"Content-Type":"application/json"}:{},...l,...o},body:n?JSON.stringify(n):void 0}),u=await c.text(),d=(c.headers.get("content-type")||"").includes("application/json"),f=d&&u?JSON.parse(u):u;if(!c.ok){const p=d?f:void 0,g=p==null?void 0:p.error;throw new Rr((g==null?void 0:g.message)??`Request failed with status ${c.status}`,{status:c.status,icebergType:g==null?void 0:g.type,icebergCode:g==null?void 0:g.code,details:p})}return{status:c.status,headers:c.headers,data:f}}}}function ni(t){return t.join("")}var Yf=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:ni(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(t,e){const s={namespace:t.namespace,properties:e==null?void 0:e.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:s})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${ni(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ni(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${ni(t.namespace)}`}),!0}catch(e){if(e instanceof Rr&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(s){if(s instanceof Rr&&s.status===409)return;throw s}}};function Ps(t){return t.join("")}var Jf=class{constructor(t,e="",s){this.client=t,this.prefix=e,this.accessDelegation=s}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ps(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const s={};return this.accessDelegation&&(s["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Ps(t.namespace)}/tables`,body:e,headers:s})).data.metadata}async updateTable(t,e){const s=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Ps(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":s.data["metadata-location"],metadata:s.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Ps(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String((e==null?void 0:e.purge)??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ps(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Ps(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(s){if(s instanceof Rr&&s.status===404)return!1;throw s}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(s){if(s instanceof Rr&&s.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw s}}},Xf=class{constructor(t){var r;let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const s=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=Gf({baseUrl:s,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=(r=t.accessDelegation)==null?void 0:r.join(","),this.namespaceOps=new Yf(this.client,e),this.tableOps=new Jf(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}},zi=class extends Error{constructor(t,e="storage",s,r){super(t),this.__isStorageError=!0,this.namespace=e,this.name=e==="vectors"?"StorageVectorsError":"StorageError",this.status=s,this.statusCode=r}};function Wi(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}var oi=class extends zi{constructor(t,e,s,r="storage"){super(t,r,e,s),this.name=r==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=e,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Hc=class extends zi{constructor(t,e,s="storage"){super(t,s),this.name=s==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=e}};const Zf=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),Qf=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Vn=t=>{if(Array.isArray(t))return t.map(s=>Vn(s));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([s,r])=>{const i=s.replace(/([-_][a-z])/gi,n=>n.toUpperCase().replace(/[-_]/g,""));e[i]=Vn(r)}),e},ep=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t);function Or(t){"@babel/helpers - typeof";return Or=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Or(t)}function tp(t,e){if(Or(t)!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var r=s.call(t,e);if(Or(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function sp(t){var e=tp(t,"string");return Or(e)=="symbol"?e:e+""}function rp(t,e,s){return(e=sp(e))in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}function La(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),s.push.apply(s,r)}return s}function q(t){for(var e=1;e<arguments.length;e++){var s=arguments[e]!=null?arguments[e]:{};e%2?La(Object(s),!0).forEach(function(r){rp(t,r,s[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):La(Object(s)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(s,r))})}return t}const Fa=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},ip=async(t,e,s,r)=>{if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(s!=null&&s.noResolveJson)){const i=t,n=i.status||500;if(typeof i.json=="function")i.json().then(o=>{const a=(o==null?void 0:o.statusCode)||(o==null?void 0:o.code)||n+"";e(new oi(Fa(o),n,a,r))}).catch(()=>{if(r==="vectors"){const o=n+"";e(new oi(i.statusText||`HTTP ${n} error`,n,o,r))}else{const o=n+"";e(new oi(i.statusText||`HTTP ${n} error`,n,o,r))}});else{const o=n+"";e(new oi(i.statusText||`HTTP ${n} error`,n,o,r))}}else e(new Hc(Fa(t),t,r))},np=(t,e,s,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||t==="HEAD"||!r?q(q({},i),s):(Qf(r)?(i.headers=q({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(r)):i.body=r,e!=null&&e.duplex&&(i.duplex=e.duplex),q(q({},i),s))};async function fr(t,e,s,r,i,n,o){return new Promise((a,l)=>{t(s,np(e,r,i,n)).then(c=>{if(!c.ok)throw c;if(r!=null&&r.noResolveJson)return c;if(o==="vectors"){const u=c.headers.get("content-type");if(c.headers.get("content-length")==="0"||c.status===204)return{};if(!u||!u.includes("application/json"))return{}}return c.json()}).then(c=>a(c)).catch(c=>ip(c,l,r,o))})}function Kc(t="storage"){return{get:async(e,s,r,i)=>fr(e,"GET",s,r,i,void 0,t),post:async(e,s,r,i,n)=>fr(e,"POST",s,i,n,r,t),put:async(e,s,r,i,n)=>fr(e,"PUT",s,i,n,r,t),head:async(e,s,r,i)=>fr(e,"HEAD",s,q(q({},r),{},{noResolveJson:!0}),i,void 0,t),remove:async(e,s,r,i,n)=>fr(e,"DELETE",s,i,n,r,t)}}const op=Kc("storage"),{get:Nr,post:xt,put:Bn,head:ap,remove:Ro}=op,tt=Kc("vectors");var or=class{constructor(t,e={},s,r="storage"){this.shouldThrowOnError=!1,this.url=t,this.headers=e,this.fetch=Zf(s),this.namespace=r}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(t){var e=this;try{return{data:await t(),error:null}}catch(s){if(e.shouldThrowOnError)throw s;if(Wi(s))return{data:null,error:s};throw s}}},lp=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e}then(t,e){return this.execute().then(t,e)}async execute(){var t=this;try{return{data:(await t.downloadFn()).body,error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(Wi(e))return{data:null,error:e};throw e}}};let Gc;Gc=Symbol.toStringTag;var cp=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e,this[Gc]="BlobDownloadBuilder",this.promise=null}asStream(){return new lp(this.downloadFn,this.shouldThrowOnError)}then(t,e){return this.getPromise().then(t,e)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var t=this;try{return{data:await(await t.downloadFn()).blob(),error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(Wi(e))return{data:null,error:e};throw e}}};const up={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},$a={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var hp=class extends or{constructor(t,e={},s,r){super(t,e,r,"storage"),this.bucketId=s}async uploadOrUpdate(t,e,s,r){var i=this;return i.handleOperation(async()=>{let n;const o=q(q({},$a),r);let a=q(q({},i.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&s instanceof Blob?(n=new FormData,n.append("cacheControl",o.cacheControl),l&&n.append("metadata",i.encodeMetadata(l)),n.append("",s)):typeof FormData<"u"&&s instanceof FormData?(n=s,n.has("cacheControl")||n.append("cacheControl",o.cacheControl),l&&!n.has("metadata")&&n.append("metadata",i.encodeMetadata(l))):(n=s,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=i.toBase64(i.encodeMetadata(l))),(typeof ReadableStream<"u"&&n instanceof ReadableStream||n&&typeof n=="object"&&"pipe"in n&&typeof n.pipe=="function")&&!o.duplex&&(o.duplex="half")),r!=null&&r.headers&&(a=q(q({},a),r.headers));const c=i._removeEmptyFolders(e),u=i._getFinalPath(c),d=await(t=="PUT"?Bn:xt)(i.fetch,`${i.url}/object/${u}`,n,q({headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{path:c,id:d.Id,fullPath:d.Key}})}async upload(t,e,s){return this.uploadOrUpdate("POST",t,e,s)}async uploadToSignedUrl(t,e,s,r){var i=this;const n=i._removeEmptyFolders(t),o=i._getFinalPath(n),a=new URL(i.url+`/object/upload/sign/${o}`);return a.searchParams.set("token",e),i.handleOperation(async()=>{let l;const c=q({upsert:$a.upsert},r),u=q(q({},i.headers),{"x-upsert":String(c.upsert)});return typeof Blob<"u"&&s instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",s)):typeof FormData<"u"&&s instanceof FormData?(l=s,l.append("cacheControl",c.cacheControl)):(l=s,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType),{path:n,fullPath:(await Bn(i.fetch,a.toString(),l,{headers:u})).Key}})}async createSignedUploadUrl(t,e){var s=this;return s.handleOperation(async()=>{let r=s._getFinalPath(t);const i=q({},s.headers);e!=null&&e.upsert&&(i["x-upsert"]="true");const n=await xt(s.fetch,`${s.url}/object/upload/sign/${r}`,{},{headers:i}),o=new URL(s.url+n.url),a=o.searchParams.get("token");if(!a)throw new zi("No token returned by API");return{signedUrl:o.toString(),path:t,token:a}})}async update(t,e,s){return this.uploadOrUpdate("PUT",t,e,s)}async move(t,e,s){var r=this;return r.handleOperation(async()=>await xt(r.fetch,`${r.url}/object/move`,{bucketId:r.bucketId,sourceKey:t,destinationKey:e,destinationBucket:s==null?void 0:s.destinationBucket},{headers:r.headers}))}async copy(t,e,s){var r=this;return r.handleOperation(async()=>({path:(await xt(r.fetch,`${r.url}/object/copy`,{bucketId:r.bucketId,sourceKey:t,destinationKey:e,destinationBucket:s==null?void 0:s.destinationBucket},{headers:r.headers})).Key}))}async createSignedUrl(t,e,s){var r=this;return r.handleOperation(async()=>{let i=r._getFinalPath(t),n=await xt(r.fetch,`${r.url}/object/sign/${i}`,q({expiresIn:e},s!=null&&s.transform?{transform:s.transform}:{}),{headers:r.headers});const o=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return{signedUrl:encodeURI(`${r.url}${n.signedURL}${o}`)}})}async createSignedUrls(t,e,s){var r=this;return r.handleOperation(async()=>{const i=await xt(r.fetch,`${r.url}/object/sign/${r.bucketId}`,{expiresIn:e,paths:t},{headers:r.headers}),n=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return i.map(o=>q(q({},o),{},{signedUrl:o.signedURL?encodeURI(`${r.url}${o.signedURL}${n}`):null}))})}download(t,e){const s=typeof(e==null?void 0:e.transform)<"u"?"render/image/authenticated":"object",r=this.transformOptsToQueryString((e==null?void 0:e.transform)||{}),i=r?`?${r}`:"",n=this._getFinalPath(t),o=()=>Nr(this.fetch,`${this.url}/${s}/${n}${i}`,{headers:this.headers,noResolveJson:!0});return new cp(o,this.shouldThrowOnError)}async info(t){var e=this;const s=e._getFinalPath(t);return e.handleOperation(async()=>Vn(await Nr(e.fetch,`${e.url}/object/info/${s}`,{headers:e.headers})))}async exists(t){var e=this;const s=e._getFinalPath(t);try{return await ap(e.fetch,`${e.url}/object/${s}`,{headers:e.headers}),{data:!0,error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Wi(r)&&r instanceof Hc){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}}getPublicUrl(t,e){const s=this._getFinalPath(t),r=[],i=e!=null&&e.download?`download=${e.download===!0?"":e.download}`:"";i!==""&&r.push(i);const n=typeof(e==null?void 0:e.transform)<"u"?"render/image":"object",o=this.transformOptsToQueryString((e==null?void 0:e.transform)||{});o!==""&&r.push(o);let a=r.join("&");return a!==""&&(a=`?${a}`),{data:{publicUrl:encodeURI(`${this.url}/${n}/public/${s}${a}`)}}}async remove(t){var e=this;return e.handleOperation(async()=>await Ro(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:t},{headers:e.headers}))}async list(t,e,s){var r=this;return r.handleOperation(async()=>{const i=q(q(q({},up),e),{},{prefix:t||""});return await xt(r.fetch,`${r.url}/object/list/${r.bucketId}`,i,{headers:r.headers},s)})}async listV2(t,e){var s=this;return s.handleOperation(async()=>{const r=q({},t);return await xt(s.fetch,`${s.url}/object/list-v2/${s.bucketId}`,r,{headers:s.headers},e)})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}};const dp="2.93.3",Yr={"X-Client-Info":`storage-js/${dp}`};var fp=class extends or{constructor(t,e={},s,r){const i=new URL(t);r!=null&&r.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase."));const n=i.href.replace(/\/$/,""),o=q(q({},Yr),e);super(n,o,s,"storage")}async listBuckets(t){var e=this;return e.handleOperation(async()=>{const s=e.listBucketOptionsToQueryString(t);return await Nr(e.fetch,`${e.url}/bucket${s}`,{headers:e.headers})})}async getBucket(t){var e=this;return e.handleOperation(async()=>await Nr(e.fetch,`${e.url}/bucket/${t}`,{headers:e.headers}))}async createBucket(t,e={public:!1}){var s=this;return s.handleOperation(async()=>await xt(s.fetch,`${s.url}/bucket`,{id:t,name:t,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:s.headers}))}async updateBucket(t,e){var s=this;return s.handleOperation(async()=>await Bn(s.fetch,`${s.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:s.headers}))}async emptyBucket(t){var e=this;return e.handleOperation(async()=>await xt(e.fetch,`${e.url}/bucket/${t}/empty`,{},{headers:e.headers}))}async deleteBucket(t){var e=this;return e.handleOperation(async()=>await Ro(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}))}listBucketOptionsToQueryString(t){const e={};return t&&("limit"in t&&(e.limit=String(t.limit)),"offset"in t&&(e.offset=String(t.offset)),t.search&&(e.search=t.search),t.sortColumn&&(e.sortColumn=t.sortColumn),t.sortOrder&&(e.sortOrder=t.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},pp=class extends or{constructor(t,e={},s){const r=t.replace(/\/$/,""),i=q(q({},Yr),e);super(r,i,s,"storage")}async createBucket(t){var e=this;return e.handleOperation(async()=>await xt(e.fetch,`${e.url}/bucket`,{name:t},{headers:e.headers}))}async listBuckets(t){var e=this;return e.handleOperation(async()=>{const s=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&s.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&s.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&s.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&s.set("sortOrder",t.sortOrder),t!=null&&t.search&&s.set("search",t.search);const r=s.toString(),i=r?`${e.url}/bucket?${r}`:`${e.url}/bucket`;return await Nr(e.fetch,i,{headers:e.headers})})}async deleteBucket(t){var e=this;return e.handleOperation(async()=>await Ro(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}))}from(t){var e=this;if(!ep(t))throw new zi("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const s=new Xf({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(s,{get(i,n){const o=i[n];return typeof o!="function"?o:async(...a)=>{try{return{data:await o.apply(i,a),error:null}}catch(l){if(r)throw l;return{data:null,error:l}}}}})}},mp=class extends or{constructor(t,e={},s){const r=t.replace(/\/$/,""),i=q(q({},Yr),{},{"Content-Type":"application/json"},e);super(r,i,s,"vectors")}async createIndex(t){var e=this;return e.handleOperation(async()=>await tt.post(e.fetch,`${e.url}/CreateIndex`,t,{headers:e.headers})||{})}async getIndex(t,e){var s=this;return s.handleOperation(async()=>await tt.post(s.fetch,`${s.url}/GetIndex`,{vectorBucketName:t,indexName:e},{headers:s.headers}))}async listIndexes(t){var e=this;return e.handleOperation(async()=>await tt.post(e.fetch,`${e.url}/ListIndexes`,t,{headers:e.headers}))}async deleteIndex(t,e){var s=this;return s.handleOperation(async()=>await tt.post(s.fetch,`${s.url}/DeleteIndex`,{vectorBucketName:t,indexName:e},{headers:s.headers})||{})}},gp=class extends or{constructor(t,e={},s){const r=t.replace(/\/$/,""),i=q(q({},Yr),{},{"Content-Type":"application/json"},e);super(r,i,s,"vectors")}async putVectors(t){var e=this;if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return e.handleOperation(async()=>await tt.post(e.fetch,`${e.url}/PutVectors`,t,{headers:e.headers})||{})}async getVectors(t){var e=this;return e.handleOperation(async()=>await tt.post(e.fetch,`${e.url}/GetVectors`,t,{headers:e.headers}))}async listVectors(t){var e=this;if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return e.handleOperation(async()=>await tt.post(e.fetch,`${e.url}/ListVectors`,t,{headers:e.headers}))}async queryVectors(t){var e=this;return e.handleOperation(async()=>await tt.post(e.fetch,`${e.url}/QueryVectors`,t,{headers:e.headers}))}async deleteVectors(t){var e=this;if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return e.handleOperation(async()=>await tt.post(e.fetch,`${e.url}/DeleteVectors`,t,{headers:e.headers})||{})}},yp=class extends or{constructor(t,e={},s){const r=t.replace(/\/$/,""),i=q(q({},Yr),{},{"Content-Type":"application/json"},e);super(r,i,s,"vectors")}async createBucket(t){var e=this;return e.handleOperation(async()=>await tt.post(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{})}async getBucket(t){var e=this;return e.handleOperation(async()=>await tt.post(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:t},{headers:e.headers}))}async listBuckets(t={}){var e=this;return e.handleOperation(async()=>await tt.post(e.fetch,`${e.url}/ListVectorBuckets`,t,{headers:e.headers}))}async deleteBucket(t){var e=this;return e.handleOperation(async()=>await tt.post(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{})}},vp=class extends yp{constructor(t,e={}){super(t,e.headers||{},e.fetch)}from(t){return new wp(this.url,this.headers,t,this.fetch)}async createBucket(t){var e=()=>super.createBucket,s=this;return e().call(s,t)}async getBucket(t){var e=()=>super.getBucket,s=this;return e().call(s,t)}async listBuckets(t={}){var e=()=>super.listBuckets,s=this;return e().call(s,t)}async deleteBucket(t){var e=()=>super.deleteBucket,s=this;return e().call(s,t)}},wp=class extends mp{constructor(t,e,s,r){super(t,e,r),this.vectorBucketName=s}async createIndex(t){var e=()=>super.createIndex,s=this;return e().call(s,q(q({},t),{},{vectorBucketName:s.vectorBucketName}))}async listIndexes(t={}){var e=()=>super.listIndexes,s=this;return e().call(s,q(q({},t),{},{vectorBucketName:s.vectorBucketName}))}async getIndex(t){var e=()=>super.getIndex,s=this;return e().call(s,s.vectorBucketName,t)}async deleteIndex(t){var e=()=>super.deleteIndex,s=this;return e().call(s,s.vectorBucketName,t)}index(t){return new _p(this.url,this.headers,this.vectorBucketName,t,this.fetch)}},_p=class extends gp{constructor(t,e,s,r,i){super(t,e,i),this.vectorBucketName=s,this.indexName=r}async putVectors(t){var e=()=>super.putVectors,s=this;return e().call(s,q(q({},t),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async getVectors(t){var e=()=>super.getVectors,s=this;return e().call(s,q(q({},t),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async listVectors(t={}){var e=()=>super.listVectors,s=this;return e().call(s,q(q({},t),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async queryVectors(t){var e=()=>super.queryVectors,s=this;return e().call(s,q(q({},t),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async deleteVectors(t){var e=()=>super.deleteVectors,s=this;return e().call(s,q(q({},t),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}},bp=class extends fp{constructor(t,e={},s,r){super(t,e,s,r)}from(t){return new hp(this.url,this.headers,t,this.fetch)}get vectors(){return new vp(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new pp(this.url+"/iceberg",this.headers,this.fetch)}};const Yc="2.93.3",Ls=30*1e3,Un=3,rn=Un*Ls,xp="http://localhost:9999",Sp="supabase.auth.token",Tp={"X-Client-Info":`gotrue-js/${Yc}`},zn="X-Supabase-Api-Version",Jc={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},kp=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Cp=10*60*1e3;class Dr extends Error{constructor(e,s,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=r}}function F(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class Ep extends Dr{constructor(e,s,r){super(e,s,r),this.name="AuthApiError",this.status=s,this.code=r}}function jp(t){return F(t)&&t.name==="AuthApiError"}class vs extends Dr{constructor(e,s){super(e),this.name="AuthUnknownError",this.originalError=s}}class Vt extends Dr{constructor(e,s,r,i){super(e,r,i),this.name=s,this.status=r}}class Qe extends Vt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function nn(t){return F(t)&&t.name==="AuthSessionMissingError"}class As extends Vt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ai extends Vt{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class li extends Vt{constructor(e,s=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Pp(t){return F(t)&&t.name==="AuthImplicitGrantRedirectError"}class Va extends Vt{constructor(e,s=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Ap extends Vt{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Wn extends Vt{constructor(e,s){super(e,"AuthRetryableFetchError",s,void 0)}}function on(t){return F(t)&&t.name==="AuthRetryableFetchError"}class Ba extends Vt{constructor(e,s,r){super(e,"AuthWeakPasswordError",s,"weak_password"),this.reasons=r}}class qn extends Vt{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const bi="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Ua=` 	
\r=`.split(""),Rp=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Ua.length;e+=1)t[Ua[e].charCodeAt(0)]=-2;for(let e=0;e<bi.length;e+=1)t[bi[e].charCodeAt(0)]=e;return t})();function za(t,e,s){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;s(bi[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;s(bi[r]),e.queuedBits-=6}}function Xc(t,e,s){const r=Rp[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)s(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Wa(t){const e=[],s=o=>{e.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},n=o=>{Dp(o,r,s)};for(let o=0;o<t.length;o+=1)Xc(t.charCodeAt(o),i,n);return e.join("")}function Op(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function Np(t,e){for(let s=0;s<t.length;s+=1){let r=t.charCodeAt(s);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(t.charCodeAt(s+1)-56320&65535|i)+65536,s+=1}Op(r,e)}}function Dp(t,e,s){if(e.utf8seq===0){if(t<=127){s(t);return}for(let r=1;r<6;r+=1)if(!(t>>7-r&1)){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&s(e.codepoint)}}function Ks(t){const e=[],s={queue:0,queuedBits:0},r=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)Xc(t.charCodeAt(i),s,r);return new Uint8Array(e)}function Ip(t){const e=[];return Np(t,s=>e.push(s)),new Uint8Array(e)}function ws(t){const e=[],s={queue:0,queuedBits:0},r=i=>{e.push(i)};return t.forEach(i=>za(i,s,r)),za(null,s,r),e.join("")}function Mp(t){return Math.round(Date.now()/1e3)+t}function Lp(){return Symbol("auth-callback")}const Ie=()=>typeof window<"u"&&typeof document<"u",os={tested:!1,writable:!1},Zc=()=>{if(!Ie())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(os.tested)return os.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),os.tested=!0,os.writable=!0}catch{os.tested=!0,os.writable=!1}return os.writable};function Fp(t){const e={},s=new URL(t);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((i,n)=>{e[n]=i})}catch{}return s.searchParams.forEach((r,i)=>{e[i]=r}),e}const Qc=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),$p=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Fs=async(t,e,s)=>{await t.setItem(e,JSON.stringify(s))},as=async(t,e)=>{const s=await t.getItem(e);if(!s)return null;try{return JSON.parse(s)}catch{return s}},De=async(t,e)=>{await t.removeItem(e)};class qi{constructor(){this.promise=new qi.promiseConstructor((e,s)=>{this.resolve=e,this.reject=s})}}qi.promiseConstructor=Promise;function ci(t){const e=t.split(".");if(e.length!==3)throw new qn("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!kp.test(e[r]))throw new qn("JWT not in base64url format");return{header:JSON.parse(Wa(e[0])),payload:JSON.parse(Wa(e[1])),signature:Ks(e[2]),raw:{header:e[0],payload:e[1]}}}async function Vp(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function Bp(t,e){return new Promise((r,i)=>{(async()=>{for(let n=0;n<1/0;n++)try{const o=await t(n);if(!e(n,null,o)){r(o);return}}catch(o){if(!e(n,o)){i(o);return}}})()})}function Up(t){return("0"+t.toString(16)).substr(-2)}function zp(){const e=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=s.length;let i="";for(let n=0;n<56;n++)i+=s.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(e),Array.from(e,Up).join("")}async function Wp(t){const s=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",s),i=new Uint8Array(r);return Array.from(i).map(n=>String.fromCharCode(n)).join("")}async function qp(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const s=await Wp(t);return btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Rs(t,e,s=!1){const r=zp();let i=r;s&&(i+="/PASSWORD_RECOVERY"),await Fs(t,`${e}-code-verifier`,i);const n=await qp(r);return[n,r===n?"plain":"s256"]}const Hp=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Kp(t){const e=t.headers.get(zn);if(!e||!e.match(Hp))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function Gp(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function Yp(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Jp=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Os(t){if(!Jp.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function an(){const t={};return new Proxy(t,{get:(e,s)=>{if(s==="__isUserNotAvailableProxy")return!0;if(typeof s=="symbol"){const r=s.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${s}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Xp(t,e){return new Proxy(t,{get:(s,r,i)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)"||n==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(s,r,i)}return!e.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(s,r,i)}})}function qa(t){return JSON.parse(JSON.stringify(t))}const ps=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Zp=[502,503,504];async function Ha(t){var e;if(!$p(t))throw new Wn(ps(t),0);if(Zp.includes(t.status))throw new Wn(ps(t),t.status);let s;try{s=await t.json()}catch(n){throw new vs(ps(n),n)}let r;const i=Kp(t);if(i&&i.getTime()>=Jc["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?r=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(r=s.error_code),r){if(r==="weak_password")throw new Ba(ps(s),t.status,((e=s.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new Qe}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((n,o)=>n&&typeof o=="string",!0))throw new Ba(ps(s),t.status,s.weak_password.reasons);throw new Ep(ps(s),t.status||500,r)}const Qp=(t,e,s,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),s))};async function W(t,e,s,r){var i;const n=Object.assign({},r==null?void 0:r.headers);n[zn]||(n[zn]=Jc["2024-01-01"].name),r!=null&&r.jwt&&(n.Authorization=`Bearer ${r.jwt}`);const o=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await em(t,e,s+a,{headers:n,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function em(t,e,s,r,i,n){const o=Qp(e,r,i,n);let a;try{a=await t(s,Object.assign({},o))}catch(l){throw console.error(l),new Wn(ps(l),0)}if(a.ok||await Ha(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(l){await Ha(l)}}function _t(t){var e;let s=null;rm(t)&&(s=Object.assign({},t),t.expires_at||(s.expires_at=Mp(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:s,user:r},error:null}}function Ka(t){const e=_t(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((s,r)=>s&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function qt(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function tm(t){return{data:t,error:null}}function sm(t){const{action_link:e,email_otp:s,hashed_token:r,redirect_to:i,verification_type:n}=t,o=Ui(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:s,hashed_token:r,redirect_to:i,verification_type:n},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function Ga(t){return t}function rm(t){return t.access_token&&t.refresh_token&&t.expires_in}const ln=["global","local","others"];class im{constructor({url:e="",headers:s={},fetch:r}){this.url=e,this.headers=s,this.fetch=Qc(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,s=ln[0]){if(ln.indexOf(s)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${ln.join(", ")}`);try{return await W(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(F(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,s={}){try{return await W(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:qt})}catch(r){if(F(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:s}=e,r=Ui(e,["options"]),i=Object.assign(Object.assign({},r),s);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await W(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:sm,redirectTo:s==null?void 0:s.redirectTo})}catch(s){if(F(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(e){try{return await W(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:qt})}catch(s){if(F(s))return{data:{user:null},error:s};throw s}}async listUsers(e){var s,r,i,n,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},u=await W(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(s=e==null?void 0:e.page)===null||s===void 0?void 0:s.toString())!==null&&r!==void 0?r:"",per_page:(n=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&n!==void 0?n:""},xform:Ga});if(u.error)throw u.error;const d=await u.json(),f=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(g=>{const m=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(g.split(";")[1].split("=")[1]);c[`${y}Page`]=m}),c.total=parseInt(f)),{data:Object.assign(Object.assign({},d),c),error:null}}catch(c){if(F(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){Os(e);try{return await W(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:qt})}catch(s){if(F(s))return{data:{user:null},error:s};throw s}}async updateUserById(e,s){Os(e);try{return await W(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:s,headers:this.headers,xform:qt})}catch(r){if(F(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,s=!1){Os(e);try{return await W(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:s},xform:qt})}catch(r){if(F(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){Os(e.userId);try{const{data:s,error:r}=await W(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:s,error:r}}catch(s){if(F(s))return{data:null,error:s};throw s}}async _deleteFactor(e){Os(e.userId),Os(e.id);try{return{data:await W(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(s){if(F(s))return{data:null,error:s};throw s}}async _listOAuthClients(e){var s,r,i,n,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},u=await W(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(s=e==null?void 0:e.page)===null||s===void 0?void 0:s.toString())!==null&&r!==void 0?r:"",per_page:(n=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&n!==void 0?n:""},xform:Ga});if(u.error)throw u.error;const d=await u.json(),f=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(g=>{const m=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(g.split(";")[1].split("=")[1]);c[`${y}Page`]=m}),c.total=parseInt(f)),{data:Object.assign(Object.assign({},d),c),error:null}}catch(c){if(F(c))return{data:{clients:[]},error:c};throw c}}async _createOAuthClient(e){try{return await W(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(F(s))return{data:null,error:s};throw s}}async _getOAuthClient(e){try{return await W(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(F(s))return{data:null,error:s};throw s}}async _updateOAuthClient(e,s){try{return await W(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:s,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(F(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(e){try{return await W(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(s){if(F(s))return{data:null,error:s};throw s}}async _regenerateOAuthClientSecret(e){try{return await W(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(F(s))return{data:null,error:s};throw s}}}function Ya(t={}){return{getItem:e=>t[e]||null,setItem:(e,s)=>{t[e]=s},removeItem:e=>{delete t[e]}}}const Ns={debug:!!(globalThis&&Zc()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class eu extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class nm extends eu{}async function om(t,e,s){Ns.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),Ns.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){Ns.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await s()}finally{Ns.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw Ns.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new nm(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Ns.debug)try{const n=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(n,null,"  "))}catch(n){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",n)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}function am(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function tu(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function lm(t){return parseInt(t,16)}function cm(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,r=>r.toString(16).padStart(2,"0")).join("")}function um(t){var e;const{chainId:s,domain:r,expirationTime:i,issuedAt:n=new Date,nonce:o,notBefore:a,requestId:l,resources:c,scheme:u,uri:d,version:f}=t;{if(!Number.isInteger(s))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${s}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!d)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(f!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${f}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const p=tu(t.address),g=u?`${u}://${r}`:r,m=t.statement?`${t.statement}
`:"",y=`${g} wants you to sign in with your Ethereum account:
${p}

${m}`;let w=`URI: ${d}
Version: ${f}
Chain ID: ${s}${o?`
Nonce: ${o}`:""}
Issued At: ${n.toISOString()}`;if(i&&(w+=`
Expiration Time: ${i.toISOString()}`),a&&(w+=`
Not Before: ${a.toISOString()}`),l&&(w+=`
Request ID: ${l}`),c){let v=`
Resources:`;for(const _ of c){if(!_||typeof _!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${_}`);v+=`
- ${_}`}w+=v}return`${y}
${w}`}class Se extends Error{constructor({message:e,code:s,cause:r,name:i}){var n;super(e,{cause:r}),this.__isWebAuthnError=!0,this.name=(n=i??(r instanceof Error?r.name:void 0))!==null&&n!==void 0?n:"Unknown Error",this.code=s}}class xi extends Se{constructor(e,s){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s,message:e}),this.name="WebAuthnUnknownError",this.originalError=s}}function hm({error:t,options:e}){var s,r,i;const{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Se({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((s=n.authenticatorSelection)===null||s===void 0?void 0:s.requireResidentKey)===!0)return new Se({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((r=n.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new Se({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((i=n.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Se({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new Se({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new Se({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return n.pubKeyCredParams.filter(a=>a.type==="public-key").length===0?new Se({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new Se({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const o=window.location.hostname;if(su(o)){if(n.rp.id!==o)return new Se({message:`The RP ID "${n.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Se({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(n.user.id.byteLength<1||n.user.id.byteLength>64)return new Se({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new Se({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Se({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function dm({error:t,options:e}){const{publicKey:s}=e;if(!s)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Se({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new Se({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const r=window.location.hostname;if(su(r)){if(s.rpId!==r)return new Se({message:`The RP ID "${s.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Se({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new Se({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Se({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class fm{createNewAbortSignal(){if(this.controller){const s=new Error("Cancelling existing WebAuthn API call for new one");s.name="AbortError",this.controller.abort(s)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const pm=new fm;function mm(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:s,excludeCredentials:r}=t,i=Ui(t,["challenge","user","excludeCredentials"]),n=Ks(e).buffer,o=Object.assign(Object.assign({},s),{id:Ks(s.id).buffer}),a=Object.assign(Object.assign({},i),{challenge:n,user:o});if(r&&r.length>0){a.excludeCredentials=new Array(r.length);for(let l=0;l<r.length;l++){const c=r[l];a.excludeCredentials[l]=Object.assign(Object.assign({},c),{id:Ks(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return a}function gm(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:s}=t,r=Ui(t,["challenge","allowCredentials"]),i=Ks(e).buffer,n=Object.assign(Object.assign({},r),{challenge:i});if(s&&s.length>0){n.allowCredentials=new Array(s.length);for(let o=0;o<s.length;o++){const a=s[o];n.allowCredentials[o]=Object.assign(Object.assign({},a),{id:Ks(a.id).buffer,type:a.type||"public-key",transports:a.transports})}}return n}function ym(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const s=t;return{id:t.id,rawId:t.id,response:{attestationObject:ws(new Uint8Array(t.response.attestationObject)),clientDataJSON:ws(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=s.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function vm(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const s=t,r=t.getClientExtensionResults(),i=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:ws(new Uint8Array(i.authenticatorData)),clientDataJSON:ws(new Uint8Array(i.clientDataJSON)),signature:ws(new Uint8Array(i.signature)),userHandle:i.userHandle?ws(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(e=s.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function su(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function Ja(){var t,e;return!!(Ie()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function wm(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new xi("Browser returned unexpected credential type",e)}:{data:null,error:new xi("Empty credential response",e)}}catch(e){return{data:null,error:hm({error:e,options:t})}}}async function _m(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new xi("Browser returned unexpected credential type",e)}:{data:null,error:new xi("Empty credential response",e)}}catch(e){return{data:null,error:dm({error:e,options:t})}}}const bm={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},xm={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Si(...t){const e=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),s=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),r={};for(const i of t)if(i)for(const n in i){const o=i[n];if(o!==void 0)if(Array.isArray(o))r[n]=o;else if(s(o))r[n]=o;else if(e(o)){const a=r[n];e(a)?r[n]=Si(a,o):r[n]=Si(o)}else r[n]=o}return r}function Sm(t,e){return Si(bm,t,e||{})}function Tm(t,e){return Si(xm,t,e||{})}class km{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:s,friendlyName:r,signal:i},n){var o;try{const{data:a,error:l}=await this.client.mfa.challenge({factorId:e,webauthn:s});if(!a)return{data:null,error:l};const c=i??pm.createNewAbortSignal();if(a.webauthn.type==="create"){const{user:u}=a.webauthn.credential_options.publicKey;if(!u.name){const d=r;if(d)u.name=`${u.id}:${d}`;else{const p=(await this.client.getUser()).data.user,g=((o=p==null?void 0:p.user_metadata)===null||o===void 0?void 0:o.name)||(p==null?void 0:p.email)||(p==null?void 0:p.id)||"User";u.name=`${u.id}:${g}`}}u.displayName||(u.displayName=u.name)}switch(a.webauthn.type){case"create":{const u=Sm(a.webauthn.credential_options.publicKey,n==null?void 0:n.create),{data:d,error:f}=await wm({publicKey:u,signal:c});return d?{data:{factorId:e,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}case"request":{const u=Tm(a.webauthn.credential_options.publicKey,n==null?void 0:n.request),{data:d,error:f}=await _m(Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:u,signal:c}));return d?{data:{factorId:e,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}}}catch(a){return F(a)?{data:null,error:a}:{data:null,error:new vs("Unexpected error in challenge",a)}}}async _verify({challengeId:e,factorId:s,webauthn:r}){return this.client.mfa.verify({factorId:s,challengeId:e,webauthn:r})}async _authenticate({factorId:e,webauthn:{rpId:s=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},n){if(!s)return{data:null,error:new Dr("rpId is required for WebAuthn authentication")};try{if(!Ja())return{data:null,error:new vs("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this.challenge({factorId:e,webauthn:{rpId:s,rpOrigins:r},signal:i},{request:n});if(!o)return{data:null,error:a};const{webauthn:l}=o;return this._verify({factorId:e,challengeId:o.challengeId,webauthn:{type:l.type,rpId:s,rpOrigins:r,credential_response:l.credential_response}})}catch(o){return F(o)?{data:null,error:o}:{data:null,error:new vs("Unexpected error in authenticate",o)}}}async _register({friendlyName:e,webauthn:{rpId:s=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},n){if(!s)return{data:null,error:new Dr("rpId is required for WebAuthn registration")};try{if(!Ja())return{data:null,error:new vs("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this._enroll({friendlyName:e});if(!o)return await this.client.mfa.listFactors().then(u=>{var d;return(d=u.data)===null||d===void 0?void 0:d.all.find(f=>f.factor_type==="webauthn"&&f.friendly_name===e&&f.status!=="unverified")}).then(u=>u?this.client.mfa.unenroll({factorId:u==null?void 0:u.id}):void 0),{data:null,error:a};const{data:l,error:c}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:s,rpOrigins:r},signal:i},{create:n});return l?this._verify({factorId:o.id,challengeId:l.challengeId,webauthn:{rpId:s,rpOrigins:r,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:c}}catch(o){return F(o)?{data:null,error:o}:{data:null,error:new vs("Unexpected error in register",o)}}}}am();const Cm={url:xp,storageKey:Sp,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Tp,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function Xa(t,e,s){return await s()}const Ds={};class Ir{get jwks(){var e,s;return(s=(e=Ds[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&s!==void 0?s:{keys:[]}}set jwks(e){Ds[this.storageKey]=Object.assign(Object.assign({},Ds[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,s;return(s=(e=Ds[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&s!==void 0?s:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Ds[this.storageKey]=Object.assign(Object.assign({},Ds[this.storageKey]),{cachedAt:e})}constructor(e){var s,r,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const n=Object.assign(Object.assign({},Cm),e);if(this.storageKey=n.storageKey,this.instanceID=(s=Ir.nextInstanceID[this.storageKey])!==null&&s!==void 0?s:0,Ir.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!n.debug,typeof n.debug=="function"&&(this.logger=n.debug),this.instanceID>0&&Ie()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=n.persistSession,this.autoRefreshToken=n.autoRefreshToken,this.admin=new im({url:n.url,headers:n.headers,fetch:n.fetch}),this.url=n.url,this.headers=n.headers,this.fetch=Qc(n.fetch),this.lock=n.lock||Xa,this.detectSessionInUrl=n.detectSessionInUrl,this.flowType=n.flowType,this.hasCustomAuthorizationHeader=n.hasCustomAuthorizationHeader,this.throwOnError=n.throwOnError,this.lockAcquireTimeout=n.lockAcquireTimeout,n.lock?this.lock=n.lock:this.persistSession&&Ie()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=om:this.lock=Xa,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new km(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(n.storage?this.storage=n.storage:Zc()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Ya(this.memoryStorage)),n.userStorage&&(this.userStorage=n.userStorage)):(this.memoryStorage={},this.storage=Ya(this.memoryStorage)),Ie()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o);try{await this._notifyAllSubscribers(o.data.event,o.data.session,!1)}catch(a){this._debug("#broadcastChannel","error",a)}})}this.initialize().catch(o=>{this._debug("#initialize()","error",o)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Yc}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let s={},r="none";if(Ie()&&(s=Fp(window.location.href),this._isImplicitGrantCallback(s)?r="implicit":await this._isPKCECallback(s)&&(r="pkce")),Ie()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:n}=await this._getSessionFromURL(s,r);if(n){if(this._debug("#_initialize()","error detecting session from URL",n),Pp(n)){const l=(e=n.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:n}}return{error:n}}const{session:o,redirectType:a}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return F(s)?this._returnResult({error:s}):this._returnResult({error:new vs("Unexpected error during initialization",s)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var s,r,i;try{const n=await W(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.captchaToken}},xform:_t}),{data:o,error:a}=n;if(a||!o)return this._returnResult({data:{user:null,session:null},error:a});const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(n){if(F(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signUp(e){var s,r,i;try{let n;if("email"in e){const{email:u,password:d,options:f}=e;let p=null,g=null;this.flowType==="pkce"&&([p,g]=await Rs(this.storage,this.storageKey)),n=await W(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:u,password:d,data:(s=f==null?void 0:f.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:p,code_challenge_method:g},xform:_t})}else if("phone"in e){const{phone:u,password:d,options:f}=e;n=await W(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:d,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},channel:(i=f==null?void 0:f.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:_t})}else throw new ai("You must provide either an email or phone number and a password");const{data:o,error:a}=n;if(a||!o)return await De(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:a});const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(n){if(await De(this.storage,`${this.storageKey}-code-verifier`),F(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithPassword(e){try{let s;if("email"in e){const{email:n,password:o,options:a}=e;s=await W(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:n,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Ka})}else if("phone"in e){const{phone:n,password:o,options:a}=e;s=await W(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:n,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Ka})}else throw new ai("You must provide either an email or phone number and a password");const{data:r,error:i}=s;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!r||!r.session||!r.user){const n=new As;return this._returnResult({data:{user:null,session:null},error:n})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(s){if(F(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithOAuth(e){var s,r,i,n;return await this._handleProviderSignIn(e.provider,{redirectTo:(s=e.options)===null||s===void 0?void 0:s.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(n=e.options)===null||n===void 0?void 0:n.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:s}=e;switch(s){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${s}"`)}}async signInWithEthereum(e){var s,r,i,n,o,a,l,c,u,d,f;let p,g;if("message"in e)p=e.message,g=e.signature;else{const{chain:m,wallet:y,statement:w,options:v}=e;let _;if(Ie())if(typeof y=="object")_=y;else{const P=window;if("ethereum"in P&&typeof P.ethereum=="object"&&"request"in P.ethereum&&typeof P.ethereum.request=="function")_=P.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(v!=null&&v.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=y}const b=new URL((s=v==null?void 0:v.url)!==null&&s!==void 0?s:window.location.href),x=await _.request({method:"eth_requestAccounts"}).then(P=>P).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!x||x.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const T=tu(x[0]);let k=(r=v==null?void 0:v.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!k){const P=await _.request({method:"eth_chainId"});k=lm(P)}const j={domain:b.host,address:T,statement:w,uri:b.href,version:"1",chainId:k,nonce:(i=v==null?void 0:v.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(o=(n=v==null?void 0:v.signInWithEthereum)===null||n===void 0?void 0:n.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(a=v==null?void 0:v.signInWithEthereum)===null||a===void 0?void 0:a.expirationTime,notBefore:(l=v==null?void 0:v.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(c=v==null?void 0:v.signInWithEthereum)===null||c===void 0?void 0:c.requestId,resources:(u=v==null?void 0:v.signInWithEthereum)===null||u===void 0?void 0:u.resources};p=um(j),g=await _.request({method:"personal_sign",params:[cm(p),T]})}try{const{data:m,error:y}=await W(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:p,signature:g},!((d=e.options)===null||d===void 0)&&d.captchaToken?{gotrue_meta_security:{captcha_token:(f=e.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:_t});if(y)throw y;if(!m||!m.session||!m.user){const w=new As;return this._returnResult({data:{user:null,session:null},error:w})}return m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),this._returnResult({data:Object.assign({},m),error:y})}catch(m){if(F(m))return this._returnResult({data:{user:null,session:null},error:m});throw m}}async signInWithSolana(e){var s,r,i,n,o,a,l,c,u,d,f,p;let g,m;if("message"in e)g=e.message,m=e.signature;else{const{chain:y,wallet:w,statement:v,options:_}=e;let b;if(Ie())if(typeof w=="object")b=w;else{const T=window;if("solana"in T&&typeof T.solana=="object"&&("signIn"in T.solana&&typeof T.solana.signIn=="function"||"signMessage"in T.solana&&typeof T.solana.signMessage=="function"))b=T.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof w!="object"||!(_!=null&&_.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");b=w}const x=new URL((s=_==null?void 0:_.url)!==null&&s!==void 0?s:window.location.href);if("signIn"in b&&b.signIn){const T=await b.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},_==null?void 0:_.signInWithSolana),{version:"1",domain:x.host,uri:x.href}),v?{statement:v}:null));let k;if(Array.isArray(T)&&T[0]&&typeof T[0]=="object")k=T[0];else if(T&&typeof T=="object"&&"signedMessage"in T&&"signature"in T)k=T;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in k&&"signature"in k&&(typeof k.signedMessage=="string"||k.signedMessage instanceof Uint8Array)&&k.signature instanceof Uint8Array)g=typeof k.signedMessage=="string"?k.signedMessage:new TextDecoder().decode(k.signedMessage),m=k.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in b)||typeof b.signMessage!="function"||!("publicKey"in b)||typeof b!="object"||!b.publicKey||!("toBase58"in b.publicKey)||typeof b.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");g=[`${x.host} wants you to sign in with your Solana account:`,b.publicKey.toBase58(),...v?["",v,""]:[""],"Version: 1",`URI: ${x.href}`,`Issued At: ${(i=(r=_==null?void 0:_.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((n=_==null?void 0:_.signInWithSolana)===null||n===void 0)&&n.notBefore?[`Not Before: ${_.signInWithSolana.notBefore}`]:[],...!((o=_==null?void 0:_.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${_.signInWithSolana.expirationTime}`]:[],...!((a=_==null?void 0:_.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${_.signInWithSolana.chainId}`]:[],...!((l=_==null?void 0:_.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${_.signInWithSolana.nonce}`]:[],...!((c=_==null?void 0:_.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${_.signInWithSolana.requestId}`]:[],...!((d=(u=_==null?void 0:_.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||d===void 0)&&d.length?["Resources",..._.signInWithSolana.resources.map(k=>`- ${k}`)]:[]].join(`
`);const T=await b.signMessage(new TextEncoder().encode(g),"utf8");if(!T||!(T instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");m=T}}try{const{data:y,error:w}=await W(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:g,signature:ws(m)},!((f=e.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(p=e.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:_t});if(w)throw w;if(!y||!y.session||!y.user){const v=new As;return this._returnResult({data:{user:null,session:null},error:v})}return y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),this._returnResult({data:Object.assign({},y),error:w})}catch(y){if(F(y))return this._returnResult({data:{user:null,session:null},error:y});throw y}}async _exchangeCodeForSession(e){const s=await as(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(s??"").split("/");try{if(!r&&this.flowType==="pkce")throw new Ap;const{data:n,error:o}=await W(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:_t});if(await De(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!n||!n.session||!n.user){const a=new As;return this._returnResult({data:{user:null,session:null,redirectType:null},error:a})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign(Object.assign({},n),{redirectType:i??null}),error:o})}catch(n){if(await De(this.storage,`${this.storageKey}-code-verifier`),F(n))return this._returnResult({data:{user:null,session:null,redirectType:null},error:n});throw n}}async signInWithIdToken(e){try{const{options:s,provider:r,token:i,access_token:n,nonce:o}=e,a=await W(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:n,nonce:o,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:_t}),{data:l,error:c}=a;if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l||!l.session||!l.user){const u=new As;return this._returnResult({data:{user:null,session:null},error:u})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:c})}catch(s){if(F(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithOtp(e){var s,r,i,n,o;try{if("email"in e){const{email:a,options:l}=e;let c=null,u=null;this.flowType==="pkce"&&([c,u]=await Rs(this.storage,this.storageKey));const{error:d}=await W(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:u},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:d})}if("phone"in e){const{phone:a,options:l}=e,{data:c,error:u}=await W(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(i=l==null?void 0:l.data)!==null&&i!==void 0?i:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:u})}throw new ai("You must provide either an email or phone number.")}catch(a){if(await De(this.storage,`${this.storageKey}-code-verifier`),F(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async verifyOtp(e){var s,r;try{let i,n;"options"in e&&(i=(s=e.options)===null||s===void 0?void 0:s.redirectTo,n=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await W(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:n}}),redirectTo:i,xform:_t});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,c=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(i){if(F(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(e){var s,r,i,n,o;try{let a=null,l=null;this.flowType==="pkce"&&([a,l]=await Rs(this.storage,this.storageKey));const c=await W(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(s=e.options)===null||s===void 0?void 0:s.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:l}),headers:this.headers,xform:tm});return!((n=c.data)===null||n===void 0)&&n.url&&Ie()&&!(!((o=e.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(c.data.url),this._returnResult(c)}catch(a){if(await De(this.storage,`${this.storageKey}-code-verifier`),F(a))return this._returnResult({data:null,error:a});throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:s},error:r}=e;if(r)throw r;if(!s)throw new Qe;const{error:i}=await W(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(e){if(F(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const s=`${this.url}/resend`;if("email"in e){const{email:r,type:i,options:n}=e,{error:o}=await W(this.fetch,"POST",s,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},redirectTo:n==null?void 0:n.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in e){const{phone:r,type:i,options:n}=e,{data:o,error:a}=await W(this.fetch,"POST",s,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a})}throw new ai("You must provide either an email or phone number and a type")}catch(s){if(F(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async s=>s))}async _acquireLock(e,s){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await s()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=s();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await e(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const s=await as(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?e=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<rn:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const o=await as(this.userStorage,this.storageKey+"-user");o!=null&&o.user?e.user=o.user:e.user=an()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};e.user=Xp(e.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:i,error:n}=await this._callRefreshToken(e.refresh_token);return n?this._returnResult({data:{session:null},error:n}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const s=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return s.data.user&&(this.suppressGetSessionWarning=!0),s}async _getUser(e){try{return e?await W(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:qt}):await this._useSession(async s=>{var r,i,n;const{data:o,error:a}=s;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Qe}:await W(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(n=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&n!==void 0?n:void 0,xform:qt})})}catch(s){if(F(s))return nn(s)&&(await this._removeSession(),await De(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:s});throw s}}async updateUser(e,s={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(e,s))}async _updateUser(e,s={}){try{return await this._useSession(async r=>{const{data:i,error:n}=r;if(n)throw n;if(!i.session)throw new Qe;const o=i.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await Rs(this.storage,this.storageKey));const{data:c,error:u}=await W(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s==null?void 0:s.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:qt});if(u)throw u;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(r){if(await De(this.storage,`${this.storageKey}-code-verifier`),F(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Qe;const s=Date.now()/1e3;let r=s,i=!0,n=null;const{payload:o}=ci(e.access_token);if(o.exp&&(r=o.exp,i=r<=s),i){const{data:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!a)return{data:{user:null,session:null},error:null};n=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});n={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:r-s,expires_at:r},await this._saveSession(n),await this._notifyAllSubscribers("SIGNED_IN",n)}return this._returnResult({data:{user:n.user,session:n},error:null})}catch(s){if(F(s))return this._returnResult({data:{session:null,user:null},error:s});throw s}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async s=>{var r;if(!e){const{data:o,error:a}=s;if(a)throw a;e=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new Qe;const{data:i,error:n}=await this._callRefreshToken(e.refresh_token);return n?this._returnResult({data:{user:null,session:null},error:n}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(s){if(F(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async _getSessionFromURL(e,s){try{if(!Ie())throw new li("No browser detected.");if(e.error||e.error_description||e.error_code)throw new li(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new Va("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new li("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Va("No code detected.");const{data:v,error:_}=await this._exchangeCodeForSession(e.code);if(_)throw _;const b=new URL(window.location.href);return b.searchParams.delete("code"),window.history.replaceState(window.history.state,"",b.toString()),{data:{session:v.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:n,refresh_token:o,expires_in:a,expires_at:l,token_type:c}=e;if(!n||!a||!o||!c)throw new li("No session defined in URL");const u=Math.round(Date.now()/1e3),d=parseInt(a);let f=u+d;l&&(f=parseInt(l));const p=f-u;p*1e3<=Ls&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${d}s`);const g=f-d;u-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,f,u):u-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,f,u);const{data:m,error:y}=await this._getUser(n);if(y)throw y;const w={provider_token:r,provider_refresh_token:i,access_token:n,expires_in:d,expires_at:f,refresh_token:o,token_type:c,user:m.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:w,redirectType:e.type},error:null})}catch(r){if(F(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const s=await as(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&s)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async s=>{var r;const{data:i,error:n}=s;if(n&&!nn(n))return this._returnResult({error:n});const o=(r=i.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(jp(a)&&(a.status===404||a.status===401||a.status===403)||nn(a)))return this._returnResult({error:a})}return e!=="others"&&(await this._removeSession(),await De(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const s=Lp(),r={id:s,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,r),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async s=>{var r,i;try{const{data:{session:n},error:o}=s;if(o)throw o;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",n)),this._debug("INITIAL_SESSION","callback id",e,"session",n)}catch(n){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",n),console.error(n)}})}async resetPasswordForEmail(e,s={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await Rs(this.storage,this.storageKey,!0));try{return await W(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(n){if(await De(this.storage,`${this.storageKey}-code-verifier`),F(n))return this._returnResult({data:null,error:n});throw n}}async getUserIdentities(){var e;try{const{data:s,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(e=s.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(s){if(F(s))return this._returnResult({data:null,error:s});throw s}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var s;try{const{data:r,error:i}=await this._useSession(async n=>{var o,a,l,c,u;const{data:d,error:f}=n;if(f)throw f;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await W(this.fetch,"GET",p,{headers:this.headers,jwt:(u=(c=d.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0})});if(i)throw i;return Ie()&&!(!((s=e.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),this._returnResult({data:{provider:e.provider,url:r==null?void 0:r.url},error:null})}catch(r){if(F(r))return this._returnResult({data:{provider:e.provider,url:null},error:r});throw r}}async linkIdentityIdToken(e){return await this._useSession(async s=>{var r;try{const{error:i,data:{session:n}}=s;if(i)throw i;const{options:o,provider:a,token:l,access_token:c,nonce:u}=e,d=await W(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=n==null?void 0:n.access_token)!==null&&r!==void 0?r:void 0,body:{provider:a,id_token:l,access_token:c,nonce:u,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:_t}),{data:f,error:p}=d;return p?this._returnResult({data:{user:null,session:null},error:p}):!f||!f.session||!f.user?this._returnResult({data:{user:null,session:null},error:new As}):(f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("USER_UPDATED",f.session)),this._returnResult({data:f,error:p}))}catch(i){if(await De(this.storage,`${this.storageKey}-code-verifier`),F(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(e){try{return await this._useSession(async s=>{var r,i;const{data:n,error:o}=s;if(o)throw o;return await W(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(r=n.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(s){if(F(s))return this._returnResult({data:null,error:s});throw s}}async _refreshAccessToken(e){const s=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{const r=Date.now();return await Bp(async i=>(i>0&&await Vp(200*Math.pow(2,i-1)),this._debug(s,"refreshing attempt",i),await W(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:_t})),(i,n)=>{const o=200*Math.pow(2,i);return n&&on(n)&&Date.now()+o-r<Ls})}catch(r){if(this._debug(s,"error",r),F(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(s,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,s){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",s,"url",r),Ie()&&!s.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,s;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await as(this.storage,this.storageKey);if(i&&this.userStorage){let o=await as(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:i.user},await Fs(this.userStorage,this.storageKey+"-user",o)),i.user=(e=o==null?void 0:o.user)!==null&&e!==void 0?e:an()}else if(i&&!i.user&&!i.user){const o=await as(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(i.user=o.user,await De(this.storage,this.storageKey+"-user"),await Fs(this.storage,this.storageKey,i)):i.user=an()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const n=((s=i.expires_at)!==null&&s!==void 0?s:1/0)*1e3-Date.now()<rn;if(this._debug(r,`session has${n?"":" not"} expired with margin of ${rn}s`),n){if(this.autoRefreshToken&&i.refresh_token){const{error:o}=await this._callRefreshToken(i.refresh_token);o&&(console.error(o),on(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:a}=await this._getUser(i.access_token);!a&&(o!=null&&o.user)?(i.user=o.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(r,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var s,r;if(!e)throw new Qe;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new qi;const{data:n,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!n.session)throw new Qe;await this._saveSession(n.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",n.session);const a={data:n.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(n){if(this._debug(i,"error",n),F(n)){const o={data:null,error:n};return on(n)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(n),n}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,s,r=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",s,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:s});const n=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,s)}catch(l){n.push(l)}});if(await Promise.all(o),n.length>0){for(let a=0;a<n.length;a+=1)console.error(n[a]);throw n[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await De(this.storage,`${this.storageKey}-code-verifier`);const s=Object.assign({},e),r=s.user&&s.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&s.user&&await Fs(this.userStorage,this.storageKey+"-user",{user:s.user});const i=Object.assign({},s);delete i.user;const n=qa(i);await Fs(this.storage,this.storageKey,n)}else{const i=qa(s);await Fs(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await De(this.storage,this.storageKey),await De(this.storage,this.storageKey+"-code-verifier"),await De(this.storage,this.storageKey+"-user"),this.userStorage&&await De(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Ie()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Ls);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e);const s=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=s,s&&typeof s=="object"&&typeof s.unref=="function"?s.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(s)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e);const s=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,s&&clearTimeout(s)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async s=>{const{data:{session:r}}=s;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-e)/Ls);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Ls}ms, refresh threshold is ${Un} ticks`),i<=Un&&await this._callRefreshToken(r.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof eu)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ie()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(e){this._debug("#visibilityChangedCallback","error",e)}},window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const s=`#_onVisibilityChanged(${e})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,s,r){const i=[`provider=${encodeURIComponent(s)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[n,o]=await Rs(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(n)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(a.toString())}if(r!=null&&r.queryParams){const n=new URLSearchParams(r.queryParams);i.push(n.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async s=>{var r;const{data:i,error:n}=s;return n?this._returnResult({data:null,error:n}):await W(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(s){if(F(s))return this._returnResult({data:null,error:s});throw s}}async _enroll(e){try{return await this._useSession(async s=>{var r,i;const{data:n,error:o}=s;if(o)return this._returnResult({data:null,error:o});const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:l,error:c}=await W(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=n==null?void 0:n.session)===null||r===void 0?void 0:r.access_token});return c?this._returnResult({data:null,error:c}):(e.factorType==="totp"&&l.type==="totp"&&(!((i=l==null?void 0:l.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(s){if(F(s))return this._returnResult({data:null,error:s});throw s}}async _verify(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async s=>{var r;const{data:i,error:n}=s;if(n)return this._returnResult({data:null,error:n});const o=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?ym(e.webauthn.credential_response):vm(e.webauthn.credential_response)})}:{code:e.code}),{data:a,error:l}=await W(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:o,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),this._returnResult({data:a,error:l}))})}catch(s){if(F(s))return this._returnResult({data:null,error:s});throw s}})}async _challenge(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async s=>{var r;const{data:i,error:n}=s;if(n)return this._returnResult({data:null,error:n});const o=await W(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});if(o.error)return o;const{data:a}=o;if(a.type!=="webauthn")return{data:a,error:null};switch(a.webauthn.type){case"create":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:mm(a.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:gm(a.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(s){if(F(s))return this._returnResult({data:null,error:s});throw s}})}async _challengeAndVerify(e){const{data:s,error:r}=await this._challenge({factorId:e.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:e.factorId,challengeId:s.id,code:e.code})}async _listFactors(){var e;const{data:{user:s},error:r}=await this.getUser();if(r)return{data:null,error:r};const i={all:[],phone:[],totp:[],webauthn:[]};for(const n of(e=s==null?void 0:s.factors)!==null&&e!==void 0?e:[])i.all.push(n),n.status==="verified"&&i[n.factor_type].push(n);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(e){var s,r,i,n;if(e)try{const{payload:p}=ci(e);let g=null;p.aal&&(g=p.aal);let m=g;const{data:{user:y},error:w}=await this.getUser(e);if(w)return this._returnResult({data:null,error:w});((r=(s=y==null?void 0:y.factors)===null||s===void 0?void 0:s.filter(b=>b.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(m="aal2");const _=p.amr||[];return{data:{currentLevel:g,nextLevel:m,currentAuthenticationMethods:_},error:null}}catch(p){if(F(p))return this._returnResult({data:null,error:p});throw p}const{data:{session:o},error:a}=await this.getSession();if(a)return this._returnResult({data:null,error:a});if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=ci(o.access_token);let c=null;l.aal&&(c=l.aal);let u=c;((n=(i=o.user.factors)===null||i===void 0?void 0:i.filter(p=>p.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(u="aal2");const f=l.amr||[];return{data:{currentLevel:c,nextLevel:u,currentAuthenticationMethods:f},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async s=>{const{data:{session:r},error:i}=s;return i?this._returnResult({data:null,error:i}):r?await W(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:r.access_token,xform:n=>({data:n,error:null})}):this._returnResult({data:null,error:new Qe})})}catch(s){if(F(s))return this._returnResult({data:null,error:s});throw s}}async _approveAuthorization(e,s){try{return await this._useSession(async r=>{const{data:{session:i},error:n}=r;if(n)return this._returnResult({data:null,error:n});if(!i)return this._returnResult({data:null,error:new Qe});const o=await W(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:a=>({data:a,error:null})});return o.data&&o.data.redirect_url&&Ie()&&!(s!=null&&s.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(r){if(F(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(e,s){try{return await this._useSession(async r=>{const{data:{session:i},error:n}=r;if(n)return this._returnResult({data:null,error:n});if(!i)return this._returnResult({data:null,error:new Qe});const o=await W(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:a=>({data:a,error:null})});return o.data&&o.data.redirect_url&&Ie()&&!(s!=null&&s.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(r){if(F(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:s},error:r}=e;return r?this._returnResult({data:null,error:r}):s?await W(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:s.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new Qe})})}catch(e){if(F(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async s=>{const{data:{session:r},error:i}=s;return i?this._returnResult({data:null,error:i}):r?(await W(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Qe})})}catch(s){if(F(s))return this._returnResult({data:null,error:s});throw s}}async fetchJwk(e,s={keys:[]}){let r=s.keys.find(a=>a.kid===e);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(a=>a.kid===e),r&&this.jwks_cached_at+Cp>i)return r;const{data:n,error:o}=await W(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!n.keys||n.keys.length===0||(this.jwks=n,this.jwks_cached_at=i,r=n.keys.find(a=>a.kid===e),!r)?null:r}async getClaims(e,s={}){try{let r=e;if(!r){const{data:p,error:g}=await this.getSession();if(g||!p.session)return this._returnResult({data:null,error:g});r=p.session.access_token}const{header:i,payload:n,signature:o,raw:{header:a,payload:l}}=ci(r);s!=null&&s.allowExpired||Gp(n.exp);const c=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,s!=null&&s.keys?{keys:s.keys}:s==null?void 0:s.jwks);if(!c){const{error:p}=await this.getUser(r);if(p)throw p;return{data:{claims:n,header:i,signature:o},error:null}}const u=Yp(i.alg),d=await crypto.subtle.importKey("jwk",c,u,!0,["verify"]);if(!await crypto.subtle.verify(u,d,o,Ip(`${a}.${l}`)))throw new qn("Invalid JWT signature");return{data:{claims:n,header:i,signature:o},error:null}}catch(r){if(F(r))return this._returnResult({data:null,error:r});throw r}}}Ir.nextInstanceID={};const Em=Ir,jm="2.93.3";let gr="";typeof Deno<"u"?gr="deno":typeof document<"u"?gr="web":typeof navigator<"u"&&navigator.product==="ReactNative"?gr="react-native":gr="node";const Pm={"X-Client-Info":`supabase-js-${gr}/${jm}`},Am={headers:Pm},Rm={schema:"public"},Om={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Nm={};function Mr(t){"@babel/helpers - typeof";return Mr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mr(t)}function Dm(t,e){if(Mr(t)!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var r=s.call(t,e);if(Mr(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Im(t){var e=Dm(t,"string");return Mr(e)=="symbol"?e:e+""}function Mm(t,e,s){return(e=Im(e))in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}function Za(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),s.push.apply(s,r)}return s}function we(t){for(var e=1;e<arguments.length;e++){var s=arguments[e]!=null?arguments[e]:{};e%2?Za(Object(s),!0).forEach(function(r){Mm(t,r,s[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):Za(Object(s)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(s,r))})}return t}const Lm=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),Fm=()=>Headers,$m=(t,e,s)=>{const r=Lm(s),i=Fm();return async(n,o)=>{var a;const l=(a=await e())!==null&&a!==void 0?a:t;let c=new i(o==null?void 0:o.headers);return c.has("apikey")||c.set("apikey",t),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),r(n,we(we({},o),{},{headers:c}))}};function Vm(t){return t.endsWith("/")?t:t+"/"}function Bm(t,e){var s,r;const{db:i,auth:n,realtime:o,global:a}=t,{db:l,auth:c,realtime:u,global:d}=e,f={db:we(we({},l),i),auth:we(we({},c),n),realtime:we(we({},u),o),storage:{},global:we(we(we({},d),a),{},{headers:we(we({},(s=d==null?void 0:d.headers)!==null&&s!==void 0?s:{}),(r=a==null?void 0:a.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return t.accessToken?f.accessToken=t.accessToken:delete f.accessToken,f}function Um(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Vm(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var zm=class extends Em{constructor(t){super(t)}},Wm=class{constructor(t,e,s){var r,i;this.supabaseUrl=t,this.supabaseKey=e;const n=Um(t);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",n),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",n),this.storageUrl=new URL("storage/v1",n),this.functionsUrl=new URL("functions/v1",n);const o=`sb-${n.hostname.split(".")[0]}-auth-token`,a={db:Rm,realtime:Nm,auth:we(we({},Om),{},{storageKey:o}),global:Am},l=Bm(s??{},a);if(this.storageKey=(r=l.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(i=l.global.headers)!==null&&i!==void 0?i:{},l.accessToken)this.accessToken=l.accessToken,this.auth=new Proxy({},{get:(u,d)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(d)} is not possible`)}});else{var c;this.auth=this._initSupabaseAuthClient((c=l.auth)!==null&&c!==void 0?c:{},this.headers,l.global.fetch)}this.fetch=$m(e,this._getAccessToken.bind(this),l.global.fetch),this.realtime=this._initRealtimeClient(we({headers:this.headers,accessToken:this._getAccessToken.bind(this)},l.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(u=>this.realtime.setAuth(u)).catch(u=>console.warn("Failed to set initial Realtime auth token:",u)),this.rest=new jf(new URL("rest/v1",n).href,{headers:this.headers,schema:l.db.schema,fetch:this.fetch}),this.storage=new bp(this.storageUrl.href,this.headers,this.fetch,s==null?void 0:s.storage),l.accessToken||this._listenForAuthEvents()}get functions(){return new Sf(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},s={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,e,s)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t=this,e,s;if(t.accessToken)return await t.accessToken();const{data:r}=await t.auth.getSession();return(e=(s=r.session)===null||s===void 0?void 0:s.access_token)!==null&&e!==void 0?e:t.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:s,storage:r,userStorage:i,storageKey:n,flowType:o,lock:a,debug:l,throwOnError:c},u,d){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new zm({url:this.authUrl.href,headers:we(we({},f),u),storageKey:n,autoRefreshToken:t,persistSession:e,detectSessionInUrl:s,storage:r,userStorage:i,flowType:o,lock:a,debug:l,throwOnError:c,fetch:d,hasCustomAuthorizationHeader:Object.keys(this.headers).some(p=>p.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new qf(this.realtimeUrl.href,we(we({},t),{},{params:we(we({},{apikey:this.supabaseKey}),t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,e)=>{this._handleTokenChanged(t,"CLIENT",e==null?void 0:e.access_token)})}_handleTokenChanged(t,e,s){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==s?(this.changedAccessToken=s,this.realtime.setAuth(s)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const qm=(t,e,s)=>new Wm(t,e,s);function Hm(){if(typeof window<"u")return!1;const t=globalThis.process;if(!t)return!1;const e=t.version;if(e==null)return!1;const s=e.match(/^v(\d+)\./);return s?parseInt(s[1],10)<=18:!1}Hm()&&console.warn("âš ï¸  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Km=void 0,Gm=void 0;throw new Error("Missing Supabase environment variables. Please check your .env file.");const Ot=qm(Km,Gm,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0}}),ru=S.createContext(null);function Ym({children:t}){const[e,s]=S.useState(null),[r,i]=S.useState(!0);S.useEffect(()=>{Ot.auth.getSession().then(({data:{session:g}})=>{var m,y;g!=null&&g.user&&s({id:g.user.id,email:g.user.email,username:((m=g.user.user_metadata)==null?void 0:m.username)||((y=g.user.email)==null?void 0:y.split("@")[0])}),i(!1)});const{data:{subscription:p}}=Ot.auth.onAuthStateChange(async(g,m)=>{var y,w;console.log("Auth state changed:",g),m!=null&&m.user?s({id:m.user.id,email:m.user.email,username:((y=m.user.user_metadata)==null?void 0:y.username)||((w=m.user.email)==null?void 0:w.split("@")[0])}):s(null),i(!1)});return()=>{p.unsubscribe()}},[]);const f={user:e,loading:r,isAuthenticated:!!e,login:async(p,g)=>{var m,y;try{const{data:w,error:v}=await Ot.auth.signInWithPassword({email:p.includes("@")?p:`${p}@temp.com`,password:g});if(v)throw v;return{success:!0,data:{user:{id:w.user.id,email:w.user.email,username:((m=w.user.user_metadata)==null?void 0:m.username)||((y=w.user.email)==null?void 0:y.split("@")[0])}}}}catch(w){throw console.error("Login error:",w),new Error(w.message||"Invalid email or password")}},register:async(p,g,m,y)=>{try{if(!y)throw new Error("You must accept the terms and conditions");const{data:w,error:v}=await Ot.auth.signUp({email:g,password:m,options:{data:{username:p}}});if(v)throw v;if(w.user&&!w.session)throw new Error("Please check your email to confirm your account");return{success:!0,data:{user:{id:w.user.id,email:w.user.email,username:p}}}}catch(w){throw console.error("Registration error:",w),new Error(w.message||"Registration failed")}},logout:async()=>{try{const{error:p}=await Ot.auth.signOut();if(p)throw p;s(null)}catch(p){throw console.error("Logout error:",p),p}},resetPassword:async p=>{try{const{error:g}=await Ot.auth.resetPasswordForEmail(p,{redirectTo:`${window.location.origin}/reset-password`});if(g)throw g;return{success:!0}}catch(g){throw console.error("Password reset error:",g),g}},updatePassword:async p=>{try{const{error:g}=await Ot.auth.updateUser({password:p});if(g)throw g;return{success:!0}}catch(g){throw console.error("Update password error:",g),g}},updateUser:p=>{s(g=>({...g,...p}))},getSession:async()=>{const{data:{session:p}}=await Ot.auth.getSession();return p}};return h.jsx(ru.Provider,{value:f,children:t})}function ar(){const t=S.useContext(ru);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t}class iu extends nt.Component{constructor(e){super(e),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0}}componentDidCatch(e,s){console.error("ErrorBoundary caught an error:",e,s),this.setState({error:e})}render(){return this.state.hasError?h.jsxs("div",{style:{padding:"2rem",textAlign:"center",color:"#e0e0e0",minHeight:"100vh",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",backgroundColor:"#0a0e1a"},children:[h.jsx("h1",{style:{fontSize:"2rem",marginBottom:"1rem"},children:"Something went wrong"}),h.jsx("p",{style:{marginBottom:"2rem",color:"#999"},children:"Please refresh the page or try again later."}),h.jsx("button",{onClick:()=>window.location.reload(),style:{padding:"0.75rem 2rem",backgroundColor:"#4da6ff",color:"#fff",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"1rem"},children:"Reload Page"})]}):this.props.children}}function Dt(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function nu(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}/*!
 * GSAP 3.14.2
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var ot={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},Zs={duration:.5,overwrite:!1,delay:0},Oo,Le,ue,ft=1e8,ne=1/ft,Hn=Math.PI*2,Jm=Hn/4,Xm=0,ou=Math.sqrt,Zm=Math.cos,Qm=Math.sin,Oe=function(e){return typeof e=="string"},be=function(e){return typeof e=="function"},Lt=function(e){return typeof e=="number"},No=function(e){return typeof e>"u"},jt=function(e){return typeof e=="object"},Ge=function(e){return e!==!1},Do=function(){return typeof window<"u"},ui=function(e){return be(e)||Oe(e)},au=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},Ve=Array.isArray,eg=/random\([^)]+\)/g,tg=/,\s*/g,Qa=/(?:-?\.?\d|\.)+/gi,lu=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,Bs=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,cn=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,cu=/[+-]=-?[.\d]+/,sg=/[^,'"\[\]\s]+/gi,rg=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,fe,Tt,Kn,Io,at={},Ti={},uu,hu=function(e){return(Ti=Qs(e,at))&&Ze},Mo=function(e,s){return console.warn("Invalid property",e,"set to",s,"Missing plugin? gsap.registerPlugin()")},Lr=function(e,s){return!s&&console.warn(e)},du=function(e,s){return e&&(at[e]=s)&&Ti&&(Ti[e]=s)||at},Fr=function(){return 0},ig={suppressEvents:!0,isStart:!0,kill:!1},pi={suppressEvents:!0,kill:!1},ng={suppressEvents:!0},Lo={},Jt=[],Gn={},fu,et={},un={},el=30,mi=[],Fo="",$o=function(e){var s=e[0],r,i;if(jt(s)||be(s)||(e=[e]),!(r=(s._gsap||{}).harness)){for(i=mi.length;i--&&!mi[i].targetTest(s););r=mi[i]}for(i=e.length;i--;)e[i]&&(e[i]._gsap||(e[i]._gsap=new Lu(e[i],r)))||e.splice(i,1);return e},Ss=function(e){return e._gsap||$o(pt(e))[0]._gsap},pu=function(e,s,r){return(r=e[s])&&be(r)?e[s]():No(r)&&e.getAttribute&&e.getAttribute(s)||r},Ye=function(e,s){return(e=e.split(",")).forEach(s)||e},xe=function(e){return Math.round(e*1e5)/1e5||0},de=function(e){return Math.round(e*1e7)/1e7||0},Gs=function(e,s){var r=s.charAt(0),i=parseFloat(s.substr(2));return e=parseFloat(e),r==="+"?e+i:r==="-"?e-i:r==="*"?e*i:e/i},og=function(e,s){for(var r=s.length,i=0;e.indexOf(s[i])<0&&++i<r;);return i<r},ki=function(){var e=Jt.length,s=Jt.slice(0),r,i;for(Gn={},Jt.length=0,r=0;r<e;r++)i=s[r],i&&i._lazy&&(i.render(i._lazy[0],i._lazy[1],!0)._lazy=0)},Vo=function(e){return!!(e._initted||e._startAt||e.add)},mu=function(e,s,r,i){Jt.length&&!Le&&ki(),e.render(s,r,!!(Le&&s<0&&Vo(e))),Jt.length&&!Le&&ki()},gu=function(e){var s=parseFloat(e);return(s||s===0)&&(e+"").match(sg).length<2?s:Oe(e)?e.trim():e},yu=function(e){return e},lt=function(e,s){for(var r in s)r in e||(e[r]=s[r]);return e},ag=function(e){return function(s,r){for(var i in r)i in s||i==="duration"&&e||i==="ease"||(s[i]=r[i])}},Qs=function(e,s){for(var r in s)e[r]=s[r];return e},tl=function t(e,s){for(var r in s)r!=="__proto__"&&r!=="constructor"&&r!=="prototype"&&(e[r]=jt(s[r])?t(e[r]||(e[r]={}),s[r]):s[r]);return e},Ci=function(e,s){var r={},i;for(i in e)i in s||(r[i]=e[i]);return r},Tr=function(e){var s=e.parent||fe,r=e.keyframes?ag(Ve(e.keyframes)):lt;if(Ge(e.inherit))for(;s;)r(e,s.vars.defaults),s=s.parent||s._dp;return e},lg=function(e,s){for(var r=e.length,i=r===s.length;i&&r--&&e[r]===s[r];);return r<0},vu=function(e,s,r,i,n){var o=e[i],a;if(n)for(a=s[n];o&&o[n]>a;)o=o._prev;return o?(s._next=o._next,o._next=s):(s._next=e[r],e[r]=s),s._next?s._next._prev=s:e[i]=s,s._prev=o,s.parent=s._dp=e,s},Hi=function(e,s,r,i){r===void 0&&(r="_first"),i===void 0&&(i="_last");var n=s._prev,o=s._next;n?n._next=o:e[r]===s&&(e[r]=o),o?o._prev=n:e[i]===s&&(e[i]=n),s._next=s._prev=s.parent=null},Zt=function(e,s){e.parent&&(!s||e.parent.autoRemoveChildren)&&e.parent.remove&&e.parent.remove(e),e._act=0},Ts=function(e,s){if(e&&(!s||s._end>e._dur||s._start<0))for(var r=e;r;)r._dirty=1,r=r.parent;return e},cg=function(e){for(var s=e.parent;s&&s.parent;)s._dirty=1,s.totalDuration(),s=s.parent;return e},Yn=function(e,s,r,i){return e._startAt&&(Le?e._startAt.revert(pi):e.vars.immediateRender&&!e.vars.autoRevert||e._startAt.render(s,!0,i))},ug=function t(e){return!e||e._ts&&t(e.parent)},sl=function(e){return e._repeat?er(e._tTime,e=e.duration()+e._rDelay)*e:0},er=function(e,s){var r=Math.floor(e=de(e/s));return e&&r===e?r-1:r},Ei=function(e,s){return(e-s._start)*s._ts+(s._ts>=0?0:s._dirty?s.totalDuration():s._tDur)},Ki=function(e){return e._end=de(e._start+(e._tDur/Math.abs(e._ts||e._rts||ne)||0))},Gi=function(e,s){var r=e._dp;return r&&r.smoothChildTiming&&e._ts&&(e._start=de(r._time-(e._ts>0?s/e._ts:((e._dirty?e.totalDuration():e._tDur)-s)/-e._ts)),Ki(e),r._dirty||Ts(r,e)),e},wu=function(e,s){var r;if((s._time||!s._dur&&s._initted||s._start<e._time&&(s._dur||!s.add))&&(r=Ei(e.rawTime(),s),(!s._dur||Jr(0,s.totalDuration(),r)-s._tTime>ne)&&s.render(r,!0)),Ts(e,s)._dp&&e._initted&&e._time>=e._dur&&e._ts){if(e._dur<e.duration())for(r=e;r._dp;)r.rawTime()>=0&&r.totalTime(r._tTime),r=r._dp;e._zTime=-ne}},kt=function(e,s,r,i){return s.parent&&Zt(s),s._start=de((Lt(r)?r:r||e!==fe?ut(e,r,s):e._time)+s._delay),s._end=de(s._start+(s.totalDuration()/Math.abs(s.timeScale())||0)),vu(e,s,"_first","_last",e._sort?"_start":0),Jn(s)||(e._recent=s),i||wu(e,s),e._ts<0&&Gi(e,e._tTime),e},_u=function(e,s){return(at.ScrollTrigger||Mo("scrollTrigger",s))&&at.ScrollTrigger.create(s,e)},bu=function(e,s,r,i,n){if(Uo(e,s,n),!e._initted)return 1;if(!r&&e._pt&&!Le&&(e._dur&&e.vars.lazy!==!1||!e._dur&&e.vars.lazy)&&fu!==st.frame)return Jt.push(e),e._lazy=[n,i],1},hg=function t(e){var s=e.parent;return s&&s._ts&&s._initted&&!s._lock&&(s.rawTime()<0||t(s))},Jn=function(e){var s=e.data;return s==="isFromStart"||s==="isStart"},dg=function(e,s,r,i){var n=e.ratio,o=s<0||!s&&(!e._start&&hg(e)&&!(!e._initted&&Jn(e))||(e._ts<0||e._dp._ts<0)&&!Jn(e))?0:1,a=e._rDelay,l=0,c,u,d;if(a&&e._repeat&&(l=Jr(0,e._tDur,s),u=er(l,a),e._yoyo&&u&1&&(o=1-o),u!==er(e._tTime,a)&&(n=1-o,e.vars.repeatRefresh&&e._initted&&e.invalidate())),o!==n||Le||i||e._zTime===ne||!s&&e._zTime){if(!e._initted&&bu(e,s,i,r,l))return;for(d=e._zTime,e._zTime=s||(r?ne:0),r||(r=s&&!d),e.ratio=o,e._from&&(o=1-o),e._time=0,e._tTime=l,c=e._pt;c;)c.r(o,c.d),c=c._next;s<0&&Yn(e,s,r,!0),e._onUpdate&&!r&&rt(e,"onUpdate"),l&&e._repeat&&!r&&e.parent&&rt(e,"onRepeat"),(s>=e._tDur||s<0)&&e.ratio===o&&(o&&Zt(e,1),!r&&!Le&&(rt(e,o?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}else e._zTime||(e._zTime=s)},fg=function(e,s,r){var i;if(r>s)for(i=e._first;i&&i._start<=r;){if(i.data==="isPause"&&i._start>s)return i;i=i._next}else for(i=e._last;i&&i._start>=r;){if(i.data==="isPause"&&i._start<s)return i;i=i._prev}},tr=function(e,s,r,i){var n=e._repeat,o=de(s)||0,a=e._tTime/e._tDur;return a&&!i&&(e._time*=o/e._dur),e._dur=o,e._tDur=n?n<0?1e10:de(o*(n+1)+e._rDelay*n):o,a>0&&!i&&Gi(e,e._tTime=e._tDur*a),e.parent&&Ki(e),r||Ts(e.parent,e),e},rl=function(e){return e instanceof We?Ts(e):tr(e,e._dur)},pg={_start:0,endTime:Fr,totalDuration:Fr},ut=function t(e,s,r){var i=e.labels,n=e._recent||pg,o=e.duration()>=ft?n.endTime(!1):e._dur,a,l,c;return Oe(s)&&(isNaN(s)||s in i)?(l=s.charAt(0),c=s.substr(-1)==="%",a=s.indexOf("="),l==="<"||l===">"?(a>=0&&(s=s.replace(/=/,"")),(l==="<"?n._start:n.endTime(n._repeat>=0))+(parseFloat(s.substr(1))||0)*(c?(a<0?n:r).totalDuration()/100:1)):a<0?(s in i||(i[s]=o),i[s]):(l=parseFloat(s.charAt(a-1)+s.substr(a+1)),c&&r&&(l=l/100*(Ve(r)?r[0]:r).totalDuration()),a>1?t(e,s.substr(0,a-1),r)+l:o+l)):s==null?o:+s},kr=function(e,s,r){var i=Lt(s[1]),n=(i?2:1)+(e<2?0:1),o=s[n],a,l;if(i&&(o.duration=s[1]),o.parent=r,e){for(a=o,l=r;l&&!("immediateRender"in a);)a=l.vars.defaults||{},l=Ge(l.vars.inherit)&&l.parent;o.immediateRender=Ge(a.immediateRender),e<2?o.runBackwards=1:o.startAt=s[n-1]}return new ke(s[0],o,s[n+1])},rs=function(e,s){return e||e===0?s(e):s},Jr=function(e,s,r){return r<e?e:r>s?s:r},Fe=function(e,s){return!Oe(e)||!(s=rg.exec(e))?"":s[1]},mg=function(e,s,r){return rs(r,function(i){return Jr(e,s,i)})},Xn=[].slice,xu=function(e,s){return e&&jt(e)&&"length"in e&&(!s&&!e.length||e.length-1 in e&&jt(e[0]))&&!e.nodeType&&e!==Tt},gg=function(e,s,r){return r===void 0&&(r=[]),e.forEach(function(i){var n;return Oe(i)&&!s||xu(i,1)?(n=r).push.apply(n,pt(i)):r.push(i)})||r},pt=function(e,s,r){return ue&&!s&&ue.selector?ue.selector(e):Oe(e)&&!r&&(Kn||!sr())?Xn.call((s||Io).querySelectorAll(e),0):Ve(e)?gg(e,r):xu(e)?Xn.call(e,0):e?[e]:[]},Zn=function(e){return e=pt(e)[0]||Lr("Invalid scope")||{},function(s){var r=e.current||e.nativeElement||e;return pt(s,r.querySelectorAll?r:r===e?Lr("Invalid scope")||Io.createElement("div"):e)}},Su=function(e){return e.sort(function(){return .5-Math.random()})},Tu=function(e){if(be(e))return e;var s=jt(e)?e:{each:e},r=ks(s.ease),i=s.from||0,n=parseFloat(s.base)||0,o={},a=i>0&&i<1,l=isNaN(i)||a,c=s.axis,u=i,d=i;return Oe(i)?u=d={center:.5,edges:.5,end:1}[i]||0:!a&&l&&(u=i[0],d=i[1]),function(f,p,g){var m=(g||s).length,y=o[m],w,v,_,b,x,T,k,j,P;if(!y){if(P=s.grid==="auto"?0:(s.grid||[1,ft])[1],!P){for(k=-ft;k<(k=g[P++].getBoundingClientRect().left)&&P<m;);P<m&&P--}for(y=o[m]=[],w=l?Math.min(P,m)*u-.5:i%P,v=P===ft?0:l?m*d/P-.5:i/P|0,k=0,j=ft,T=0;T<m;T++)_=T%P-w,b=v-(T/P|0),y[T]=x=c?Math.abs(c==="y"?b:_):ou(_*_+b*b),x>k&&(k=x),x<j&&(j=x);i==="random"&&Su(y),y.max=k-j,y.min=j,y.v=m=(parseFloat(s.amount)||parseFloat(s.each)*(P>m?m-1:c?c==="y"?m/P:P:Math.max(P,m/P))||0)*(i==="edges"?-1:1),y.b=m<0?n-m:n,y.u=Fe(s.amount||s.each)||0,r=r&&m<0?Du(r):r}return m=(y[f]-y.min)/y.max||0,de(y.b+(r?r(m):m)*y.v)+y.u}},Qn=function(e){var s=Math.pow(10,((e+"").split(".")[1]||"").length);return function(r){var i=de(Math.round(parseFloat(r)/e)*e*s);return(i-i%1)/s+(Lt(r)?0:Fe(r))}},ku=function(e,s){var r=Ve(e),i,n;return!r&&jt(e)&&(i=r=e.radius||ft,e.values?(e=pt(e.values),(n=!Lt(e[0]))&&(i*=i)):e=Qn(e.increment)),rs(s,r?be(e)?function(o){return n=e(o),Math.abs(n-o)<=i?n:o}:function(o){for(var a=parseFloat(n?o.x:o),l=parseFloat(n?o.y:0),c=ft,u=0,d=e.length,f,p;d--;)n?(f=e[d].x-a,p=e[d].y-l,f=f*f+p*p):f=Math.abs(e[d]-a),f<c&&(c=f,u=d);return u=!i||c<=i?e[u]:o,n||u===o||Lt(o)?u:u+Fe(o)}:Qn(e))},Cu=function(e,s,r,i){return rs(Ve(e)?!s:r===!0?!!(r=0):!i,function(){return Ve(e)?e[~~(Math.random()*e.length)]:(r=r||1e-5)&&(i=r<1?Math.pow(10,(r+"").length-2):1)&&Math.floor(Math.round((e-r/2+Math.random()*(s-e+r*.99))/r)*r*i)/i})},yg=function(){for(var e=arguments.length,s=new Array(e),r=0;r<e;r++)s[r]=arguments[r];return function(i){return s.reduce(function(n,o){return o(n)},i)}},vg=function(e,s){return function(r){return e(parseFloat(r))+(s||Fe(r))}},wg=function(e,s,r){return ju(e,s,0,1,r)},Eu=function(e,s,r){return rs(r,function(i){return e[~~s(i)]})},_g=function t(e,s,r){var i=s-e;return Ve(e)?Eu(e,t(0,e.length),s):rs(r,function(n){return(i+(n-e)%i)%i+e})},bg=function t(e,s,r){var i=s-e,n=i*2;return Ve(e)?Eu(e,t(0,e.length-1),s):rs(r,function(o){return o=(n+(o-e)%n)%n||0,e+(o>i?n-o:o)})},$r=function(e){return e.replace(eg,function(s){var r=s.indexOf("[")+1,i=s.substring(r||7,r?s.indexOf("]"):s.length-1).split(tg);return Cu(r?i:+i[0],r?0:+i[1],+i[2]||1e-5)})},ju=function(e,s,r,i,n){var o=s-e,a=i-r;return rs(n,function(l){return r+((l-e)/o*a||0)})},xg=function t(e,s,r,i){var n=isNaN(e+s)?0:function(p){return(1-p)*e+p*s};if(!n){var o=Oe(e),a={},l,c,u,d,f;if(r===!0&&(i=1)&&(r=null),o)e={p:e},s={p:s};else if(Ve(e)&&!Ve(s)){for(u=[],d=e.length,f=d-2,c=1;c<d;c++)u.push(t(e[c-1],e[c]));d--,n=function(g){g*=d;var m=Math.min(f,~~g);return u[m](g-m)},r=s}else i||(e=Qs(Ve(e)?[]:{},e));if(!u){for(l in s)Bo.call(a,e,l,"get",s[l]);n=function(g){return qo(g,a)||(o?e.p:e)}}}return rs(r,n)},il=function(e,s,r){var i=e.labels,n=ft,o,a,l;for(o in i)a=i[o]-s,a<0==!!r&&a&&n>(a=Math.abs(a))&&(l=o,n=a);return l},rt=function(e,s,r){var i=e.vars,n=i[s],o=ue,a=e._ctx,l,c,u;if(n)return l=i[s+"Params"],c=i.callbackScope||e,r&&Jt.length&&ki(),a&&(ue=a),u=l?n.apply(c,l):n.call(c),ue=o,u},yr=function(e){return Zt(e),e.scrollTrigger&&e.scrollTrigger.kill(!!Le),e.progress()<1&&rt(e,"onInterrupt"),e},Us,Pu=[],Au=function(e){if(e)if(e=!e.name&&e.default||e,Do()||e.headless){var s=e.name,r=be(e),i=s&&!r&&e.init?function(){this._props=[]}:e,n={init:Fr,render:qo,add:Bo,kill:Fg,modifier:Lg,rawVars:0},o={targetTest:0,get:0,getSetter:Wo,aliases:{},register:0};if(sr(),e!==i){if(et[s])return;lt(i,lt(Ci(e,n),o)),Qs(i.prototype,Qs(n,Ci(e,o))),et[i.prop=s]=i,e.targetTest&&(mi.push(i),Lo[s]=1),s=(s==="css"?"CSS":s.charAt(0).toUpperCase()+s.substr(1))+"Plugin"}du(s,i),e.register&&e.register(Ze,i,Je)}else Pu.push(e)},ie=255,vr={aqua:[0,ie,ie],lime:[0,ie,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,ie],navy:[0,0,128],white:[ie,ie,ie],olive:[128,128,0],yellow:[ie,ie,0],orange:[ie,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[ie,0,0],pink:[ie,192,203],cyan:[0,ie,ie],transparent:[ie,ie,ie,0]},hn=function(e,s,r){return e+=e<0?1:e>1?-1:0,(e*6<1?s+(r-s)*e*6:e<.5?r:e*3<2?s+(r-s)*(2/3-e)*6:s)*ie+.5|0},Ru=function(e,s,r){var i=e?Lt(e)?[e>>16,e>>8&ie,e&ie]:0:vr.black,n,o,a,l,c,u,d,f,p,g;if(!i){if(e.substr(-1)===","&&(e=e.substr(0,e.length-1)),vr[e])i=vr[e];else if(e.charAt(0)==="#"){if(e.length<6&&(n=e.charAt(1),o=e.charAt(2),a=e.charAt(3),e="#"+n+n+o+o+a+a+(e.length===5?e.charAt(4)+e.charAt(4):"")),e.length===9)return i=parseInt(e.substr(1,6),16),[i>>16,i>>8&ie,i&ie,parseInt(e.substr(7),16)/255];e=parseInt(e.substr(1),16),i=[e>>16,e>>8&ie,e&ie]}else if(e.substr(0,3)==="hsl"){if(i=g=e.match(Qa),!s)l=+i[0]%360/360,c=+i[1]/100,u=+i[2]/100,o=u<=.5?u*(c+1):u+c-u*c,n=u*2-o,i.length>3&&(i[3]*=1),i[0]=hn(l+1/3,n,o),i[1]=hn(l,n,o),i[2]=hn(l-1/3,n,o);else if(~e.indexOf("="))return i=e.match(lu),r&&i.length<4&&(i[3]=1),i}else i=e.match(Qa)||vr.transparent;i=i.map(Number)}return s&&!g&&(n=i[0]/ie,o=i[1]/ie,a=i[2]/ie,d=Math.max(n,o,a),f=Math.min(n,o,a),u=(d+f)/2,d===f?l=c=0:(p=d-f,c=u>.5?p/(2-d-f):p/(d+f),l=d===n?(o-a)/p+(o<a?6:0):d===o?(a-n)/p+2:(n-o)/p+4,l*=60),i[0]=~~(l+.5),i[1]=~~(c*100+.5),i[2]=~~(u*100+.5)),r&&i.length<4&&(i[3]=1),i},Ou=function(e){var s=[],r=[],i=-1;return e.split(Xt).forEach(function(n){var o=n.match(Bs)||[];s.push.apply(s,o),r.push(i+=o.length+1)}),s.c=r,s},nl=function(e,s,r){var i="",n=(e+i).match(Xt),o=s?"hsla(":"rgba(",a=0,l,c,u,d;if(!n)return e;if(n=n.map(function(f){return(f=Ru(f,s,1))&&o+(s?f[0]+","+f[1]+"%,"+f[2]+"%,"+f[3]:f.join(","))+")"}),r&&(u=Ou(e),l=r.c,l.join(i)!==u.c.join(i)))for(c=e.replace(Xt,"1").split(Bs),d=c.length-1;a<d;a++)i+=c[a]+(~l.indexOf(a)?n.shift()||o+"0,0,0,0)":(u.length?u:n.length?n:r).shift());if(!c)for(c=e.split(Xt),d=c.length-1;a<d;a++)i+=c[a]+n[a];return i+c[d]},Xt=function(){var t="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",e;for(e in vr)t+="|"+e+"\\b";return new RegExp(t+")","gi")}(),Sg=/hsl[a]?\(/,Nu=function(e){var s=e.join(" "),r;if(Xt.lastIndex=0,Xt.test(s))return r=Sg.test(s),e[1]=nl(e[1],r),e[0]=nl(e[0],r,Ou(e[1])),!0},Vr,st=function(){var t=Date.now,e=500,s=33,r=t(),i=r,n=1e3/240,o=n,a=[],l,c,u,d,f,p,g=function m(y){var w=t()-i,v=y===!0,_,b,x,T;if((w>e||w<0)&&(r+=w-s),i+=w,x=i-r,_=x-o,(_>0||v)&&(T=++d.frame,f=x-d.time*1e3,d.time=x=x/1e3,o+=_+(_>=n?4:n-_),b=1),v||(l=c(m)),b)for(p=0;p<a.length;p++)a[p](x,f,T,y)};return d={time:0,frame:0,tick:function(){g(!0)},deltaRatio:function(y){return f/(1e3/(y||60))},wake:function(){uu&&(!Kn&&Do()&&(Tt=Kn=window,Io=Tt.document||{},at.gsap=Ze,(Tt.gsapVersions||(Tt.gsapVersions=[])).push(Ze.version),hu(Ti||Tt.GreenSockGlobals||!Tt.gsap&&Tt||{}),Pu.forEach(Au)),u=typeof requestAnimationFrame<"u"&&requestAnimationFrame,l&&d.sleep(),c=u||function(y){return setTimeout(y,o-d.time*1e3+1|0)},Vr=1,g(2))},sleep:function(){(u?cancelAnimationFrame:clearTimeout)(l),Vr=0,c=Fr},lagSmoothing:function(y,w){e=y||1/0,s=Math.min(w||33,e)},fps:function(y){n=1e3/(y||240),o=d.time*1e3+n},add:function(y,w,v){var _=w?function(b,x,T,k){y(b,x,T,k),d.remove(_)}:y;return d.remove(y),a[v?"unshift":"push"](_),sr(),_},remove:function(y,w){~(w=a.indexOf(y))&&a.splice(w,1)&&p>=w&&p--},_listeners:a},d}(),sr=function(){return!Vr&&st.wake()},Z={},Tg=/^[\d.\-M][\d.\-,\s]/,kg=/["']/g,Cg=function(e){for(var s={},r=e.substr(1,e.length-3).split(":"),i=r[0],n=1,o=r.length,a,l,c;n<o;n++)l=r[n],a=n!==o-1?l.lastIndexOf(","):l.length,c=l.substr(0,a),s[i]=isNaN(c)?c.replace(kg,"").trim():+c,i=l.substr(a+1).trim();return s},Eg=function(e){var s=e.indexOf("(")+1,r=e.indexOf(")"),i=e.indexOf("(",s);return e.substring(s,~i&&i<r?e.indexOf(")",r+1):r)},jg=function(e){var s=(e+"").split("("),r=Z[s[0]];return r&&s.length>1&&r.config?r.config.apply(null,~e.indexOf("{")?[Cg(s[1])]:Eg(e).split(",").map(gu)):Z._CE&&Tg.test(e)?Z._CE("",e):r},Du=function(e){return function(s){return 1-e(1-s)}},Iu=function t(e,s){for(var r=e._first,i;r;)r instanceof We?t(r,s):r.vars.yoyoEase&&(!r._yoyo||!r._repeat)&&r._yoyo!==s&&(r.timeline?t(r.timeline,s):(i=r._ease,r._ease=r._yEase,r._yEase=i,r._yoyo=s)),r=r._next},ks=function(e,s){return e&&(be(e)?e:Z[e]||jg(e))||s},js=function(e,s,r,i){r===void 0&&(r=function(l){return 1-s(1-l)}),i===void 0&&(i=function(l){return l<.5?s(l*2)/2:1-s((1-l)*2)/2});var n={easeIn:s,easeOut:r,easeInOut:i},o;return Ye(e,function(a){Z[a]=at[a]=n,Z[o=a.toLowerCase()]=r;for(var l in n)Z[o+(l==="easeIn"?".in":l==="easeOut"?".out":".inOut")]=Z[a+"."+l]=n[l]}),n},Mu=function(e){return function(s){return s<.5?(1-e(1-s*2))/2:.5+e((s-.5)*2)/2}},dn=function t(e,s,r){var i=s>=1?s:1,n=(r||(e?.3:.45))/(s<1?s:1),o=n/Hn*(Math.asin(1/i)||0),a=function(u){return u===1?1:i*Math.pow(2,-10*u)*Qm((u-o)*n)+1},l=e==="out"?a:e==="in"?function(c){return 1-a(1-c)}:Mu(a);return n=Hn/n,l.config=function(c,u){return t(e,c,u)},l},fn=function t(e,s){s===void 0&&(s=1.70158);var r=function(o){return o?--o*o*((s+1)*o+s)+1:0},i=e==="out"?r:e==="in"?function(n){return 1-r(1-n)}:Mu(r);return i.config=function(n){return t(e,n)},i};Ye("Linear,Quad,Cubic,Quart,Quint,Strong",function(t,e){var s=e<5?e+1:e;js(t+",Power"+(s-1),e?function(r){return Math.pow(r,s)}:function(r){return r},function(r){return 1-Math.pow(1-r,s)},function(r){return r<.5?Math.pow(r*2,s)/2:1-Math.pow((1-r)*2,s)/2})});Z.Linear.easeNone=Z.none=Z.Linear.easeIn;js("Elastic",dn("in"),dn("out"),dn());(function(t,e){var s=1/e,r=2*s,i=2.5*s,n=function(a){return a<s?t*a*a:a<r?t*Math.pow(a-1.5/e,2)+.75:a<i?t*(a-=2.25/e)*a+.9375:t*Math.pow(a-2.625/e,2)+.984375};js("Bounce",function(o){return 1-n(1-o)},n)})(7.5625,2.75);js("Expo",function(t){return Math.pow(2,10*(t-1))*t+t*t*t*t*t*t*(1-t)});js("Circ",function(t){return-(ou(1-t*t)-1)});js("Sine",function(t){return t===1?1:-Zm(t*Jm)+1});js("Back",fn("in"),fn("out"),fn());Z.SteppedEase=Z.steps=at.SteppedEase={config:function(e,s){e===void 0&&(e=1);var r=1/e,i=e+(s?0:1),n=s?1:0,o=1-ne;return function(a){return((i*Jr(0,o,a)|0)+n)*r}}};Zs.ease=Z["quad.out"];Ye("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(t){return Fo+=t+","+t+"Params,"});var Lu=function(e,s){this.id=Xm++,e._gsap=this,this.target=e,this.harness=s,this.get=s?s.get:pu,this.set=s?s.getSetter:Wo},Br=function(){function t(s){this.vars=s,this._delay=+s.delay||0,(this._repeat=s.repeat===1/0?-2:s.repeat||0)&&(this._rDelay=s.repeatDelay||0,this._yoyo=!!s.yoyo||!!s.yoyoEase),this._ts=1,tr(this,+s.duration,1,1),this.data=s.data,ue&&(this._ctx=ue,ue.data.push(this)),Vr||st.wake()}var e=t.prototype;return e.delay=function(r){return r||r===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+r-this._delay),this._delay=r,this):this._delay},e.duration=function(r){return arguments.length?this.totalDuration(this._repeat>0?r+(r+this._rDelay)*this._repeat:r):this.totalDuration()&&this._dur},e.totalDuration=function(r){return arguments.length?(this._dirty=0,tr(this,this._repeat<0?r:(r-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},e.totalTime=function(r,i){if(sr(),!arguments.length)return this._tTime;var n=this._dp;if(n&&n.smoothChildTiming&&this._ts){for(Gi(this,r),!n._dp||n.parent||wu(n,this);n&&n.parent;)n.parent._time!==n._start+(n._ts>=0?n._tTime/n._ts:(n.totalDuration()-n._tTime)/-n._ts)&&n.totalTime(n._tTime,!0),n=n.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&r<this._tDur||this._ts<0&&r>0||!this._tDur&&!r)&&kt(this._dp,this,this._start-this._delay)}return(this._tTime!==r||!this._dur&&!i||this._initted&&Math.abs(this._zTime)===ne||!this._initted&&this._dur&&r||!r&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=r),mu(this,r,i)),this},e.time=function(r,i){return arguments.length?this.totalTime(Math.min(this.totalDuration(),r+sl(this))%(this._dur+this._rDelay)||(r?this._dur:0),i):this._time},e.totalProgress=function(r,i){return arguments.length?this.totalTime(this.totalDuration()*r,i):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.rawTime()>=0&&this._initted?1:0},e.progress=function(r,i){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-r:r)+sl(this),i):this.duration()?Math.min(1,this._time/this._dur):this.rawTime()>0?1:0},e.iteration=function(r,i){var n=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(r-1)*n,i):this._repeat?er(this._tTime,n)+1:1},e.timeScale=function(r,i){if(!arguments.length)return this._rts===-ne?0:this._rts;if(this._rts===r)return this;var n=this.parent&&this._ts?Ei(this.parent._time,this):this._tTime;return this._rts=+r||0,this._ts=this._ps||r===-ne?0:this._rts,this.totalTime(Jr(-Math.abs(this._delay),this.totalDuration(),n),i!==!1),Ki(this),cg(this)},e.paused=function(r){return arguments.length?(this._ps!==r&&(this._ps=r,r?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(sr(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==ne&&(this._tTime-=ne)))),this):this._ps},e.startTime=function(r){if(arguments.length){this._start=de(r);var i=this.parent||this._dp;return i&&(i._sort||!this.parent)&&kt(i,this,this._start-this._delay),this}return this._start},e.endTime=function(r){return this._start+(Ge(r)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},e.rawTime=function(r){var i=this.parent||this._dp;return i?r&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?Ei(i.rawTime(r),this):this._tTime:this._tTime},e.revert=function(r){r===void 0&&(r=ng);var i=Le;return Le=r,Vo(this)&&(this.timeline&&this.timeline.revert(r),this.totalTime(-.01,r.suppressEvents)),this.data!=="nested"&&r.kill!==!1&&this.kill(),Le=i,this},e.globalTime=function(r){for(var i=this,n=arguments.length?r:i.rawTime();i;)n=i._start+n/(Math.abs(i._ts)||1),i=i._dp;return!this.parent&&this._sat?this._sat.globalTime(r):n},e.repeat=function(r){return arguments.length?(this._repeat=r===1/0?-2:r,rl(this)):this._repeat===-2?1/0:this._repeat},e.repeatDelay=function(r){if(arguments.length){var i=this._time;return this._rDelay=r,rl(this),i?this.time(i):this}return this._rDelay},e.yoyo=function(r){return arguments.length?(this._yoyo=r,this):this._yoyo},e.seek=function(r,i){return this.totalTime(ut(this,r),Ge(i))},e.restart=function(r,i){return this.play().totalTime(r?-this._delay:0,Ge(i)),this._dur||(this._zTime=-ne),this},e.play=function(r,i){return r!=null&&this.seek(r,i),this.reversed(!1).paused(!1)},e.reverse=function(r,i){return r!=null&&this.seek(r||this.totalDuration(),i),this.reversed(!0).paused(!1)},e.pause=function(r,i){return r!=null&&this.seek(r,i),this.paused(!0)},e.resume=function(){return this.paused(!1)},e.reversed=function(r){return arguments.length?(!!r!==this.reversed()&&this.timeScale(-this._rts||(r?-ne:0)),this):this._rts<0},e.invalidate=function(){return this._initted=this._act=0,this._zTime=-ne,this},e.isActive=function(){var r=this.parent||this._dp,i=this._start,n;return!!(!r||this._ts&&this._initted&&r.isActive()&&(n=r.rawTime(!0))>=i&&n<this.endTime(!0)-ne)},e.eventCallback=function(r,i,n){var o=this.vars;return arguments.length>1?(i?(o[r]=i,n&&(o[r+"Params"]=n),r==="onUpdate"&&(this._onUpdate=i)):delete o[r],this):o[r]},e.then=function(r){var i=this,n=i._prom;return new Promise(function(o){var a=be(r)?r:yu,l=function(){var u=i.then;i.then=null,n&&n(),be(a)&&(a=a(i))&&(a.then||a===i)&&(i.then=u),o(a),i.then=u};i._initted&&i.totalProgress()===1&&i._ts>=0||!i._tTime&&i._ts<0?l():i._prom=l})},e.kill=function(){yr(this)},t}();lt(Br.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-ne,_prom:0,_ps:!1,_rts:1});var We=function(t){nu(e,t);function e(r,i){var n;return r===void 0&&(r={}),n=t.call(this,r)||this,n.labels={},n.smoothChildTiming=!!r.smoothChildTiming,n.autoRemoveChildren=!!r.autoRemoveChildren,n._sort=Ge(r.sortChildren),fe&&kt(r.parent||fe,Dt(n),i),r.reversed&&n.reverse(),r.paused&&n.paused(!0),r.scrollTrigger&&_u(Dt(n),r.scrollTrigger),n}var s=e.prototype;return s.to=function(i,n,o){return kr(0,arguments,this),this},s.from=function(i,n,o){return kr(1,arguments,this),this},s.fromTo=function(i,n,o,a){return kr(2,arguments,this),this},s.set=function(i,n,o){return n.duration=0,n.parent=this,Tr(n).repeatDelay||(n.repeat=0),n.immediateRender=!!n.immediateRender,new ke(i,n,ut(this,o),1),this},s.call=function(i,n,o){return kt(this,ke.delayedCall(0,i,n),o)},s.staggerTo=function(i,n,o,a,l,c,u){return o.duration=n,o.stagger=o.stagger||a,o.onComplete=c,o.onCompleteParams=u,o.parent=this,new ke(i,o,ut(this,l)),this},s.staggerFrom=function(i,n,o,a,l,c,u){return o.runBackwards=1,Tr(o).immediateRender=Ge(o.immediateRender),this.staggerTo(i,n,o,a,l,c,u)},s.staggerFromTo=function(i,n,o,a,l,c,u,d){return a.startAt=o,Tr(a).immediateRender=Ge(a.immediateRender),this.staggerTo(i,n,a,l,c,u,d)},s.render=function(i,n,o){var a=this._time,l=this._dirty?this.totalDuration():this._tDur,c=this._dur,u=i<=0?0:de(i),d=this._zTime<0!=i<0&&(this._initted||!c),f,p,g,m,y,w,v,_,b,x,T,k;if(this!==fe&&u>l&&i>=0&&(u=l),u!==this._tTime||o||d){if(a!==this._time&&c&&(u+=this._time-a,i+=this._time-a),f=u,b=this._start,_=this._ts,w=!_,d&&(c||(a=this._zTime),(i||!n)&&(this._zTime=i)),this._repeat){if(T=this._yoyo,y=c+this._rDelay,this._repeat<-1&&i<0)return this.totalTime(y*100+i,n,o);if(f=de(u%y),u===l?(m=this._repeat,f=c):(x=de(u/y),m=~~x,m&&m===x&&(f=c,m--),f>c&&(f=c)),x=er(this._tTime,y),!a&&this._tTime&&x!==m&&this._tTime-x*y-this._dur<=0&&(x=m),T&&m&1&&(f=c-f,k=1),m!==x&&!this._lock){var j=T&&x&1,P=j===(T&&m&1);if(m<x&&(j=!j),a=j?0:u%c?c:u,this._lock=1,this.render(a||(k?0:de(m*y)),n,!c)._lock=0,this._tTime=u,!n&&this.parent&&rt(this,"onRepeat"),this.vars.repeatRefresh&&!k&&(this.invalidate()._lock=1,x=m),a&&a!==this._time||w!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(c=this._dur,l=this._tDur,P&&(this._lock=2,a=j?c:-1e-4,this.render(a,!0),this.vars.repeatRefresh&&!k&&this.invalidate()),this._lock=0,!this._ts&&!w)return this;Iu(this,k)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(v=fg(this,de(a),de(f)),v&&(u-=f-(f=v._start))),this._tTime=u,this._time=f,this._act=!_,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=i,a=0),!a&&u&&c&&!n&&!x&&(rt(this,"onStart"),this._tTime!==u))return this;if(f>=a&&i>=0)for(p=this._first;p;){if(g=p._next,(p._act||f>=p._start)&&p._ts&&v!==p){if(p.parent!==this)return this.render(i,n,o);if(p.render(p._ts>0?(f-p._start)*p._ts:(p._dirty?p.totalDuration():p._tDur)+(f-p._start)*p._ts,n,o),f!==this._time||!this._ts&&!w){v=0,g&&(u+=this._zTime=-ne);break}}p=g}else{p=this._last;for(var R=i<0?i:f;p;){if(g=p._prev,(p._act||R<=p._end)&&p._ts&&v!==p){if(p.parent!==this)return this.render(i,n,o);if(p.render(p._ts>0?(R-p._start)*p._ts:(p._dirty?p.totalDuration():p._tDur)+(R-p._start)*p._ts,n,o||Le&&Vo(p)),f!==this._time||!this._ts&&!w){v=0,g&&(u+=this._zTime=R?-ne:ne);break}}p=g}}if(v&&!n&&(this.pause(),v.render(f>=a?0:-ne)._zTime=f>=a?1:-1,this._ts))return this._start=b,Ki(this),this.render(i,n,o);this._onUpdate&&!n&&rt(this,"onUpdate",!0),(u===l&&this._tTime>=this.totalDuration()||!u&&a)&&(b===this._start||Math.abs(_)!==Math.abs(this._ts))&&(this._lock||((i||!c)&&(u===l&&this._ts>0||!u&&this._ts<0)&&Zt(this,1),!n&&!(i<0&&!a)&&(u||a||!l)&&(rt(this,u===l&&i>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(u<l&&this.timeScale()>0)&&this._prom())))}return this},s.add=function(i,n){var o=this;if(Lt(n)||(n=ut(this,n,i)),!(i instanceof Br)){if(Ve(i))return i.forEach(function(a){return o.add(a,n)}),this;if(Oe(i))return this.addLabel(i,n);if(be(i))i=ke.delayedCall(0,i);else return this}return this!==i?kt(this,i,n):this},s.getChildren=function(i,n,o,a){i===void 0&&(i=!0),n===void 0&&(n=!0),o===void 0&&(o=!0),a===void 0&&(a=-ft);for(var l=[],c=this._first;c;)c._start>=a&&(c instanceof ke?n&&l.push(c):(o&&l.push(c),i&&l.push.apply(l,c.getChildren(!0,n,o)))),c=c._next;return l},s.getById=function(i){for(var n=this.getChildren(1,1,1),o=n.length;o--;)if(n[o].vars.id===i)return n[o]},s.remove=function(i){return Oe(i)?this.removeLabel(i):be(i)?this.killTweensOf(i):(i.parent===this&&Hi(this,i),i===this._recent&&(this._recent=this._last),Ts(this))},s.totalTime=function(i,n){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=de(st.time-(this._ts>0?i/this._ts:(this.totalDuration()-i)/-this._ts))),t.prototype.totalTime.call(this,i,n),this._forcing=0,this):this._tTime},s.addLabel=function(i,n){return this.labels[i]=ut(this,n),this},s.removeLabel=function(i){return delete this.labels[i],this},s.addPause=function(i,n,o){var a=ke.delayedCall(0,n||Fr,o);return a.data="isPause",this._hasPause=1,kt(this,a,ut(this,i))},s.removePause=function(i){var n=this._first;for(i=ut(this,i);n;)n._start===i&&n.data==="isPause"&&Zt(n),n=n._next},s.killTweensOf=function(i,n,o){for(var a=this.getTweensOf(i,o),l=a.length;l--;)Ht!==a[l]&&a[l].kill(i,n);return this},s.getTweensOf=function(i,n){for(var o=[],a=pt(i),l=this._first,c=Lt(n),u;l;)l instanceof ke?og(l._targets,a)&&(c?(!Ht||l._initted&&l._ts)&&l.globalTime(0)<=n&&l.globalTime(l.totalDuration())>n:!n||l.isActive())&&o.push(l):(u=l.getTweensOf(a,n)).length&&o.push.apply(o,u),l=l._next;return o},s.tweenTo=function(i,n){n=n||{};var o=this,a=ut(o,i),l=n,c=l.startAt,u=l.onStart,d=l.onStartParams,f=l.immediateRender,p,g=ke.to(o,lt({ease:n.ease||"none",lazy:!1,immediateRender:!1,time:a,overwrite:"auto",duration:n.duration||Math.abs((a-(c&&"time"in c?c.time:o._time))/o.timeScale())||ne,onStart:function(){if(o.pause(),!p){var y=n.duration||Math.abs((a-(c&&"time"in c?c.time:o._time))/o.timeScale());g._dur!==y&&tr(g,y,0,1).render(g._time,!0,!0),p=1}u&&u.apply(g,d||[])}},n));return f?g.render(0):g},s.tweenFromTo=function(i,n,o){return this.tweenTo(n,lt({startAt:{time:ut(this,i)}},o))},s.recent=function(){return this._recent},s.nextLabel=function(i){return i===void 0&&(i=this._time),il(this,ut(this,i))},s.previousLabel=function(i){return i===void 0&&(i=this._time),il(this,ut(this,i),1)},s.currentLabel=function(i){return arguments.length?this.seek(i,!0):this.previousLabel(this._time+ne)},s.shiftChildren=function(i,n,o){o===void 0&&(o=0);var a=this._first,l=this.labels,c;for(i=de(i);a;)a._start>=o&&(a._start+=i,a._end+=i),a=a._next;if(n)for(c in l)l[c]>=o&&(l[c]+=i);return Ts(this)},s.invalidate=function(i){var n=this._first;for(this._lock=0;n;)n.invalidate(i),n=n._next;return t.prototype.invalidate.call(this,i)},s.clear=function(i){i===void 0&&(i=!0);for(var n=this._first,o;n;)o=n._next,this.remove(n),n=o;return this._dp&&(this._time=this._tTime=this._pTime=0),i&&(this.labels={}),Ts(this)},s.totalDuration=function(i){var n=0,o=this,a=o._last,l=ft,c,u,d;if(arguments.length)return o.timeScale((o._repeat<0?o.duration():o.totalDuration())/(o.reversed()?-i:i));if(o._dirty){for(d=o.parent;a;)c=a._prev,a._dirty&&a.totalDuration(),u=a._start,u>l&&o._sort&&a._ts&&!o._lock?(o._lock=1,kt(o,a,u-a._delay,1)._lock=0):l=u,u<0&&a._ts&&(n-=u,(!d&&!o._dp||d&&d.smoothChildTiming)&&(o._start+=de(u/o._ts),o._time-=u,o._tTime-=u),o.shiftChildren(-u,!1,-1/0),l=0),a._end>n&&a._ts&&(n=a._end),a=c;tr(o,o===fe&&o._time>n?o._time:n,1,1),o._dirty=0}return o._tDur},e.updateRoot=function(i){if(fe._ts&&(mu(fe,Ei(i,fe)),fu=st.frame),st.frame>=el){el+=ot.autoSleep||120;var n=fe._first;if((!n||!n._ts)&&ot.autoSleep&&st._listeners.length<2){for(;n&&!n._ts;)n=n._next;n||st.sleep()}}},e}(Br);lt(We.prototype,{_lock:0,_hasPause:0,_forcing:0});var Pg=function(e,s,r,i,n,o,a){var l=new Je(this._pt,e,s,0,1,zu,null,n),c=0,u=0,d,f,p,g,m,y,w,v;for(l.b=r,l.e=i,r+="",i+="",(w=~i.indexOf("random("))&&(i=$r(i)),o&&(v=[r,i],o(v,e,s),r=v[0],i=v[1]),f=r.match(cn)||[];d=cn.exec(i);)g=d[0],m=i.substring(c,d.index),p?p=(p+1)%5:m.substr(-5)==="rgba("&&(p=1),g!==f[u++]&&(y=parseFloat(f[u-1])||0,l._pt={_next:l._pt,p:m||u===1?m:",",s:y,c:g.charAt(1)==="="?Gs(y,g)-y:parseFloat(g)-y,m:p&&p<4?Math.round:0},c=cn.lastIndex);return l.c=c<i.length?i.substring(c,i.length):"",l.fp=a,(cu.test(i)||w)&&(l.e=0),this._pt=l,l},Bo=function(e,s,r,i,n,o,a,l,c,u){be(i)&&(i=i(n||0,e,o));var d=e[s],f=r!=="get"?r:be(d)?c?e[s.indexOf("set")||!be(e["get"+s.substr(3)])?s:"get"+s.substr(3)](c):e[s]():d,p=be(d)?c?Dg:Bu:zo,g;if(Oe(i)&&(~i.indexOf("random(")&&(i=$r(i)),i.charAt(1)==="="&&(g=Gs(f,i)+(Fe(f)||0),(g||g===0)&&(i=g))),!u||f!==i||eo)return!isNaN(f*i)&&i!==""?(g=new Je(this._pt,e,s,+f||0,i-(f||0),typeof d=="boolean"?Mg:Uu,0,p),c&&(g.fp=c),a&&g.modifier(a,this,e),this._pt=g):(!d&&!(s in e)&&Mo(s,i),Pg.call(this,e,s,f,i,p,l||ot.stringFilter,c))},Ag=function(e,s,r,i,n){if(be(e)&&(e=Cr(e,n,s,r,i)),!jt(e)||e.style&&e.nodeType||Ve(e)||au(e))return Oe(e)?Cr(e,n,s,r,i):e;var o={},a;for(a in e)o[a]=Cr(e[a],n,s,r,i);return o},Fu=function(e,s,r,i,n,o){var a,l,c,u;if(et[e]&&(a=new et[e]).init(n,a.rawVars?s[e]:Ag(s[e],i,n,o,r),r,i,o)!==!1&&(r._pt=l=new Je(r._pt,n,e,0,1,a.render,a,0,a.priority),r!==Us))for(c=r._ptLookup[r._targets.indexOf(n)],u=a._props.length;u--;)c[a._props[u]]=l;return a},Ht,eo,Uo=function t(e,s,r){var i=e.vars,n=i.ease,o=i.startAt,a=i.immediateRender,l=i.lazy,c=i.onUpdate,u=i.runBackwards,d=i.yoyoEase,f=i.keyframes,p=i.autoRevert,g=e._dur,m=e._startAt,y=e._targets,w=e.parent,v=w&&w.data==="nested"?w.vars.targets:y,_=e._overwrite==="auto"&&!Oo,b=e.timeline,x,T,k,j,P,R,A,N,M,H,J,Q,B;if(b&&(!f||!n)&&(n="none"),e._ease=ks(n,Zs.ease),e._yEase=d?Du(ks(d===!0?n:d,Zs.ease)):0,d&&e._yoyo&&!e._repeat&&(d=e._yEase,e._yEase=e._ease,e._ease=d),e._from=!b&&!!i.runBackwards,!b||f&&!i.stagger){if(N=y[0]?Ss(y[0]).harness:0,Q=N&&i[N.prop],x=Ci(i,Lo),m&&(m._zTime<0&&m.progress(1),s<0&&u&&a&&!p?m.render(-1,!0):m.revert(u&&g?pi:ig),m._lazy=0),o){if(Zt(e._startAt=ke.set(y,lt({data:"isStart",overwrite:!1,parent:w,immediateRender:!0,lazy:!m&&Ge(l),startAt:null,delay:0,onUpdate:c&&function(){return rt(e,"onUpdate")},stagger:0},o))),e._startAt._dp=0,e._startAt._sat=e,s<0&&(Le||!a&&!p)&&e._startAt.revert(pi),a&&g&&s<=0&&r<=0){s&&(e._zTime=s);return}}else if(u&&g&&!m){if(s&&(a=!1),k=lt({overwrite:!1,data:"isFromStart",lazy:a&&!m&&Ge(l),immediateRender:a,stagger:0,parent:w},x),Q&&(k[N.prop]=Q),Zt(e._startAt=ke.set(y,k)),e._startAt._dp=0,e._startAt._sat=e,s<0&&(Le?e._startAt.revert(pi):e._startAt.render(-1,!0)),e._zTime=s,!a)t(e._startAt,ne,ne);else if(!s)return}for(e._pt=e._ptCache=0,l=g&&Ge(l)||l&&!g,T=0;T<y.length;T++){if(P=y[T],A=P._gsap||$o(y)[T]._gsap,e._ptLookup[T]=H={},Gn[A.id]&&Jt.length&&ki(),J=v===y?T:v.indexOf(P),N&&(M=new N).init(P,Q||x,e,J,v)!==!1&&(e._pt=j=new Je(e._pt,P,M.name,0,1,M.render,M,0,M.priority),M._props.forEach(function(C){H[C]=j}),M.priority&&(R=1)),!N||Q)for(k in x)et[k]&&(M=Fu(k,x,e,J,P,v))?M.priority&&(R=1):H[k]=j=Bo.call(e,P,k,"get",x[k],J,v,0,i.stringFilter);e._op&&e._op[T]&&e.kill(P,e._op[T]),_&&e._pt&&(Ht=e,fe.killTweensOf(P,H,e.globalTime(s)),B=!e.parent,Ht=0),e._pt&&l&&(Gn[A.id]=1)}R&&Wu(e),e._onInit&&e._onInit(e)}e._onUpdate=c,e._initted=(!e._op||e._pt)&&!B,f&&s<=0&&b.render(ft,!0,!0)},Rg=function(e,s,r,i,n,o,a,l){var c=(e._pt&&e._ptCache||(e._ptCache={}))[s],u,d,f,p;if(!c)for(c=e._ptCache[s]=[],f=e._ptLookup,p=e._targets.length;p--;){if(u=f[p][s],u&&u.d&&u.d._pt)for(u=u.d._pt;u&&u.p!==s&&u.fp!==s;)u=u._next;if(!u)return eo=1,e.vars[s]="+=0",Uo(e,a),eo=0,l?Lr(s+" not eligible for reset"):1;c.push(u)}for(p=c.length;p--;)d=c[p],u=d._pt||d,u.s=(i||i===0)&&!n?i:u.s+(i||0)+o*u.c,u.c=r-u.s,d.e&&(d.e=xe(r)+Fe(d.e)),d.b&&(d.b=u.s+Fe(d.b))},Og=function(e,s){var r=e[0]?Ss(e[0]).harness:0,i=r&&r.aliases,n,o,a,l;if(!i)return s;n=Qs({},s);for(o in i)if(o in n)for(l=i[o].split(","),a=l.length;a--;)n[l[a]]=n[o];return n},Ng=function(e,s,r,i){var n=s.ease||i||"power1.inOut",o,a;if(Ve(s))a=r[e]||(r[e]=[]),s.forEach(function(l,c){return a.push({t:c/(s.length-1)*100,v:l,e:n})});else for(o in s)a=r[o]||(r[o]=[]),o==="ease"||a.push({t:parseFloat(e),v:s[o],e:n})},Cr=function(e,s,r,i,n){return be(e)?e.call(s,r,i,n):Oe(e)&&~e.indexOf("random(")?$r(e):e},$u=Fo+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",Vu={};Ye($u+",id,stagger,delay,duration,paused,scrollTrigger",function(t){return Vu[t]=1});var ke=function(t){nu(e,t);function e(r,i,n,o){var a;typeof i=="number"&&(n.duration=i,i=n,n=null),a=t.call(this,o?i:Tr(i))||this;var l=a.vars,c=l.duration,u=l.delay,d=l.immediateRender,f=l.stagger,p=l.overwrite,g=l.keyframes,m=l.defaults,y=l.scrollTrigger,w=l.yoyoEase,v=i.parent||fe,_=(Ve(r)||au(r)?Lt(r[0]):"length"in i)?[r]:pt(r),b,x,T,k,j,P,R,A;if(a._targets=_.length?$o(_):Lr("GSAP target "+r+" not found. https://gsap.com",!ot.nullTargetWarn)||[],a._ptLookup=[],a._overwrite=p,g||f||ui(c)||ui(u)){if(i=a.vars,b=a.timeline=new We({data:"nested",defaults:m||{},targets:v&&v.data==="nested"?v.vars.targets:_}),b.kill(),b.parent=b._dp=Dt(a),b._start=0,f||ui(c)||ui(u)){if(k=_.length,R=f&&Tu(f),jt(f))for(j in f)~$u.indexOf(j)&&(A||(A={}),A[j]=f[j]);for(x=0;x<k;x++)T=Ci(i,Vu),T.stagger=0,w&&(T.yoyoEase=w),A&&Qs(T,A),P=_[x],T.duration=+Cr(c,Dt(a),x,P,_),T.delay=(+Cr(u,Dt(a),x,P,_)||0)-a._delay,!f&&k===1&&T.delay&&(a._delay=u=T.delay,a._start+=u,T.delay=0),b.to(P,T,R?R(x,P,_):0),b._ease=Z.none;b.duration()?c=u=0:a.timeline=0}else if(g){Tr(lt(b.vars.defaults,{ease:"none"})),b._ease=ks(g.ease||i.ease||"none");var N=0,M,H,J;if(Ve(g))g.forEach(function(Q){return b.to(_,Q,">")}),b.duration();else{T={};for(j in g)j==="ease"||j==="easeEach"||Ng(j,g[j],T,g.easeEach);for(j in T)for(M=T[j].sort(function(Q,B){return Q.t-B.t}),N=0,x=0;x<M.length;x++)H=M[x],J={ease:H.e,duration:(H.t-(x?M[x-1].t:0))/100*c},J[j]=H.v,b.to(_,J,N),N+=J.duration;b.duration()<c&&b.to({},{duration:c-b.duration()})}}c||a.duration(c=b.duration())}else a.timeline=0;return p===!0&&!Oo&&(Ht=Dt(a),fe.killTweensOf(_),Ht=0),kt(v,Dt(a),n),i.reversed&&a.reverse(),i.paused&&a.paused(!0),(d||!c&&!g&&a._start===de(v._time)&&Ge(d)&&ug(Dt(a))&&v.data!=="nested")&&(a._tTime=-ne,a.render(Math.max(0,-u)||0)),y&&_u(Dt(a),y),a}var s=e.prototype;return s.render=function(i,n,o){var a=this._time,l=this._tDur,c=this._dur,u=i<0,d=i>l-ne&&!u?l:i<ne?0:i,f,p,g,m,y,w,v,_,b;if(!c)dg(this,i,n,o);else if(d!==this._tTime||!i||o||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==u||this._lazy){if(f=d,_=this.timeline,this._repeat){if(m=c+this._rDelay,this._repeat<-1&&u)return this.totalTime(m*100+i,n,o);if(f=de(d%m),d===l?(g=this._repeat,f=c):(y=de(d/m),g=~~y,g&&g===y?(f=c,g--):f>c&&(f=c)),w=this._yoyo&&g&1,w&&(b=this._yEase,f=c-f),y=er(this._tTime,m),f===a&&!o&&this._initted&&g===y)return this._tTime=d,this;g!==y&&(_&&this._yEase&&Iu(_,w),this.vars.repeatRefresh&&!w&&!this._lock&&f!==m&&this._initted&&(this._lock=o=1,this.render(de(m*g),!0).invalidate()._lock=0))}if(!this._initted){if(bu(this,u?i:f,o,n,d))return this._tTime=0,this;if(a!==this._time&&!(o&&this.vars.repeatRefresh&&g!==y))return this;if(c!==this._dur)return this.render(i,n,o)}if(this._tTime=d,this._time=f,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=v=(b||this._ease)(f/c),this._from&&(this.ratio=v=1-v),!a&&d&&!n&&!y&&(rt(this,"onStart"),this._tTime!==d))return this;for(p=this._pt;p;)p.r(v,p.d),p=p._next;_&&_.render(i<0?i:_._dur*_._ease(f/this._dur),n,o)||this._startAt&&(this._zTime=i),this._onUpdate&&!n&&(u&&Yn(this,i,n,o),rt(this,"onUpdate")),this._repeat&&g!==y&&this.vars.onRepeat&&!n&&this.parent&&rt(this,"onRepeat"),(d===this._tDur||!d)&&this._tTime===d&&(u&&!this._onUpdate&&Yn(this,i,!0,!0),(i||!c)&&(d===this._tDur&&this._ts>0||!d&&this._ts<0)&&Zt(this,1),!n&&!(u&&!a)&&(d||a||w)&&(rt(this,d===l?"onComplete":"onReverseComplete",!0),this._prom&&!(d<l&&this.timeScale()>0)&&this._prom()))}return this},s.targets=function(){return this._targets},s.invalidate=function(i){return(!i||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(i),t.prototype.invalidate.call(this,i)},s.resetTo=function(i,n,o,a,l){Vr||st.wake(),this._ts||this.play();var c=Math.min(this._dur,(this._dp._time-this._start)*this._ts),u;return this._initted||Uo(this,c),u=this._ease(c/this._dur),Rg(this,i,n,o,a,u,c,l)?this.resetTo(i,n,o,a,1):(Gi(this,0),this.parent||vu(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},s.kill=function(i,n){if(n===void 0&&(n="all"),!i&&(!n||n==="all"))return this._lazy=this._pt=0,this.parent?yr(this):this.scrollTrigger&&this.scrollTrigger.kill(!!Le),this;if(this.timeline){var o=this.timeline.totalDuration();return this.timeline.killTweensOf(i,n,Ht&&Ht.vars.overwrite!==!0)._first||yr(this),this.parent&&o!==this.timeline.totalDuration()&&tr(this,this._dur*this.timeline._tDur/o,0,1),this}var a=this._targets,l=i?pt(i):a,c=this._ptLookup,u=this._pt,d,f,p,g,m,y,w;if((!n||n==="all")&&lg(a,l))return n==="all"&&(this._pt=0),yr(this);for(d=this._op=this._op||[],n!=="all"&&(Oe(n)&&(m={},Ye(n,function(v){return m[v]=1}),n=m),n=Og(a,n)),w=a.length;w--;)if(~l.indexOf(a[w])){f=c[w],n==="all"?(d[w]=n,g=f,p={}):(p=d[w]=d[w]||{},g=n);for(m in g)y=f&&f[m],y&&((!("kill"in y.d)||y.d.kill(m)===!0)&&Hi(this,y,"_pt"),delete f[m]),p!=="all"&&(p[m]=1)}return this._initted&&!this._pt&&u&&yr(this),this},e.to=function(i,n){return new e(i,n,arguments[2])},e.from=function(i,n){return kr(1,arguments)},e.delayedCall=function(i,n,o,a){return new e(n,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:i,onComplete:n,onReverseComplete:n,onCompleteParams:o,onReverseCompleteParams:o,callbackScope:a})},e.fromTo=function(i,n,o){return kr(2,arguments)},e.set=function(i,n){return n.duration=0,n.repeatDelay||(n.repeat=0),new e(i,n)},e.killTweensOf=function(i,n,o){return fe.killTweensOf(i,n,o)},e}(Br);lt(ke.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0});Ye("staggerTo,staggerFrom,staggerFromTo",function(t){ke[t]=function(){var e=new We,s=Xn.call(arguments,0);return s.splice(t==="staggerFromTo"?5:4,0,0),e[t].apply(e,s)}});var zo=function(e,s,r){return e[s]=r},Bu=function(e,s,r){return e[s](r)},Dg=function(e,s,r,i){return e[s](i.fp,r)},Ig=function(e,s,r){return e.setAttribute(s,r)},Wo=function(e,s){return be(e[s])?Bu:No(e[s])&&e.setAttribute?Ig:zo},Uu=function(e,s){return s.set(s.t,s.p,Math.round((s.s+s.c*e)*1e6)/1e6,s)},Mg=function(e,s){return s.set(s.t,s.p,!!(s.s+s.c*e),s)},zu=function(e,s){var r=s._pt,i="";if(!e&&s.b)i=s.b;else if(e===1&&s.e)i=s.e;else{for(;r;)i=r.p+(r.m?r.m(r.s+r.c*e):Math.round((r.s+r.c*e)*1e4)/1e4)+i,r=r._next;i+=s.c}s.set(s.t,s.p,i,s)},qo=function(e,s){for(var r=s._pt;r;)r.r(e,r.d),r=r._next},Lg=function(e,s,r,i){for(var n=this._pt,o;n;)o=n._next,n.p===i&&n.modifier(e,s,r),n=o},Fg=function(e){for(var s=this._pt,r,i;s;)i=s._next,s.p===e&&!s.op||s.op===e?Hi(this,s,"_pt"):s.dep||(r=1),s=i;return!r},$g=function(e,s,r,i){i.mSet(e,s,i.m.call(i.tween,r,i.mt),i)},Wu=function(e){for(var s=e._pt,r,i,n,o;s;){for(r=s._next,i=n;i&&i.pr>s.pr;)i=i._next;(s._prev=i?i._prev:o)?s._prev._next=s:n=s,(s._next=i)?i._prev=s:o=s,s=r}e._pt=n},Je=function(){function t(s,r,i,n,o,a,l,c,u){this.t=r,this.s=n,this.c=o,this.p=i,this.r=a||Uu,this.d=l||this,this.set=c||zo,this.pr=u||0,this._next=s,s&&(s._prev=this)}var e=t.prototype;return e.modifier=function(r,i,n){this.mSet=this.mSet||this.set,this.set=$g,this.m=r,this.mt=n,this.tween=i},t}();Ye(Fo+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(t){return Lo[t]=1});at.TweenMax=at.TweenLite=ke;at.TimelineLite=at.TimelineMax=We;fe=new We({sortChildren:!1,defaults:Zs,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0});ot.stringFilter=Nu;var Cs=[],gi={},Vg=[],ol=0,Bg=0,pn=function(e){return(gi[e]||Vg).map(function(s){return s()})},to=function(){var e=Date.now(),s=[];e-ol>2&&(pn("matchMediaInit"),Cs.forEach(function(r){var i=r.queries,n=r.conditions,o,a,l,c;for(a in i)o=Tt.matchMedia(i[a]).matches,o&&(l=1),o!==n[a]&&(n[a]=o,c=1);c&&(r.revert(),l&&s.push(r))}),pn("matchMediaRevert"),s.forEach(function(r){return r.onMatch(r,function(i){return r.add(null,i)})}),ol=e,pn("matchMedia"))},qu=function(){function t(s,r){this.selector=r&&Zn(r),this.data=[],this._r=[],this.isReverted=!1,this.id=Bg++,s&&this.add(s)}var e=t.prototype;return e.add=function(r,i,n){be(r)&&(n=i,i=r,r=be);var o=this,a=function(){var c=ue,u=o.selector,d;return c&&c!==o&&c.data.push(o),n&&(o.selector=Zn(n)),ue=o,d=i.apply(o,arguments),be(d)&&o._r.push(d),ue=c,o.selector=u,o.isReverted=!1,d};return o.last=a,r===be?a(o,function(l){return o.add(null,l)}):r?o[r]=a:a},e.ignore=function(r){var i=ue;ue=null,r(this),ue=i},e.getTweens=function(){var r=[];return this.data.forEach(function(i){return i instanceof t?r.push.apply(r,i.getTweens()):i instanceof ke&&!(i.parent&&i.parent.data==="nested")&&r.push(i)}),r},e.clear=function(){this._r.length=this.data.length=0},e.kill=function(r,i){var n=this;if(r?function(){for(var a=n.getTweens(),l=n.data.length,c;l--;)c=n.data[l],c.data==="isFlip"&&(c.revert(),c.getChildren(!0,!0,!1).forEach(function(u){return a.splice(a.indexOf(u),1)}));for(a.map(function(u){return{g:u._dur||u._delay||u._sat&&!u._sat.vars.immediateRender?u.globalTime(0):-1/0,t:u}}).sort(function(u,d){return d.g-u.g||-1/0}).forEach(function(u){return u.t.revert(r)}),l=n.data.length;l--;)c=n.data[l],c instanceof We?c.data!=="nested"&&(c.scrollTrigger&&c.scrollTrigger.revert(),c.kill()):!(c instanceof ke)&&c.revert&&c.revert(r);n._r.forEach(function(u){return u(r,n)}),n.isReverted=!0}():this.data.forEach(function(a){return a.kill&&a.kill()}),this.clear(),i)for(var o=Cs.length;o--;)Cs[o].id===this.id&&Cs.splice(o,1)},e.revert=function(r){this.kill(r||{})},t}(),Ug=function(){function t(s){this.contexts=[],this.scope=s,ue&&ue.data.push(this)}var e=t.prototype;return e.add=function(r,i,n){jt(r)||(r={matches:r});var o=new qu(0,n||this.scope),a=o.conditions={},l,c,u;ue&&!o.selector&&(o.selector=ue.selector),this.contexts.push(o),i=o.add("onMatch",i),o.queries=r;for(c in r)c==="all"?u=1:(l=Tt.matchMedia(r[c]),l&&(Cs.indexOf(o)<0&&Cs.push(o),(a[c]=l.matches)&&(u=1),l.addListener?l.addListener(to):l.addEventListener("change",to)));return u&&i(o,function(d){return o.add(null,d)}),this},e.revert=function(r){this.kill(r||{})},e.kill=function(r){this.contexts.forEach(function(i){return i.kill(r,!0)})},t}(),ji={registerPlugin:function(){for(var e=arguments.length,s=new Array(e),r=0;r<e;r++)s[r]=arguments[r];s.forEach(function(i){return Au(i)})},timeline:function(e){return new We(e)},getTweensOf:function(e,s){return fe.getTweensOf(e,s)},getProperty:function(e,s,r,i){Oe(e)&&(e=pt(e)[0]);var n=Ss(e||{}).get,o=r?yu:gu;return r==="native"&&(r=""),e&&(s?o((et[s]&&et[s].get||n)(e,s,r,i)):function(a,l,c){return o((et[a]&&et[a].get||n)(e,a,l,c))})},quickSetter:function(e,s,r){if(e=pt(e),e.length>1){var i=e.map(function(u){return Ze.quickSetter(u,s,r)}),n=i.length;return function(u){for(var d=n;d--;)i[d](u)}}e=e[0]||{};var o=et[s],a=Ss(e),l=a.harness&&(a.harness.aliases||{})[s]||s,c=o?function(u){var d=new o;Us._pt=0,d.init(e,r?u+r:u,Us,0,[e]),d.render(1,d),Us._pt&&qo(1,Us)}:a.set(e,l);return o?c:function(u){return c(e,l,r?u+r:u,a,1)}},quickTo:function(e,s,r){var i,n=Ze.to(e,lt((i={},i[s]="+=0.1",i.paused=!0,i.stagger=0,i),r||{})),o=function(l,c,u){return n.resetTo(s,l,c,u)};return o.tween=n,o},isTweening:function(e){return fe.getTweensOf(e,!0).length>0},defaults:function(e){return e&&e.ease&&(e.ease=ks(e.ease,Zs.ease)),tl(Zs,e||{})},config:function(e){return tl(ot,e||{})},registerEffect:function(e){var s=e.name,r=e.effect,i=e.plugins,n=e.defaults,o=e.extendTimeline;(i||"").split(",").forEach(function(a){return a&&!et[a]&&!at[a]&&Lr(s+" effect requires "+a+" plugin.")}),un[s]=function(a,l,c){return r(pt(a),lt(l||{},n),c)},o&&(We.prototype[s]=function(a,l,c){return this.add(un[s](a,jt(l)?l:(c=l)&&{},this),c)})},registerEase:function(e,s){Z[e]=ks(s)},parseEase:function(e,s){return arguments.length?ks(e,s):Z},getById:function(e){return fe.getById(e)},exportRoot:function(e,s){e===void 0&&(e={});var r=new We(e),i,n;for(r.smoothChildTiming=Ge(e.smoothChildTiming),fe.remove(r),r._dp=0,r._time=r._tTime=fe._time,i=fe._first;i;)n=i._next,(s||!(!i._dur&&i instanceof ke&&i.vars.onComplete===i._targets[0]))&&kt(r,i,i._start-i._delay),i=n;return kt(fe,r,0),r},context:function(e,s){return e?new qu(e,s):ue},matchMedia:function(e){return new Ug(e)},matchMediaRefresh:function(){return Cs.forEach(function(e){var s=e.conditions,r,i;for(i in s)s[i]&&(s[i]=!1,r=1);r&&e.revert()})||to()},addEventListener:function(e,s){var r=gi[e]||(gi[e]=[]);~r.indexOf(s)||r.push(s)},removeEventListener:function(e,s){var r=gi[e],i=r&&r.indexOf(s);i>=0&&r.splice(i,1)},utils:{wrap:_g,wrapYoyo:bg,distribute:Tu,random:Cu,snap:ku,normalize:wg,getUnit:Fe,clamp:mg,splitColor:Ru,toArray:pt,selector:Zn,mapRange:ju,pipe:yg,unitize:vg,interpolate:xg,shuffle:Su},install:hu,effects:un,ticker:st,updateRoot:We.updateRoot,plugins:et,globalTimeline:fe,core:{PropTween:Je,globals:du,Tween:ke,Timeline:We,Animation:Br,getCache:Ss,_removeLinkedListItem:Hi,reverting:function(){return Le},context:function(e){return e&&ue&&(ue.data.push(e),e._ctx=ue),ue},suppressOverwrites:function(e){return Oo=e}}};Ye("to,from,fromTo,delayedCall,set,killTweensOf",function(t){return ji[t]=ke[t]});st.add(We.updateRoot);Us=ji.to({},{duration:0});var zg=function(e,s){for(var r=e._pt;r&&r.p!==s&&r.op!==s&&r.fp!==s;)r=r._next;return r},Wg=function(e,s){var r=e._targets,i,n,o;for(i in s)for(n=r.length;n--;)o=e._ptLookup[n][i],o&&(o=o.d)&&(o._pt&&(o=zg(o,i)),o&&o.modifier&&o.modifier(s[i],e,r[n],i))},mn=function(e,s){return{name:e,headless:1,rawVars:1,init:function(i,n,o){o._onInit=function(a){var l,c;if(Oe(n)&&(l={},Ye(n,function(u){return l[u]=1}),n=l),s){l={};for(c in n)l[c]=s(n[c]);n=l}Wg(a,n)}}}},Ze=ji.registerPlugin({name:"attr",init:function(e,s,r,i,n){var o,a,l;this.tween=r;for(o in s)l=e.getAttribute(o)||"",a=this.add(e,"setAttribute",(l||0)+"",s[o],i,n,0,0,o),a.op=o,a.b=l,this._props.push(o)},render:function(e,s){for(var r=s._pt;r;)Le?r.set(r.t,r.p,r.b,r):r.r(e,r.d),r=r._next}},{name:"endArray",headless:1,init:function(e,s){for(var r=s.length;r--;)this.add(e,r,e[r]||0,s[r],0,0,0,0,0,1)}},mn("roundProps",Qn),mn("modifiers"),mn("snap",ku))||ji;ke.version=We.version=Ze.version="3.14.2";uu=1;Do()&&sr();Z.Power0;Z.Power1;Z.Power2;Z.Power3;Z.Power4;Z.Linear;Z.Quad;Z.Cubic;Z.Quart;Z.Quint;Z.Strong;Z.Elastic;Z.Back;Z.SteppedEase;Z.Bounce;Z.Sine;Z.Expo;Z.Circ;/*!
 * CSSPlugin 3.14.2
 * https://gsap.com
 *
 * Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var al,Kt,Ys,Ho,_s,ll,Ko,qg=function(){return typeof window<"u"},Ft={},ms=180/Math.PI,Js=Math.PI/180,Is=Math.atan2,cl=1e8,Go=/([A-Z])/g,Hg=/(left|right|width|margin|padding|x)/i,Kg=/[\s,\(]\S/,Ct={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},so=function(e,s){return s.set(s.t,s.p,Math.round((s.s+s.c*e)*1e4)/1e4+s.u,s)},Gg=function(e,s){return s.set(s.t,s.p,e===1?s.e:Math.round((s.s+s.c*e)*1e4)/1e4+s.u,s)},Yg=function(e,s){return s.set(s.t,s.p,e?Math.round((s.s+s.c*e)*1e4)/1e4+s.u:s.b,s)},Jg=function(e,s){return s.set(s.t,s.p,e===1?s.e:e?Math.round((s.s+s.c*e)*1e4)/1e4+s.u:s.b,s)},Xg=function(e,s){var r=s.s+s.c*e;s.set(s.t,s.p,~~(r+(r<0?-.5:.5))+s.u,s)},Hu=function(e,s){return s.set(s.t,s.p,e?s.e:s.b,s)},Ku=function(e,s){return s.set(s.t,s.p,e!==1?s.b:s.e,s)},Zg=function(e,s,r){return e.style[s]=r},Qg=function(e,s,r){return e.style.setProperty(s,r)},ey=function(e,s,r){return e._gsap[s]=r},ty=function(e,s,r){return e._gsap.scaleX=e._gsap.scaleY=r},sy=function(e,s,r,i,n){var o=e._gsap;o.scaleX=o.scaleY=r,o.renderTransform(n,o)},ry=function(e,s,r,i,n){var o=e._gsap;o[s]=r,o.renderTransform(n,o)},pe="transform",Xe=pe+"Origin",iy=function t(e,s){var r=this,i=this.target,n=i.style,o=i._gsap;if(e in Ft&&n){if(this.tfm=this.tfm||{},e!=="transform")e=Ct[e]||e,~e.indexOf(",")?e.split(",").forEach(function(a){return r.tfm[a]=It(i,a)}):this.tfm[e]=o.x?o[e]:It(i,e),e===Xe&&(this.tfm.zOrigin=o.zOrigin);else return Ct.transform.split(",").forEach(function(a){return t.call(r,a,s)});if(this.props.indexOf(pe)>=0)return;o.svg&&(this.svgo=i.getAttribute("data-svg-origin"),this.props.push(Xe,s,"")),e=pe}(n||s)&&this.props.push(e,s,n[e])},Gu=function(e){e.translate&&(e.removeProperty("translate"),e.removeProperty("scale"),e.removeProperty("rotate"))},ny=function(){var e=this.props,s=this.target,r=s.style,i=s._gsap,n,o;for(n=0;n<e.length;n+=3)e[n+1]?e[n+1]===2?s[e[n]](e[n+2]):s[e[n]]=e[n+2]:e[n+2]?r[e[n]]=e[n+2]:r.removeProperty(e[n].substr(0,2)==="--"?e[n]:e[n].replace(Go,"-$1").toLowerCase());if(this.tfm){for(o in this.tfm)i[o]=this.tfm[o];i.svg&&(i.renderTransform(),s.setAttribute("data-svg-origin",this.svgo||"")),n=Ko(),(!n||!n.isStart)&&!r[pe]&&(Gu(r),i.zOrigin&&r[Xe]&&(r[Xe]+=" "+i.zOrigin+"px",i.zOrigin=0,i.renderTransform()),i.uncache=1)}},Yu=function(e,s){var r={target:e,props:[],revert:ny,save:iy};return e._gsap||Ze.core.getCache(e),s&&e.style&&e.nodeType&&s.split(",").forEach(function(i){return r.save(i)}),r},Ju,ro=function(e,s){var r=Kt.createElementNS?Kt.createElementNS((s||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):Kt.createElement(e);return r&&r.style?r:Kt.createElement(e)},it=function t(e,s,r){var i=getComputedStyle(e);return i[s]||i.getPropertyValue(s.replace(Go,"-$1").toLowerCase())||i.getPropertyValue(s)||!r&&t(e,rr(s)||s,1)||""},ul="O,Moz,ms,Ms,Webkit".split(","),rr=function(e,s,r){var i=s||_s,n=i.style,o=5;if(e in n&&!r)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);o--&&!(ul[o]+e in n););return o<0?null:(o===3?"ms":o>=0?ul[o]:"")+e},io=function(){qg()&&window.document&&(al=window,Kt=al.document,Ys=Kt.documentElement,_s=ro("div")||{style:{}},ro("div"),pe=rr(pe),Xe=pe+"Origin",_s.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",Ju=!!rr("perspective"),Ko=Ze.core.reverting,Ho=1)},hl=function(e){var s=e.ownerSVGElement,r=ro("svg",s&&s.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),i=e.cloneNode(!0),n;i.style.display="block",r.appendChild(i),Ys.appendChild(r);try{n=i.getBBox()}catch{}return r.removeChild(i),Ys.removeChild(r),n},dl=function(e,s){for(var r=s.length;r--;)if(e.hasAttribute(s[r]))return e.getAttribute(s[r])},Xu=function(e){var s,r;try{s=e.getBBox()}catch{s=hl(e),r=1}return s&&(s.width||s.height)||r||(s=hl(e)),s&&!s.width&&!s.x&&!s.y?{x:+dl(e,["x","cx","x1"])||0,y:+dl(e,["y","cy","y1"])||0,width:0,height:0}:s},Zu=function(e){return!!(e.getCTM&&(!e.parentNode||e.ownerSVGElement)&&Xu(e))},Qt=function(e,s){if(s){var r=e.style,i;s in Ft&&s!==Xe&&(s=pe),r.removeProperty?(i=s.substr(0,2),(i==="ms"||s.substr(0,6)==="webkit")&&(s="-"+s),r.removeProperty(i==="--"?s:s.replace(Go,"-$1").toLowerCase())):r.removeAttribute(s)}},Gt=function(e,s,r,i,n,o){var a=new Je(e._pt,s,r,0,1,o?Ku:Hu);return e._pt=a,a.b=i,a.e=n,e._props.push(r),a},fl={deg:1,rad:1,turn:1},oy={grid:1,flex:1},es=function t(e,s,r,i){var n=parseFloat(r)||0,o=(r+"").trim().substr((n+"").length)||"px",a=_s.style,l=Hg.test(s),c=e.tagName.toLowerCase()==="svg",u=(c?"client":"offset")+(l?"Width":"Height"),d=100,f=i==="px",p=i==="%",g,m,y,w;if(i===o||!n||fl[i]||fl[o])return n;if(o!=="px"&&!f&&(n=t(e,s,r,"px")),w=e.getCTM&&Zu(e),(p||o==="%")&&(Ft[s]||~s.indexOf("adius")))return g=w?e.getBBox()[l?"width":"height"]:e[u],xe(p?n/g*d:n/100*g);if(a[l?"width":"height"]=d+(f?o:i),m=i!=="rem"&&~s.indexOf("adius")||i==="em"&&e.appendChild&&!c?e:e.parentNode,w&&(m=(e.ownerSVGElement||{}).parentNode),(!m||m===Kt||!m.appendChild)&&(m=Kt.body),y=m._gsap,y&&p&&y.width&&l&&y.time===st.time&&!y.uncache)return xe(n/y.width*d);if(p&&(s==="height"||s==="width")){var v=e.style[s];e.style[s]=d+i,g=e[u],v?e.style[s]=v:Qt(e,s)}else(p||o==="%")&&!oy[it(m,"display")]&&(a.position=it(e,"position")),m===e&&(a.position="static"),m.appendChild(_s),g=_s[u],m.removeChild(_s),a.position="absolute";return l&&p&&(y=Ss(m),y.time=st.time,y.width=m[u]),xe(f?g*n/d:g&&n?d/g*n:0)},It=function(e,s,r,i){var n;return Ho||io(),s in Ct&&s!=="transform"&&(s=Ct[s],~s.indexOf(",")&&(s=s.split(",")[0])),Ft[s]&&s!=="transform"?(n=zr(e,i),n=s!=="transformOrigin"?n[s]:n.svg?n.origin:Ai(it(e,Xe))+" "+n.zOrigin+"px"):(n=e.style[s],(!n||n==="auto"||i||~(n+"").indexOf("calc("))&&(n=Pi[s]&&Pi[s](e,s,r)||it(e,s)||pu(e,s)||(s==="opacity"?1:0))),r&&!~(n+"").trim().indexOf(" ")?es(e,s,n,r)+r:n},ay=function(e,s,r,i){if(!r||r==="none"){var n=rr(s,e,1),o=n&&it(e,n,1);o&&o!==r?(s=n,r=o):s==="borderColor"&&(r=it(e,"borderTopColor"))}var a=new Je(this._pt,e.style,s,0,1,zu),l=0,c=0,u,d,f,p,g,m,y,w,v,_,b,x;if(a.b=r,a.e=i,r+="",i+="",i.substring(0,6)==="var(--"&&(i=it(e,i.substring(4,i.indexOf(")")))),i==="auto"&&(m=e.style[s],e.style[s]=i,i=it(e,s)||i,m?e.style[s]=m:Qt(e,s)),u=[r,i],Nu(u),r=u[0],i=u[1],f=r.match(Bs)||[],x=i.match(Bs)||[],x.length){for(;d=Bs.exec(i);)y=d[0],v=i.substring(l,d.index),g?g=(g+1)%5:(v.substr(-5)==="rgba("||v.substr(-5)==="hsla(")&&(g=1),y!==(m=f[c++]||"")&&(p=parseFloat(m)||0,b=m.substr((p+"").length),y.charAt(1)==="="&&(y=Gs(p,y)+b),w=parseFloat(y),_=y.substr((w+"").length),l=Bs.lastIndex-_.length,_||(_=_||ot.units[s]||b,l===i.length&&(i+=_,a.e+=_)),b!==_&&(p=es(e,s,m,_)||0),a._pt={_next:a._pt,p:v||c===1?v:",",s:p,c:w-p,m:g&&g<4||s==="zIndex"?Math.round:0});a.c=l<i.length?i.substring(l,i.length):""}else a.r=s==="display"&&i==="none"?Ku:Hu;return cu.test(i)&&(a.e=0),this._pt=a,a},pl={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},ly=function(e){var s=e.split(" "),r=s[0],i=s[1]||"50%";return(r==="top"||r==="bottom"||i==="left"||i==="right")&&(e=r,r=i,i=e),s[0]=pl[r]||r,s[1]=pl[i]||i,s.join(" ")},cy=function(e,s){if(s.tween&&s.tween._time===s.tween._dur){var r=s.t,i=r.style,n=s.u,o=r._gsap,a,l,c;if(n==="all"||n===!0)i.cssText="",l=1;else for(n=n.split(","),c=n.length;--c>-1;)a=n[c],Ft[a]&&(l=1,a=a==="transformOrigin"?Xe:pe),Qt(r,a);l&&(Qt(r,pe),o&&(o.svg&&r.removeAttribute("transform"),i.scale=i.rotate=i.translate="none",zr(r,1),o.uncache=1,Gu(i)))}},Pi={clearProps:function(e,s,r,i,n){if(n.data!=="isFromStart"){var o=e._pt=new Je(e._pt,s,r,0,0,cy);return o.u=i,o.pr=-10,o.tween=n,e._props.push(r),1}}},Ur=[1,0,0,1,0,0],Qu={},eh=function(e){return e==="matrix(1, 0, 0, 1, 0, 0)"||e==="none"||!e},ml=function(e){var s=it(e,pe);return eh(s)?Ur:s.substr(7).match(lu).map(xe)},Yo=function(e,s){var r=e._gsap||Ss(e),i=e.style,n=ml(e),o,a,l,c;return r.svg&&e.getAttribute("transform")?(l=e.transform.baseVal.consolidate().matrix,n=[l.a,l.b,l.c,l.d,l.e,l.f],n.join(",")==="1,0,0,1,0,0"?Ur:n):(n===Ur&&!e.offsetParent&&e!==Ys&&!r.svg&&(l=i.display,i.display="block",o=e.parentNode,(!o||!e.offsetParent&&!e.getBoundingClientRect().width)&&(c=1,a=e.nextElementSibling,Ys.appendChild(e)),n=ml(e),l?i.display=l:Qt(e,"display"),c&&(a?o.insertBefore(e,a):o?o.appendChild(e):Ys.removeChild(e))),s&&n.length>6?[n[0],n[1],n[4],n[5],n[12],n[13]]:n)},no=function(e,s,r,i,n,o){var a=e._gsap,l=n||Yo(e,!0),c=a.xOrigin||0,u=a.yOrigin||0,d=a.xOffset||0,f=a.yOffset||0,p=l[0],g=l[1],m=l[2],y=l[3],w=l[4],v=l[5],_=s.split(" "),b=parseFloat(_[0])||0,x=parseFloat(_[1])||0,T,k,j,P;r?l!==Ur&&(k=p*y-g*m)&&(j=b*(y/k)+x*(-m/k)+(m*v-y*w)/k,P=b*(-g/k)+x*(p/k)-(p*v-g*w)/k,b=j,x=P):(T=Xu(e),b=T.x+(~_[0].indexOf("%")?b/100*T.width:b),x=T.y+(~(_[1]||_[0]).indexOf("%")?x/100*T.height:x)),i||i!==!1&&a.smooth?(w=b-c,v=x-u,a.xOffset=d+(w*p+v*m)-w,a.yOffset=f+(w*g+v*y)-v):a.xOffset=a.yOffset=0,a.xOrigin=b,a.yOrigin=x,a.smooth=!!i,a.origin=s,a.originIsAbsolute=!!r,e.style[Xe]="0px 0px",o&&(Gt(o,a,"xOrigin",c,b),Gt(o,a,"yOrigin",u,x),Gt(o,a,"xOffset",d,a.xOffset),Gt(o,a,"yOffset",f,a.yOffset)),e.setAttribute("data-svg-origin",b+" "+x)},zr=function(e,s){var r=e._gsap||new Lu(e);if("x"in r&&!s&&!r.uncache)return r;var i=e.style,n=r.scaleX<0,o="px",a="deg",l=getComputedStyle(e),c=it(e,Xe)||"0",u,d,f,p,g,m,y,w,v,_,b,x,T,k,j,P,R,A,N,M,H,J,Q,B,C,D,X,U,Y,ge,z,oe;return u=d=f=m=y=w=v=_=b=0,p=g=1,r.svg=!!(e.getCTM&&Zu(e)),l.translate&&((l.translate!=="none"||l.scale!=="none"||l.rotate!=="none")&&(i[pe]=(l.translate!=="none"?"translate3d("+(l.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+(l.rotate!=="none"?"rotate("+l.rotate+") ":"")+(l.scale!=="none"?"scale("+l.scale.split(" ").join(",")+") ":"")+(l[pe]!=="none"?l[pe]:"")),i.scale=i.rotate=i.translate="none"),k=Yo(e,r.svg),r.svg&&(r.uncache?(C=e.getBBox(),c=r.xOrigin-C.x+"px "+(r.yOrigin-C.y)+"px",B=""):B=!s&&e.getAttribute("data-svg-origin"),no(e,B||c,!!B||r.originIsAbsolute,r.smooth!==!1,k)),x=r.xOrigin||0,T=r.yOrigin||0,k!==Ur&&(A=k[0],N=k[1],M=k[2],H=k[3],u=J=k[4],d=Q=k[5],k.length===6?(p=Math.sqrt(A*A+N*N),g=Math.sqrt(H*H+M*M),m=A||N?Is(N,A)*ms:0,v=M||H?Is(M,H)*ms+m:0,v&&(g*=Math.abs(Math.cos(v*Js))),r.svg&&(u-=x-(x*A+T*M),d-=T-(x*N+T*H))):(oe=k[6],ge=k[7],X=k[8],U=k[9],Y=k[10],z=k[11],u=k[12],d=k[13],f=k[14],j=Is(oe,Y),y=j*ms,j&&(P=Math.cos(-j),R=Math.sin(-j),B=J*P+X*R,C=Q*P+U*R,D=oe*P+Y*R,X=J*-R+X*P,U=Q*-R+U*P,Y=oe*-R+Y*P,z=ge*-R+z*P,J=B,Q=C,oe=D),j=Is(-M,Y),w=j*ms,j&&(P=Math.cos(-j),R=Math.sin(-j),B=A*P-X*R,C=N*P-U*R,D=M*P-Y*R,z=H*R+z*P,A=B,N=C,M=D),j=Is(N,A),m=j*ms,j&&(P=Math.cos(j),R=Math.sin(j),B=A*P+N*R,C=J*P+Q*R,N=N*P-A*R,Q=Q*P-J*R,A=B,J=C),y&&Math.abs(y)+Math.abs(m)>359.9&&(y=m=0,w=180-w),p=xe(Math.sqrt(A*A+N*N+M*M)),g=xe(Math.sqrt(Q*Q+oe*oe)),j=Is(J,Q),v=Math.abs(j)>2e-4?j*ms:0,b=z?1/(z<0?-z:z):0),r.svg&&(B=e.getAttribute("transform"),r.forceCSS=e.setAttribute("transform","")||!eh(it(e,pe)),B&&e.setAttribute("transform",B))),Math.abs(v)>90&&Math.abs(v)<270&&(n?(p*=-1,v+=m<=0?180:-180,m+=m<=0?180:-180):(g*=-1,v+=v<=0?180:-180)),s=s||r.uncache,r.x=u-((r.xPercent=u&&(!s&&r.xPercent||(Math.round(e.offsetWidth/2)===Math.round(-u)?-50:0)))?e.offsetWidth*r.xPercent/100:0)+o,r.y=d-((r.yPercent=d&&(!s&&r.yPercent||(Math.round(e.offsetHeight/2)===Math.round(-d)?-50:0)))?e.offsetHeight*r.yPercent/100:0)+o,r.z=f+o,r.scaleX=xe(p),r.scaleY=xe(g),r.rotation=xe(m)+a,r.rotationX=xe(y)+a,r.rotationY=xe(w)+a,r.skewX=v+a,r.skewY=_+a,r.transformPerspective=b+o,(r.zOrigin=parseFloat(c.split(" ")[2])||!s&&r.zOrigin||0)&&(i[Xe]=Ai(c)),r.xOffset=r.yOffset=0,r.force3D=ot.force3D,r.renderTransform=r.svg?hy:Ju?th:uy,r.uncache=0,r},Ai=function(e){return(e=e.split(" "))[0]+" "+e[1]},gn=function(e,s,r){var i=Fe(s);return xe(parseFloat(s)+parseFloat(es(e,"x",r+"px",i)))+i},uy=function(e,s){s.z="0px",s.rotationY=s.rotationX="0deg",s.force3D=0,th(e,s)},ls="0deg",pr="0px",cs=") ",th=function(e,s){var r=s||this,i=r.xPercent,n=r.yPercent,o=r.x,a=r.y,l=r.z,c=r.rotation,u=r.rotationY,d=r.rotationX,f=r.skewX,p=r.skewY,g=r.scaleX,m=r.scaleY,y=r.transformPerspective,w=r.force3D,v=r.target,_=r.zOrigin,b="",x=w==="auto"&&e&&e!==1||w===!0;if(_&&(d!==ls||u!==ls)){var T=parseFloat(u)*Js,k=Math.sin(T),j=Math.cos(T),P;T=parseFloat(d)*Js,P=Math.cos(T),o=gn(v,o,k*P*-_),a=gn(v,a,-Math.sin(T)*-_),l=gn(v,l,j*P*-_+_)}y!==pr&&(b+="perspective("+y+cs),(i||n)&&(b+="translate("+i+"%, "+n+"%) "),(x||o!==pr||a!==pr||l!==pr)&&(b+=l!==pr||x?"translate3d("+o+", "+a+", "+l+") ":"translate("+o+", "+a+cs),c!==ls&&(b+="rotate("+c+cs),u!==ls&&(b+="rotateY("+u+cs),d!==ls&&(b+="rotateX("+d+cs),(f!==ls||p!==ls)&&(b+="skew("+f+", "+p+cs),(g!==1||m!==1)&&(b+="scale("+g+", "+m+cs),v.style[pe]=b||"translate(0, 0)"},hy=function(e,s){var r=s||this,i=r.xPercent,n=r.yPercent,o=r.x,a=r.y,l=r.rotation,c=r.skewX,u=r.skewY,d=r.scaleX,f=r.scaleY,p=r.target,g=r.xOrigin,m=r.yOrigin,y=r.xOffset,w=r.yOffset,v=r.forceCSS,_=parseFloat(o),b=parseFloat(a),x,T,k,j,P;l=parseFloat(l),c=parseFloat(c),u=parseFloat(u),u&&(u=parseFloat(u),c+=u,l+=u),l||c?(l*=Js,c*=Js,x=Math.cos(l)*d,T=Math.sin(l)*d,k=Math.sin(l-c)*-f,j=Math.cos(l-c)*f,c&&(u*=Js,P=Math.tan(c-u),P=Math.sqrt(1+P*P),k*=P,j*=P,u&&(P=Math.tan(u),P=Math.sqrt(1+P*P),x*=P,T*=P)),x=xe(x),T=xe(T),k=xe(k),j=xe(j)):(x=d,j=f,T=k=0),(_&&!~(o+"").indexOf("px")||b&&!~(a+"").indexOf("px"))&&(_=es(p,"x",o,"px"),b=es(p,"y",a,"px")),(g||m||y||w)&&(_=xe(_+g-(g*x+m*k)+y),b=xe(b+m-(g*T+m*j)+w)),(i||n)&&(P=p.getBBox(),_=xe(_+i/100*P.width),b=xe(b+n/100*P.height)),P="matrix("+x+","+T+","+k+","+j+","+_+","+b+")",p.setAttribute("transform",P),v&&(p.style[pe]=P)},dy=function(e,s,r,i,n){var o=360,a=Oe(n),l=parseFloat(n)*(a&&~n.indexOf("rad")?ms:1),c=l-i,u=i+c+"deg",d,f;return a&&(d=n.split("_")[1],d==="short"&&(c%=o,c!==c%(o/2)&&(c+=c<0?o:-o)),d==="cw"&&c<0?c=(c+o*cl)%o-~~(c/o)*o:d==="ccw"&&c>0&&(c=(c-o*cl)%o-~~(c/o)*o)),e._pt=f=new Je(e._pt,s,r,i,c,Gg),f.e=u,f.u="deg",e._props.push(r),f},gl=function(e,s){for(var r in s)e[r]=s[r];return e},fy=function(e,s,r){var i=gl({},r._gsap),n="perspective,force3D,transformOrigin,svgOrigin",o=r.style,a,l,c,u,d,f,p,g;i.svg?(c=r.getAttribute("transform"),r.setAttribute("transform",""),o[pe]=s,a=zr(r,1),Qt(r,pe),r.setAttribute("transform",c)):(c=getComputedStyle(r)[pe],o[pe]=s,a=zr(r,1),o[pe]=c);for(l in Ft)c=i[l],u=a[l],c!==u&&n.indexOf(l)<0&&(p=Fe(c),g=Fe(u),d=p!==g?es(r,l,c,g):parseFloat(c),f=parseFloat(u),e._pt=new Je(e._pt,a,l,d,f-d,so),e._pt.u=g||0,e._props.push(l));gl(a,i)};Ye("padding,margin,Width,Radius",function(t,e){var s="Top",r="Right",i="Bottom",n="Left",o=(e<3?[s,r,i,n]:[s+n,s+r,i+r,i+n]).map(function(a){return e<2?t+a:"border"+a+t});Pi[e>1?"border"+t:t]=function(a,l,c,u,d){var f,p;if(arguments.length<4)return f=o.map(function(g){return It(a,g,c)}),p=f.join(" "),p.split(f[0]).length===5?f[0]:p;f=(u+"").split(" "),p={},o.forEach(function(g,m){return p[g]=f[m]=f[m]||f[(m-1)/2|0]}),a.init(l,p,d)}});var sh={name:"css",register:io,targetTest:function(e){return e.style&&e.nodeType},init:function(e,s,r,i,n){var o=this._props,a=e.style,l=r.vars.startAt,c,u,d,f,p,g,m,y,w,v,_,b,x,T,k,j,P;Ho||io(),this.styles=this.styles||Yu(e),j=this.styles.props,this.tween=r;for(m in s)if(m!=="autoRound"&&(u=s[m],!(et[m]&&Fu(m,s,r,i,e,n)))){if(p=typeof u,g=Pi[m],p==="function"&&(u=u.call(r,i,e,n),p=typeof u),p==="string"&&~u.indexOf("random(")&&(u=$r(u)),g)g(this,e,m,u,r)&&(k=1);else if(m.substr(0,2)==="--")c=(getComputedStyle(e).getPropertyValue(m)+"").trim(),u+="",Xt.lastIndex=0,Xt.test(c)||(y=Fe(c),w=Fe(u),w?y!==w&&(c=es(e,m,c,w)+w):y&&(u+=y)),this.add(a,"setProperty",c,u,i,n,0,0,m),o.push(m),j.push(m,0,a[m]);else if(p!=="undefined"){if(l&&m in l?(c=typeof l[m]=="function"?l[m].call(r,i,e,n):l[m],Oe(c)&&~c.indexOf("random(")&&(c=$r(c)),Fe(c+"")||c==="auto"||(c+=ot.units[m]||Fe(It(e,m))||""),(c+"").charAt(1)==="="&&(c=It(e,m))):c=It(e,m),f=parseFloat(c),v=p==="string"&&u.charAt(1)==="="&&u.substr(0,2),v&&(u=u.substr(2)),d=parseFloat(u),m in Ct&&(m==="autoAlpha"&&(f===1&&It(e,"visibility")==="hidden"&&d&&(f=0),j.push("visibility",0,a.visibility),Gt(this,a,"visibility",f?"inherit":"hidden",d?"inherit":"hidden",!d)),m!=="scale"&&m!=="transform"&&(m=Ct[m],~m.indexOf(",")&&(m=m.split(",")[0]))),_=m in Ft,_){if(this.styles.save(m),P=u,p==="string"&&u.substring(0,6)==="var(--"){if(u=it(e,u.substring(4,u.indexOf(")"))),u.substring(0,5)==="calc("){var R=e.style.perspective;e.style.perspective=u,u=it(e,"perspective"),R?e.style.perspective=R:Qt(e,"perspective")}d=parseFloat(u)}if(b||(x=e._gsap,x.renderTransform&&!s.parseTransform||zr(e,s.parseTransform),T=s.smoothOrigin!==!1&&x.smooth,b=this._pt=new Je(this._pt,a,pe,0,1,x.renderTransform,x,0,-1),b.dep=1),m==="scale")this._pt=new Je(this._pt,x,"scaleY",x.scaleY,(v?Gs(x.scaleY,v+d):d)-x.scaleY||0,so),this._pt.u=0,o.push("scaleY",m),m+="X";else if(m==="transformOrigin"){j.push(Xe,0,a[Xe]),u=ly(u),x.svg?no(e,u,0,T,0,this):(w=parseFloat(u.split(" ")[2])||0,w!==x.zOrigin&&Gt(this,x,"zOrigin",x.zOrigin,w),Gt(this,a,m,Ai(c),Ai(u)));continue}else if(m==="svgOrigin"){no(e,u,1,T,0,this);continue}else if(m in Qu){dy(this,x,m,f,v?Gs(f,v+u):u);continue}else if(m==="smoothOrigin"){Gt(this,x,"smooth",x.smooth,u);continue}else if(m==="force3D"){x[m]=u;continue}else if(m==="transform"){fy(this,u,e);continue}}else m in a||(m=rr(m)||m);if(_||(d||d===0)&&(f||f===0)&&!Kg.test(u)&&m in a)y=(c+"").substr((f+"").length),d||(d=0),w=Fe(u)||(m in ot.units?ot.units[m]:y),y!==w&&(f=es(e,m,c,w)),this._pt=new Je(this._pt,_?x:a,m,f,(v?Gs(f,v+d):d)-f,!_&&(w==="px"||m==="zIndex")&&s.autoRound!==!1?Xg:so),this._pt.u=w||0,_&&P!==u?(this._pt.b=c,this._pt.e=P,this._pt.r=Jg):y!==w&&w!=="%"&&(this._pt.b=c,this._pt.r=Yg);else if(m in a)ay.call(this,e,m,c,v?v+u:u);else if(m in e)this.add(e,m,c||e[m],v?v+u:u,i,n);else if(m!=="parseTransform"){Mo(m,u);continue}_||(m in a?j.push(m,0,a[m]):typeof e[m]=="function"?j.push(m,2,e[m]()):j.push(m,1,c||e[m])),o.push(m)}}k&&Wu(this)},render:function(e,s){if(s.tween._time||!Ko())for(var r=s._pt;r;)r.r(e,r.d),r=r._next;else s.styles.revert()},get:It,aliases:Ct,getSetter:function(e,s,r){var i=Ct[s];return i&&i.indexOf(",")<0&&(s=i),s in Ft&&s!==Xe&&(e._gsap.x||It(e,"x"))?r&&ll===r?s==="scale"?ty:ey:(ll=r||{})&&(s==="scale"?sy:ry):e.style&&!No(e.style[s])?Zg:~s.indexOf("-")?Qg:Wo(e,s)},core:{_removeProperty:Qt,_getMatrix:Yo}};Ze.utils.checkPrefix=rr;Ze.core.getStyleSaver=Yu;(function(t,e,s,r){var i=Ye(t+","+e+","+s,function(n){Ft[n]=1});Ye(e,function(n){ot.units[n]="deg",Qu[n]=1}),Ct[i[13]]=t+","+e,Ye(r,function(n){var o=n.split(":");Ct[o[1]]=i[o[0]]})})("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY");Ye("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(t){ot.units[t]="px"});Ze.registerPlugin(sh);var te=Ze.registerPlugin(sh)||Ze;te.core.Tween;const py=({position:t="right",colors:e=["#B19EEF","#5227FF"],items:s=[],socialItems:r=[],displaySocials:i=!0,displayItemNumbering:n=!0,className:o,logoUrl:a="/src/assets/logos/reactbits-gh-white.svg",menuButtonColor:l="#fff",openMenuButtonColor:c="#fff",accentColor:u="#5227FF",changeMenuColorOnOpen:d=!0,isFixed:f=!1,closeOnClickAway:p=!0,isAuthenticated:g=!1,onMenuOpen:m,onMenuClose:y})=>{const w=nr(),{currency:v,changeCurrency:_}=Vc(),[b,x]=S.useState(!1),[T,k]=S.useState(0);nt.useEffect(()=>{const I=()=>{const ee=JSON.parse(localStorage.getItem("cartItems")||"[]").reduce((re,Ae)=>re+Ae.quantity,0);k(ee)};return I(),window.addEventListener("cartUpdated",I),window.addEventListener("storage",I),()=>{window.removeEventListener("cartUpdated",I),window.removeEventListener("storage",I)}},[]);const j=S.useRef(!1),P=S.useRef(null),R=S.useRef(null),A=S.useRef([]),N=S.useRef(null),M=S.useRef(null),H=S.useRef(null),J=S.useRef(null),Q=S.useRef(null),[B,C]=S.useState(["Menu","Close"]),D=S.useRef(null),X=S.useRef(null),U=S.useRef(null),Y=S.useRef(null),ge=S.useRef(null),z=S.useRef(null),oe=S.useRef(!1),le=S.useRef(null);S.useLayoutEffect(()=>{const I=te.context(()=>{const K=P.current,ee=R.current,re=N.current,Ae=M.current,Ce=H.current,Re=J.current;if(!K||!re||!Ae||!Ce||!Re)return;let Ue=[];ee&&(Ue=Array.from(ee.querySelectorAll(".sm-prelayer"))),A.current=Ue;const G=t==="left"?-100:100;te.set([K,...Ue],{xPercent:G}),te.set(re,{transformOrigin:"50% 50%",rotate:0}),te.set(Ae,{transformOrigin:"50% 50%",rotate:90}),te.set(Ce,{rotate:0,transformOrigin:"50% 50%"}),te.set(Re,{yPercent:0}),z.current&&te.set(z.current,{color:l})});return()=>I.revert()},[l,t]);const ct=S.useCallback(()=>{var se,he;const I=P.current,K=A.current;if(!I)return null;(se=D.current)==null||se.kill(),X.current&&(X.current.kill(),X.current=null),(he=le.current)==null||he.kill();const ee=Array.from(I.querySelectorAll(".sm-panel-itemLabel")),re=Array.from(I.querySelectorAll(".sm-panel-list[data-numbering] .sm-panel-item")),Ae=I.querySelector(".sm-socials-title"),Ce=Array.from(I.querySelectorAll(".sm-socials-link")),Re=K.map(ve=>({el:ve,start:Number(te.getProperty(ve,"xPercent"))})),Ue=Number(te.getProperty(I,"xPercent"));ee.length&&te.set(ee,{yPercent:140,rotate:10}),re.length&&te.set(re,{"--sm-num-opacity":0}),Ae&&te.set(Ae,{opacity:0}),Ce.length&&te.set(Ce,{y:25,opacity:0});const G=te.timeline({paused:!0});Re.forEach((ve,Bt)=>{G.fromTo(ve.el,{xPercent:ve.start},{xPercent:0,duration:.5,ease:"power4.out"},Bt*.07)});const O=(Re.length?(Re.length-1)*.07:0)+(Re.length?.08:0),V=.65;if(G.fromTo(I,{xPercent:Ue},{xPercent:0,duration:V,ease:"power4.out"},O),ee.length){const Bt=O+V*.15;G.to(ee,{yPercent:0,rotate:0,duration:1,ease:"power4.out",stagger:{each:.1,from:"start"}},Bt),re.length&&G.to(re,{duration:.6,ease:"power2.out","--sm-num-opacity":1,stagger:{each:.08,from:"start"}},Bt+.1)}if(Ae||Ce.length){const ve=O+V*.4;Ae&&G.to(Ae,{opacity:1,duration:.5,ease:"power2.out"},ve),Ce.length&&G.to(Ce,{y:0,opacity:1,duration:.55,ease:"power3.out",stagger:{each:.08,from:"start"},onComplete:()=>{te.set(Ce,{clearProps:"opacity"})}},ve+.04)}return D.current=G,G},[]),Pe=S.useCallback(()=>{if(oe.current)return;oe.current=!0;const I=ct();I?(I.eventCallback("onComplete",()=>{oe.current=!1}),I.play(0)):oe.current=!1},[ct]),Ke=S.useCallback(()=>{var Ae,Ce,Re;(Ae=D.current)==null||Ae.kill(),D.current=null,(Ce=le.current)==null||Ce.kill();const I=P.current,K=A.current;if(!I)return;const ee=[...K,I];(Re=X.current)==null||Re.kill();const re=t==="left"?-100:100;X.current=te.to(ee,{xPercent:re,duration:.32,ease:"power3.in",overwrite:"auto",onComplete:()=>{const Ue=Array.from(I.querySelectorAll(".sm-panel-itemLabel"));Ue.length&&te.set(Ue,{yPercent:140,rotate:10});const G=Array.from(I.querySelectorAll(".sm-panel-list[data-numbering] .sm-panel-item"));G.length&&te.set(G,{"--sm-num-opacity":0});const E=I.querySelector(".sm-socials-title"),O=Array.from(I.querySelectorAll(".sm-socials-link"));E&&te.set(E,{opacity:0}),O.length&&te.set(O,{y:25,opacity:0}),oe.current=!1}})},[t]),Ne=S.useCallback(I=>{var ee;const K=H.current;K&&((ee=U.current)==null||ee.kill(),I?U.current=te.to(K,{rotate:225,duration:.8,ease:"power4.out",overwrite:"auto"}):U.current=te.to(K,{rotate:0,duration:.35,ease:"power3.inOut",overwrite:"auto"}))},[]),Be=S.useCallback(I=>{var ee;const K=z.current;if(K)if((ee=ge.current)==null||ee.kill(),d){const re=I?c:l;ge.current=te.to(K,{color:re,delay:.18,duration:.3,ease:"power2.out"})}else te.set(K,{color:l})},[c,l,d]);nt.useEffect(()=>{if(z.current)if(d){const I=j.current?c:l;te.set(z.current,{color:I})}else te.set(z.current,{color:l})},[d,l,c]);const ye=S.useCallback(I=>{var E;const K=J.current;if(!K)return;(E=Y.current)==null||E.kill();const ee=I?"Menu":"Close",re=I?"Close":"Menu",Ae=3,Ce=[ee];let Re=ee;for(let O=0;O<Ae;O++)Re=Re==="Menu"?"Close":"Menu",Ce.push(Re);Re!==re&&Ce.push(re),Ce.push(re),C(Ce),te.set(K,{yPercent:0});const Ue=Ce.length,G=(Ue-1)/Ue*100;Y.current=te.to(K,{yPercent:-G,duration:.5+Ue*.07,ease:"power4.out"})},[]),yt=S.useCallback(()=>{const I=!j.current;j.current=I,x(I),I?(m==null||m(),Pe()):(y==null||y(),Ke()),Ne(I),Be(I),ye(I)},[Pe,Ke,Ne,Be,ye,m,y]),ns=S.useCallback(()=>{j.current&&(j.current=!1,x(!1),y==null||y(),Ke(),Ne(!1),Be(!1),ye(!1))},[Ke,Ne,Be,ye,y]);return nt.useEffect(()=>{if(!p||!b)return;const I=K=>{P.current&&!P.current.contains(K.target)&&z.current&&!z.current.contains(K.target)&&ns()};return document.addEventListener("mousedown",I),()=>{document.removeEventListener("mousedown",I)}},[p,b,ns]),h.jsxs("div",{className:(o?o+" ":"")+"staggered-menu-wrapper"+(f?" fixed-wrapper":""),style:u?{"--sm-accent":u}:void 0,"data-position":t,"data-open":b||void 0,children:[h.jsx("div",{ref:R,className:"sm-prelayers","aria-hidden":"true",children:(()=>{let K=[...e&&e.length?e.slice(0,4):["#1e1e22","#35353c"]];if(K.length>=3){const ee=Math.floor(K.length/2);K.splice(ee,1)}return K.map((ee,re)=>h.jsx("div",{className:"sm-prelayer",style:{background:ee}},re))})()}),h.jsxs("header",{className:"staggered-menu-header","aria-label":"Main navigation header",children:[h.jsx("div",{className:"sm-logo","aria-label":"Logo"}),h.jsxs("button",{ref:z,className:"sm-toggle","aria-label":b?"Close menu":"Open menu","aria-expanded":b,"aria-controls":"staggered-menu-panel",onClick:yt,type:"button",children:[h.jsx("span",{ref:Q,className:"sm-toggle-textWrap","aria-hidden":"true",children:h.jsx("span",{ref:J,className:"sm-toggle-textInner",children:B.map((I,K)=>h.jsx("span",{className:"sm-toggle-line",children:I},K))})}),h.jsxs("span",{ref:H,className:"sm-icon","aria-hidden":"true",children:[h.jsx("span",{ref:N,className:"sm-icon-line"}),h.jsx("span",{ref:M,className:"sm-icon-line sm-icon-line-v"})]})]})]}),h.jsx("aside",{id:"staggered-menu-panel",ref:P,className:"staggered-menu-panel","aria-hidden":!b,children:h.jsxs("div",{className:"sm-panel-inner",children:[h.jsx("ul",{className:"sm-panel-list",role:"list","data-numbering":n||void 0,children:s&&s.length?s.map((I,K)=>h.jsx("li",{className:"sm-panel-itemWrap",children:h.jsxs("a",{className:"sm-panel-item",href:I.link,"aria-label":I.ariaLabel,"data-index":K+1,onClick:ee=>{ee.preventDefault(),ns(),I.onClick?setTimeout(()=>{I.onClick()},150):setTimeout(()=>{w(I.link)},150)},children:[h.jsx("span",{className:"sm-panel-itemLabel",children:I.label}),I.label==="Cart"&&T>0&&h.jsxs("span",{className:"cart-badge-container","aria-label":`${T} items in cart`,children:[h.jsx("svg",{className:"cart-icon",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:h.jsx("path",{d:"M7 18C5.9 18 5.01 18.9 5.01 20C5.01 21.1 5.9 22 7 22C8.1 22 9 21.1 9 20C9 18.9 8.1 18 7 18ZM1 2V4H3L6.6 11.59L5.25 14.04C5.09 14.32 5 14.65 5 15C5 16.1 5.9 17 7 17H19V15H7.42C7.28 15 7.17 14.89 7.17 14.75L7.2 14.63L8.1 13H15.55C16.3 13 16.96 12.59 17.3 11.97L20.88 5.48C20.96 5.34 21 5.17 21 5C21 4.45 20.55 4 20 4H5.21L4.27 2H1ZM17 18C15.9 18 15.01 18.9 15.01 20C15.01 21.1 15.9 22 17 22C18.1 22 19 21.1 19 20C19 18.9 18.1 18 17 18Z",fill:"#ff3b3b"})}),h.jsx("span",{className:"cart-count",children:T})]}),(I.label==="Account"||I.label==="Logout")&&g&&h.jsx("span",{className:"settings-icon-container","aria-label":"Account Settings",onClick:ee=>{ee.preventDefault(),ee.stopPropagation(),ns(),setTimeout(()=>{w("/settings")},150)},children:h.jsx("svg",{className:"settings-icon",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:h.jsx("path",{d:"M19.14,12.94c0.04-0.3,0.06-0.61,0.06-0.94c0-0.32-0.02-0.64-0.07-0.94l2.03-1.58c0.18-0.14,0.23-0.41,0.12-0.61 l-1.92-3.32c-0.12-0.22-0.37-0.29-0.59-0.22l-2.39,0.96c-0.5-0.38-1.03-0.7-1.62-0.94L14.4,2.81c-0.04-0.24-0.24-0.41-0.48-0.41 h-3.84c-0.24,0-0.43,0.17-0.47,0.41L9.25,5.35C8.66,5.59,8.12,5.92,7.63,6.29L5.24,5.33c-0.22-0.08-0.47,0-0.59,0.22L2.74,8.87 C2.62,9.08,2.66,9.34,2.86,9.48l2.03,1.58C4.84,11.36,4.8,11.69,4.8,12s0.02,0.64,0.07,0.94l-2.03,1.58 c-0.18,0.14-0.23,0.41-0.12,0.61l1.92,3.32c0.12,0.22,0.37,0.29,0.59,0.22l2.39-0.96c0.5,0.38,1.03,0.7,1.62,0.94l0.36,2.54 c0.05,0.24,0.24,0.41,0.48,0.41h3.84c0.24,0,0.44-0.17,0.47-0.41l0.36-2.54c0.59-0.24,1.13-0.56,1.62-0.94l2.39,0.96 c0.22,0.08,0.47,0,0.59-0.22l1.92-3.32c0.12-0.22,0.07-0.47-0.12-0.61L19.14,12.94z M12,15.6c-1.98,0-3.6-1.62-3.6-3.6 s1.62-3.6,3.6-3.6s3.6,1.62,3.6,3.6S13.98,15.6,12,15.6z",fill:"#5227FF"})})})]})},I.label+K)):h.jsx("li",{className:"sm-panel-itemWrap","aria-hidden":"true",children:h.jsx("span",{className:"sm-panel-item",children:h.jsx("span",{className:"sm-panel-itemLabel",children:"No items"})})})}),i&&r&&r.length>0&&h.jsxs("div",{className:"sm-socials","aria-label":"Social links",children:[h.jsx("h3",{className:"sm-socials-title",children:"Socials"}),h.jsx("ul",{className:"sm-socials-list",role:"list",children:r.map((I,K)=>h.jsx("li",{className:"sm-socials-item",children:h.jsx("a",{href:I.link,target:"_blank",rel:"noopener noreferrer",className:"sm-socials-link",children:I.label})},I.label+K))})]}),h.jsxs("div",{className:"sm-currency","aria-label":"Currency selector",children:[h.jsx("h3",{className:"sm-currency-title",children:"Currency"}),h.jsxs("div",{className:"sm-currency-buttons",children:[h.jsxs("button",{className:`sm-currency-btn ${v==="USD"?"active":""}`,onClick:()=>_("USD"),"aria-label":"Switch to US Dollar",children:[h.jsx("span",{className:"currency-flag",children:"ðŸ‡ºðŸ‡¸"}),h.jsx("span",{className:"currency-code",children:"USD"})]}),h.jsxs("button",{className:`sm-currency-btn ${v==="CAD"?"active":""}`,onClick:()=>_("CAD"),"aria-label":"Switch to Canadian Dollar",children:[h.jsx("span",{className:"currency-flag",children:"ðŸ‡¨ðŸ‡¦"}),h.jsx("span",{className:"currency-code",children:"CAD"})]}),h.jsxs("button",{className:`sm-currency-btn ${v==="EUR"?"active":""}`,onClick:()=>_("EUR"),"aria-label":"Switch to Euro",children:[h.jsx("span",{className:"currency-flag",children:"ðŸ‡ªðŸ‡º"}),h.jsx("span",{className:"currency-code",children:"EUR"})]})]})]})]})})]})};function my({children:t}){const e=nr(),{isAuthenticated:s,logout:r}=ar(),n=[{label:"Home",ariaLabel:"Go to home page",link:"/"},{label:"Products",ariaLabel:"View our products",link:"/products"},{label:"Packages",ariaLabel:"View service packages",link:"/packages"},{label:"Cart",ariaLabel:"View shopping cart",link:"/cart"},s?{label:"Logout",ariaLabel:"Logout from account",link:"/login",onClick:async()=>{await r(),e("/login")}}:{label:"Account",ariaLabel:"Create an account",link:"/account"},{label:"About",ariaLabel:"Learn about us",link:"/about"},{label:"Contact",ariaLabel:"Get in touch",link:"/contact"}];return h.jsxs("div",{style:{position:"relative",minHeight:"100vh"},children:[h.jsx(py,{position:"right",items:n,displaySocials:!1,displayItemNumbering:!0,menuButtonColor:"#ffffff",openMenuButtonColor:"#000000",changeMenuColorOnOpen:!0,colors:["#B19EEF","#5227FF","#FF9FFC"],accentColor:"#5227FF",isFixed:!0,closeOnClickAway:!0,isAuthenticated:s}),t]})}function gy({children:t}){const{isAuthenticated:e,loading:s}=ar(),r=Mc();return s?h.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",color:"white",fontSize:"1.2rem"},children:"Loading..."}):e?t:h.jsx(Jd,{to:"/login",state:{from:r},replace:!0})}function At({mouseForce:t=20,cursorSize:e=100,isViscous:s=!1,viscous:r=30,iterationsViscous:i=32,iterationsPoisson:n=32,dt:o=.014,BFECC:a=!0,resolution:l=.5,isBounce:c=!1,colors:u=["#5227FF","#FF9FFC","#B19EEF"],style:d={},className:f="",autoDemo:p=!0,autoSpeed:g=.5,autoIntensity:m=2.2,takeoverDuration:y=.25,autoResumeDelay:w=1e3,autoRampDuration:v=.6}){const _=S.useRef(null),b=S.useRef(null),x=S.useRef(null),T=S.useRef(null),k=S.useRef(null),j=S.useRef(!0),P=S.useRef(null);return S.useEffect(()=>{if(!_.current)return;function R(G){let E;Array.isArray(G)&&G.length>0?G.length===1?E=[G[0],G[0]]:E=G:E=["#ffffff","#ffffff"];const O=E.length,V=new Uint8Array(O*4);for(let he=0;he<O;he++){const ve=new Ca(E[he]);V[he*4+0]=Math.round(ve.r*255),V[he*4+1]=Math.round(ve.g*255),V[he*4+2]=Math.round(ve.b*255),V[he*4+3]=255}const se=new ef(V,O,1,tf);return se.magFilter=ti,se.minFilter=ti,se.wrapS=si,se.wrapT=si,se.generateMipmaps=!1,se.needsUpdate=!0,se}const A=R(u),N=new nf(0,0,0,0),M=`
      attribute vec3 position;
      uniform vec2 px;
      uniform vec2 boundarySpace;
      varying vec2 uv;
      precision highp float;
      void main(){
        vec3 pos = position;
        vec2 scale = 1.0 - boundarySpace * 2.0;
        pos.xy = pos.xy * scale;
        uv = vec2(0.5)+(pos.xy)*0.5;
        gl_Position = vec4(pos, 1.0);
      }
    `,H=`
      attribute vec3 position;
      uniform vec2 px;
      precision highp float;
      varying vec2 uv;
      void main(){
        vec3 pos = position;
        uv = 0.5 + pos.xy * 0.5;
        vec2 n = sign(pos.xy);
        pos.xy = abs(pos.xy) - px * 1.0;
        pos.xy *= n;
        gl_Position = vec4(pos, 1.0);
      }
    `,J=`
      precision highp float;
      attribute vec3 position;
      attribute vec2 uv;
      uniform vec2 center;
      uniform vec2 scale;
      uniform vec2 px;
      varying vec2 vUv;
      void main(){
        vec2 pos = position.xy * scale * 2.0 * px + center;
        vUv = uv;
        gl_Position = vec4(pos, 0.0, 1.0);
      }
    `,Q=`
      precision highp float;
      uniform sampler2D velocity;
      uniform float dt;
      uniform bool isBFECC;
      uniform vec2 fboSize;
      uniform vec2 px;
      varying vec2 uv;
      void main(){
        vec2 ratio = max(fboSize.x, fboSize.y) / fboSize;
        if(isBFECC == false){
          vec2 vel = texture2D(velocity, uv).xy;
          vec2 uv2 = uv - vel * dt * ratio;
          vec2 newVel = texture2D(velocity, uv2).xy;
          gl_FragColor = vec4(newVel, 0.0, 0.0);
        } else {
          vec2 spot_new = uv;
          vec2 vel_old = texture2D(velocity, uv).xy;
          vec2 spot_old = spot_new - vel_old * dt * ratio;
          vec2 vel_new1 = texture2D(velocity, spot_old).xy;
          vec2 spot_new2 = spot_old + vel_new1 * dt * ratio;
          vec2 error = spot_new2 - spot_new;
          vec2 spot_new3 = spot_new - error / 2.0;
          vec2 vel_2 = texture2D(velocity, spot_new3).xy;
          vec2 spot_old2 = spot_new3 - vel_2 * dt * ratio;
          vec2 newVel2 = texture2D(velocity, spot_old2).xy; 
          gl_FragColor = vec4(newVel2, 0.0, 0.0);
        }
      }
    `,B=`
      precision highp float;
      uniform sampler2D velocity;
      uniform sampler2D palette;
      uniform vec4 bgColor;
      varying vec2 uv;
      void main(){
        vec2 vel = texture2D(velocity, uv).xy;
        float lenv = clamp(length(vel), 0.0, 1.0);
        vec3 c = texture2D(palette, vec2(lenv, 0.5)).rgb;
        vec3 outRGB = mix(bgColor.rgb, c, lenv);
        float outA = mix(bgColor.a, 1.0, lenv);
        gl_FragColor = vec4(outRGB, outA);
      }
    `,C=`
      precision highp float;
      uniform sampler2D velocity;
      uniform float dt;
      uniform vec2 px;
      varying vec2 uv;
      void main(){
        float x0 = texture2D(velocity, uv-vec2(px.x, 0.0)).x;
        float x1 = texture2D(velocity, uv+vec2(px.x, 0.0)).x;
        float y0 = texture2D(velocity, uv-vec2(0.0, px.y)).y;
        float y1 = texture2D(velocity, uv+vec2(0.0, px.y)).y;
        float divergence = (x1 - x0 + y1 - y0) / 2.0;
        gl_FragColor = vec4(divergence / dt);
      }
    `,D=`
      precision highp float;
      uniform vec2 force;
      uniform vec2 center;
      uniform vec2 scale;
      uniform vec2 px;
      varying vec2 vUv;
      void main(){
        vec2 circle = (vUv - 0.5) * 2.0;
        float d = 1.0 - min(length(circle), 1.0);
        d *= d;
        gl_FragColor = vec4(force * d, 0.0, 1.0);
      }
    `,X=`
      precision highp float;
      uniform sampler2D pressure;
      uniform sampler2D divergence;
      uniform vec2 px;
      varying vec2 uv;
      void main(){
        float p0 = texture2D(pressure, uv + vec2(px.x * 2.0, 0.0)).r;
        float p1 = texture2D(pressure, uv - vec2(px.x * 2.0, 0.0)).r;
        float p2 = texture2D(pressure, uv + vec2(0.0, px.y * 2.0)).r;
        float p3 = texture2D(pressure, uv - vec2(0.0, px.y * 2.0)).r;
        float div = texture2D(divergence, uv).r;
        float newP = (p0 + p1 + p2 + p3) / 4.0 - div;
        gl_FragColor = vec4(newP);
      }
    `,U=`
      precision highp float;
      uniform sampler2D pressure;
      uniform sampler2D velocity;
      uniform vec2 px;
      uniform float dt;
      varying vec2 uv;
      void main(){
        float step = 1.0;
        float p0 = texture2D(pressure, uv + vec2(px.x * step, 0.0)).r;
        float p1 = texture2D(pressure, uv - vec2(px.x * step, 0.0)).r;
        float p2 = texture2D(pressure, uv + vec2(0.0, px.y * step)).r;
        float p3 = texture2D(pressure, uv - vec2(0.0, px.y * step)).r;
        vec2 v = texture2D(velocity, uv).xy;
        vec2 gradP = vec2(p0 - p1, p2 - p3) * 0.5;
        v = v - gradP * dt;
        gl_FragColor = vec4(v, 0.0, 1.0);
      }
    `,Y=`
      precision highp float;
      uniform sampler2D velocity;
      uniform sampler2D velocity_new;
      uniform float v;
      uniform vec2 px;
      uniform float dt;
      varying vec2 uv;
      void main(){
        vec2 old = texture2D(velocity, uv).xy;
        vec2 new0 = texture2D(velocity_new, uv + vec2(px.x * 2.0, 0.0)).xy;
        vec2 new1 = texture2D(velocity_new, uv - vec2(px.x * 2.0, 0.0)).xy;
        vec2 new2 = texture2D(velocity_new, uv + vec2(0.0, px.y * 2.0)).xy;
        vec2 new3 = texture2D(velocity_new, uv - vec2(0.0, px.y * 2.0)).xy;
        vec2 newv = 4.0 * old + v * dt * (new0 + new1 + new2 + new3);
        newv /= 4.0 * (1.0 + v * dt);
        gl_FragColor = vec4(newv, 0.0, 0.0);
      }
    `;class ge{constructor(){this.width=0,this.height=0,this.aspect=1,this.pixelRatio=1,this.container=null,this.renderer=null,this.clock=null,this.time=0,this.delta=0}init(E){this.container=E,this.pixelRatio=Math.min(window.devicePixelRatio||1,2),this.resize(),this.renderer=new sf({antialias:!0,alpha:!0}),this.renderer.autoClear=!1,this.renderer.setClearColor(new Ca(0),0),this.renderer.setPixelRatio(this.pixelRatio),this.renderer.setSize(this.width,this.height),this.renderer.domElement.style.width="100%",this.renderer.domElement.style.height="100%",this.renderer.domElement.style.display="block",this.clock=new rf,this.clock.start()}resize(){if(!this.container)return;const E=this.container.getBoundingClientRect();this.width=Math.max(1,Math.floor(E.width)),this.height=Math.max(1,Math.floor(E.height)),this.aspect=this.width/this.height,this.renderer&&this.renderer.setSize(this.width,this.height,!1)}update(){this.delta=this.clock.getDelta(),this.time+=this.delta}}const z=new ge;class oe{constructor(){this.mouseMoved=!1,this.coords=new ze,this.coords_old=new ze,this.diff=new ze,this.timer=null,this.container=null,this.docTarget=null,this.listenerTarget=null,this.isHoverInside=!1,this.hasUserControl=!1,this.isAutoActive=!1,this.autoIntensity=2,this.takeoverActive=!1,this.takeoverStartTime=0,this.takeoverDuration=.25,this.takeoverFrom=new ze,this.takeoverTo=new ze,this.onInteract=null,this._onMouseMove=this.onDocumentMouseMove.bind(this),this._onTouchStart=this.onDocumentTouchStart.bind(this),this._onTouchMove=this.onDocumentTouchMove.bind(this),this._onTouchEnd=this.onTouchEnd.bind(this),this._onDocumentLeave=this.onDocumentLeave.bind(this)}init(E){this.container=E,this.docTarget=E.ownerDocument||null;const O=this.docTarget&&this.docTarget.defaultView||(typeof window<"u"?window:null);O&&(this.listenerTarget=O,this.listenerTarget.addEventListener("mousemove",this._onMouseMove),this.listenerTarget.addEventListener("touchstart",this._onTouchStart,{passive:!0}),this.listenerTarget.addEventListener("touchmove",this._onTouchMove,{passive:!0}),this.listenerTarget.addEventListener("touchend",this._onTouchEnd),this.docTarget&&this.docTarget.addEventListener("mouseleave",this._onDocumentLeave))}dispose(){this.listenerTarget&&(this.listenerTarget.removeEventListener("mousemove",this._onMouseMove),this.listenerTarget.removeEventListener("touchstart",this._onTouchStart),this.listenerTarget.removeEventListener("touchmove",this._onTouchMove),this.listenerTarget.removeEventListener("touchend",this._onTouchEnd)),this.docTarget&&this.docTarget.removeEventListener("mouseleave",this._onDocumentLeave),this.listenerTarget=null,this.docTarget=null,this.container=null}isPointInside(E,O){if(!this.container)return!1;const V=this.container.getBoundingClientRect();return V.width===0||V.height===0?!1:E>=V.left&&E<=V.right&&O>=V.top&&O<=V.bottom}updateHoverState(E,O){return this.isHoverInside=this.isPointInside(E,O),this.isHoverInside}setCoords(E,O){if(!this.container)return;this.timer&&window.clearTimeout(this.timer);const V=this.container.getBoundingClientRect();if(V.width===0||V.height===0)return;const se=(E-V.left)/V.width,he=(O-V.top)/V.height;this.coords.set(se*2-1,-(he*2-1)),this.mouseMoved=!0,this.timer=window.setTimeout(()=>{this.mouseMoved=!1},100)}setNormalized(E,O){this.coords.set(E,O),this.mouseMoved=!0}onDocumentMouseMove(E){if(this.updateHoverState(E.clientX,E.clientY)){if(this.onInteract&&this.onInteract(),this.isAutoActive&&!this.hasUserControl&&!this.takeoverActive){if(!this.container)return;const O=this.container.getBoundingClientRect();if(O.width===0||O.height===0)return;const V=(E.clientX-O.left)/O.width,se=(E.clientY-O.top)/O.height;this.takeoverFrom.copy(this.coords),this.takeoverTo.set(V*2-1,-(se*2-1)),this.takeoverStartTime=performance.now(),this.takeoverActive=!0,this.hasUserControl=!0,this.isAutoActive=!1;return}this.setCoords(E.clientX,E.clientY),this.hasUserControl=!0}}onDocumentTouchStart(E){if(E.touches.length!==1)return;const O=E.touches[0];this.updateHoverState(O.clientX,O.clientY)&&(this.onInteract&&this.onInteract(),this.setCoords(O.clientX,O.clientY),this.hasUserControl=!0)}onDocumentTouchMove(E){if(E.touches.length!==1)return;const O=E.touches[0];this.updateHoverState(O.clientX,O.clientY)&&(this.onInteract&&this.onInteract(),this.setCoords(O.clientX,O.clientY))}onTouchEnd(){this.isHoverInside=!1}onDocumentLeave(){this.isHoverInside=!1}update(){if(this.takeoverActive){const E=(performance.now()-this.takeoverStartTime)/(this.takeoverDuration*1e3);if(E>=1)this.takeoverActive=!1,this.coords.copy(this.takeoverTo),this.coords_old.copy(this.coords),this.diff.set(0,0);else{const O=E*E*(3-2*E);this.coords.copy(this.takeoverFrom).lerp(this.takeoverTo,O)}}this.diff.subVectors(this.coords,this.coords_old),this.coords_old.copy(this.coords),this.coords_old.x===0&&this.coords_old.y===0&&this.diff.set(0,0),this.isAutoActive&&!this.takeoverActive&&this.diff.multiplyScalar(this.autoIntensity)}}const le=new oe;class ct{constructor(E,O,V){this.mouse=E,this.manager=O,this.enabled=V.enabled,this.speed=V.speed,this.resumeDelay=V.resumeDelay||3e3,this.rampDurationMs=(V.rampDuration||0)*1e3,this.active=!1,this.current=new ze(0,0),this.target=new ze,this.lastTime=performance.now(),this.activationTime=0,this.margin=.2,this._tmpDir=new ze,this.pickNewTarget()}pickNewTarget(){const E=Math.random;this.target.set((E()*2-1)*(1-this.margin),(E()*2-1)*(1-this.margin))}forceStop(){this.active=!1,this.mouse.isAutoActive=!1}update(){if(!this.enabled)return;const E=performance.now();if(E-this.manager.lastUserInteraction<this.resumeDelay){this.active&&this.forceStop();return}if(this.mouse.isHoverInside){this.active&&this.forceStop();return}if(this.active||(this.active=!0,this.current.copy(this.mouse.coords),this.lastTime=E,this.activationTime=E),!this.active)return;this.mouse.isAutoActive=!0;let V=(E-this.lastTime)/1e3;this.lastTime=E,V>.2&&(V=.016);const se=this._tmpDir.subVectors(this.target,this.current),he=se.length();if(he<.01){this.pickNewTarget();return}se.normalize();let ve=1;if(this.rampDurationMs>0){const Zi=Math.min(1,(E-this.activationTime)/this.rampDurationMs);ve=Zi*Zi*(3-2*Zi)}const Bt=this.speed*V*ve,dr=Math.min(Bt,he);this.current.addScaledVector(se,dr),this.mouse.setNormalized(this.current.x,this.current.y)}}class Pe{constructor(E){var O;this.props=E||{},this.uniforms=(O=this.props.material)==null?void 0:O.uniforms,this.scene=null,this.camera=null,this.material=null,this.geometry=null,this.plane=null}init(){this.scene=new Ea,this.camera=new ja,this.uniforms&&(this.material=new ri(this.props.material),this.geometry=new en(2,2),this.plane=new Qi(this.geometry,this.material),this.scene.add(this.plane))}update(){z.renderer.setRenderTarget(this.props.output||null),z.renderer.render(this.scene,this.camera),z.renderer.setRenderTarget(null)}}class Ke extends Pe{constructor(E){super({material:{vertexShader:M,fragmentShader:Q,uniforms:{boundarySpace:{value:E.cellScale},px:{value:E.cellScale},fboSize:{value:E.fboSize},velocity:{value:E.src.texture},dt:{value:E.dt},isBFECC:{value:!0}}},output:E.dst}),this.uniforms=this.props.material.uniforms,this.init()}init(){super.init(),this.createBoundary()}createBoundary(){const E=new cf,O=new Float32Array([-1,-1,0,-1,1,0,-1,1,0,1,1,0,1,1,0,1,-1,0,1,-1,0,-1,-1,0]);E.setAttribute("position",new uf(O,3));const V=new ri({vertexShader:H,fragmentShader:Q,uniforms:this.uniforms});this.line=new hf(E,V),this.scene.add(this.line)}update({dt:E,isBounce:O,BFECC:V}){this.uniforms.dt.value=E,this.line.visible=O,this.uniforms.isBFECC.value=V,super.update()}}class Ne extends Pe{constructor(E){super({output:E.dst}),this.init(E)}init(E){super.init();const O=new en(1,1),V=new ri({vertexShader:J,fragmentShader:D,blending:df,depthWrite:!1,uniforms:{px:{value:E.cellScale},force:{value:new ze(0,0)},center:{value:new ze(0,0)},scale:{value:new ze(E.cursor_size,E.cursor_size)}}});this.mouse=new Qi(O,V),this.scene.add(this.mouse)}update(E){const O=le.diff.x/2*E.mouse_force,V=le.diff.y/2*E.mouse_force,se=E.cursor_size*E.cellScale.x,he=E.cursor_size*E.cellScale.y,ve=Math.min(Math.max(le.coords.x,-1+se+E.cellScale.x*2),1-se-E.cellScale.x*2),Bt=Math.min(Math.max(le.coords.y,-1+he+E.cellScale.y*2),1-he-E.cellScale.y*2),dr=this.mouse.material.uniforms;dr.force.value.set(O,V),dr.center.value.set(ve,Bt),dr.scale.value.set(E.cursor_size,E.cursor_size),super.update()}}class Be extends Pe{constructor(E){super({material:{vertexShader:M,fragmentShader:Y,uniforms:{boundarySpace:{value:E.boundarySpace},velocity:{value:E.src.texture},velocity_new:{value:E.dst_.texture},v:{value:E.viscous},px:{value:E.cellScale},dt:{value:E.dt}}},output:E.dst,output0:E.dst_,output1:E.dst}),this.init()}update({viscous:E,iterations:O,dt:V}){let se,he;this.uniforms.v.value=E;for(let ve=0;ve<O;ve++)ve%2===0?(se=this.props.output0,he=this.props.output1):(se=this.props.output1,he=this.props.output0),this.uniforms.velocity_new.value=se.texture,this.props.output=he,this.uniforms.dt.value=V,super.update();return he}}class ye extends Pe{constructor(E){super({material:{vertexShader:M,fragmentShader:C,uniforms:{boundarySpace:{value:E.boundarySpace},velocity:{value:E.src.texture},px:{value:E.cellScale},dt:{value:E.dt}}},output:E.dst}),this.init()}update({vel:E}){this.uniforms.velocity.value=E.texture,super.update()}}class yt extends Pe{constructor(E){super({material:{vertexShader:M,fragmentShader:X,uniforms:{boundarySpace:{value:E.boundarySpace},pressure:{value:E.dst_.texture},divergence:{value:E.src.texture},px:{value:E.cellScale}}},output:E.dst,output0:E.dst_,output1:E.dst}),this.init()}update({iterations:E}){let O,V;for(let se=0;se<E;se++)se%2===0?(O=this.props.output0,V=this.props.output1):(O=this.props.output1,V=this.props.output0),this.uniforms.pressure.value=O.texture,this.props.output=V,super.update();return V}}class ns extends Pe{constructor(E){super({material:{vertexShader:M,fragmentShader:U,uniforms:{boundarySpace:{value:E.boundarySpace},pressure:{value:E.src_p.texture},velocity:{value:E.src_v.texture},px:{value:E.cellScale},dt:{value:E.dt}}},output:E.dst}),this.init()}update({vel:E,pressure:O}){this.uniforms.velocity.value=E.texture,this.uniforms.pressure.value=O.texture,super.update()}}class I{constructor(E){this.options={iterations_poisson:32,iterations_viscous:32,mouse_force:20,resolution:.5,cursor_size:100,viscous:30,isBounce:!1,dt:.014,isViscous:!1,BFECC:!0,...E},this.fbos={vel_0:null,vel_1:null,vel_viscous0:null,vel_viscous1:null,div:null,pressure_0:null,pressure_1:null},this.fboSize=new ze,this.cellScale=new ze,this.boundarySpace=new ze,this.init()}init(){this.calcSize(),this.createAllFBO(),this.createShaderPass()}getFloatType(){return/(iPad|iPhone|iPod)/i.test(navigator.userAgent)?of:af}createAllFBO(){const O={type:this.getFloatType(),depthBuffer:!1,stencilBuffer:!1,minFilter:ti,magFilter:ti,wrapS:si,wrapT:si};for(let V in this.fbos)this.fbos[V]=new lf(this.fboSize.x,this.fboSize.y,O)}createShaderPass(){this.advection=new Ke({cellScale:this.cellScale,fboSize:this.fboSize,dt:this.options.dt,src:this.fbos.vel_0,dst:this.fbos.vel_1}),this.externalForce=new Ne({cellScale:this.cellScale,cursor_size:this.options.cursor_size,dst:this.fbos.vel_1}),this.viscous=new Be({cellScale:this.cellScale,boundarySpace:this.boundarySpace,viscous:this.options.viscous,src:this.fbos.vel_1,dst:this.fbos.vel_viscous1,dst_:this.fbos.vel_viscous0,dt:this.options.dt}),this.divergence=new ye({cellScale:this.cellScale,boundarySpace:this.boundarySpace,src:this.fbos.vel_viscous0,dst:this.fbos.div,dt:this.options.dt}),this.poisson=new yt({cellScale:this.cellScale,boundarySpace:this.boundarySpace,src:this.fbos.div,dst:this.fbos.pressure_1,dst_:this.fbos.pressure_0}),this.pressure=new ns({cellScale:this.cellScale,boundarySpace:this.boundarySpace,src_p:this.fbos.pressure_0,src_v:this.fbos.vel_viscous0,dst:this.fbos.vel_0,dt:this.options.dt})}calcSize(){const E=Math.max(1,Math.round(this.options.resolution*z.width)),O=Math.max(1,Math.round(this.options.resolution*z.height)),V=1/E,se=1/O;this.cellScale.set(V,se),this.fboSize.set(E,O)}resize(){this.calcSize();for(let E in this.fbos)this.fbos[E].setSize(this.fboSize.x,this.fboSize.y)}update(){this.options.isBounce?this.boundarySpace.set(0,0):this.boundarySpace.copy(this.cellScale),this.advection.update({dt:this.options.dt,isBounce:this.options.isBounce,BFECC:this.options.BFECC}),this.externalForce.update({cursor_size:this.options.cursor_size,mouse_force:this.options.mouse_force,cellScale:this.cellScale});let E=this.fbos.vel_1;this.options.isViscous&&(E=this.viscous.update({viscous:this.options.viscous,iterations:this.options.iterations_viscous,dt:this.options.dt})),this.divergence.update({vel:E});const O=this.poisson.update({iterations:this.options.iterations_poisson});this.pressure.update({vel:E,pressure:O})}}class K{constructor(){this.init()}init(){this.simulation=new I,this.scene=new Ea,this.camera=new ja,this.output=new Qi(new en(2,2),new ri({vertexShader:M,fragmentShader:B,transparent:!0,depthWrite:!1,uniforms:{velocity:{value:this.simulation.fbos.vel_0.texture},boundarySpace:{value:new ze},palette:{value:A},bgColor:{value:N}}})),this.scene.add(this.output)}resize(){this.simulation.resize()}render(){z.renderer.setRenderTarget(null),z.renderer.render(this.scene,this.camera)}update(){this.simulation.update(),this.render()}}class ee{constructor(E){this.props=E,z.init(E.$wrapper),le.init(E.$wrapper),le.autoIntensity=E.autoIntensity,le.takeoverDuration=E.takeoverDuration,this.lastUserInteraction=performance.now(),le.onInteract=()=>{this.lastUserInteraction=performance.now(),this.autoDriver&&this.autoDriver.forceStop()},this.autoDriver=new ct(le,this,{enabled:E.autoDemo,speed:E.autoSpeed,resumeDelay:E.autoResumeDelay,rampDuration:E.autoRampDuration}),this.init(),this._loop=this.loop.bind(this),this._resize=this.resize.bind(this),window.addEventListener("resize",this._resize),this._onVisibility=()=>{document.hidden?this.pause():j.current&&this.start()},document.addEventListener("visibilitychange",this._onVisibility),this.running=!1}init(){this.props.$wrapper.prepend(z.renderer.domElement),this.output=new K}resize(){z.resize(),this.output.resize()}render(){this.autoDriver&&this.autoDriver.update(),le.update(),z.update(),this.output.update()}loop(){this.running&&(this.render(),T.current=requestAnimationFrame(this._loop))}start(){this.running||(this.running=!0,this._loop())}pause(){this.running=!1,T.current&&(cancelAnimationFrame(T.current),T.current=null)}dispose(){try{if(window.removeEventListener("resize",this._resize),document.removeEventListener("visibilitychange",this._onVisibility),le.dispose(),z.renderer){const E=z.renderer.domElement;E&&E.parentNode&&E.parentNode.removeChild(E),z.renderer.dispose()}}catch{}}}const re=_.current;re.style.position=re.style.position||"relative",re.style.overflow=re.style.overflow||"hidden";const Ae=new ee({$wrapper:re,autoDemo:p,autoSpeed:g,autoIntensity:m,takeoverDuration:y,autoResumeDelay:w,autoRampDuration:v});b.current=Ae,(()=>{var O;if(!b.current)return;const G=(O=b.current.output)==null?void 0:O.simulation;if(!G)return;const E=G.options.resolution;Object.assign(G.options,{mouse_force:t,cursor_size:e,isViscous:s,viscous:r,iterations_viscous:i,iterations_poisson:n,dt:o,BFECC:a,resolution:l,isBounce:c}),l!==E&&G.resize()})(),Ae.start();const Re=new IntersectionObserver(G=>{const E=G[0],O=E.isIntersecting&&E.intersectionRatio>0;j.current=O,b.current&&(O&&!document.hidden?b.current.start():b.current.pause())},{threshold:[0,.01,.1]});Re.observe(re),k.current=Re;const Ue=new ResizeObserver(()=>{b.current&&(P.current&&cancelAnimationFrame(P.current),P.current=requestAnimationFrame(()=>{b.current&&b.current.resize()}))});return Ue.observe(re),x.current=Ue,()=>{if(T.current&&cancelAnimationFrame(T.current),x.current)try{x.current.disconnect()}catch{}if(k.current)try{k.current.disconnect()}catch{}b.current&&b.current.dispose(),b.current=null}},[a,e,o,c,s,n,i,t,l,r,u,p,g,m,y,w,v]),S.useEffect(()=>{var M;const R=b.current;if(!R)return;const A=(M=R.output)==null?void 0:M.simulation;if(!A)return;const N=A.options.resolution;Object.assign(A.options,{mouse_force:t,cursor_size:e,isViscous:s,viscous:r,iterations_viscous:i,iterations_poisson:n,dt:o,BFECC:a,resolution:l,isBounce:c}),R.autoDriver&&(R.autoDriver.enabled=p,R.autoDriver.speed=g,R.autoDriver.resumeDelay=w,R.autoDriver.rampDurationMs=v*1e3,R.autoDriver.mouse&&(R.autoDriver.mouse.autoIntensity=m,R.autoDriver.mouse.takeoverDuration=y)),l!==N&&A.resize()},[t,e,s,r,i,n,o,a,l,c,p,g,m,y,w,v]),h.jsx("div",{ref:_,className:`liquid-ether-container ${f||""}`,style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",zIndex:0,pointerEvents:"none",...d}})}var yy="1.3.17";function rh(t,e,s){return Math.max(t,Math.min(e,s))}function vy(t,e,s){return(1-s)*t+s*e}function wy(t,e,s,r){return vy(t,e,1-Math.exp(-s*r))}function _y(t,e){return(t%e+e)%e}var by=class{constructor(){$(this,"isRunning",!1);$(this,"value",0);$(this,"from",0);$(this,"to",0);$(this,"currentTime",0);$(this,"lerp");$(this,"duration");$(this,"easing");$(this,"onUpdate")}advance(t){var s;if(!this.isRunning)return;let e=!1;if(this.duration&&this.easing){this.currentTime+=t;const r=rh(0,this.currentTime/this.duration,1);e=r>=1;const i=e?1:this.easing(r);this.value=this.from+(this.to-this.from)*i}else this.lerp?(this.value=wy(this.value,this.to,this.lerp*60,t),Math.round(this.value)===this.to&&(this.value=this.to,e=!0)):(this.value=this.to,e=!0);e&&this.stop(),(s=this.onUpdate)==null||s.call(this,this.value,e)}stop(){this.isRunning=!1}fromTo(t,e,{lerp:s,duration:r,easing:i,onStart:n,onUpdate:o}){this.from=this.value=t,this.to=e,this.lerp=s,this.duration=r,this.easing=i,this.currentTime=0,this.isRunning=!0,n==null||n(),this.onUpdate=o}};function xy(t,e){let s;return function(...r){let i=this;clearTimeout(s),s=setTimeout(()=>{s=void 0,t.apply(i,r)},e)}}var Sy=class{constructor(t,e,{autoResize:s=!0,debounce:r=250}={}){$(this,"width",0);$(this,"height",0);$(this,"scrollHeight",0);$(this,"scrollWidth",0);$(this,"debouncedResize");$(this,"wrapperResizeObserver");$(this,"contentResizeObserver");$(this,"resize",()=>{this.onWrapperResize(),this.onContentResize()});$(this,"onWrapperResize",()=>{this.wrapper instanceof Window?(this.width=window.innerWidth,this.height=window.innerHeight):(this.width=this.wrapper.clientWidth,this.height=this.wrapper.clientHeight)});$(this,"onContentResize",()=>{this.wrapper instanceof Window?(this.scrollHeight=this.content.scrollHeight,this.scrollWidth=this.content.scrollWidth):(this.scrollHeight=this.wrapper.scrollHeight,this.scrollWidth=this.wrapper.scrollWidth)});this.wrapper=t,this.content=e,s&&(this.debouncedResize=xy(this.resize,r),this.wrapper instanceof Window?window.addEventListener("resize",this.debouncedResize,!1):(this.wrapperResizeObserver=new ResizeObserver(this.debouncedResize),this.wrapperResizeObserver.observe(this.wrapper)),this.contentResizeObserver=new ResizeObserver(this.debouncedResize),this.contentResizeObserver.observe(this.content)),this.resize()}destroy(){var t,e;(t=this.wrapperResizeObserver)==null||t.disconnect(),(e=this.contentResizeObserver)==null||e.disconnect(),this.wrapper===window&&this.debouncedResize&&window.removeEventListener("resize",this.debouncedResize,!1)}get limit(){return{x:this.scrollWidth-this.width,y:this.scrollHeight-this.height}}},ih=class{constructor(){$(this,"events",{})}emit(t,...e){var r;let s=this.events[t]||[];for(let i=0,n=s.length;i<n;i++)(r=s[i])==null||r.call(s,...e)}on(t,e){var s;return(s=this.events[t])!=null&&s.push(e)||(this.events[t]=[e]),()=>{var r;this.events[t]=(r=this.events[t])==null?void 0:r.filter(i=>e!==i)}}off(t,e){var s;this.events[t]=(s=this.events[t])==null?void 0:s.filter(r=>e!==r)}destroy(){this.events={}}},yl=100/6,Ut={passive:!1},Ty=class{constructor(t,e={wheelMultiplier:1,touchMultiplier:1}){$(this,"touchStart",{x:0,y:0});$(this,"lastDelta",{x:0,y:0});$(this,"window",{width:0,height:0});$(this,"emitter",new ih);$(this,"onTouchStart",t=>{const{clientX:e,clientY:s}=t.targetTouches?t.targetTouches[0]:t;this.touchStart.x=e,this.touchStart.y=s,this.lastDelta={x:0,y:0},this.emitter.emit("scroll",{deltaX:0,deltaY:0,event:t})});$(this,"onTouchMove",t=>{const{clientX:e,clientY:s}=t.targetTouches?t.targetTouches[0]:t,r=-(e-this.touchStart.x)*this.options.touchMultiplier,i=-(s-this.touchStart.y)*this.options.touchMultiplier;this.touchStart.x=e,this.touchStart.y=s,this.lastDelta={x:r,y:i},this.emitter.emit("scroll",{deltaX:r,deltaY:i,event:t})});$(this,"onTouchEnd",t=>{this.emitter.emit("scroll",{deltaX:this.lastDelta.x,deltaY:this.lastDelta.y,event:t})});$(this,"onWheel",t=>{let{deltaX:e,deltaY:s,deltaMode:r}=t;const i=r===1?yl:r===2?this.window.width:1,n=r===1?yl:r===2?this.window.height:1;e*=i,s*=n,e*=this.options.wheelMultiplier,s*=this.options.wheelMultiplier,this.emitter.emit("scroll",{deltaX:e,deltaY:s,event:t})});$(this,"onWindowResize",()=>{this.window={width:window.innerWidth,height:window.innerHeight}});this.element=t,this.options=e,window.addEventListener("resize",this.onWindowResize,!1),this.onWindowResize(),this.element.addEventListener("wheel",this.onWheel,Ut),this.element.addEventListener("touchstart",this.onTouchStart,Ut),this.element.addEventListener("touchmove",this.onTouchMove,Ut),this.element.addEventListener("touchend",this.onTouchEnd,Ut)}on(t,e){return this.emitter.on(t,e)}destroy(){this.emitter.destroy(),window.removeEventListener("resize",this.onWindowResize,!1),this.element.removeEventListener("wheel",this.onWheel,Ut),this.element.removeEventListener("touchstart",this.onTouchStart,Ut),this.element.removeEventListener("touchmove",this.onTouchMove,Ut),this.element.removeEventListener("touchend",this.onTouchEnd,Ut)}},vl=t=>Math.min(1,1.001-Math.pow(2,-10*t)),wl=class{constructor({wrapper:t=window,content:e=document.documentElement,eventsTarget:s=t,smoothWheel:r=!0,syncTouch:i=!1,syncTouchLerp:n=.075,touchInertiaExponent:o=1.7,duration:a,easing:l,lerp:c=.1,infinite:u=!1,orientation:d="vertical",gestureOrientation:f=d==="horizontal"?"both":"vertical",touchMultiplier:p=1,wheelMultiplier:g=1,autoResize:m=!0,prevent:y,virtualScroll:w,overscroll:v=!0,autoRaf:_=!1,anchors:b=!1,autoToggle:x=!1,allowNestedScroll:T=!1,__experimental__naiveDimensions:k=!1,naiveDimensions:j=k,stopInertiaOnNavigate:P=!1}={}){$(this,"_isScrolling",!1);$(this,"_isStopped",!1);$(this,"_isLocked",!1);$(this,"_preventNextNativeScrollEvent",!1);$(this,"_resetVelocityTimeout",null);$(this,"_rafId",null);$(this,"isTouching");$(this,"time",0);$(this,"userData",{});$(this,"lastVelocity",0);$(this,"velocity",0);$(this,"direction",0);$(this,"options");$(this,"targetScroll");$(this,"animatedScroll");$(this,"animate",new by);$(this,"emitter",new ih);$(this,"dimensions");$(this,"virtualScroll");$(this,"onScrollEnd",t=>{t instanceof CustomEvent||(this.isScrolling==="smooth"||this.isScrolling===!1)&&t.stopPropagation()});$(this,"dispatchScrollendEvent",()=>{this.options.wrapper.dispatchEvent(new CustomEvent("scrollend",{bubbles:this.options.wrapper===window,detail:{lenisScrollEnd:!0}}))});$(this,"onTransitionEnd",t=>{t.propertyName.includes("overflow")&&this.checkOverflow()});$(this,"onClick",t=>{const s=t.composedPath().filter(r=>r instanceof HTMLAnchorElement&&r.getAttribute("href"));if(this.options.anchors){const r=s.find(i=>{var n;return(n=i.getAttribute("href"))==null?void 0:n.includes("#")});if(r){const i=r.getAttribute("href");if(i){const n=typeof this.options.anchors=="object"&&this.options.anchors?this.options.anchors:void 0,o=`#${i.split("#")[1]}`;this.scrollTo(o,n)}}}this.options.stopInertiaOnNavigate&&s.find(i=>i.host===window.location.host)&&this.reset()});$(this,"onPointerDown",t=>{t.button===1&&this.reset()});$(this,"onVirtualScroll",t=>{if(typeof this.options.virtualScroll=="function"&&this.options.virtualScroll(t)===!1)return;const{deltaX:e,deltaY:s,event:r}=t;if(this.emitter.emit("virtual-scroll",{deltaX:e,deltaY:s,event:r}),r.ctrlKey||r.lenisStopPropagation)return;const i=r.type.includes("touch"),n=r.type.includes("wheel");this.isTouching=r.type==="touchstart"||r.type==="touchmove";const o=e===0&&s===0;if(this.options.syncTouch&&i&&r.type==="touchstart"&&o&&!this.isStopped&&!this.isLocked){this.reset();return}const l=this.options.gestureOrientation==="vertical"&&s===0||this.options.gestureOrientation==="horizontal"&&e===0;if(o||l)return;let c=r.composedPath();c=c.slice(0,c.indexOf(this.rootElement));const u=this.options.prevent;if(c.find(y=>{var w,v,_;return y instanceof HTMLElement&&(typeof u=="function"&&(u==null?void 0:u(y))||((w=y.hasAttribute)==null?void 0:w.call(y,"data-lenis-prevent"))||i&&((v=y.hasAttribute)==null?void 0:v.call(y,"data-lenis-prevent-touch"))||n&&((_=y.hasAttribute)==null?void 0:_.call(y,"data-lenis-prevent-wheel"))||this.options.allowNestedScroll&&this.checkNestedScroll(y,{deltaX:e,deltaY:s}))}))return;if(this.isStopped||this.isLocked){r.cancelable&&r.preventDefault();return}if(!(this.options.syncTouch&&i||this.options.smoothWheel&&n)){this.isScrolling="native",this.animate.stop(),r.lenisStopPropagation=!0;return}let f=s;this.options.gestureOrientation==="both"?f=Math.abs(s)>Math.abs(e)?s:e:this.options.gestureOrientation==="horizontal"&&(f=e),(!this.options.overscroll||this.options.infinite||this.options.wrapper!==window&&this.limit>0&&(this.animatedScroll>0&&this.animatedScroll<this.limit||this.animatedScroll===0&&s>0||this.animatedScroll===this.limit&&s<0))&&(r.lenisStopPropagation=!0),r.cancelable&&r.preventDefault();const p=i&&this.options.syncTouch,m=i&&r.type==="touchend";m&&(f=Math.sign(this.velocity)*Math.pow(Math.abs(this.velocity),this.options.touchInertiaExponent)),this.scrollTo(this.targetScroll+f,{programmatic:!1,...p?{lerp:m?this.options.syncTouchLerp:1}:{lerp:this.options.lerp,duration:this.options.duration,easing:this.options.easing}})});$(this,"onNativeScroll",()=>{if(this._resetVelocityTimeout!==null&&(clearTimeout(this._resetVelocityTimeout),this._resetVelocityTimeout=null),this._preventNextNativeScrollEvent){this._preventNextNativeScrollEvent=!1;return}if(this.isScrolling===!1||this.isScrolling==="native"){const t=this.animatedScroll;this.animatedScroll=this.targetScroll=this.actualScroll,this.lastVelocity=this.velocity,this.velocity=this.animatedScroll-t,this.direction=Math.sign(this.animatedScroll-t),this.isStopped||(this.isScrolling="native"),this.emit(),this.velocity!==0&&(this._resetVelocityTimeout=setTimeout(()=>{this.lastVelocity=this.velocity,this.velocity=0,this.isScrolling=!1,this.emit()},400))}});$(this,"raf",t=>{const e=t-(this.time||t);this.time=t,this.animate.advance(e*.001),this.options.autoRaf&&(this._rafId=requestAnimationFrame(this.raf))});window.lenisVersion=yy,(!t||t===document.documentElement)&&(t=window),typeof a=="number"&&typeof l!="function"?l=vl:typeof l=="function"&&typeof a!="number"&&(a=1),this.options={wrapper:t,content:e,eventsTarget:s,smoothWheel:r,syncTouch:i,syncTouchLerp:n,touchInertiaExponent:o,duration:a,easing:l,lerp:c,infinite:u,gestureOrientation:f,orientation:d,touchMultiplier:p,wheelMultiplier:g,autoResize:m,prevent:y,virtualScroll:w,overscroll:v,autoRaf:_,anchors:b,autoToggle:x,allowNestedScroll:T,naiveDimensions:j,stopInertiaOnNavigate:P},this.dimensions=new Sy(t,e,{autoResize:m}),this.updateClassName(),this.targetScroll=this.animatedScroll=this.actualScroll,this.options.wrapper.addEventListener("scroll",this.onNativeScroll,!1),this.options.wrapper.addEventListener("scrollend",this.onScrollEnd,{capture:!0}),(this.options.anchors||this.options.stopInertiaOnNavigate)&&this.options.wrapper.addEventListener("click",this.onClick,!1),this.options.wrapper.addEventListener("pointerdown",this.onPointerDown,!1),this.virtualScroll=new Ty(s,{touchMultiplier:p,wheelMultiplier:g}),this.virtualScroll.on("scroll",this.onVirtualScroll),this.options.autoToggle&&(this.checkOverflow(),this.rootElement.addEventListener("transitionend",this.onTransitionEnd,{passive:!0})),this.options.autoRaf&&(this._rafId=requestAnimationFrame(this.raf))}destroy(){this.emitter.destroy(),this.options.wrapper.removeEventListener("scroll",this.onNativeScroll,!1),this.options.wrapper.removeEventListener("scrollend",this.onScrollEnd,{capture:!0}),this.options.wrapper.removeEventListener("pointerdown",this.onPointerDown,!1),(this.options.anchors||this.options.stopInertiaOnNavigate)&&this.options.wrapper.removeEventListener("click",this.onClick,!1),this.virtualScroll.destroy(),this.dimensions.destroy(),this.cleanUpClassName(),this._rafId&&cancelAnimationFrame(this._rafId)}on(t,e){return this.emitter.on(t,e)}off(t,e){return this.emitter.off(t,e)}get overflow(){const t=this.isHorizontal?"overflow-x":"overflow-y";return getComputedStyle(this.rootElement)[t]}checkOverflow(){["hidden","clip"].includes(this.overflow)?this.internalStop():this.internalStart()}setScroll(t){this.isHorizontal?this.options.wrapper.scrollTo({left:t,behavior:"instant"}):this.options.wrapper.scrollTo({top:t,behavior:"instant"})}resize(){this.dimensions.resize(),this.animatedScroll=this.targetScroll=this.actualScroll,this.emit()}emit(){this.emitter.emit("scroll",this)}reset(){this.isLocked=!1,this.isScrolling=!1,this.animatedScroll=this.targetScroll=this.actualScroll,this.lastVelocity=this.velocity=0,this.animate.stop()}start(){if(this.isStopped){if(this.options.autoToggle){this.rootElement.style.removeProperty("overflow");return}this.internalStart()}}internalStart(){this.isStopped&&(this.reset(),this.isStopped=!1,this.emit())}stop(){if(!this.isStopped){if(this.options.autoToggle){this.rootElement.style.setProperty("overflow","clip");return}this.internalStop()}}internalStop(){this.isStopped||(this.reset(),this.isStopped=!0,this.emit())}scrollTo(t,{offset:e=0,immediate:s=!1,lock:r=!1,programmatic:i=!0,lerp:n=i?this.options.lerp:void 0,duration:o=i?this.options.duration:void 0,easing:a=i?this.options.easing:void 0,onStart:l,onComplete:c,force:u=!1,userData:d}={}){if(!((this.isStopped||this.isLocked)&&!u)){if(typeof t=="string"&&["top","left","start","#"].includes(t))t=0;else if(typeof t=="string"&&["bottom","right","end"].includes(t))t=this.limit;else{let f;if(typeof t=="string"?(f=document.querySelector(t),f||(t==="#top"?t=0:console.warn("Lenis: Target not found",t))):t instanceof HTMLElement&&(t!=null&&t.nodeType)&&(f=t),f){if(this.options.wrapper!==window){const g=this.rootElement.getBoundingClientRect();e-=this.isHorizontal?g.left:g.top}const p=f.getBoundingClientRect();t=(this.isHorizontal?p.left:p.top)+this.animatedScroll}}if(typeof t=="number"){if(t+=e,t=Math.round(t),this.options.infinite){if(i){this.targetScroll=this.animatedScroll=this.scroll;const f=t-this.animatedScroll;f>this.limit/2?t=t-this.limit:f<-this.limit/2&&(t=t+this.limit)}}else t=rh(0,t,this.limit);if(t===this.targetScroll){l==null||l(this),c==null||c(this);return}if(this.userData=d??{},s){this.animatedScroll=this.targetScroll=t,this.setScroll(this.scroll),this.reset(),this.preventNextNativeScrollEvent(),this.emit(),c==null||c(this),this.userData={},requestAnimationFrame(()=>{this.dispatchScrollendEvent()});return}i||(this.targetScroll=t),typeof o=="number"&&typeof a!="function"?a=vl:typeof a=="function"&&typeof o!="number"&&(o=1),this.animate.fromTo(this.animatedScroll,t,{duration:o,easing:a,lerp:n,onStart:()=>{r&&(this.isLocked=!0),this.isScrolling="smooth",l==null||l(this)},onUpdate:(f,p)=>{this.isScrolling="smooth",this.lastVelocity=this.velocity,this.velocity=f-this.animatedScroll,this.direction=Math.sign(this.velocity),this.animatedScroll=f,this.setScroll(this.scroll),i&&(this.targetScroll=f),p||this.emit(),p&&(this.reset(),this.emit(),c==null||c(this),this.userData={},requestAnimationFrame(()=>{this.dispatchScrollendEvent()}),this.preventNextNativeScrollEvent())}})}}}preventNextNativeScrollEvent(){this._preventNextNativeScrollEvent=!0,requestAnimationFrame(()=>{this._preventNextNativeScrollEvent=!1})}checkNestedScroll(t,{deltaX:e,deltaY:s}){const r=Date.now(),i=t._lenis??(t._lenis={});let n,o,a,l,c,u,d,f;const p=this.options.gestureOrientation;if(r-(i.time??0)>2e3){i.time=Date.now();const x=window.getComputedStyle(t);i.computedStyle=x;const T=x.overflowX,k=x.overflowY;if(n=["auto","overlay","scroll"].includes(T),o=["auto","overlay","scroll"].includes(k),i.hasOverflowX=n,i.hasOverflowY=o,!n&&!o||p==="vertical"&&!o||p==="horizontal"&&!n)return!1;c=t.scrollWidth,u=t.scrollHeight,d=t.clientWidth,f=t.clientHeight,a=c>d,l=u>f,i.isScrollableX=a,i.isScrollableY=l,i.scrollWidth=c,i.scrollHeight=u,i.clientWidth=d,i.clientHeight=f}else a=i.isScrollableX,l=i.isScrollableY,n=i.hasOverflowX,o=i.hasOverflowY,c=i.scrollWidth,u=i.scrollHeight,d=i.clientWidth,f=i.clientHeight;if(!n&&!o||!a&&!l||p==="vertical"&&(!o||!l)||p==="horizontal"&&(!n||!a))return!1;let g;if(p==="horizontal")g="x";else if(p==="vertical")g="y";else{const x=e!==0,T=s!==0;x&&n&&a&&(g="x"),T&&o&&l&&(g="y")}if(!g)return!1;let m,y,w,v,_;if(g==="x")m=t.scrollLeft,y=c-d,w=e,v=n,_=a;else if(g==="y")m=t.scrollTop,y=u-f,w=s,v=o,_=l;else return!1;return(w>0?m<y:m>0)&&v&&_}get rootElement(){return this.options.wrapper===window?document.documentElement:this.options.wrapper}get limit(){return this.options.naiveDimensions?this.isHorizontal?this.rootElement.scrollWidth-this.rootElement.clientWidth:this.rootElement.scrollHeight-this.rootElement.clientHeight:this.dimensions.limit[this.isHorizontal?"x":"y"]}get isHorizontal(){return this.options.orientation==="horizontal"}get actualScroll(){const t=this.options.wrapper;return this.isHorizontal?t.scrollX??t.scrollLeft:t.scrollY??t.scrollTop}get scroll(){return this.options.infinite?_y(this.animatedScroll,this.limit):this.animatedScroll}get progress(){return this.limit===0?1:this.scroll/this.limit}get isScrolling(){return this._isScrolling}set isScrolling(t){this._isScrolling!==t&&(this._isScrolling=t,this.updateClassName())}get isStopped(){return this._isStopped}set isStopped(t){this._isStopped!==t&&(this._isStopped=t,this.updateClassName())}get isLocked(){return this._isLocked}set isLocked(t){this._isLocked!==t&&(this._isLocked=t,this.updateClassName())}get isSmooth(){return this.isScrolling==="smooth"}get className(){let t="lenis";return this.options.autoToggle&&(t+=" lenis-autoToggle"),this.isStopped&&(t+=" lenis-stopped"),this.isLocked&&(t+=" lenis-locked"),this.isScrolling&&(t+=" lenis-scrolling"),this.isScrolling==="smooth"&&(t+=" lenis-smooth"),t}updateClassName(){this.cleanUpClassName(),this.rootElement.className=`${this.rootElement.className} ${this.className}`.trim()}cleanUpClassName(){this.rootElement.className=this.rootElement.className.replace(/lenis(-\w+)?/g,"").trim()}};const us=({children:t,itemClassName:e=""})=>h.jsx("div",{className:`scroll-stack-card ${e}`.trim(),children:t}),ky=({children:t,className:e="",itemDistance:s=100,itemScale:r=.03,itemStackDistance:i=30,stackPosition:n="20%",scaleEndPosition:o="10%",baseScale:a=.85,scaleDuration:l=.5,rotationAmount:c=0,blurAmount:u=0,useWindowScroll:d=!1,onStackComplete:f})=>{const p=S.useRef(null),g=S.useRef(!1),m=S.useRef(null),y=S.useRef(null),w=S.useRef([]),v=S.useRef(new Map),_=S.useRef(!1),b=S.useCallback((A,N,M)=>A<N?0:A>M?1:(A-N)/(M-N),[]),x=S.useCallback((A,N)=>typeof A=="string"&&A.includes("%")?parseFloat(A)/100*N:parseFloat(A),[]),T=S.useCallback(()=>{if(d)return{scrollTop:window.scrollY,containerHeight:window.innerHeight,scrollContainer:document.documentElement};{const A=p.current;return{scrollTop:A.scrollTop,containerHeight:A.clientHeight,scrollContainer:A}}},[d]),k=S.useCallback(A=>d?A.getBoundingClientRect().top+window.scrollY:A.offsetTop,[d]),j=S.useCallback(()=>{var B;if(!w.current.length||_.current)return;_.current=!0;const{scrollTop:A,containerHeight:N}=T(),M=x(n,N),H=x(o,N),J=d?document.querySelector(".scroll-stack-end"):(B=p.current)==null?void 0:B.querySelector(".scroll-stack-end"),Q=J?k(J):0;w.current.forEach((C,D)=>{if(!C)return;const X=k(C),U=X-M-i*D,Y=X-H,ge=X-M-i*D,z=Q-N/2,oe=b(A,U,Y),le=a+D*r,ct=1-oe*(1-le),Pe=c?D*c*oe:0;let Ke=0;if(u){let I=0;for(let K=0;K<w.current.length;K++){const re=k(w.current[K])-M-i*K;A>=re&&(I=K)}if(D<I){const K=I-D;Ke=Math.max(0,K*u)}}let Ne=0;A>=ge&&A<=z?Ne=A-X+M+i*D:A>z&&(Ne=z-X+M+i*D);const ye={translateY:Math.round(Ne*100)/100,scale:Math.round(ct*1e3)/1e3,rotation:Math.round(Pe*100)/100,blur:Math.round(Ke*100)/100},yt=v.current.get(D);if(!yt||Math.abs(yt.translateY-ye.translateY)>.1||Math.abs(yt.scale-ye.scale)>.001||Math.abs(yt.rotation-ye.rotation)>.1||Math.abs(yt.blur-ye.blur)>.1){const I=`translate3d(0, ${ye.translateY}px, 0) scale(${ye.scale}) rotate(${ye.rotation}deg)`,K=ye.blur>0?`blur(${ye.blur}px)`:"";C.style.transform=I,C.style.filter=K,v.current.set(D,ye)}if(D===w.current.length-1){const I=A>=ge&&A<=z;I&&!g.current?(g.current=!0,f==null||f()):!I&&g.current&&(g.current=!1)}}),_.current=!1},[r,i,n,o,a,c,u,d,f,b,x,T,k]),P=S.useCallback(()=>{j()},[j]),R=S.useCallback(()=>{if(d){const A=new wl({duration:1.2,easing:M=>Math.min(1,1.001-Math.pow(2,-10*M)),smoothWheel:!0,touchMultiplier:2,infinite:!1,wheelMultiplier:1,lerp:.1,syncTouch:!0,syncTouchLerp:.075});A.on("scroll",P);const N=M=>{A.raf(M),m.current=requestAnimationFrame(N)};return m.current=requestAnimationFrame(N),y.current=A,A}else{const A=p.current;if(!A)return;const N=new wl({wrapper:A,content:A.querySelector(".scroll-stack-inner"),duration:1.2,easing:H=>Math.min(1,1.001-Math.pow(2,-10*H)),smoothWheel:!0,touchMultiplier:2,infinite:!1,gestureOrientationHandler:!0,normalizeWheel:!0,wheelMultiplier:1,touchInertiaMultiplier:35,lerp:.1,syncTouch:!0,syncTouchLerp:.075,touchInertia:.6});N.on("scroll",P);const M=H=>{N.raf(H),m.current=requestAnimationFrame(M)};return m.current=requestAnimationFrame(M),y.current=N,N}},[P,d]);return S.useLayoutEffect(()=>{const A=p.current;if(!A)return;const N=Array.from(d?document.querySelectorAll(".scroll-stack-card"):A.querySelectorAll(".scroll-stack-card"));w.current=N;const M=v.current;return N.forEach((H,J)=>{J<N.length-1&&(H.style.marginBottom=`${s}px`),H.style.willChange="transform, filter",H.style.transformOrigin="top center",H.style.backfaceVisibility="hidden",H.style.transform="translateZ(0)",H.style.webkitTransform="translateZ(0)",H.style.perspective="1000px",H.style.webkitPerspective="1000px"}),R(),j(),()=>{m.current&&cancelAnimationFrame(m.current),y.current&&y.current.destroy(),g.current=!1,w.current=[],M.clear(),_.current=!1}},[s,r,i,n,o,a,l,c,u,d,f,R,j]),h.jsx("div",{className:`scroll-stack-scroller ${e}`.trim(),ref:p,children:h.jsxs("div",{className:"scroll-stack-inner",children:[t,h.jsx("div",{className:"scroll-stack-end"})]})})},Cy=()=>typeof window>"u"?!1:/Windows/.test(navigator.userAgent),Ey=()=>typeof window>"u"?!1:/Chrome/.test(navigator.userAgent)&&!/Edge/.test(navigator.userAgent),jy=()=>Cy()&&Ey(),Rt=t=>{const e=jy();return{resolution:e?t?.3:.4:t?.35:.5,iterationsViscous:e?t?20:28:t?24:32,iterationsPoisson:e?t?20:28:t?24:32,autoSpeed:e?t?.3:.4:t?.4:.5,usePassiveScroll:e,reducedMotion:!1}};function Py(){const t=typeof window<"u"&&(/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)||window.innerWidth<=768),e=Rt(t);return h.jsxs("div",{className:"homepage-container",children:[h.jsx(At,{colors:["#5227FF","#FF9FFC","#B19EEF"],mouseForce:t?18:24,cursorSize:t?80:100,isViscous:!0,viscous:30,iterationsViscous:e.iterationsViscous,iterationsPoisson:e.iterationsPoisson,resolution:e.resolution,isBounce:!1,autoDemo:!0,autoSpeed:e.autoSpeed,autoIntensity:2.2,takeoverDuration:.25,autoResumeDelay:3e3,autoRampDuration:.6}),h.jsxs("div",{className:"homepage-content",children:[h.jsx("div",{className:"logo-section",children:h.jsx("img",{src:"/logo.png",alt:"Marapone Contracting Inc. Logo"})}),h.jsxs("div",{className:"welcome-section",children:[h.jsx("h1",{className:"welcome-title",children:"Marapone Contracting Inc."}),h.jsx("p",{className:"welcome-text",children:"Transforming vision into exceptional results - delivered with precision and professionalism."}),h.jsx("p",{className:"welcome-subtext",children:"Your strategic partner of choice in AI-powered solutions, international trade, logistics optimization, business development, marketing, consulting, and project excellence."})]}),h.jsx("div",{className:"services-scroll-section",children:h.jsxs(ky,{children:[h.jsxs(us,{itemClassName:"card-1",children:[h.jsx("div",{className:"scroll-stack-card-icon",children:"ðŸ’¼"}),h.jsx("h2",{children:"Consulting"}),h.jsx("p",{children:"Strategic consulting services to optimize your business operations and drive sustainable growth."})]}),h.jsxs(us,{itemClassName:"card-2",children:[h.jsx("div",{className:"scroll-stack-card-icon",children:"ðŸ¤–"}),h.jsx("h2",{children:"AI Solutions"}),h.jsx("p",{children:"Cutting-edge AI-powered solutions to automate processes and unlock new opportunities."})]}),h.jsxs(us,{itemClassName:"card-3",children:[h.jsx("div",{className:"scroll-stack-card-icon",children:"ðŸŒ"}),h.jsx("h2",{children:"Import/Export & Logistics"}),h.jsx("p",{children:"Comprehensive international trade and logistics optimization for seamless global operations."})]}),h.jsxs(us,{itemClassName:"card-4",children:[h.jsx("div",{className:"scroll-stack-card-icon",children:"ðŸ“±"}),h.jsx("h2",{children:"Marketing Solutions"}),h.jsx("p",{children:"Data-driven marketing strategies to amplify your brand and reach your target audience."})]}),h.jsxs(us,{itemClassName:"card-5",children:[h.jsx("div",{className:"scroll-stack-card-icon",children:"ðŸš€"}),h.jsx("h2",{children:"Project Development/Management"}),h.jsx("p",{children:"End-to-end project management ensuring on-time delivery and exceptional results."})]}),h.jsxs(us,{itemClassName:"card-6",children:[h.jsx("div",{className:"scroll-stack-card-icon",children:"ðŸ“Š"}),h.jsx("h2",{children:"Business Development/Management"}),h.jsx("p",{children:"Strategic business development to identify opportunities and drive organizational excellence."})]}),h.jsx(us,{itemClassName:"card-7",children:h.jsxs("div",{className:"scroll-stack-card-content",onClick:()=>window.location.href="/contact",style:{cursor:"pointer"},children:[h.jsx("div",{className:"scroll-stack-card-icon",children:"âœ‰ï¸"}),h.jsx("h2",{children:"Contact Us"}),h.jsx("p",{children:"Get in touch with our team to discuss your project and discover how we can help."})]})})]})})]})]})}const wr=S.forwardRef(({customClass:t,...e},s)=>h.jsx("div",{ref:s,...e,className:`card ${t??""} ${e.className??""}`.trim()}));wr.displayName="Card";const yn=(t,e,s,r)=>({x:t*e,y:-t*s,z:-t*e*1.5,zIndex:r-t}),Ay=(t,e,s)=>te.set(t,{x:e.x,y:e.y,z:e.z,xPercent:-50,yPercent:-50,skewY:s,transformOrigin:"center center",zIndex:e.zIndex,force3D:!0}),Ry=({width:t=500,height:e=400,cardDistance:s=60,verticalDistance:r=70,delay:i=5e3,pauseOnHover:n=!1,onCardClick:o,skewAmount:a=6,easing:l="elastic",children:c})=>{const u=l==="elastic"?{ease:"elastic.out(0.6,0.9)",durDrop:2,durMove:2,durReturn:2,promoteOverlap:.9,returnDelay:.05}:{ease:"power1.inOut",durDrop:.8,durMove:.8,durReturn:.8,promoteOverlap:.45,returnDelay:.2},d=S.useMemo(()=>S.Children.toArray(c),[c]),f=S.useMemo(()=>d.map(()=>nt.createRef()),[d.length]),p=S.useRef(Array.from({length:d.length},(v,_)=>_)),g=S.useRef(null),m=S.useRef(),y=S.useRef(null);S.useEffect(()=>{const v=f.length;f.forEach((b,x)=>Ay(b.current,yn(x,s,r,v),a));const _=()=>{if(p.current.length<2)return;const[b,...x]=p.current,T=f[b].current,k=te.timeline();g.current=k,k.to(T,{y:"+=500",duration:u.durDrop,ease:u.ease}),k.addLabel("promote",`-=${u.durDrop*u.promoteOverlap}`),x.forEach((P,R)=>{const A=f[P].current,N=yn(R,s,r,f.length);k.set(A,{zIndex:N.zIndex},"promote"),k.to(A,{x:N.x,y:N.y,z:N.z,duration:u.durMove,ease:u.ease},`promote+=${R*.15}`)});const j=yn(f.length-1,s,r,f.length);k.addLabel("return",`promote+=${u.durMove*u.returnDelay}`),k.call(()=>{te.set(T,{zIndex:j.zIndex})},void 0,"return"),k.to(T,{x:j.x,y:j.y,z:j.z,duration:u.durReturn,ease:u.ease},"return"),k.call(()=>{p.current=[...x,b]})};if(_(),m.current=window.setInterval(_,i),n){const b=y.current,x=()=>{var k;(k=g.current)==null||k.pause(),clearInterval(m.current)},T=()=>{var k;(k=g.current)==null||k.play(),m.current=window.setInterval(_,i)};return b.addEventListener("mouseenter",x),b.addEventListener("mouseleave",T),()=>{b.removeEventListener("mouseenter",x),b.removeEventListener("mouseleave",T),clearInterval(m.current)}}return()=>clearInterval(m.current)},[s,r,i,n,a,l]);const w=d.map((v,_)=>S.isValidElement(v)?S.cloneElement(v,{key:_,ref:f[_],style:{width:t,height:e,...v.props.style??{}},onClick:b=>{var x,T;(T=(x=v.props).onClick)==null||T.call(x,b),o==null||o(_)}}):v);return h.jsx("div",{ref:y,className:"card-swap-container",style:{width:t,height:e},children:w})};function Oy(){const t=typeof window<"u"&&(/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)||window.innerWidth<=768),e=Rt(t),s=[{name:"Claude AI",url:"https://claude.ai",logo:'data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 200 60"%3E%3Ctext x="10" y="42" font-family="system-ui, -apple-system, sans-serif" font-size="32" font-weight="600" fill="%23E8DCC5"%3EClaude%3C/text%3E%3C/svg%3E'},{name:"Searates",url:"https://www.searates.com",logo:'data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 200 60"%3E%3Ctext x="10" y="42" font-family="system-ui, -apple-system, sans-serif" font-size="32" font-weight="600" fill="%2300A3E0"%3ESeaRates%3C/text%3E%3C/svg%3E'},{name:"Freightos",url:"https://www.freightos.com",logo:'data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 200 60"%3E%3Ctext x="10" y="42" font-family="system-ui, -apple-system, sans-serif" font-size="32" font-weight="600" fill="%2300D4AA"%3EFreightos%3C/text%3E%3C/svg%3E'},{name:"Airrates",url:"https://www.airrates.com",logo:'data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 200 60"%3E%3Ctext x="10" y="42" font-family="system-ui, -apple-system, sans-serif" font-size="32" font-weight="600" fill="%234A90E2"%3EAirrates%3C/text%3E%3C/svg%3E'}];return h.jsxs("div",{className:"page-container",children:[h.jsx(At,{colors:["#5227FF","#FF9FFC","#B19EEF"],mouseForce:t?18:24,cursorSize:t?80:100,isViscous:!0,viscous:30,iterationsViscous:e.iterationsViscous,iterationsPoisson:e.iterationsPoisson,resolution:e.resolution,isBounce:!1,autoDemo:!0,autoSpeed:e.autoSpeed,autoIntensity:2.2,takeoverDuration:.25,autoResumeDelay:3e3,autoRampDuration:.6}),h.jsxs("div",{className:"page-content",children:[h.jsx("h1",{className:"page-title",children:"About Marapone Contracting"}),h.jsx("p",{className:"page-subtitle",children:"Excellence in AI Solutions, Consulting, and Global Logistics"}),h.jsx("div",{className:"card-swap-wrapper",children:h.jsxs(Ry,{width:t?350:800,height:t?500:600,cardDistance:t?60:100,verticalDistance:t?70:100,delay:4e3,pauseOnHover:!1,skewAmount:6,easing:"elastic",children:[h.jsxs(wr,{children:[h.jsx("h2",{children:"ðŸš€ Who We Are"}),h.jsx("p",{children:"We're your strategic partner for AI-powered solutions, international trade, and business growth. Think of us as the Swiss Army knife of modern businessâ€”versatile, reliable, and always ready to tackle your biggest challenges."}),h.jsx("p",{children:"ðŸŒ Operating across multiple continents, we blend cutting-edge tech with real-world expertise to help businesses not just survive, but thrive. Whether you're a startup with big dreams or an enterprise looking to innovate, we've got your back."}),h.jsx("p",{children:"ðŸ’¡ Our secret sauce? We don't just deliver servicesâ€”we build partnerships that actually move the needle on your growth."})]}),h.jsxs(wr,{children:[h.jsx("h2",{children:"âœ¨ Why Work With Us"}),h.jsxs("div",{className:"why-choose-grid",children:[h.jsxs("div",{className:"why-item",children:[h.jsx("span",{className:"why-emoji",children:"ðŸŒ"}),h.jsxs("div",{children:[h.jsx("h3",{children:"Global Reach"}),h.jsx("p",{children:"Multi-continent operations with proven success stories"})]})]}),h.jsxs("div",{className:"why-item",children:[h.jsx("span",{className:"why-emoji",children:"âš¡"}),h.jsxs("div",{children:[h.jsx("h3",{children:"Innovation First"}),h.jsx("p",{children:"Cutting-edge tech that actually works for your business"})]})]}),h.jsxs("div",{className:"why-item",children:[h.jsx("span",{className:"why-emoji",children:"ðŸ¤"}),h.jsxs("div",{children:[h.jsx("h3",{children:"Partnership Focused"}),h.jsx("p",{children:"We're in it for the long haul, not just quick wins"})]})]}),h.jsxs("div",{className:"why-item",children:[h.jsx("span",{className:"why-emoji",children:"ðŸŽ¯"}),h.jsxs("div",{children:[h.jsx("h3",{children:"Results Driven"}),h.jsx("p",{children:"Measurable outcomes that move your bottom line"})]})]})]})]}),h.jsxs(wr,{children:[h.jsx("h2",{children:"ðŸ¤ Trusted Partners"}),h.jsx("p",{children:"We team up with the best in the business to bring you world-class solutions. Click any logo to learn more about our partners!"}),h.jsx("div",{className:"partners-grid",children:s.map((r,i)=>h.jsx("a",{href:r.url,target:"_blank",rel:"noopener noreferrer",className:"partner-link",onClick:n=>n.stopPropagation(),children:h.jsx("img",{src:r.logo,alt:r.name})},i))}),h.jsx("p",{style:{marginTop:"1.5rem",fontSize:"1rem",opacity:.85},children:"ðŸ”— These partnerships mean you get access to cutting-edge tools and platforms without the hassle."})]}),h.jsxs(wr,{children:[h.jsx("h2",{children:"ðŸŽ¯ What We Offer"}),h.jsx("p",{children:"Think of us as your business's ultimate upgrade package. We don't just offer servicesâ€”we deliver complete ecosystems that work together seamlessly."}),h.jsxs("div",{className:"why-choose-grid",children:[h.jsxs("div",{className:"why-item",children:[h.jsx("span",{className:"why-emoji",children:"ðŸ¤–"}),h.jsxs("div",{children:[h.jsx("h3",{children:"AI That Actually Works"}),h.jsx("p",{children:"No buzzwords, just real automation that saves time and money"})]})]}),h.jsxs("div",{className:"why-item",children:[h.jsx("span",{className:"why-emoji",children:"ðŸ’¡"}),h.jsxs("div",{children:[h.jsx("h3",{children:"Strategic Thinking"}),h.jsx("p",{children:"Consulting that goes beyond PowerPoints to drive real change"})]})]}),h.jsxs("div",{className:"why-item",children:[h.jsx("span",{className:"why-emoji",children:"ðŸŒ"}),h.jsxs("div",{children:[h.jsx("h3",{children:"Global Trade Made Easy"}),h.jsx("p",{children:"Navigate international logistics without the headaches"})]})]}),h.jsxs("div",{className:"why-item",children:[h.jsx("span",{className:"why-emoji",children:"ðŸ“ˆ"}),h.jsxs("div",{children:[h.jsx("h3",{children:"Marketing That Converts"}),h.jsx("p",{children:"Data-driven campaigns that turn clicks into customers"})]})]})]}),h.jsx("p",{style:{marginTop:"1.5rem",fontSize:"1rem",opacity:.85},children:"ðŸ’¼ The best part? Everything integrates. Your AI talks to your logistics, your marketing feeds your consulting insights. It's business synergy at its finest."})]})]})})]})]})}const dt=({children:t,className:e="",spotlightColor:s="rgba(255, 255, 255, 0.25)"})=>{const r=S.useRef(null),i=n=>{const o=r.current.getBoundingClientRect(),a=n.clientX-o.left,l=n.clientY-o.top;r.current.style.setProperty("--mouse-x",`${a}px`),r.current.style.setProperty("--mouse-y",`${l}px`),r.current.style.setProperty("--spotlight-color",s)};return h.jsx("div",{ref:r,onMouseMove:i,className:`card-spotlight ${e}`,children:t})},nh=S.createContext({});function Ny(t){const e=S.useRef(null);return e.current===null&&(e.current=t()),e.current}const oh=typeof window<"u",Dy=oh?S.useLayoutEffect:S.useEffect,Jo=S.createContext(null);function Xo(t,e){t.indexOf(e)===-1&&t.push(e)}function Zo(t,e){const s=t.indexOf(e);s>-1&&t.splice(s,1)}const Pt=(t,e,s)=>s>e?e:s<t?t:s;let Qo=()=>{};const $t={},ah=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function lh(t){return typeof t=="object"&&t!==null}const ch=t=>/^0[^.\s]+$/u.test(t);function ea(t){let e;return()=>(e===void 0&&(e=t()),e)}const gt=t=>t,Iy=(t,e)=>s=>e(t(s)),Xr=(...t)=>t.reduce(Iy),Wr=(t,e,s)=>{const r=e-t;return r===0?1:(s-t)/r};class ta{constructor(){this.subscriptions=[]}add(e){return Xo(this.subscriptions,e),()=>Zo(this.subscriptions,e)}notify(e,s,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,s,r);else for(let n=0;n<i;n++){const o=this.subscriptions[n];o&&o(e,s,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Mt=t=>t*1e3,mt=t=>t/1e3;function uh(t,e){return e?t*(1e3/e):0}const hh=(t,e,s)=>(((1-3*s+3*e)*t+(3*s-6*e))*t+3*e)*t,My=1e-7,Ly=12;function Fy(t,e,s,r,i){let n,o,a=0;do o=e+(s-e)/2,n=hh(o,r,i)-t,n>0?s=o:e=o;while(Math.abs(n)>My&&++a<Ly);return o}function Zr(t,e,s,r){if(t===e&&s===r)return gt;const i=n=>Fy(n,0,1,t,s);return n=>n===0||n===1?n:hh(i(n),e,r)}const dh=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,fh=t=>e=>1-t(1-e),ph=Zr(.33,1.53,.69,.99),sa=fh(ph),mh=dh(sa),gh=t=>(t*=2)<1?.5*sa(t):.5*(2-Math.pow(2,-10*(t-1))),ra=t=>1-Math.sin(Math.acos(t)),yh=fh(ra),vh=dh(ra),$y=Zr(.42,0,1,1),Vy=Zr(0,0,.58,1),wh=Zr(.42,0,.58,1),By=t=>Array.isArray(t)&&typeof t[0]!="number",_h=t=>Array.isArray(t)&&typeof t[0]=="number",Uy={linear:gt,easeIn:$y,easeInOut:wh,easeOut:Vy,circIn:ra,circInOut:vh,circOut:yh,backIn:sa,backInOut:mh,backOut:ph,anticipate:gh},zy=t=>typeof t=="string",_l=t=>{if(_h(t)){Qo(t.length===4);const[e,s,r,i]=t;return Zr(e,s,r,i)}else if(zy(t))return Uy[t];return t},hi=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function Wy(t,e){let s=new Set,r=new Set,i=!1,n=!1;const o=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1};function l(u){o.has(u)&&(c.schedule(u),t()),u(a)}const c={schedule:(u,d=!1,f=!1)=>{const g=f&&i?s:r;return d&&o.add(u),g.has(u)||g.add(u),u},cancel:u=>{r.delete(u),o.delete(u)},process:u=>{if(a=u,i){n=!0;return}i=!0,[s,r]=[r,s],s.forEach(l),s.clear(),i=!1,n&&(n=!1,c.process(u))}};return c}const qy=40;function bh(t,e){let s=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},n=()=>s=!0,o=hi.reduce((_,b)=>(_[b]=Wy(n),_),{}),{setup:a,read:l,resolveKeyframes:c,preUpdate:u,update:d,preRender:f,render:p,postRender:g}=o,m=()=>{const _=$t.useManualTiming?i.timestamp:performance.now();s=!1,$t.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(_-i.timestamp,qy),1)),i.timestamp=_,i.isProcessing=!0,a.process(i),l.process(i),c.process(i),u.process(i),d.process(i),f.process(i),p.process(i),g.process(i),i.isProcessing=!1,s&&e&&(r=!1,t(m))},y=()=>{s=!0,r=!0,i.isProcessing||t(m)};return{schedule:hi.reduce((_,b)=>{const x=o[b];return _[b]=(T,k=!1,j=!1)=>(s||y(),x.schedule(T,k,j)),_},{}),cancel:_=>{for(let b=0;b<hi.length;b++)o[hi[b]].cancel(_)},state:i,steps:o}}const{schedule:ce,cancel:ts,state:Me,steps:vn}=bh(typeof requestAnimationFrame<"u"?requestAnimationFrame:gt,!0);let yi;function Hy(){yi=void 0}const qe={now:()=>(yi===void 0&&qe.set(Me.isProcessing||$t.useManualTiming?Me.timestamp:performance.now()),yi),set:t=>{yi=t,queueMicrotask(Hy)}},xh=t=>e=>typeof e=="string"&&e.startsWith(t),Sh=xh("--"),Ky=xh("var(--"),ia=t=>Ky(t)?Gy.test(t.split("/*")[0].trim()):!1,Gy=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function bl(t){return typeof t!="string"?!1:t.split("/*")[0].includes("var(--")}const lr={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},qr={...lr,transform:t=>Pt(0,1,t)},di={...lr,default:1},Er=t=>Math.round(t*1e5)/1e5,na=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Yy(t){return t==null}const Jy=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,oa=(t,e)=>s=>!!(typeof s=="string"&&Jy.test(s)&&s.startsWith(t)||e&&!Yy(s)&&Object.prototype.hasOwnProperty.call(s,e)),Th=(t,e,s)=>r=>{if(typeof r!="string")return r;const[i,n,o,a]=r.match(na);return{[t]:parseFloat(i),[e]:parseFloat(n),[s]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},Xy=t=>Pt(0,255,t),wn={...lr,transform:t=>Math.round(Xy(t))},bs={test:oa("rgb","red"),parse:Th("red","green","blue"),transform:({red:t,green:e,blue:s,alpha:r=1})=>"rgba("+wn.transform(t)+", "+wn.transform(e)+", "+wn.transform(s)+", "+Er(qr.transform(r))+")"};function Zy(t){let e="",s="",r="",i="";return t.length>5?(e=t.substring(1,3),s=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),s=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,s+=s,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(s,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const oo={test:oa("#"),parse:Zy,transform:bs.transform},Qr=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),zt=Qr("deg"),Et=Qr("%"),L=Qr("px"),Qy=Qr("vh"),ev=Qr("vw"),xl={...Et,parse:t=>Et.parse(t)/100,transform:t=>Et.transform(t*100)},zs={test:oa("hsl","hue"),parse:Th("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:s,alpha:r=1})=>"hsla("+Math.round(t)+", "+Et.transform(Er(e))+", "+Et.transform(Er(s))+", "+Er(qr.transform(r))+")"},Te={test:t=>bs.test(t)||oo.test(t)||zs.test(t),parse:t=>bs.test(t)?bs.parse(t):zs.test(t)?zs.parse(t):oo.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?bs.transform(t):zs.transform(t),getAnimatableNone:t=>{const e=Te.parse(t);return e.alpha=0,Te.transform(e)}},tv=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function sv(t){var e,s;return isNaN(t)&&typeof t=="string"&&(((e=t.match(na))==null?void 0:e.length)||0)+(((s=t.match(tv))==null?void 0:s.length)||0)>0}const kh="number",Ch="color",rv="var",iv="var(",Sl="${}",nv=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Hr(t){const e=t.toString(),s=[],r={color:[],number:[],var:[]},i=[];let n=0;const a=e.replace(nv,l=>(Te.test(l)?(r.color.push(n),i.push(Ch),s.push(Te.parse(l))):l.startsWith(iv)?(r.var.push(n),i.push(rv),s.push(l)):(r.number.push(n),i.push(kh),s.push(parseFloat(l))),++n,Sl)).split(Sl);return{values:s,split:a,indexes:r,types:i}}function Eh(t){return Hr(t).values}function jh(t){const{split:e,types:s}=Hr(t),r=e.length;return i=>{let n="";for(let o=0;o<r;o++)if(n+=e[o],i[o]!==void 0){const a=s[o];a===kh?n+=Er(i[o]):a===Ch?n+=Te.transform(i[o]):n+=i[o]}return n}}const ov=t=>typeof t=="number"?0:Te.test(t)?Te.getAnimatableNone(t):t;function av(t){const e=Eh(t);return jh(t)(e.map(ov))}const ss={test:sv,parse:Eh,createTransformer:jh,getAnimatableNone:av};function _n(t,e,s){return s<0&&(s+=1),s>1&&(s-=1),s<1/6?t+(e-t)*6*s:s<1/2?e:s<2/3?t+(e-t)*(2/3-s)*6:t}function lv({hue:t,saturation:e,lightness:s,alpha:r}){t/=360,e/=100,s/=100;let i=0,n=0,o=0;if(!e)i=n=o=s;else{const a=s<.5?s*(1+e):s+e-s*e,l=2*s-a;i=_n(l,a,t+1/3),n=_n(l,a,t),o=_n(l,a,t-1/3)}return{red:Math.round(i*255),green:Math.round(n*255),blue:Math.round(o*255),alpha:r}}function Ri(t,e){return s=>s>0?e:t}const me=(t,e,s)=>t+(e-t)*s,bn=(t,e,s)=>{const r=t*t,i=s*(e*e-r)+r;return i<0?0:Math.sqrt(i)},cv=[oo,bs,zs],uv=t=>cv.find(e=>e.test(t));function Tl(t){const e=uv(t);if(!e)return!1;let s=e.parse(t);return e===zs&&(s=lv(s)),s}const kl=(t,e)=>{const s=Tl(t),r=Tl(e);if(!s||!r)return Ri(t,e);const i={...s};return n=>(i.red=bn(s.red,r.red,n),i.green=bn(s.green,r.green,n),i.blue=bn(s.blue,r.blue,n),i.alpha=me(s.alpha,r.alpha,n),bs.transform(i))},ao=new Set(["none","hidden"]);function hv(t,e){return ao.has(t)?s=>s<=0?t:e:s=>s>=1?e:t}function dv(t,e){return s=>me(t,e,s)}function aa(t){return typeof t=="number"?dv:typeof t=="string"?ia(t)?Ri:Te.test(t)?kl:mv:Array.isArray(t)?Ph:typeof t=="object"?Te.test(t)?kl:fv:Ri}function Ph(t,e){const s=[...t],r=s.length,i=t.map((n,o)=>aa(n)(n,e[o]));return n=>{for(let o=0;o<r;o++)s[o]=i[o](n);return s}}function fv(t,e){const s={...t,...e},r={};for(const i in s)t[i]!==void 0&&e[i]!==void 0&&(r[i]=aa(t[i])(t[i],e[i]));return i=>{for(const n in r)s[n]=r[n](i);return s}}function pv(t,e){const s=[],r={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const n=e.types[i],o=t.indexes[n][r[n]],a=t.values[o]??0;s[i]=a,r[n]++}return s}const mv=(t,e)=>{const s=ss.createTransformer(e),r=Hr(t),i=Hr(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?ao.has(t)&&!i.values.length||ao.has(e)&&!r.values.length?hv(t,e):Xr(Ph(pv(r,i),i.values),s):Ri(t,e)};function Ah(t,e,s){return typeof t=="number"&&typeof e=="number"&&typeof s=="number"?me(t,e,s):aa(t)(t,e)}const gv=t=>{const e=({timestamp:s})=>t(s);return{start:(s=!0)=>ce.update(e,s),stop:()=>ts(e),now:()=>Me.isProcessing?Me.timestamp:qe.now()}},Rh=(t,e,s=10)=>{let r="";const i=Math.max(Math.round(e/s),2);for(let n=0;n<i;n++)r+=Math.round(t(n/(i-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},Oi=2e4;function la(t){let e=0;const s=50;let r=t.next(e);for(;!r.done&&e<Oi;)e+=s,r=t.next(e);return e>=Oi?1/0:e}function yv(t,e=100,s){const r=s({...t,keyframes:[0,e]}),i=Math.min(la(r),Oi);return{type:"keyframes",ease:n=>r.next(i*n).value/e,duration:mt(i)}}const vv=5;function Oh(t,e,s){const r=Math.max(e-vv,0);return uh(s-t(r),e-r)}const _e={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},xn=.001;function wv({duration:t=_e.duration,bounce:e=_e.bounce,velocity:s=_e.velocity,mass:r=_e.mass}){let i,n,o=1-e;o=Pt(_e.minDamping,_e.maxDamping,o),t=Pt(_e.minDuration,_e.maxDuration,mt(t)),o<1?(i=c=>{const u=c*o,d=u*t,f=u-s,p=lo(c,o),g=Math.exp(-d);return xn-f/p*g},n=c=>{const d=c*o*t,f=d*s+s,p=Math.pow(o,2)*Math.pow(c,2)*t,g=Math.exp(-d),m=lo(Math.pow(c,2),o);return(-i(c)+xn>0?-1:1)*((f-p)*g)/m}):(i=c=>{const u=Math.exp(-c*t),d=(c-s)*t+1;return-xn+u*d},n=c=>{const u=Math.exp(-c*t),d=(s-c)*(t*t);return u*d});const a=5/t,l=bv(i,n,a);if(t=Mt(t),isNaN(l))return{stiffness:_e.stiffness,damping:_e.damping,duration:t};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:o*2*Math.sqrt(r*c),duration:t}}}const _v=12;function bv(t,e,s){let r=s;for(let i=1;i<_v;i++)r=r-t(r)/e(r);return r}function lo(t,e){return t*Math.sqrt(1-e*e)}const xv=["duration","bounce"],Sv=["stiffness","damping","mass"];function Cl(t,e){return e.some(s=>t[s]!==void 0)}function Tv(t){let e={velocity:_e.velocity,stiffness:_e.stiffness,damping:_e.damping,mass:_e.mass,isResolvedFromDuration:!1,...t};if(!Cl(t,Sv)&&Cl(t,xv))if(t.visualDuration){const s=t.visualDuration,r=2*Math.PI/(s*1.2),i=r*r,n=2*Pt(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:_e.mass,stiffness:i,damping:n}}else{const s=wv(t);e={...e,...s,mass:_e.mass},e.isResolvedFromDuration=!0}return e}function Ni(t=_e.visualDuration,e=_e.bounce){const s=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=s;const n=s.keyframes[0],o=s.keyframes[s.keyframes.length-1],a={done:!1,value:n},{stiffness:l,damping:c,mass:u,duration:d,velocity:f,isResolvedFromDuration:p}=Tv({...s,velocity:-mt(s.velocity||0)}),g=f||0,m=c/(2*Math.sqrt(l*u)),y=o-n,w=mt(Math.sqrt(l/u)),v=Math.abs(y)<5;r||(r=v?_e.restSpeed.granular:_e.restSpeed.default),i||(i=v?_e.restDelta.granular:_e.restDelta.default);let _;if(m<1){const x=lo(w,m);_=T=>{const k=Math.exp(-m*w*T);return o-k*((g+m*w*y)/x*Math.sin(x*T)+y*Math.cos(x*T))}}else if(m===1)_=x=>o-Math.exp(-w*x)*(y+(g+w*y)*x);else{const x=w*Math.sqrt(m*m-1);_=T=>{const k=Math.exp(-m*w*T),j=Math.min(x*T,300);return o-k*((g+m*w*y)*Math.sinh(j)+x*y*Math.cosh(j))/x}}const b={calculatedDuration:p&&d||null,next:x=>{const T=_(x);if(p)a.done=x>=d;else{let k=x===0?g:0;m<1&&(k=x===0?Mt(g):Oh(_,x,T));const j=Math.abs(k)<=r,P=Math.abs(o-T)<=i;a.done=j&&P}return a.value=a.done?o:T,a},toString:()=>{const x=Math.min(la(b),Oi),T=Rh(k=>b.next(x*k).value,x,30);return x+"ms "+T},toTransition:()=>{}};return b}Ni.applyToOptions=t=>{const e=yv(t,100,Ni);return t.ease=e.ease,t.duration=Mt(e.duration),t.type="keyframes",t};function co({keyframes:t,velocity:e=0,power:s=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:n=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:u}){const d=t[0],f={done:!1,value:d},p=j=>a!==void 0&&j<a||l!==void 0&&j>l,g=j=>a===void 0?l:l===void 0||Math.abs(a-j)<Math.abs(l-j)?a:l;let m=s*e;const y=d+m,w=o===void 0?y:o(y);w!==y&&(m=w-d);const v=j=>-m*Math.exp(-j/r),_=j=>w+v(j),b=j=>{const P=v(j),R=_(j);f.done=Math.abs(P)<=c,f.value=f.done?w:R};let x,T;const k=j=>{p(f.value)&&(x=j,T=Ni({keyframes:[f.value,g(f.value)],velocity:Oh(_,j,f.value),damping:i,stiffness:n,restDelta:c,restSpeed:u}))};return k(0),{calculatedDuration:null,next:j=>{let P=!1;return!T&&x===void 0&&(P=!0,b(j),k(j)),x!==void 0&&j>=x?T.next(j-x):(!P&&b(j),f)}}}function kv(t,e,s){const r=[],i=s||$t.mix||Ah,n=t.length-1;for(let o=0;o<n;o++){let a=i(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||gt:e;a=Xr(l,a)}r.push(a)}return r}function Cv(t,e,{clamp:s=!0,ease:r,mixer:i}={}){const n=t.length;if(Qo(n===e.length),n===1)return()=>e[0];if(n===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[n-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=kv(e,r,i),l=a.length,c=u=>{if(o&&u<t[0])return e[0];let d=0;if(l>1)for(;d<t.length-2&&!(u<t[d+1]);d++);const f=Wr(t[d],t[d+1],u);return a[d](f)};return s?u=>c(Pt(t[0],t[n-1],u)):c}function Ev(t,e){const s=t[t.length-1];for(let r=1;r<=e;r++){const i=Wr(0,e,r);t.push(me(s,1,i))}}function jv(t){const e=[0];return Ev(e,t.length-1),e}function Pv(t,e){return t.map(s=>s*e)}function Av(t,e){return t.map(()=>e||wh).splice(0,t.length-1)}function jr({duration:t=300,keyframes:e,times:s,ease:r="easeInOut"}){const i=By(r)?r.map(_l):_l(r),n={done:!1,value:e[0]},o=Pv(s&&s.length===e.length?s:jv(e),t),a=Cv(o,e,{ease:Array.isArray(i)?i:Av(e,i)});return{calculatedDuration:t,next:l=>(n.value=a(l),n.done=l>=t,n)}}const Rv=t=>t!==null;function ca(t,{repeat:e,repeatType:s="loop"},r,i=1){const n=t.filter(Rv),a=i<0||e&&s!=="loop"&&e%2===1?0:n.length-1;return!a||r===void 0?n[a]:r}const Ov={decay:co,inertia:co,tween:jr,keyframes:jr,spring:Ni};function Nh(t){typeof t.type=="string"&&(t.type=Ov[t.type])}class ua{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,s){return this.finished.then(e,s)}}const Nv=t=>t/100;class ha extends ua{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,i;const{motionValue:s}=this.options;s&&s.updatedAt!==qe.now()&&this.tick(qe.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(i=(r=this.options).onStop)==null||i.call(r))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;Nh(e);const{type:s=jr,repeat:r=0,repeatDelay:i=0,repeatType:n,velocity:o=0}=e;let{keyframes:a}=e;const l=s||jr;l!==jr&&typeof a[0]!="number"&&(this.mixKeyframes=Xr(Nv,Ah(a[0],a[1])),a=[0,100]);const c=l({...e,keyframes:a});n==="mirror"&&(this.mirroredGenerator=l({...e,keyframes:[...a].reverse(),velocity:-o})),c.calculatedDuration===null&&(c.calculatedDuration=la(c));const{calculatedDuration:u}=c;this.calculatedDuration=u,this.resolvedDuration=u+i,this.totalDuration=this.resolvedDuration*(r+1)-i,this.generator=c}updateTime(e){const s=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=s}tick(e,s=!1){const{generator:r,totalDuration:i,mixKeyframes:n,mirroredGenerator:o,resolvedDuration:a,calculatedDuration:l}=this;if(this.startTime===null)return r.next(0);const{delay:c=0,keyframes:u,repeat:d,repeatType:f,repeatDelay:p,type:g,onUpdate:m,finalKeyframe:y}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),s?this.currentTime=e:this.updateTime(e);const w=this.currentTime-c*(this.playbackSpeed>=0?1:-1),v=this.playbackSpeed>=0?w<0:w>i;this.currentTime=Math.max(w,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let _=this.currentTime,b=r;if(d){const j=Math.min(this.currentTime,i)/a;let P=Math.floor(j),R=j%1;!R&&j>=1&&(R=1),R===1&&P--,P=Math.min(P,d+1),!!(P%2)&&(f==="reverse"?(R=1-R,p&&(R-=p/a)):f==="mirror"&&(b=o)),_=Pt(0,1,R)*a}const x=v?{done:!1,value:u[0]}:b.next(_);n&&(x.value=n(x.value));let{done:T}=x;!v&&l!==null&&(T=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const k=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&T);return k&&g!==co&&(x.value=ca(u,this.options,y,this.speed)),m&&m(x.value),k&&this.finish(),x}then(e,s){return this.finished.then(e,s)}get duration(){return mt(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+mt(e)}get time(){return mt(this.currentTime)}set time(e){var s;e=Mt(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(s=this.driver)==null||s.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(qe.now());const s=this.playbackSpeed!==e;this.playbackSpeed=e,s&&(this.time=mt(this.currentTime))}play(){var i,n;if(this.isStopped)return;const{driver:e=gv,startTime:s}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),(n=(i=this.options).onPlay)==null||n.call(i);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=s??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(qe.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,s;this.notifyFinished(),this.teardown(),this.state="finished",(s=(e=this.options).onComplete)==null||s.call(e)}cancel(){var e,s;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(s=(e=this.options).onCancel)==null||s.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var s;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(s=this.driver)==null||s.stop(),e.observe(this)}}function Dv(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const xs=t=>t*180/Math.PI,uo=t=>{const e=xs(Math.atan2(t[1],t[0]));return ho(e)},Iv={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:uo,rotateZ:uo,skewX:t=>xs(Math.atan(t[1])),skewY:t=>xs(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},ho=t=>(t=t%360,t<0&&(t+=360),t),El=uo,jl=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),Pl=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),Mv={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:jl,scaleY:Pl,scale:t=>(jl(t)+Pl(t))/2,rotateX:t=>ho(xs(Math.atan2(t[6],t[5]))),rotateY:t=>ho(xs(Math.atan2(-t[2],t[0]))),rotateZ:El,rotate:El,skewX:t=>xs(Math.atan(t[4])),skewY:t=>xs(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function fo(t){return t.includes("scale")?1:0}function po(t,e){if(!t||t==="none")return fo(e);const s=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(s)r=Mv,i=s;else{const a=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=Iv,i=a}if(!i)return fo(e);const n=r[e],o=i[1].split(",").map(Fv);return typeof n=="function"?n(o):o[n]}const Lv=(t,e)=>{const{transform:s="none"}=getComputedStyle(t);return po(s,e)};function Fv(t){return parseFloat(t.trim())}const cr=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ur=new Set(cr),Al=t=>t===lr||t===L,$v=new Set(["x","y","z"]),Vv=cr.filter(t=>!$v.has(t));function Bv(t){const e=[];return Vv.forEach(s=>{const r=t.getValue(s);r!==void 0&&(e.push([s,r.get()]),r.set(s.startsWith("scale")?1:0))}),e}const Yt={width:({x:t},{paddingLeft:e="0",paddingRight:s="0"})=>t.max-t.min-parseFloat(e)-parseFloat(s),height:({y:t},{paddingTop:e="0",paddingBottom:s="0"})=>t.max-t.min-parseFloat(e)-parseFloat(s),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>po(e,"x"),y:(t,{transform:e})=>po(e,"y")};Yt.translateX=Yt.x;Yt.translateY=Yt.y;const Es=new Set;let mo=!1,go=!1,yo=!1;function Dh(){if(go){const t=Array.from(Es).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),s=new Map;e.forEach(r=>{const i=Bv(r);i.length&&(s.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=s.get(r);i&&i.forEach(([n,o])=>{var a;(a=r.getValue(n))==null||a.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}go=!1,mo=!1,Es.forEach(t=>t.complete(yo)),Es.clear()}function Ih(){Es.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(go=!0)})}function Uv(){yo=!0,Ih(),Dh(),yo=!1}class da{constructor(e,s,r,i,n,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=s,this.name=r,this.motionValue=i,this.element=n,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(Es.add(this),mo||(mo=!0,ce.read(Ih),ce.resolveKeyframes(Dh))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:s,element:r,motionValue:i}=this;if(e[0]===null){const n=i==null?void 0:i.get(),o=e[e.length-1];if(n!==void 0)e[0]=n;else if(r&&s){const a=r.readValue(s,o);a!=null&&(e[0]=a)}e[0]===void 0&&(e[0]=o),i&&n===void 0&&i.set(e[0])}Dv(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Es.delete(this)}cancel(){this.state==="scheduled"&&(Es.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const zv=t=>t.startsWith("--");function Wv(t,e,s){zv(e)?t.style.setProperty(e,s):t.style[e]=s}const qv=ea(()=>window.ScrollTimeline!==void 0),Hv={};function Kv(t,e){const s=ea(t);return()=>Hv[e]??s()}const Mh=Kv(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),_r=([t,e,s,r])=>`cubic-bezier(${t}, ${e}, ${s}, ${r})`,Rl={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:_r([0,.65,.55,1]),circOut:_r([.55,0,1,.45]),backIn:_r([.31,.01,.66,-.59]),backOut:_r([.33,1.53,.69,.99])};function Lh(t,e){if(t)return typeof t=="function"?Mh()?Rh(t,e):"ease-out":_h(t)?_r(t):Array.isArray(t)?t.map(s=>Lh(s,e)||Rl.easeOut):Rl[t]}function Gv(t,e,s,{delay:r=0,duration:i=300,repeat:n=0,repeatType:o="loop",ease:a="easeOut",times:l}={},c=void 0){const u={[e]:s};l&&(u.offset=l);const d=Lh(a,i);Array.isArray(d)&&(u.easing=d);const f={delay:r,duration:i,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:n+1,direction:o==="reverse"?"alternate":"normal"};return c&&(f.pseudoElement=c),t.animate(u,f)}function Fh(t){return typeof t=="function"&&"applyToOptions"in t}function Yv({type:t,...e}){return Fh(t)&&Mh()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class Jv extends ua{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!e)return;const{element:s,name:r,keyframes:i,pseudoElement:n,allowFlatten:o=!1,finalKeyframe:a,onComplete:l}=e;this.isPseudoElement=!!n,this.allowFlatten=o,this.options=e,Qo(typeof e.type!="string");const c=Yv(e);this.animation=Gv(s,r,i,c,n),c.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!n){const u=ca(i,this.options,a,this.speed);this.updateMotionValue?this.updateMotionValue(u):Wv(s,r,u),this.animation.cancel()}l==null||l(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,s;(s=(e=this.animation).finish)==null||s.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,s;this.isPseudoElement||(s=(e=this.animation).commitStyles)==null||s.call(e)}get duration(){var s,r;const e=((r=(s=this.animation.effect)==null?void 0:s.getComputedTiming)==null?void 0:r.call(s).duration)||0;return mt(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+mt(e)}get time(){return mt(Number(this.animation.currentTime)||0)}set time(e){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=Mt(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(e){this.manualStartTime=this.animation.startTime=e}attachTimeline({timeline:e,observe:s}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&qv()?(this.animation.timeline=e,gt):s(this)}}const $h={anticipate:gh,backInOut:mh,circInOut:vh};function Xv(t){return t in $h}function Zv(t){typeof t.ease=="string"&&Xv(t.ease)&&(t.ease=$h[t.ease])}const Sn=10;class Qv extends Jv{constructor(e){Zv(e),Nh(e),super(e),e.startTime!==void 0&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:s,onUpdate:r,onComplete:i,element:n,...o}=this.options;if(!s)return;if(e!==void 0){s.set(e);return}const a=new ha({...o,autoplay:!1}),l=Math.max(Sn,qe.now()-this.startTime),c=Pt(0,Sn,l-Sn);s.setWithVelocity(a.sample(Math.max(0,l-c)).value,a.sample(l).value,c),a.stop()}}const Ol=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(ss.test(t)||t==="0")&&!t.startsWith("url("));function e0(t){const e=t[0];if(t.length===1)return!0;for(let s=0;s<t.length;s++)if(t[s]!==e)return!0}function t0(t,e,s,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const n=t[t.length-1],o=Ol(i,e),a=Ol(n,e);return!o||!a?!1:e0(t)||(s==="spring"||Fh(s))&&r}function vo(t){t.duration=0,t.type="keyframes"}const s0=new Set(["opacity","clipPath","filter","transform"]),r0=ea(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function i0(t){var u;const{motionValue:e,name:s,repeatDelay:r,repeatType:i,damping:n,type:o}=t;if(!(((u=e==null?void 0:e.owner)==null?void 0:u.current)instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:c}=e.owner.getProps();return r0()&&s&&s0.has(s)&&(s!=="transform"||!c)&&!l&&!r&&i!=="mirror"&&n!==0&&o!=="inertia"}const n0=40;class o0 extends ua{constructor({autoplay:e=!0,delay:s=0,type:r="keyframes",repeat:i=0,repeatDelay:n=0,repeatType:o="loop",keyframes:a,name:l,motionValue:c,element:u,...d}){var g;super(),this.stop=()=>{var m,y;this._animation&&(this._animation.stop(),(m=this.stopTimeline)==null||m.call(this)),(y=this.keyframeResolver)==null||y.cancel()},this.createdAt=qe.now();const f={autoplay:e,delay:s,type:r,repeat:i,repeatDelay:n,repeatType:o,name:l,motionValue:c,element:u,...d},p=(u==null?void 0:u.KeyframeResolver)||da;this.keyframeResolver=new p(a,(m,y,w)=>this.onKeyframesResolved(m,y,f,!w),l,c,u),(g=this.keyframeResolver)==null||g.scheduleResolve()}onKeyframesResolved(e,s,r,i){var y,w;this.keyframeResolver=void 0;const{name:n,type:o,velocity:a,delay:l,isHandoff:c,onUpdate:u}=r;this.resolvedAt=qe.now(),t0(e,n,o,a)||(($t.instantAnimations||!l)&&(u==null||u(ca(e,r,s))),e[0]=e[e.length-1],vo(r),r.repeat=0);const f={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>n0?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:s,...r,keyframes:e},p=!c&&i0(f),g=(w=(y=f.motionValue)==null?void 0:y.owner)==null?void 0:w.current,m=p?new Qv({...f,element:g}):new ha(f);m.finished.then(()=>{this.notifyFinished()}).catch(gt),this.pendingTimeline&&(this.stopTimeline=m.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=m}get finished(){return this._animation?this.animation.finished:this._finished}then(e,s){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),Uv()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}function Vh(t,e,s,r=0,i=1){const n=Array.from(t).sort((c,u)=>c.sortNodePosition(u)).indexOf(e),o=t.size,a=(o-1)*r;return typeof s=="function"?s(n,o):i===1?n*r:a-n*r}const a0=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function l0(t){const e=a0.exec(t);if(!e)return[,];const[,s,r,i]=e;return[`--${s??r}`,i]}function Bh(t,e,s=1){const[r,i]=l0(t);if(!r)return;const n=window.getComputedStyle(e).getPropertyValue(r);if(n){const o=n.trim();return ah(o)?parseFloat(o):o}return ia(i)?Bh(i,e,s+1):i}const c0={type:"spring",stiffness:500,damping:25,restSpeed:10},u0=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),h0={type:"keyframes",duration:.8},d0={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},f0=(t,{keyframes:e})=>e.length>2?h0:ur.has(t)?t.startsWith("scale")?u0(e[1]):c0:d0,p0=t=>t!==null;function m0(t,{repeat:e,repeatType:s="loop"},r){const i=t.filter(p0),n=e&&s!=="loop"&&e%2===1?0:i.length-1;return i[n]}function fa(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}function g0({when:t,delay:e,delayChildren:s,staggerChildren:r,staggerDirection:i,repeat:n,repeatType:o,repeatDelay:a,from:l,elapsed:c,...u}){return!!Object.keys(u).length}const pa=(t,e,s,r={},i,n)=>o=>{const a=fa(r,t)||{},l=a.delay||r.delay||0;let{elapsed:c=0}=r;c=c-Mt(l);const u={keyframes:Array.isArray(s)?s:[null,s],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-c,onUpdate:f=>{e.set(f),a.onUpdate&&a.onUpdate(f)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:n?void 0:i};g0(a)||Object.assign(u,f0(t,u)),u.duration&&(u.duration=Mt(u.duration)),u.repeatDelay&&(u.repeatDelay=Mt(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let d=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(vo(u),u.delay===0&&(d=!0)),($t.instantAnimations||$t.skipAnimations)&&(d=!0,vo(u),u.delay=0),u.allowFlatten=!a.type&&!a.ease,d&&!n&&e.get()!==void 0){const f=m0(u.keyframes,a);if(f!==void 0){ce.update(()=>{u.onUpdate(f),u.onComplete()});return}}return a.isSync?new ha(u):new o0(u)};function Nl(t){const e=[{},{}];return t==null||t.values.forEach((s,r)=>{e[0][r]=s.get(),e[1][r]=s.getVelocity()}),e}function ma(t,e,s,r){if(typeof e=="function"){const[i,n]=Nl(r);e=e(s!==void 0?s:t.custom,i,n)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,n]=Nl(r);e=e(s!==void 0?s:t.custom,i,n)}return e}function Xs(t,e,s){const r=t.getProps();return ma(r,e,s!==void 0?s:r.custom,t)}const Uh=new Set(["width","height","top","left","right","bottom",...cr]),Dl=30,y0=t=>!isNaN(parseFloat(t));class v0{constructor(e,s={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var n;const i=qe.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((n=this.events.change)==null||n.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=s.owner}setCurrent(e){this.current=e,this.updatedAt=qe.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=y0(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,s){this.events[e]||(this.events[e]=new ta);const r=this.events[e].add(s);return e==="change"?()=>{r(),ce.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,s){this.passiveEffect=e,this.stopPassiveEffect=s}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,s,r){this.set(s),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,s=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,s&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=qe.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>Dl)return 0;const s=Math.min(this.updatedAt-this.prevUpdatedAt,Dl);return uh(parseFloat(this.current)-parseFloat(this.prevFrameValue),s)}start(e){return this.stop(),new Promise(s=>{this.hasAnimated=!0,this.animation=e(s),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,s;(e=this.dependents)==null||e.clear(),(s=this.events.destroy)==null||s.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ir(t,e){return new v0(t,e)}const wo=t=>Array.isArray(t);function w0(t,e,s){t.hasValue(e)?t.getValue(e).set(s):t.addValue(e,ir(s))}function _0(t){return wo(t)?t[t.length-1]||0:t}function b0(t,e){const s=Xs(t,e);let{transitionEnd:r={},transition:i={},...n}=s||{};n={...n,...r};for(const o in n){const a=_0(n[o]);w0(t,o,a)}}const $e=t=>!!(t&&t.getVelocity);function x0(t){return!!($e(t)&&t.add)}function _o(t,e){const s=t.getValue("willChange");if(x0(s))return s.add(e);if(!s&&$t.WillChange){const r=new $t.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function ga(t){return t.replace(/([A-Z])/g,e=>`-${e.toLowerCase()}`)}const S0="framerAppearId",zh="data-"+ga(S0);function Wh(t){return t.props[zh]}function T0({protectedKeys:t,needsAnimating:e},s){const r=t.hasOwnProperty(s)&&e[s]!==!0;return e[s]=!1,r}function qh(t,e,{delay:s=0,transitionOverride:r,type:i}={}){let{transition:n=t.getDefaultTransition(),transitionEnd:o,...a}=e;const l=n==null?void 0:n.reduceMotion;r&&(n=r);const c=[],u=i&&t.animationState&&t.animationState.getState()[i];for(const d in a){const f=t.getValue(d,t.latestValues[d]??null),p=a[d];if(p===void 0||u&&T0(u,d))continue;const g={delay:s,...fa(n||{},d)},m=f.get();if(m!==void 0&&!f.isAnimating&&!Array.isArray(p)&&p===m&&!g.velocity)continue;let y=!1;if(window.MotionHandoffAnimation){const _=Wh(t);if(_){const b=window.MotionHandoffAnimation(_,d,ce);b!==null&&(g.startTime=b,y=!0)}}_o(t,d);const w=l??t.shouldReduceMotion;f.start(pa(d,f,p,w&&Uh.has(d)?{type:!1}:g,t,y));const v=f.animation;v&&c.push(v)}return o&&Promise.all(c).then(()=>{ce.update(()=>{o&&b0(t,o)})}),c}function bo(t,e,s={}){var l;const r=Xs(t,e,s.type==="exit"?(l=t.presenceContext)==null?void 0:l.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=r||{};s.transitionOverride&&(i=s.transitionOverride);const n=r?()=>Promise.all(qh(t,r,s)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:d,staggerDirection:f}=i;return k0(t,e,c,u,d,f,s)}:()=>Promise.resolve(),{when:a}=i;if(a){const[c,u]=a==="beforeChildren"?[n,o]:[o,n];return c().then(()=>u())}else return Promise.all([n(),o(s.delay)])}function k0(t,e,s=0,r=0,i=0,n=1,o){const a=[];for(const l of t.variantChildren)l.notify("AnimationStart",e),a.push(bo(l,e,{...o,delay:s+(typeof r=="function"?0:r)+Vh(t.variantChildren,l,r,i,n)}).then(()=>l.notify("AnimationComplete",e)));return Promise.all(a)}function C0(t,e,s={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(n=>bo(t,n,s));r=Promise.all(i)}else if(typeof e=="string")r=bo(t,e,s);else{const i=typeof e=="function"?Xs(t,e,s.custom):e;r=Promise.all(qh(t,i,s))}return r.then(()=>{t.notify("AnimationComplete",e)})}const E0={test:t=>t==="auto",parse:t=>t},Hh=t=>e=>e.test(t),Kh=[lr,L,Et,zt,ev,Qy,E0],Il=t=>Kh.find(Hh(t));function j0(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||ch(t):!0}const P0=new Set(["brightness","contrast","saturate","opacity"]);function A0(t){const[e,s]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=s.match(na)||[];if(!r)return t;const i=s.replace(r,"");let n=P0.has(e)?1:0;return r!==s&&(n*=100),e+"("+n+i+")"}const R0=/\b([a-z-]*)\(.*?\)/gu,xo={...ss,getAnimatableNone:t=>{const e=t.match(R0);return e?e.map(A0).join(" "):t}},Ml={...lr,transform:Math.round},O0={rotate:zt,rotateX:zt,rotateY:zt,rotateZ:zt,scale:di,scaleX:di,scaleY:di,scaleZ:di,skew:zt,skewX:zt,skewY:zt,distance:L,translateX:L,translateY:L,translateZ:L,x:L,y:L,z:L,perspective:L,transformPerspective:L,opacity:qr,originX:xl,originY:xl,originZ:L},ya={borderWidth:L,borderTopWidth:L,borderRightWidth:L,borderBottomWidth:L,borderLeftWidth:L,borderRadius:L,borderTopLeftRadius:L,borderTopRightRadius:L,borderBottomRightRadius:L,borderBottomLeftRadius:L,width:L,maxWidth:L,height:L,maxHeight:L,top:L,right:L,bottom:L,left:L,inset:L,insetBlock:L,insetBlockStart:L,insetBlockEnd:L,insetInline:L,insetInlineStart:L,insetInlineEnd:L,padding:L,paddingTop:L,paddingRight:L,paddingBottom:L,paddingLeft:L,paddingBlock:L,paddingBlockStart:L,paddingBlockEnd:L,paddingInline:L,paddingInlineStart:L,paddingInlineEnd:L,margin:L,marginTop:L,marginRight:L,marginBottom:L,marginLeft:L,marginBlock:L,marginBlockStart:L,marginBlockEnd:L,marginInline:L,marginInlineStart:L,marginInlineEnd:L,fontSize:L,backgroundPositionX:L,backgroundPositionY:L,...O0,zIndex:Ml,fillOpacity:qr,strokeOpacity:qr,numOctaves:Ml},N0={...ya,color:Te,backgroundColor:Te,outlineColor:Te,fill:Te,stroke:Te,borderColor:Te,borderTopColor:Te,borderRightColor:Te,borderBottomColor:Te,borderLeftColor:Te,filter:xo,WebkitFilter:xo},Gh=t=>N0[t];function Yh(t,e){let s=Gh(t);return s!==xo&&(s=ss),s.getAnimatableNone?s.getAnimatableNone(e):void 0}const D0=new Set(["auto","none","0"]);function I0(t,e,s){let r=0,i;for(;r<t.length&&!i;){const n=t[r];typeof n=="string"&&!D0.has(n)&&Hr(n).values.length&&(i=t[r]),r++}if(i&&s)for(const n of e)t[n]=Yh(s,i)}class M0 extends da{constructor(e,s,r,i,n){super(e,s,r,i,n,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:s,name:r}=this;if(!s||!s.current)return;super.readKeyframes();for(let u=0;u<e.length;u++){let d=e[u];if(typeof d=="string"&&(d=d.trim(),ia(d))){const f=Bh(d,s.current);f!==void 0&&(e[u]=f),u===e.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!Uh.has(r)||e.length!==2)return;const[i,n]=e,o=Il(i),a=Il(n),l=bl(i),c=bl(n);if(l!==c&&Yt[r]){this.needsMeasurement=!0;return}if(o!==a)if(Al(o)&&Al(a))for(let u=0;u<e.length;u++){const d=e[u];typeof d=="string"&&(e[u]=parseFloat(d))}else Yt[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:s}=this,r=[];for(let i=0;i<e.length;i++)(e[i]===null||j0(e[i]))&&r.push(i);r.length&&I0(e,r,s)}measureInitialState(){const{element:e,unresolvedKeyframes:s,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Yt[r](e.measureViewportBox(),window.getComputedStyle(e.current)),s[0]=this.measuredOrigin;const i=s[s.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var a;const{element:e,name:s,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const i=e.getValue(s);i&&i.jump(this.measuredOrigin,!1);const n=r.length-1,o=r[n];r[n]=Yt[s](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(a=this.removedTransforms)!=null&&a.length&&this.removedTransforms.forEach(([l,c])=>{e.getValue(l).set(c)}),this.resolveNoneKeyframes()}}function Jh(t,e,s){if(t==null)return[];if(t instanceof EventTarget)return[t];if(typeof t=="string"){const i=document.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t).filter(r=>r!=null)}const Xh=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function L0(t){return lh(t)&&"offsetHeight"in t}const{schedule:va}=bh(queueMicrotask,!1),bt={x:!1,y:!1};function Zh(){return bt.x||bt.y}function F0(t){return t==="x"||t==="y"?bt[t]?null:(bt[t]=!0,()=>{bt[t]=!1}):bt.x||bt.y?null:(bt.x=bt.y=!0,()=>{bt.x=bt.y=!1})}function Qh(t,e){const s=Jh(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[s,i,()=>r.abort()]}function Ll(t){return!(t.pointerType==="touch"||Zh())}function $0(t,e,s={}){const[r,i,n]=Qh(t,s),o=a=>{if(!Ll(a))return;const{target:l}=a,c=e(l,a);if(typeof c!="function"||!l)return;const u=d=>{Ll(d)&&(c(d),l.removeEventListener("pointerleave",u))};l.addEventListener("pointerleave",u,i)};return r.forEach(a=>{a.addEventListener("pointerenter",o,i)}),n}const ed=(t,e)=>e?t===e?!0:ed(t,e.parentElement):!1,wa=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,V0=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function td(t){return V0.has(t.tagName)||t.isContentEditable===!0}const vi=new WeakSet;function Fl(t){return e=>{e.key==="Enter"&&t(e)}}function Tn(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const B0=(t,e)=>{const s=t.currentTarget;if(!s)return;const r=Fl(()=>{if(vi.has(s))return;Tn(s,"down");const i=Fl(()=>{Tn(s,"up")}),n=()=>Tn(s,"cancel");s.addEventListener("keyup",i,e),s.addEventListener("blur",n,e)});s.addEventListener("keydown",r,e),s.addEventListener("blur",()=>s.removeEventListener("keydown",r),e)};function $l(t){return wa(t)&&!Zh()}function U0(t,e,s={}){const[r,i,n]=Qh(t,s),o=a=>{const l=a.currentTarget;if(!$l(a))return;vi.add(l);const c=e(l,a),u=(p,g)=>{window.removeEventListener("pointerup",d),window.removeEventListener("pointercancel",f),vi.has(l)&&vi.delete(l),$l(p)&&typeof c=="function"&&c(p,{success:g})},d=p=>{u(p,l===window||l===document||s.useGlobalTarget||ed(l,p.target))},f=p=>{u(p,!1)};window.addEventListener("pointerup",d,i),window.addEventListener("pointercancel",f,i)};return r.forEach(a=>{(s.useGlobalTarget?window:a).addEventListener("pointerdown",o,i),L0(a)&&(a.addEventListener("focus",c=>B0(c,i)),!td(a)&&!a.hasAttribute("tabindex")&&(a.tabIndex=0))}),n}function sd(t){return lh(t)&&"ownerSVGElement"in t}function z0(t){return sd(t)&&t.tagName==="svg"}const W0=[...Kh,Te,ss],q0=t=>W0.find(Hh(t)),Vl=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ws=()=>({x:Vl(),y:Vl()}),Bl=()=>({min:0,max:0}),je=()=>({x:Bl(),y:Bl()}),So={current:null},rd={current:!1},H0=typeof window<"u";function K0(){if(rd.current=!0,!!H0)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>So.current=t.matches;t.addEventListener("change",e),e()}else So.current=!1}const G0=new WeakMap;function Yi(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Kr(t){return typeof t=="string"||Array.isArray(t)}const _a=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],ba=["initial",..._a];function Ji(t){return Yi(t.animate)||ba.some(e=>Kr(t[e]))}function id(t){return!!(Ji(t)||t.variants)}function Y0(t,e,s){for(const r in e){const i=e[r],n=s[r];if($e(i))t.addValue(r,i);else if($e(n))t.addValue(r,ir(i,{owner:t}));else if(n!==i)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=t.getStaticValue(r);t.addValue(r,ir(o!==void 0?o:i,{owner:t}))}}for(const r in s)e[r]===void 0&&t.removeValue(r);return e}const Ul=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let Di={};function nd(t){Di=t}function J0(){return Di}class X0{scrapeMotionValuesFromProps(e,s,r){return{}}constructor({parent:e,props:s,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:n,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=da,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const f=qe.now();this.renderScheduledAt<f&&(this.renderScheduledAt=f,ce.render(this.render,!1,!0))};const{latestValues:l,renderState:c}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=s.initial?{...l}:{},this.renderState=c,this.parent=e,this.props=s,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.blockInitialAnimation=!!n,this.isControllingVariants=Ji(s),this.isVariantNode=id(s),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:u,...d}=this.scrapeMotionValuesFromProps(s,{},this);for(const f in d){const p=d[f];l[f]!==void 0&&$e(p)&&p.set(l[f])}}mount(e){var s;this.current=e,G0.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,i)=>this.bindToMotionValue(i,r)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(rd.current||K0(),this.shouldReduceMotion=So.current),(s=this.parent)==null||s.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),ts(this.notifyUpdate),ts(this.render),this.valueSubscriptions.forEach(s=>s()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const s in this.events)this.events[s].clear();for(const s in this.features){const r=this.features[s];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,s){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=ur.has(e);r&&this.onBindTransform&&this.onBindTransform();const i=s.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&ce.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let n;typeof window<"u"&&window.MotionCheckAppearSync&&(n=window.MotionCheckAppearSync(this,e,s)),this.valueSubscriptions.set(e,()=>{i(),n&&n(),s.owner&&s.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Di){const s=Di[e];if(!s)continue;const{isEnabled:r,Feature:i}=s;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const n=this.features[e];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):je()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,s){this.latestValues[e]=s}update(e,s){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=s;for(let r=0;r<Ul.length;r++){const i=Ul[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const n="on"+i,o=e[n];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=Y0(this,this.scrapeMotionValuesFromProps(e,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const s=this.getClosestVariantNode();if(s)return s.variantChildren&&s.variantChildren.add(e),()=>s.variantChildren.delete(e)}addValue(e,s){const r=this.values.get(e);s!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,s),this.values.set(e,s),this.latestValues[e]=s.get())}removeValue(e){this.values.delete(e);const s=this.valueSubscriptions.get(e);s&&(s(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,s){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&s!==void 0&&(r=ir(s===null?void 0:s,{owner:this}),this.addValue(e,r)),r}readValue(e,s){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(ah(r)||ch(r))?r=parseFloat(r):!q0(r)&&ss.test(s)&&(r=Yh(e,s)),this.setBaseTarget(e,$e(r)?r.get():r)),$e(r)?r.get():r}setBaseTarget(e,s){this.baseTarget[e]=s}getBaseTarget(e){var n;const{initial:s}=this.props;let r;if(typeof s=="string"||typeof s=="object"){const o=ma(this.props,s,(n=this.presenceContext)==null?void 0:n.custom);o&&(r=o[e])}if(s&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!$e(i)?i:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,s){return this.events[e]||(this.events[e]=new ta),this.events[e].add(s)}notify(e,...s){this.events[e]&&this.events[e].notify(...s)}scheduleRenderMicrotask(){va.render(this.render)}}class od extends X0{constructor(){super(...arguments),this.KeyframeResolver=M0}sortInstanceNodePosition(e,s){return e.compareDocumentPosition(s)&2?1:-1}getBaseTargetFromProps(e,s){const r=e.style;return r?r[s]:void 0}removeValueFromRenderState(e,{vars:s,style:r}){delete s[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;$e(e)&&(this.childSubscription=e.on("change",s=>{this.current&&(this.current.textContent=`${s}`)}))}}class is{constructor(e){this.isMounted=!1,this.node=e}update(){}}function ad({top:t,left:e,right:s,bottom:r}){return{x:{min:e,max:s},y:{min:t,max:r}}}function Z0({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function Q0(t,e){if(!e)return t;const s=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:s.y,left:s.x,bottom:r.y,right:r.x}}function kn(t){return t===void 0||t===1}function To({scale:t,scaleX:e,scaleY:s}){return!kn(t)||!kn(e)||!kn(s)}function gs(t){return To(t)||ld(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function ld(t){return zl(t.x)||zl(t.y)}function zl(t){return t&&t!=="0%"}function Ii(t,e,s){const r=t-s,i=e*r;return s+i}function Wl(t,e,s,r,i){return i!==void 0&&(t=Ii(t,i,r)),Ii(t,s,r)+e}function ko(t,e=0,s=1,r,i){t.min=Wl(t.min,e,s,r,i),t.max=Wl(t.max,e,s,r,i)}function cd(t,{x:e,y:s}){ko(t.x,e.translate,e.scale,e.originPoint),ko(t.y,s.translate,s.scale,s.originPoint)}const ql=.999999999999,Hl=1.0000000000001;function ew(t,e,s,r=!1){const i=s.length;if(!i)return;e.x=e.y=1;let n,o;for(let a=0;a<i;a++){n=s[a],o=n.projectionDelta;const{visualElement:l}=n.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&n.options.layoutScroll&&n.scroll&&n!==n.root&&Hs(t,{x:-n.scroll.offset.x,y:-n.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,cd(t,o)),r&&gs(n.latestValues)&&Hs(t,n.latestValues))}e.x<Hl&&e.x>ql&&(e.x=1),e.y<Hl&&e.y>ql&&(e.y=1)}function qs(t,e){t.min=t.min+e,t.max=t.max+e}function Kl(t,e,s,r,i=.5){const n=me(t.min,t.max,i);ko(t,e,s,n,r)}function Hs(t,e){Kl(t.x,e.x,e.scaleX,e.scale,e.originX),Kl(t.y,e.y,e.scaleY,e.scale,e.originY)}function ud(t,e){return ad(Q0(t.getBoundingClientRect(),e))}function tw(t,e,s){const r=ud(t,s),{scroll:i}=e;return i&&(qs(r.x,i.offset.x),qs(r.y,i.offset.y)),r}const sw={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},rw=cr.length;function iw(t,e,s){let r="",i=!0;for(let n=0;n<rw;n++){const o=cr[n],a=t[o];if(a===void 0)continue;let l=!0;if(typeof a=="number")l=a===(o.startsWith("scale")?1:0);else{const c=parseFloat(a);l=o.startsWith("scale")?c===1:c===0}if(!l||s){const c=Xh(a,ya[o]);if(!l){i=!1;const u=sw[o]||o;r+=`${u}(${c}) `}s&&(e[o]=c)}}return r=r.trim(),s?r=s(e,i?"":r):i&&(r="none"),r}function xa(t,e,s){const{style:r,vars:i,transformOrigin:n}=t;let o=!1,a=!1;for(const l in e){const c=e[l];if(ur.has(l)){o=!0;continue}else if(Sh(l)){i[l]=c;continue}else{const u=Xh(c,ya[l]);l.startsWith("origin")?(a=!0,n[l]=u):r[l]=u}}if(e.transform||(o||s?r.transform=iw(e,t.transform,s):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:c="50%",originZ:u=0}=n;r.transformOrigin=`${l} ${c} ${u}`}}function hd(t,{style:e,vars:s},r,i){const n=t.style;let o;for(o in e)n[o]=e[o];i==null||i.applyProjectionStyles(n,r);for(o in s)n.setProperty(o,s[o])}function Gl(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const mr={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(L.test(t))t=parseFloat(t);else return t;const s=Gl(t,e.target.x),r=Gl(t,e.target.y);return`${s}% ${r}%`}},nw={correct:(t,{treeScale:e,projectionDelta:s})=>{const r=t,i=ss.parse(t);if(i.length>5)return r;const n=ss.createTransformer(t),o=typeof i[0]!="number"?1:0,a=s.x.scale*e.x,l=s.y.scale*e.y;i[0+o]/=a,i[1+o]/=l;const c=me(a,l,.5);return typeof i[2+o]=="number"&&(i[2+o]/=c),typeof i[3+o]=="number"&&(i[3+o]/=c),n(i)}},Co={borderRadius:{...mr,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:mr,borderTopRightRadius:mr,borderBottomLeftRadius:mr,borderBottomRightRadius:mr,boxShadow:nw};function dd(t,{layout:e,layoutId:s}){return ur.has(t)||t.startsWith("origin")||(e||s!==void 0)&&(!!Co[t]||t==="opacity")}function Sa(t,e,s){var o;const r=t.style,i=e==null?void 0:e.style,n={};if(!r)return n;for(const a in r)($e(r[a])||i&&$e(i[a])||dd(a,t)||((o=s==null?void 0:s.getValue(a))==null?void 0:o.liveStyle)!==void 0)&&(n[a]=r[a]);return n}function ow(t){return window.getComputedStyle(t)}class aw extends od{constructor(){super(...arguments),this.type="html",this.renderInstance=hd}readValueFromInstance(e,s){var r;if(ur.has(s))return(r=this.projection)!=null&&r.isProjecting?fo(s):Lv(e,s);{const i=ow(e),n=(Sh(s)?i.getPropertyValue(s):i[s])||0;return typeof n=="string"?n.trim():n}}measureInstanceViewportBox(e,{transformPagePoint:s}){return ud(e,s)}build(e,s,r){xa(e,s,r.transformTemplate)}scrapeMotionValuesFromProps(e,s,r){return Sa(e,s,r)}}const lw={offset:"stroke-dashoffset",array:"stroke-dasharray"},cw={offset:"strokeDashoffset",array:"strokeDasharray"};function uw(t,e,s=1,r=0,i=!0){t.pathLength=1;const n=i?lw:cw;t[n.offset]=`${-r}`,t[n.array]=`${e} ${s}`}const hw=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function fd(t,{attrX:e,attrY:s,attrScale:r,pathLength:i,pathSpacing:n=1,pathOffset:o=0,...a},l,c,u){if(xa(t,a,c),l){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:d,style:f}=t;d.transform&&(f.transform=d.transform,delete d.transform),(f.transform||d.transformOrigin)&&(f.transformOrigin=d.transformOrigin??"50% 50%",delete d.transformOrigin),f.transform&&(f.transformBox=(u==null?void 0:u.transformBox)??"fill-box",delete d.transformBox);for(const p of hw)d[p]!==void 0&&(f[p]=d[p],delete d[p]);e!==void 0&&(d.x=e),s!==void 0&&(d.y=s),r!==void 0&&(d.scale=r),i!==void 0&&uw(d,i,n,o,!1)}const pd=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),md=t=>typeof t=="string"&&t.toLowerCase()==="svg";function dw(t,e,s,r){hd(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(pd.has(i)?i:ga(i),e.attrs[i])}function gd(t,e,s){const r=Sa(t,e,s);for(const i in t)if($e(t[i])||$e(e[i])){const n=cr.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[n]=t[i]}return r}class fw extends od{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=je}getBaseTargetFromProps(e,s){return e[s]}readValueFromInstance(e,s){if(ur.has(s)){const r=Gh(s);return r&&r.default||0}return s=pd.has(s)?s:ga(s),e.getAttribute(s)}scrapeMotionValuesFromProps(e,s,r){return gd(e,s,r)}build(e,s,r){fd(e,s,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,s,r,i){dw(e,s,r,i)}mount(e){this.isSVGTag=md(e.tagName),super.mount(e)}}const pw=ba.length;function yd(t){if(!t)return;if(!t.isControllingVariants){const s=t.parent?yd(t.parent)||{}:{};return t.props.initial!==void 0&&(s.initial=t.props.initial),s}const e={};for(let s=0;s<pw;s++){const r=ba[s],i=t.props[r];(Kr(i)||i===!1)&&(e[r]=i)}return e}function vd(t,e){if(!Array.isArray(e))return!1;const s=e.length;if(s!==t.length)return!1;for(let r=0;r<s;r++)if(e[r]!==t[r])return!1;return!0}const mw=[..._a].reverse(),gw=_a.length;function yw(t){return e=>Promise.all(e.map(({animation:s,options:r})=>C0(t,s,r)))}function vw(t){let e=yw(t),s=Yl(),r=!0;const i=l=>(c,u)=>{var f;const d=Xs(t,u,l==="exit"?(f=t.presenceContext)==null?void 0:f.custom:void 0);if(d){const{transition:p,transitionEnd:g,...m}=d;c={...c,...m,...g}}return c};function n(l){e=l(t)}function o(l){const{props:c}=t,u=yd(t.parent)||{},d=[],f=new Set;let p={},g=1/0;for(let y=0;y<gw;y++){const w=mw[y],v=s[w],_=c[w]!==void 0?c[w]:u[w],b=Kr(_),x=w===l?v.isActive:null;x===!1&&(g=y);let T=_===u[w]&&_!==c[w]&&b;if(T&&r&&t.manuallyAnimateOnMount&&(T=!1),v.protectedKeys={...p},!v.isActive&&x===null||!_&&!v.prevProp||Yi(_)||typeof _=="boolean")continue;const k=ww(v.prevProp,_);let j=k||w===l&&v.isActive&&!T&&b||y>g&&b,P=!1;const R=Array.isArray(_)?_:[_];let A=R.reduce(i(w),{});x===!1&&(A={});const{prevResolvedValues:N={}}=v,M={...N,...A},H=B=>{j=!0,f.has(B)&&(P=!0,f.delete(B)),v.needsAnimating[B]=!0;const C=t.getValue(B);C&&(C.liveStyle=!1)};for(const B in M){const C=A[B],D=N[B];if(p.hasOwnProperty(B))continue;let X=!1;wo(C)&&wo(D)?X=!vd(C,D):X=C!==D,X?C!=null?H(B):f.add(B):C!==void 0&&f.has(B)?H(B):v.protectedKeys[B]=!0}v.prevProp=_,v.prevResolvedValues=A,v.isActive&&(p={...p,...A}),r&&t.blockInitialAnimation&&(j=!1);const J=T&&k;j&&(!J||P)&&d.push(...R.map(B=>{const C={type:w};if(typeof B=="string"&&r&&!J&&t.manuallyAnimateOnMount&&t.parent){const{parent:D}=t,X=Xs(D,B);if(D.enteringChildren&&X){const{delayChildren:U}=X.transition||{};C.delay=Vh(D.enteringChildren,t,U)}}return{animation:B,options:C}}))}if(f.size){const y={};if(typeof c.initial!="boolean"){const w=Xs(t,Array.isArray(c.initial)?c.initial[0]:c.initial);w&&w.transition&&(y.transition=w.transition)}f.forEach(w=>{const v=t.getBaseTarget(w),_=t.getValue(w);_&&(_.liveStyle=!0),y[w]=v??null}),d.push({animation:y})}let m=!!d.length;return r&&(c.initial===!1||c.initial===c.animate)&&!t.manuallyAnimateOnMount&&(m=!1),r=!1,m?e(d):Promise.resolve()}function a(l,c){var d;if(s[l].isActive===c)return Promise.resolve();(d=t.variantChildren)==null||d.forEach(f=>{var p;return(p=f.animationState)==null?void 0:p.setActive(l,c)}),s[l].isActive=c;const u=o(l);for(const f in s)s[f].protectedKeys={};return u}return{animateChanges:o,setActive:a,setAnimateFunction:n,getState:()=>s,reset:()=>{s=Yl()}}}function ww(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!vd(e,t):!1}function hs(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Yl(){return{animate:hs(!0),whileInView:hs(),whileHover:hs(),whileTap:hs(),whileDrag:hs(),whileFocus:hs(),exit:hs()}}function Jl(t,e){t.min=e.min,t.max=e.max}function wt(t,e){Jl(t.x,e.x),Jl(t.y,e.y)}function Xl(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}const wd=1e-4,_w=1-wd,bw=1+wd,_d=.01,xw=0-_d,Sw=0+_d;function He(t){return t.max-t.min}function Tw(t,e,s){return Math.abs(t-e)<=s}function Zl(t,e,s,r=.5){t.origin=r,t.originPoint=me(e.min,e.max,t.origin),t.scale=He(s)/He(e),t.translate=me(s.min,s.max,t.origin)-t.originPoint,(t.scale>=_w&&t.scale<=bw||isNaN(t.scale))&&(t.scale=1),(t.translate>=xw&&t.translate<=Sw||isNaN(t.translate))&&(t.translate=0)}function Pr(t,e,s,r){Zl(t.x,e.x,s.x,r?r.originX:void 0),Zl(t.y,e.y,s.y,r?r.originY:void 0)}function Ql(t,e,s){t.min=s.min+e.min,t.max=t.min+He(e)}function kw(t,e,s){Ql(t.x,e.x,s.x),Ql(t.y,e.y,s.y)}function ec(t,e,s){t.min=e.min-s.min,t.max=t.min+He(e)}function Mi(t,e,s){ec(t.x,e.x,s.x),ec(t.y,e.y,s.y)}function tc(t,e,s,r,i){return t-=e,t=Ii(t,1/s,r),i!==void 0&&(t=Ii(t,1/i,r)),t}function Cw(t,e=0,s=1,r=.5,i,n=t,o=t){if(Et.test(e)&&(e=parseFloat(e),e=me(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=me(n.min,n.max,r);t===n&&(a-=e),t.min=tc(t.min,e,s,a,i),t.max=tc(t.max,e,s,a,i)}function sc(t,e,[s,r,i],n,o){Cw(t,e[s],e[r],e[i],e.scale,n,o)}const Ew=["x","scaleX","originX"],jw=["y","scaleY","originY"];function rc(t,e,s,r){sc(t.x,e,Ew,s?s.x:void 0,r?r.x:void 0),sc(t.y,e,jw,s?s.y:void 0,r?r.y:void 0)}function ic(t){return t.translate===0&&t.scale===1}function bd(t){return ic(t.x)&&ic(t.y)}function nc(t,e){return t.min===e.min&&t.max===e.max}function Pw(t,e){return nc(t.x,e.x)&&nc(t.y,e.y)}function oc(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function xd(t,e){return oc(t.x,e.x)&&oc(t.y,e.y)}function ac(t){return He(t.x)/He(t.y)}function lc(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}function ht(t){return[t("x"),t("y")]}function Aw(t,e,s){let r="";const i=t.x.translate/e.x,n=t.y.translate/e.y,o=(s==null?void 0:s.z)||0;if((i||n||o)&&(r=`translate3d(${i}px, ${n}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),s){const{transformPerspective:c,rotate:u,rotateX:d,rotateY:f,skewX:p,skewY:g}=s;c&&(r=`perspective(${c}px) ${r}`),u&&(r+=`rotate(${u}deg) `),d&&(r+=`rotateX(${d}deg) `),f&&(r+=`rotateY(${f}deg) `),p&&(r+=`skewX(${p}deg) `),g&&(r+=`skewY(${g}deg) `)}const a=t.x.scale*e.x,l=t.y.scale*e.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const Sd=["TopLeft","TopRight","BottomLeft","BottomRight"],Rw=Sd.length,cc=t=>typeof t=="string"?parseFloat(t):t,uc=t=>typeof t=="number"||L.test(t);function Ow(t,e,s,r,i,n){i?(t.opacity=me(0,s.opacity??1,Nw(r)),t.opacityExit=me(e.opacity??1,0,Dw(r))):n&&(t.opacity=me(e.opacity??1,s.opacity??1,r));for(let o=0;o<Rw;o++){const a=`border${Sd[o]}Radius`;let l=hc(e,a),c=hc(s,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||uc(l)===uc(c)?(t[a]=Math.max(me(cc(l),cc(c),r),0),(Et.test(c)||Et.test(l))&&(t[a]+="%")):t[a]=c}(e.rotate||s.rotate)&&(t.rotate=me(e.rotate||0,s.rotate||0,r))}function hc(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const Nw=Td(0,.5,yh),Dw=Td(.5,.95,gt);function Td(t,e,s){return r=>r<t?0:r>e?1:s(Wr(t,e,r))}function Iw(t,e,s){const r=$e(t)?t:ir(t);return r.start(pa("",r,e,s)),r.animation}function Gr(t,e,s,r={passive:!0}){return t.addEventListener(e,s,r),()=>t.removeEventListener(e,s)}const Mw=(t,e)=>t.depth-e.depth;class Lw{constructor(){this.children=[],this.isDirty=!1}add(e){Xo(this.children,e),this.isDirty=!0}remove(e){Zo(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Mw),this.isDirty=!1,this.children.forEach(e)}}function Fw(t,e){const s=qe.now(),r=({timestamp:i})=>{const n=i-s;n>=e&&(ts(r),t(n-e))};return ce.setup(r,!0),()=>ts(r)}function wi(t){return $e(t)?t.get():t}class $w{constructor(){this.members=[]}add(e){Xo(this.members,e),e.scheduleRender()}remove(e){if(Zo(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const s=this.members[this.members.length-1];s&&this.promote(s)}}relegate(e){const s=this.members.findIndex(i=>e===i);if(s===0)return!1;let r;for(let i=s;i>=0;i--){const n=this.members[i];if(n.isPresent!==!1){r=n;break}}return r?(this.promote(r),!0):!1}promote(e,s){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender();const i=r.options.layoutDependency,n=e.options.layoutDependency;i!==void 0&&n!==void 0&&i===n||(e.resumeFrom=r,s&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0));const{crossfade:a}=e.options;a===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:s,resumingFrom:r}=e;s.onExitComplete&&s.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const _i={hasAnimatedSinceResize:!0,hasEverUpdated:!1},Cn=["","X","Y","Z"],Vw=1e3;let Bw=0;function En(t,e,s,r){const{latestValues:i}=e;i[t]&&(s[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function kd(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const s=Wh(e);if(window.MotionHasOptimisedAnimation(s,"transform")){const{layout:i,layoutId:n}=t.options;window.MotionCancelOptimisedAnimation(s,"transform",ce,!(i||n))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&kd(r)}function Cd({attachResizeListener:t,defaultParent:e,measureScroll:s,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},a=e==null?void 0:e()){this.id=Bw++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Ww),this.nodes.forEach(Gw),this.nodes.forEach(Yw),this.nodes.forEach(qw)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new Lw)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new ta),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=sd(o)&&!z0(o),this.instance=o;const{layoutId:a,layout:l,visualElement:c}=this.options;if(c&&!c.current&&c.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||a)&&(this.isLayoutDirty=!0),t){let u,d=0;const f=()=>this.root.updateBlockedByResize=!1;ce.read(()=>{d=window.innerWidth}),t(o,()=>{const p=window.innerWidth;p!==d&&(d=p,this.root.updateBlockedByResize=!0,u&&u(),u=Fw(f,250),_i.hasAnimatedSinceResize&&(_i.hasAnimatedSinceResize=!1,this.nodes.forEach(pc)))})}a&&this.root.registerSharedNode(a,this),this.options.animate!==!1&&c&&(a||l)&&this.addEventListener("didUpdate",({delta:u,hasLayoutChanged:d,hasRelativeLayoutChanged:f,layout:p})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const g=this.options.transition||c.getDefaultTransition()||e_,{onLayoutAnimationStart:m,onLayoutAnimationComplete:y}=c.getProps(),w=!this.targetLayout||!xd(this.targetLayout,p),v=!d&&f;if(this.options.layoutRoot||this.resumeFrom||v||d&&(w||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const _={...fa(g,"layout"),onPlay:m,onComplete:y};(c.shouldReduceMotion||this.options.layoutRoot)&&(_.delay=0,_.type=!1),this.startAnimation(_),this.setAnimationOrigin(u,v)}else d||pc(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=p})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),ts(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Jw),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&kd(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const d=this.path[u];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(dc);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(fc);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(Kw),this.nodes.forEach(Uw),this.nodes.forEach(zw)):this.nodes.forEach(fc),this.clearAllSnapshots();const a=qe.now();Me.delta=Pt(0,1e3/60,a-Me.timestamp),Me.timestamp=a,Me.isProcessing=!0,vn.update.process(Me),vn.preRender.process(Me),vn.render.process(Me),Me.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,va.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Hw),this.sharedNodes.forEach(Xw)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ce.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ce.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!He(this.snapshot.measuredBox.x)&&!He(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=je(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&this.instance){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:s(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!bd(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,u=c!==this.prevTransformTemplateValue;o&&this.instance&&(a||gs(this.latestValues)||u)&&(i(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),t_(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var c;const{visualElement:o}=this.options;if(!o)return je();const a=o.measureViewportBox();if(!(((c=this.scroll)==null?void 0:c.wasRoot)||this.path.some(s_))){const{scroll:u}=this.root;u&&(qs(a.x,u.offset.x),qs(a.y,u.offset.y))}return a}removeElementScroll(o){var l;const a=je();if(wt(a,o),(l=this.scroll)!=null&&l.wasRoot)return a;for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:d,options:f}=u;u!==this.root&&d&&f.layoutScroll&&(d.wasRoot&&wt(a,o),qs(a.x,d.offset.x),qs(a.y,d.offset.y))}return a}applyTransform(o,a=!1){const l=je();wt(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];!a&&u.options.layoutScroll&&u.scroll&&u!==u.root&&Hs(l,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),gs(u.latestValues)&&Hs(l,u.latestValues)}return gs(this.latestValues)&&Hs(l,this.latestValues),l}removeTransform(o){const a=je();wt(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!gs(c.latestValues))continue;To(c.latestValues)&&c.updateSnapshot();const u=je(),d=c.measurePageBox();wt(u,d),rc(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,u)}return gs(this.latestValues)&&rc(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Me.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var p;const a=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==a;if(!(o||l&&this.isSharedProjectionDirty||this.isProjectionDirty||(p=this.parent)!=null&&p.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:u,layoutId:d}=this.options;if(!this.layout||!(u||d))return;this.resolvedRelativeTargetAt=Me.timestamp;const f=this.getClosestProjectingParent();f&&this.linkedParentVersion!==f.layoutVersion&&!f.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(f&&f.layout?this.createRelativeTarget(f,this.layout.layoutBox,f.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=je(),this.targetWithTransforms=je()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),kw(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):wt(this.target,this.layout.layoutBox),cd(this.target,this.targetDelta)):wt(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,f&&!!f.resumingFrom==!!this.resumingFrom&&!f.options.layoutScroll&&f.target&&this.animationProgress!==1?this.createRelativeTarget(f,this.target,f.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||To(this.parent.latestValues)||ld(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(o,a,l){this.relativeParent=o,this.linkedParentVersion=o.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=je(),this.relativeTargetOrigin=je(),Mi(this.relativeTargetOrigin,a,l),wt(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){var g;const o=this.getLead(),a=!!this.resumingFrom||this!==o;let l=!0;if((this.isProjectionDirty||(g=this.parent)!=null&&g.isProjectionDirty)&&(l=!1),a&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===Me.timestamp&&(l=!1),l)return;const{layout:c,layoutId:u}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||u))return;wt(this.layoutCorrected,this.layout.layoutBox);const d=this.treeScale.x,f=this.treeScale.y;ew(this.layoutCorrected,this.treeScale,this.path,a),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=je());const{target:p}=o;if(!p){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Xl(this.prevProjectionDelta.x,this.projectionDelta.x),Xl(this.prevProjectionDelta.y,this.projectionDelta.y)),Pr(this.projectionDelta,this.layoutCorrected,p,this.latestValues),(this.treeScale.x!==d||this.treeScale.y!==f||!lc(this.projectionDelta.x,this.prevProjectionDelta.x)||!lc(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",p))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)==null||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Ws(),this.projectionDelta=Ws(),this.projectionDeltaWithTransform=Ws()}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},u={...this.latestValues},d=Ws();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const f=je(),p=l?l.source:void 0,g=this.layout?this.layout.source:void 0,m=p!==g,y=this.getStack(),w=!y||y.members.length<=1,v=!!(m&&!w&&this.options.crossfade===!0&&!this.path.some(Qw));this.animationProgress=0;let _;this.mixTargetDelta=b=>{const x=b/1e3;mc(d.x,o.x,x),mc(d.y,o.y,x),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Mi(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Zw(this.relativeTarget,this.relativeTargetOrigin,f,x),_&&Pw(this.relativeTarget,_)&&(this.isProjectionDirty=!1),_||(_=je()),wt(_,this.relativeTarget)),m&&(this.animationValues=u,Ow(u,c,this.latestValues,x,v,w)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=x},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var a,l,c;this.notifyListeners("animationStart"),(a=this.currentAnimation)==null||a.stop(),(c=(l=this.resumingFrom)==null?void 0:l.currentAnimation)==null||c.stop(),this.pendingAnimation&&(ts(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ce.update(()=>{_i.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=ir(0)),this.currentAnimation=Iw(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:u=>{this.mixTargetDelta(u),o.onUpdate&&o.onUpdate(u)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Vw),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:u}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&Ed(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||je();const d=He(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+d;const f=He(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+f}wt(a,l),Hs(a,u),Pr(this.projectionDeltaWithTransform,this.layoutCorrected,a,u)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new $w),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var a;const{layoutId:o}=this.options;return o?((a=this.getStack())==null?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:o}=this.options;return o?(a=this.getStack())==null?void 0:a.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const c={};l.z&&En("z",o,c,this.animationValues);for(let u=0;u<Cn.length;u++)En(`rotate${Cn[u]}`,o,c,this.animationValues),En(`skew${Cn[u]}`,o,c,this.animationValues);o.render();for(const u in c)o.setStaticValue(u,c[u]),this.animationValues&&(this.animationValues[u]=c[u]);o.scheduleRender()}applyProjectionStyles(o,a){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const l=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=wi(a==null?void 0:a.pointerEvents)||"",o.transform=l?l(this.latestValues,""):"none";return}const c=this.getLead();if(!this.projectionDelta||!this.layout||!c.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=wi(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!gs(this.latestValues)&&(o.transform=l?l({},""):"none",this.hasProjected=!1);return}o.visibility="";const u=c.animationValues||c.latestValues;this.applyTransformsToTarget();let d=Aw(this.projectionDeltaWithTransform,this.treeScale,u);l&&(d=l(u,d)),o.transform=d;const{x:f,y:p}=this.projectionDelta;o.transformOrigin=`${f.origin*100}% ${p.origin*100}% 0`,c.animationValues?o.opacity=c===this?u.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:u.opacityExit:o.opacity=c===this?u.opacity!==void 0?u.opacity:"":u.opacityExit!==void 0?u.opacityExit:0;for(const g in Co){if(u[g]===void 0)continue;const{correct:m,applyTo:y,isCSSVariable:w}=Co[g],v=d==="none"?u[g]:m(u[g],c);if(y){const _=y.length;for(let b=0;b<_;b++)o[y[b]]=v}else w?this.options.visualElement.renderState.vars[g]=v:o[g]=v}this.options.layoutId&&(o.pointerEvents=c===this?wi(a==null?void 0:a.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)==null?void 0:a.stop()}),this.root.nodes.forEach(dc),this.root.sharedNodes.clear()}}}function Uw(t){t.updateLayout()}function zw(t){var s;const e=((s=t.resumeFrom)==null?void 0:s.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:n}=t.options,o=e.source!==t.layout.source;n==="size"?ht(d=>{const f=o?e.measuredBox[d]:e.layoutBox[d],p=He(f);f.min=r[d].min,f.max=f.min+p}):Ed(n,e.layoutBox,r)&&ht(d=>{const f=o?e.measuredBox[d]:e.layoutBox[d],p=He(r[d]);f.max=f.min+p,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[d].max=t.relativeTarget[d].min+p)});const a=Ws();Pr(a,r,e.layoutBox);const l=Ws();o?Pr(l,t.applyTransform(i,!0),e.measuredBox):Pr(l,r,e.layoutBox);const c=!bd(a);let u=!1;if(!t.resumeFrom){const d=t.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:f,layout:p}=d;if(f&&p){const g=je();Mi(g,e.layoutBox,f.layoutBox);const m=je();Mi(m,r,p.layoutBox),xd(g,m)||(u=!0),d.options.layoutRoot&&(t.relativeTarget=m,t.relativeTargetOrigin=g,t.relativeParent=d)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeLayoutChanged:u})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function Ww(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function qw(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function Hw(t){t.clearSnapshot()}function dc(t){t.clearMeasurements()}function fc(t){t.isLayoutDirty=!1}function Kw(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function pc(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function Gw(t){t.resolveTargetDelta()}function Yw(t){t.calcProjection()}function Jw(t){t.resetSkewAndRotation()}function Xw(t){t.removeLeadSnapshot()}function mc(t,e,s){t.translate=me(e.translate,0,s),t.scale=me(e.scale,1,s),t.origin=e.origin,t.originPoint=e.originPoint}function gc(t,e,s,r){t.min=me(e.min,s.min,r),t.max=me(e.max,s.max,r)}function Zw(t,e,s,r){gc(t.x,e.x,s.x,r),gc(t.y,e.y,s.y,r)}function Qw(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const e_={duration:.45,ease:[.4,0,.1,1]},yc=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),vc=yc("applewebkit/")&&!yc("chrome/")?Math.round:gt;function wc(t){t.min=vc(t.min),t.max=vc(t.max)}function t_(t){wc(t.x),wc(t.y)}function Ed(t,e,s){return t==="position"||t==="preserve-aspect"&&!Tw(ac(e),ac(s),.2)}function s_(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const r_=Cd({attachResizeListener:(t,e)=>Gr(t,"resize",e),measureScroll:()=>{var t,e;return{x:document.documentElement.scrollLeft||((t=document.body)==null?void 0:t.scrollLeft)||0,y:document.documentElement.scrollTop||((e=document.body)==null?void 0:e.scrollTop)||0}},checkIsScrollRoot:()=>!0}),jn={current:void 0},jd=Cd({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!jn.current){const t=new r_({});t.mount(window),t.setOptions({layoutScroll:!0}),jn.current=t}return jn.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),Pd=S.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function i_(t=!0){const e=S.useContext(Jo);if(e===null)return[!0,null];const{isPresent:s,onExitComplete:r,register:i}=e,n=S.useId();S.useEffect(()=>{if(t)return i(n)},[t]);const o=S.useCallback(()=>t&&r&&r(n),[n,r,t]);return!s&&r?[!1,o]:[!0]}const Ad=S.createContext({strict:!1}),_c={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let bc=!1;function n_(){if(bc)return;const t={};for(const e in _c)t[e]={isEnabled:s=>_c[e].some(r=>!!s[r])};nd(t),bc=!0}function Rd(){return n_(),J0()}function o_(t){const e=Rd();for(const s in t)e[s]={...e[s],...t[s]};nd(e)}const a_=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Li(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||a_.has(t)}let Od=t=>!Li(t);function l_(t){typeof t=="function"&&(Od=e=>e.startsWith("on")?!Li(e):t(e))}try{l_(require("@emotion/is-prop-valid").default)}catch{}function c_(t,e,s){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(Od(i)||s===!0&&Li(i)||!e&&!Li(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}const Xi=S.createContext({});function u_(t,e){if(Ji(t)){const{initial:s,animate:r}=t;return{initial:s===!1||Kr(s)?s:void 0,animate:Kr(r)?r:void 0}}return t.inherit!==!1?e:{}}function h_(t){const{initial:e,animate:s}=u_(t,S.useContext(Xi));return S.useMemo(()=>({initial:e,animate:s}),[xc(e),xc(s)])}function xc(t){return Array.isArray(t)?t.join(" "):t}const Ta=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Nd(t,e,s){for(const r in e)!$e(e[r])&&!dd(r,s)&&(t[r]=e[r])}function d_({transformTemplate:t},e){return S.useMemo(()=>{const s=Ta();return xa(s,e,t),Object.assign({},s.vars,s.style)},[e])}function f_(t,e){const s=t.style||{},r={};return Nd(r,s,t),Object.assign(r,d_(t,e)),r}function p_(t,e){const s={},r=f_(t,e);return t.drag&&t.dragListener!==!1&&(s.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(s.tabIndex=0),s.style=r,s}const Dd=()=>({...Ta(),attrs:{}});function m_(t,e,s,r){const i=S.useMemo(()=>{const n=Dd();return fd(n,e,md(r),t.transformTemplate,t.style),{...n.attrs,style:{...n.style}}},[e]);if(t.style){const n={};Nd(n,t.style,t),i.style={...n,...i.style}}return i}const g_=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function ka(t){return typeof t!="string"||t.includes("-")?!1:!!(g_.indexOf(t)>-1||/[A-Z]/u.test(t))}function y_(t,e,s,{latestValues:r},i,n=!1,o){const l=(o??ka(t)?m_:p_)(e,r,i,t),c=c_(e,typeof t=="string",n),u=t!==S.Fragment?{...c,...l,ref:s}:{},{children:d}=e,f=S.useMemo(()=>$e(d)?d.get():d,[d]);return S.createElement(t,{...u,children:f})}function v_({scrapeMotionValuesFromProps:t,createRenderState:e},s,r,i){return{latestValues:w_(s,r,i,t),renderState:e()}}function w_(t,e,s,r){const i={},n=r(t,{});for(const f in n)i[f]=wi(n[f]);let{initial:o,animate:a}=t;const l=Ji(t),c=id(t);e&&c&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let u=s?s.initial===!1:!1;u=u||o===!1;const d=u?a:o;if(d&&typeof d!="boolean"&&!Yi(d)){const f=Array.isArray(d)?d:[d];for(let p=0;p<f.length;p++){const g=ma(t,f[p]);if(g){const{transitionEnd:m,transition:y,...w}=g;for(const v in w){let _=w[v];if(Array.isArray(_)){const b=u?_.length-1:0;_=_[b]}_!==null&&(i[v]=_)}for(const v in m)i[v]=m[v]}}}return i}const Id=t=>(e,s)=>{const r=S.useContext(Xi),i=S.useContext(Jo),n=()=>v_(t,e,r,i);return s?n():Ny(n)},__=Id({scrapeMotionValuesFromProps:Sa,createRenderState:Ta}),b_=Id({scrapeMotionValuesFromProps:gd,createRenderState:Dd}),x_=Symbol.for("motionComponentSymbol");function S_(t,e,s){const r=S.useRef(s);S.useInsertionEffect(()=>{r.current=s});const i=S.useRef(null);return S.useCallback(n=>{var a;n&&((a=t.onMount)==null||a.call(t,n)),e&&(n?e.mount(n):e.unmount());const o=r.current;if(typeof o=="function")if(n){const l=o(n);typeof l=="function"&&(i.current=l)}else i.current?(i.current(),i.current=null):o(n);else o&&(o.current=n)},[e])}const Md=S.createContext({});function br(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function T_(t,e,s,r,i,n){var w,v;const{visualElement:o}=S.useContext(Xi),a=S.useContext(Ad),l=S.useContext(Jo),c=S.useContext(Pd).reducedMotion,u=S.useRef(null),d=S.useRef(!1);r=r||a.renderer,!u.current&&r&&(u.current=r(t,{visualState:e,parent:o,props:s,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c,isSVG:n}),d.current&&u.current&&(u.current.manuallyAnimateOnMount=!0));const f=u.current,p=S.useContext(Md);f&&!f.projection&&i&&(f.type==="html"||f.type==="svg")&&k_(u.current,s,i,p);const g=S.useRef(!1);S.useInsertionEffect(()=>{f&&g.current&&f.update(s,l)});const m=s[zh],y=S.useRef(!!m&&!((w=window.MotionHandoffIsComplete)!=null&&w.call(window,m))&&((v=window.MotionHasOptimisedAnimation)==null?void 0:v.call(window,m)));return Dy(()=>{d.current=!0,f&&(g.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),f.scheduleRenderMicrotask(),y.current&&f.animationState&&f.animationState.animateChanges())}),S.useEffect(()=>{f&&(!y.current&&f.animationState&&f.animationState.animateChanges(),y.current&&(queueMicrotask(()=>{var _;(_=window.MotionHandoffMarkAsComplete)==null||_.call(window,m)}),y.current=!1),f.enteringChildren=void 0)}),f}function k_(t,e,s,r){const{layoutId:i,layout:n,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:c,layoutCrossfade:u}=e;t.projection=new s(t.latestValues,e["data-framer-portal-id"]?void 0:Ld(t.parent)),t.projection.setOptions({layoutId:i,layout:n,alwaysMeasureLayout:!!o||a&&br(a),visualElement:t,animationType:typeof n=="string"?n:"both",initialPromotionConfig:r,crossfade:u,layoutScroll:l,layoutRoot:c})}function Ld(t){if(t)return t.options.allowProjection!==!1?t.projection:Ld(t.parent)}function Pn(t,{forwardMotionProps:e=!1,type:s}={},r,i){r&&o_(r);const n=s?s==="svg":ka(t),o=n?b_:__;function a(c,u){let d;const f={...S.useContext(Pd),...c,layoutId:C_(c)},{isStatic:p}=f,g=h_(c),m=o(c,p);if(!p&&oh){E_();const y=j_(f);d=y.MeasureLayout,g.visualElement=T_(t,m,f,i,y.ProjectionNode,n)}return h.jsxs(Xi.Provider,{value:g,children:[d&&g.visualElement?h.jsx(d,{visualElement:g.visualElement,...f}):null,y_(t,c,S_(m,g.visualElement,u),m,p,e,n)]})}a.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const l=S.forwardRef(a);return l[x_]=t,l}function C_({layoutId:t}){const e=S.useContext(nh).id;return e&&t!==void 0?e+"-"+t:t}function E_(t,e){S.useContext(Ad).strict}function j_(t){const e=Rd(),{drag:s,layout:r}=e;if(!s&&!r)return{};const i={...s,...r};return{MeasureLayout:s!=null&&s.isEnabled(t)||r!=null&&r.isEnabled(t)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}function P_(t,e){if(typeof Proxy>"u")return Pn;const s=new Map,r=(n,o)=>Pn(n,o,t,e),i=(n,o)=>r(n,o);return new Proxy(i,{get:(n,o)=>o==="create"?r:(s.has(o)||s.set(o,Pn(o,void 0,t,e)),s.get(o))})}const A_=(t,e)=>e.isSVG??ka(t)?new fw(e):new aw(e,{allowProjection:t!==S.Fragment});class R_ extends is{constructor(e){super(e),e.animationState||(e.animationState=vw(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Yi(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:s}=this.node.prevProps||{};e!==s&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let O_=0;class N_ extends is{constructor(){super(...arguments),this.id=O_++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:s}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);s&&!e&&i.then(()=>{s(this.id)})}mount(){const{register:e,onExitComplete:s}=this.node.presenceContext||{};s&&s(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const D_={animation:{Feature:R_},exit:{Feature:N_}};function ei(t){return{point:{x:t.pageX,y:t.pageY}}}const I_=t=>e=>wa(e)&&t(e,ei(e));function Ar(t,e,s,r){return Gr(t,e,I_(s),r)}const Fd=({current:t})=>t?t.ownerDocument.defaultView:null,Sc=(t,e)=>Math.abs(t-e);function M_(t,e){const s=Sc(t.x,e.x),r=Sc(t.y,e.y);return Math.sqrt(s**2+r**2)}const Tc=new Set(["auto","scroll"]);class $d{constructor(e,s,{transformPagePoint:r,contextWindow:i=window,dragSnapToOrigin:n=!1,distanceThreshold:o=3,element:a}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=p=>{this.handleScroll(p.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const p=Rn(this.lastMoveEventInfo,this.history),g=this.startEvent!==null,m=M_(p.offset,{x:0,y:0})>=this.distanceThreshold;if(!g&&!m)return;const{point:y}=p,{timestamp:w}=Me;this.history.push({...y,timestamp:w});const{onStart:v,onMove:_}=this.handlers;g||(v&&v(this.lastMoveEvent,p),this.startEvent=this.lastMoveEvent),_&&_(this.lastMoveEvent,p)},this.handlePointerMove=(p,g)=>{this.lastMoveEvent=p,this.lastMoveEventInfo=An(g,this.transformPagePoint),ce.update(this.updatePoint,!0)},this.handlePointerUp=(p,g)=>{this.end();const{onEnd:m,onSessionEnd:y,resumeAnimation:w}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&w&&w(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=Rn(p.type==="pointercancel"?this.lastMoveEventInfo:An(g,this.transformPagePoint),this.history);this.startEvent&&m&&m(p,v),y&&y(p,v)},!wa(e))return;this.dragSnapToOrigin=n,this.handlers=s,this.transformPagePoint=r,this.distanceThreshold=o,this.contextWindow=i||window;const l=ei(e),c=An(l,this.transformPagePoint),{point:u}=c,{timestamp:d}=Me;this.history=[{...u,timestamp:d}];const{onSessionStart:f}=s;f&&f(e,Rn(c,this.history)),this.removeListeners=Xr(Ar(this.contextWindow,"pointermove",this.handlePointerMove),Ar(this.contextWindow,"pointerup",this.handlePointerUp),Ar(this.contextWindow,"pointercancel",this.handlePointerUp)),a&&this.startScrollTracking(a)}startScrollTracking(e){let s=e.parentElement;for(;s;){const r=getComputedStyle(s);(Tc.has(r.overflowX)||Tc.has(r.overflowY))&&this.scrollPositions.set(s,{x:s.scrollLeft,y:s.scrollTop}),s=s.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(e){const s=this.scrollPositions.get(e);if(!s)return;const r=e===window,i=r?{x:window.scrollX,y:window.scrollY}:{x:e.scrollLeft,y:e.scrollTop},n={x:i.x-s.x,y:i.y-s.y};n.x===0&&n.y===0||(r?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=n.x,this.lastMoveEventInfo.point.y+=n.y):this.history.length>0&&(this.history[0].x-=n.x,this.history[0].y-=n.y),this.scrollPositions.set(e,i),ce.update(this.updatePoint,!0))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),ts(this.updatePoint)}}function An(t,e){return e?{point:e(t.point)}:t}function kc(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Rn({point:t},e){return{point:t,delta:kc(t,Vd(e)),offset:kc(t,L_(e)),velocity:F_(e,.1)}}function L_(t){return t[0]}function Vd(t){return t[t.length-1]}function F_(t,e){if(t.length<2)return{x:0,y:0};let s=t.length-1,r=null;const i=Vd(t);for(;s>=0&&(r=t[s],!(i.timestamp-r.timestamp>Mt(e)));)s--;if(!r)return{x:0,y:0};const n=mt(i.timestamp-r.timestamp);if(n===0)return{x:0,y:0};const o={x:(i.x-r.x)/n,y:(i.y-r.y)/n};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function $_(t,{min:e,max:s},r){return e!==void 0&&t<e?t=r?me(e,t,r.min):Math.max(t,e):s!==void 0&&t>s&&(t=r?me(s,t,r.max):Math.min(t,s)),t}function Cc(t,e,s){return{min:e!==void 0?t.min+e:void 0,max:s!==void 0?t.max+s-(t.max-t.min):void 0}}function V_(t,{top:e,left:s,bottom:r,right:i}){return{x:Cc(t.x,s,i),y:Cc(t.y,e,r)}}function Ec(t,e){let s=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([s,r]=[r,s]),{min:s,max:r}}function B_(t,e){return{x:Ec(t.x,e.x),y:Ec(t.y,e.y)}}function U_(t,e){let s=.5;const r=He(t),i=He(e);return i>r?s=Wr(e.min,e.max-r,t.min):r>i&&(s=Wr(t.min,t.max-i,e.min)),Pt(0,1,s)}function z_(t,e){const s={};return e.min!==void 0&&(s.min=e.min-t.min),e.max!==void 0&&(s.max=e.max-t.min),s}const Eo=.35;function W_(t=Eo){return t===!1?t=0:t===!0&&(t=Eo),{x:jc(t,"left","right"),y:jc(t,"top","bottom")}}function jc(t,e,s){return{min:Pc(t,e),max:Pc(t,s)}}function Pc(t,e){return typeof t=="number"?t:t[e]||0}const q_=new WeakMap;class H_{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=je(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:s=!1,distanceThreshold:r}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const n=d=>{s?(this.stopAnimation(),this.snapToCursor(ei(d).point)):this.pauseAnimation()},o=(d,f)=>{this.stopAnimation();const{drag:p,dragPropagation:g,onDragStart:m}=this.getProps();if(p&&!g&&(this.openDragLock&&this.openDragLock(),this.openDragLock=F0(p),!this.openDragLock))return;this.latestPointerEvent=d,this.latestPanInfo=f,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ht(w=>{let v=this.getAxisMotionValue(w).get()||0;if(Et.test(v)){const{projection:_}=this.visualElement;if(_&&_.layout){const b=_.layout.layoutBox[w];b&&(v=He(b)*(parseFloat(v)/100))}}this.originPoint[w]=v}),m&&ce.postRender(()=>m(d,f)),_o(this.visualElement,"transform");const{animationState:y}=this.visualElement;y&&y.setActive("whileDrag",!0)},a=(d,f)=>{this.latestPointerEvent=d,this.latestPanInfo=f;const{dragPropagation:p,dragDirectionLock:g,onDirectionLock:m,onDrag:y}=this.getProps();if(!p&&!this.openDragLock)return;const{offset:w}=f;if(g&&this.currentDirection===null){this.currentDirection=K_(w),this.currentDirection!==null&&m&&m(this.currentDirection);return}this.updateAxis("x",f.point,w),this.updateAxis("y",f.point,w),this.visualElement.render(),y&&y(d,f)},l=(d,f)=>{this.latestPointerEvent=d,this.latestPanInfo=f,this.stop(d,f),this.latestPointerEvent=null,this.latestPanInfo=null},c=()=>ht(d=>{var f;return this.getAnimationState(d)==="paused"&&((f=this.getAxisMotionValue(d).animation)==null?void 0:f.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new $d(e,{onSessionStart:n,onStart:o,onMove:a,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,distanceThreshold:r,contextWindow:Fd(this.visualElement),element:this.visualElement.current})}stop(e,s){const r=e||this.latestPointerEvent,i=s||this.latestPanInfo,n=this.isDragging;if(this.cancel(),!n||!i||!r)return;const{velocity:o}=i;this.startAnimation(o);const{onDragEnd:a}=this.getProps();a&&ce.postRender(()=>a(r,i))}cancel(){this.isDragging=!1;const{projection:e,animationState:s}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.endPanSession();const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),s&&s.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(e,s,r){const{drag:i}=this.getProps();if(!r||!fi(e,i,this.currentDirection))return;const n=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=$_(o,this.constraints[e],this.elastic[e])),n.set(o)}resolveConstraints(){var n;const{dragConstraints:e,dragElastic:s}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(n=this.visualElement.projection)==null?void 0:n.layout,i=this.constraints;e&&br(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=V_(r.layoutBox,e):this.constraints=!1,this.elastic=W_(s),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&ht(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=z_(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:s}=this.getProps();if(!e||!br(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const n=tw(r,i.root,this.visualElement.getTransformPagePoint());let o=B_(i.layout.layoutBox,n);if(s){const a=s(Z0(o));this.hasMutatedConstraints=!!a,a&&(o=ad(a))}return o}startAnimation(e){const{drag:s,dragMomentum:r,dragElastic:i,dragTransition:n,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=ht(u=>{if(!fi(u,s,this.currentDirection))return;let d=l&&l[u]||{};o&&(d={min:0,max:0});const f=i?200:1e6,p=i?40:1e7,g={type:"inertia",velocity:r?e[u]:0,bounceStiffness:f,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...n,...d};return this.startAxisValueAnimation(u,g)});return Promise.all(c).then(a)}startAxisValueAnimation(e,s){const r=this.getAxisMotionValue(e);return _o(this.visualElement,e),r.start(pa(e,r,0,s,this.visualElement,!1))}stopAnimation(){ht(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){ht(e=>{var s;return(s=this.getAxisMotionValue(e).animation)==null?void 0:s.pause()})}getAnimationState(e){var s;return(s=this.getAxisMotionValue(e).animation)==null?void 0:s.state}getAxisMotionValue(e){const s=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[s];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){ht(s=>{const{drag:r}=this.getProps();if(!fi(s,r,this.currentDirection))return;const{projection:i}=this.visualElement,n=this.getAxisMotionValue(s);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[s],l=n.get()||0;n.set(e[s]-me(o,a,.5)+l)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:s}=this.getProps(),{projection:r}=this.visualElement;if(!br(s)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};ht(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();i[o]=U_({min:l,max:l},this.constraints[o])}});const{transformTemplate:n}=this.visualElement.getProps();this.visualElement.current.style.transform=n?n({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),ht(o=>{if(!fi(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(me(l,c,i[o]))})}addListeners(){if(!this.visualElement.current)return;q_.set(this.visualElement,this);const e=this.visualElement.current,s=Ar(e,"pointerdown",l=>{const{drag:c,dragListener:u=!0}=this.getProps(),d=l.target,f=d!==e&&td(d);c&&u&&!f&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();br(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,n=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),ce.read(r);const o=Gr(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(ht(u=>{const d=this.getAxisMotionValue(u);d&&(this.originPoint[u]+=l[u].translate,d.set(d.get()+l[u].translate))}),this.visualElement.render())});return()=>{o(),s(),n(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:s=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:n=!1,dragElastic:o=Eo,dragMomentum:a=!0}=e;return{...e,drag:s,dragDirectionLock:r,dragPropagation:i,dragConstraints:n,dragElastic:o,dragMomentum:a}}}function fi(t,e,s){return(e===!0||e===t)&&(s===null||s===t)}function K_(t,e=10){let s=null;return Math.abs(t.y)>e?s="y":Math.abs(t.x)>e&&(s="x"),s}class G_ extends is{constructor(e){super(e),this.removeGroupControls=gt,this.removeListeners=gt,this.controls=new H_(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||gt}update(){const{dragControls:e}=this.node.getProps(),{dragControls:s}=this.node.prevProps||{};e!==s&&(this.removeGroupControls(),e&&(this.removeGroupControls=e.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.isDragging||this.controls.endPanSession()}}const Ac=t=>(e,s)=>{t&&ce.postRender(()=>t(e,s))};class Y_ extends is{constructor(){super(...arguments),this.removePointerDownListener=gt}onPointerDown(e){this.session=new $d(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Fd(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:s,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:Ac(e),onStart:Ac(s),onMove:r,onEnd:(n,o)=>{delete this.session,i&&ce.postRender(()=>i(n,o))}}}mount(){this.removePointerDownListener=Ar(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let On=!1;class J_ extends S.Component{componentDidMount(){const{visualElement:e,layoutGroup:s,switchLayoutGroup:r,layoutId:i}=this.props,{projection:n}=e;n&&(s.group&&s.group.add(n),r&&r.register&&i&&r.register(n),On&&n.root.didUpdate(),n.addEventListener("animationComplete",()=>{this.safeToRemove()}),n.setOptions({...n.options,layoutDependency:this.props.layoutDependency,onExitComplete:()=>this.safeToRemove()})),_i.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:s,visualElement:r,drag:i,isPresent:n}=this.props,{projection:o}=r;return o&&(o.isPresent=n,e.layoutDependency!==s&&o.setOptions({...o.options,layoutDependency:s}),On=!0,i||e.layoutDependency!==s||s===void 0||e.isPresent!==n?o.willUpdate():this.safeToRemove(),e.isPresent!==n&&(n?o.promote():o.relegate()||ce.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),va.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:s,switchLayoutGroup:r}=this.props,{projection:i}=e;On=!0,i&&(i.scheduleCheckAfterUnmount(),s&&s.group&&s.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Bd(t){const[e,s]=i_(),r=S.useContext(nh);return h.jsx(J_,{...t,layoutGroup:r,switchLayoutGroup:S.useContext(Md),isPresent:e,safeToRemove:s})}const X_={pan:{Feature:Y_},drag:{Feature:G_,ProjectionNode:jd,MeasureLayout:Bd}};function Rc(t,e,s){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",s==="Start");const i="onHover"+s,n=r[i];n&&ce.postRender(()=>n(e,ei(e)))}class Z_ extends is{mount(){const{current:e}=this.node;e&&(this.unmount=$0(e,(s,r)=>(Rc(this.node,r,"Start"),i=>Rc(this.node,i,"End"))))}unmount(){}}class Q_ extends is{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Xr(Gr(this.node.current,"focus",()=>this.onFocus()),Gr(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Oc(t,e,s){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",s==="Start");const i="onTap"+(s==="End"?"":s),n=r[i];n&&ce.postRender(()=>n(e,ei(e)))}class eb extends is{mount(){const{current:e}=this.node;e&&(this.unmount=U0(e,(s,r)=>(Oc(this.node,r,"Start"),(i,{success:n})=>Oc(this.node,i,n?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const jo=new WeakMap,Nn=new WeakMap,tb=t=>{const e=jo.get(t.target);e&&e(t)},sb=t=>{t.forEach(tb)};function rb({root:t,...e}){const s=t||document;Nn.has(s)||Nn.set(s,{});const r=Nn.get(s),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(sb,{root:t,...e})),r[i]}function ib(t,e,s){const r=rb(e);return jo.set(t,s),r.observe(t),()=>{jo.delete(t),r.unobserve(t)}}const nb={some:0,all:1};class ob extends is{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:s,margin:r,amount:i="some",once:n}=e,o={root:s?s.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:nb[i]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,n&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:u,onViewportLeave:d}=this.node.getProps(),f=c?u:d;f&&f(l)};return ib(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:s}=this.node;["amount","margin","root"].some(ab(e,s))&&this.startObserver()}unmount(){}}function ab({viewport:t={}},{viewport:e={}}={}){return s=>t[s]!==e[s]}const lb={inView:{Feature:ob},tap:{Feature:eb},focus:{Feature:Q_},hover:{Feature:Z_}},cb={layout:{ProjectionNode:jd,MeasureLayout:Bd}},ub={...D_,...lb,...X_,...cb},hb=P_(ub,A_),db={some:0,all:1};function fb(t,e,{root:s,margin:r,amount:i="some"}={}){const n=Jh(t),o=new WeakMap,a=c=>{c.forEach(u=>{const d=o.get(u.target);if(u.isIntersecting!==!!d)if(u.isIntersecting){const f=e(u.target,u);typeof f=="function"?o.set(u.target,f):l.unobserve(u.target)}else typeof d=="function"&&(d(u),o.delete(u.target))})},l=new IntersectionObserver(a,{root:s,rootMargin:r,threshold:typeof i=="number"?i:db[i]});return n.forEach(c=>l.observe(c)),()=>l.disconnect()}function pb(t,{root:e,margin:s,amount:r,once:i=!1,initial:n=!1}={}){const[o,a]=S.useState(n);return S.useEffect(()=>{if(!t.current||i&&o)return;const l=()=>(a(!0),i?void 0:()=>a(!1)),c={root:e&&e.current||void 0,margin:s,amount:r};return fb(t.current,l,c)},[e,t,s,i,r]),o}const mb=({children:t,delay:e=0,index:s,onMouseEnter:r,onClick:i})=>{const n=S.useRef(null),o=pb(n,{amount:.5});return h.jsx(hb.div,{ref:n,"data-index":s,onMouseEnter:r,onClick:i,initial:{scale:.7,opacity:0},animate:o?{scale:1,opacity:1}:{scale:.7,opacity:0},transition:{duration:.2,delay:e},style:{marginBottom:"1rem",cursor:"pointer"},children:t})},gb=({items:t=["Item 1","Item 2","Item 3","Item 4","Item 5","Item 6","Item 7","Item 8","Item 9","Item 10","Item 11","Item 12","Item 13","Item 14","Item 15"],onItemSelect:e,onAddToCart:s,showGradients:r=!0,enableArrowNavigation:i=!0,className:n="",itemClassName:o="",displayScrollbar:a=!0,initialSelectedIndex:l=-1})=>{const c=S.useRef(null),[u,d]=S.useState(l),[f,p]=S.useState(!1),[g,m]=S.useState(0),[y,w]=S.useState(1),v=S.useCallback(T=>{d(T)},[]),_=S.useCallback((T,k)=>{d(k),e&&e(T,k)},[e]),b=S.useCallback((T,k)=>{T.stopPropagation(),s&&s(k)},[s]),x=S.useCallback(T=>{const{scrollTop:k,scrollHeight:j,clientHeight:P}=T.target;m(Math.min(k/50,1));const R=j-(k+P);w(j<=P?0:Math.min(R/50,1))},[]);return S.useEffect(()=>{if(!i)return;const T=k=>{k.key==="ArrowDown"||k.key==="Tab"&&!k.shiftKey?(k.preventDefault(),p(!0),d(j=>Math.min(j+1,t.length-1))):k.key==="ArrowUp"||k.key==="Tab"&&k.shiftKey?(k.preventDefault(),p(!0),d(j=>Math.max(j-1,0))):k.key==="Enter"&&u>=0&&u<t.length&&(k.preventDefault(),e&&e(t[u],u))};return window.addEventListener("keydown",T),()=>window.removeEventListener("keydown",T)},[t,u,e,i]),S.useEffect(()=>{if(!f||u<0||!c.current)return;const T=c.current,k=T.querySelector(`[data-index="${u}"]`);if(k){const P=T.scrollTop,R=T.clientHeight,A=k.offsetTop,N=A+k.offsetHeight;A<P+50?T.scrollTo({top:A-50,behavior:"smooth"}):N>P+R-50&&T.scrollTo({top:N-R+50,behavior:"smooth"})}p(!1)},[u,f]),h.jsxs("div",{className:`scroll-list-container ${n}`,children:[h.jsx("div",{ref:c,className:`scroll-list ${a?"":"no-scrollbar"}`,onScroll:x,children:t.map((T,k)=>h.jsx(mb,{delay:.1,index:k,onMouseEnter:()=>v(k),onClick:()=>_(T,k),children:h.jsx("div",{className:`item ${u===k?"selected":""} ${o}`,children:h.jsxs("div",{className:"item-content",children:[h.jsxs("div",{className:"item-info",children:[h.jsx("p",{className:"item-text",children:typeof T=="string"?T:T.name}),typeof T=="object"&&T.price&&h.jsxs("p",{className:"item-price",children:["$",T.price.toLocaleString()]})]}),s&&typeof T=="object"&&h.jsx("button",{className:"add-to-cart-btn",onClick:j=>b(j,T),"aria-label":`Add ${T.name} to cart`,children:h.jsx("span",{className:"add-to-cart-icon","aria-hidden":"true",children:"ðŸ›’"})})]})})},k))}),r&&h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"top-gradient",style:{opacity:g}}),h.jsx("div",{className:"bottom-gradient",style:{opacity:y}})]})]})};function yb({onDateSelect:t,selectedDate:e}){const[s,r]=S.useState(new Date),i=["January","February","March","April","May","June","July","August","September","October","November","December"],n=v=>new Date(v.getFullYear(),v.getMonth()+1,0).getDate(),o=v=>new Date(v.getFullYear(),v.getMonth(),1).getDay(),a=v=>{const _=v.getDay();return _!==0&&_!==6},l=v=>{const _=new Date;_.setHours(0,0,0,0);const b=new Date(v);return b.setHours(0,0,0,0),b<_},c=(v,_)=>!v||!_?!1:v.getDate()===_.getDate()&&v.getMonth()===_.getMonth()&&v.getFullYear()===_.getFullYear(),u=()=>JSON.parse(localStorage.getItem("bookedSlots")||"[]"),d=v=>{if(!v||!a(v)||l(v))return 0;const _=v.toISOString().split("T")[0],b=u(),x=16,T=b.filter(j=>j.date===_);let k=0;return T.forEach(j=>{k+=j.duration/30}),x-k},f=v=>d(v)===0,p=S.useMemo(()=>{const v=[],_=n(s),b=o(s),x=s.getFullYear(),T=s.getMonth();for(let k=0;k<b;k++)v.push({day:null,date:null});for(let k=1;k<=_;k++){const j=new Date(x,T,k);v.push({day:k,date:j})}return v},[s]),g=()=>{r(new Date(s.getFullYear(),s.getMonth()-1))},m=()=>{r(new Date(s.getFullYear(),s.getMonth()+1))},y=v=>{v&&a(v)&&!l(v)&&!f(v)&&t(v)},w=()=>{const v=new Date,_=new Date(s.getFullYear(),s.getMonth(),1),b=new Date(v.getFullYear(),v.getMonth(),1);return _>b};return h.jsxs("div",{className:"calendar-container",children:[h.jsxs("div",{className:"calendar-header",children:[h.jsx("button",{className:"calendar-nav-btn",onClick:g,disabled:!w(),children:"â†"}),h.jsxs("h3",{className:"calendar-month",children:[i[s.getMonth()]," ",s.getFullYear()]}),h.jsx("button",{className:"calendar-nav-btn",onClick:m,children:"â†’"})]}),h.jsxs("div",{className:"calendar-weekdays",children:[h.jsx("div",{className:"calendar-weekday",children:"S"}),h.jsx("div",{className:"calendar-weekday",children:"M"}),h.jsx("div",{className:"calendar-weekday",children:"T"}),h.jsx("div",{className:"calendar-weekday",children:"W"}),h.jsx("div",{className:"calendar-weekday",children:"T"}),h.jsx("div",{className:"calendar-weekday",children:"F"}),h.jsx("div",{className:"calendar-weekday",children:"S"})]}),h.jsx("div",{className:"calendar-days",children:p.map((v,_)=>{if(!v.day)return h.jsx("div",{className:"calendar-day empty"},`empty-${_}`);const b=a(v.date),x=l(v.date),T=c(v.date,e),k=f(v.date),j=b&&!x&&!k;return h.jsx("div",{className:`calendar-day ${j?"available":"unavailable"} ${T?"selected":""}`,onClick:()=>y(v.date),children:v.day},_)})}),h.jsxs("div",{className:"calendar-legend",children:[h.jsxs("div",{className:"legend-item",children:[h.jsx("span",{className:"legend-dot available-dot"}),h.jsx("span",{children:"Available"})]}),h.jsxs("div",{className:"legend-item",children:[h.jsx("span",{className:"legend-dot unavailable-dot"}),h.jsx("span",{children:"Unavailable"})]})]})]})}function vb({selectedDate:t,onTimeSelect:e,selectedTime:s}){const r=()=>JSON.parse(localStorage.getItem("bookedSlots")||"[]"),i=(l,c,u)=>{const d=r(),f=l.toISOString().split("T")[0],[p,g]=c.split(":").map(Number),m=p*60+g;return d.some(y=>{if(y.date!==f)return!1;const[w,v]=y.time24.split(":").map(Number),_=w*60+v,b=_+y.duration;return m>=_&&m<b})},n=()=>{const l=[];for(let p=8;p<=16;p++){const g=p===8?[30]:p===16?[0,30]:[0,30];for(const m of g){if(p===16&&m>30)break;const y=`${p.toString().padStart(2,"0")}:${m.toString().padStart(2,"0")}`,w=p>=12,_=`${p>12?p-12:p===0?12:p}:${m.toString().padStart(2,"0")} ${w?"PM":"AM"}`;l.push({time24:y,time12:_})}}return l},o=S.useMemo(()=>{const l=n();return t?l.filter(c=>!i(t,c.time24)):l},[t]);if(!t)return h.jsx("div",{className:"timeslot-container",children:h.jsx("p",{className:"timeslot-message",children:"Please select a date first"})});const a=l=>{const c={weekday:"long",year:"numeric",month:"long",day:"numeric"};return l.toLocaleDateString("en-US",c)};return h.jsxs("div",{className:"timeslot-container",children:[h.jsxs("h3",{className:"timeslot-title",children:["Select a Time for ",a(t)]}),h.jsx("div",{className:"timeslot-grid",children:o.length>0?o.map(l=>h.jsx("button",{className:`timeslot-btn ${s===l.time24?"selected":""}`,onClick:()=>e(l.time24,l.time12),children:l.time12},l.time24)):h.jsx("p",{className:"timeslot-message",children:"No available time slots for this date"})}),h.jsxs("div",{className:"timeslot-info",children:[h.jsx("p",{children:"ðŸ“… Available Monday - Friday"}),h.jsx("p",{children:"â° 30-minute time blocks"}),o.length>0&&h.jsxs("p",{children:["âœ… ",o.length," slots available"]})]})]})}function wb({onClose:t,onAddToCart:e}){var y;const[s,r]=S.useState(null),[i,n]=S.useState(null),[o,a]=S.useState(null),[l,c]=S.useState(null),u=[{value:30,label:"30 Minutes",price:150},{value:60,label:"1 Hour",price:250}],d=w=>{r(w),n(null),a(null),c(null)},f=(w,v)=>{n(w),a(v),c(null)},p=w=>{c(w)},g=()=>{if(!s||!i||!l)return;const w=u.find(b=>b.value===l),v=b=>{const x={weekday:"long",year:"numeric",month:"long",day:"numeric"};return b.toLocaleDateString("en-US",x)},_={name:`Consultation Meeting - ${w.label}`,price:w.price,quantity:1,category:"Consultation",details:{date:v(s),time:o,duration:`${l} minutes`}};e(_),t()},m=s&&i&&l;return h.jsx("div",{className:"schedule-meeting-overlay",onClick:t,children:h.jsxs("div",{className:"schedule-meeting-modal",onClick:w=>w.stopPropagation(),children:[h.jsxs("div",{className:"schedule-meeting-header",children:[h.jsx("h2",{children:"Schedule a Meeting"}),h.jsx("button",{className:"close-btn",onClick:t,children:"Ã—"})]}),h.jsxs("div",{className:"schedule-meeting-content",children:[h.jsxs("div",{className:"schedule-step",children:[h.jsxs("div",{className:"step-label",children:[h.jsx("span",{className:"step-number",children:"1"}),h.jsx("span",{children:"Select Date"})]}),h.jsx(yb,{onDateSelect:d,selectedDate:s})]}),s&&h.jsxs("div",{className:"schedule-step",children:[h.jsxs("div",{className:"step-label",children:[h.jsx("span",{className:"step-number",children:"2"}),h.jsx("span",{children:"Select Time"})]}),h.jsx(vb,{selectedDate:s,onTimeSelect:f,selectedTime:i})]}),i&&h.jsxs("div",{className:"schedule-step",children:[h.jsxs("div",{className:"step-label",children:[h.jsx("span",{className:"step-number",children:"3"}),h.jsx("span",{children:"Select Duration"})]}),h.jsx("div",{className:"duration-options",children:u.map(w=>h.jsxs("button",{className:`duration-btn ${l===w.value?"selected":""}`,onClick:()=>p(w.value),children:[h.jsx("div",{className:"duration-label",children:w.label}),h.jsxs("div",{className:"duration-price",children:["$",w.price]})]},w.value))})]}),m&&h.jsxs("div",{className:"schedule-summary",children:[h.jsx("h3",{children:"Booking Summary"}),h.jsxs("div",{className:"summary-details",children:[h.jsxs("div",{className:"summary-row",children:[h.jsx("span",{children:"ðŸ“… Date:"}),h.jsx("span",{children:s.toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric",year:"numeric"})})]}),h.jsxs("div",{className:"summary-row",children:[h.jsx("span",{children:"â° Time:"}),h.jsx("span",{children:o})]}),h.jsxs("div",{className:"summary-row",children:[h.jsx("span",{children:"â±ï¸ Duration:"}),h.jsxs("span",{children:[l," minutes"]})]}),h.jsxs("div",{className:"summary-row total",children:[h.jsx("span",{children:"ðŸ’° Total:"}),h.jsxs("span",{children:["$",(y=u.find(w=>w.value===l))==null?void 0:y.price]})]})]}),h.jsx("button",{className:"add-to-cart-btn",onClick:g,children:"Add to Cart"})]})]})]})})}function Ud({message:t,onClose:e,duration:s=3e3}){return S.useEffect(()=>{const r=setTimeout(()=>{e()},s);return()=>clearTimeout(r)},[s,e]),h.jsx("div",{className:"toast-notification",children:h.jsxs("div",{className:"toast-content",children:[h.jsx("span",{className:"toast-icon",children:"âœ“"}),h.jsx("span",{className:"toast-message",children:t})]})})}function _b(){const t=typeof window<"u"&&(/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)||window.innerWidth<=768),e=Rt(t),[s,r]=S.useState(null),[i,n]=S.useState(null),[o,a]=S.useState(!1),l={"AI Solutions":[{name:"Machine Learning Model Development",price:12500},{name:"Natural Language Processing (NLP)",price:1e4},{name:"Computer Vision Systems",price:15e3},{name:"Predictive Analysis",price:8500},{name:"AI Strategy Consulting",price:7500},{name:"Custom AI Integration",price:11e3},{name:"Automated Decision Systems",price:13500},{name:"Deep Learning Solutions",price:16500},{name:"AI Performance Optimization",price:8e3},{name:"Ongoing AI Support and Training",price:6500}],Consulting:[{name:"Business Strategy Development",price:7500},{name:"Operational Efficiency Analysis",price:6e3},{name:"Market Research & Insights",price:5500},{name:"Process Optimization",price:6500},{name:"Change Management",price:8e3},{name:"Risk Assessment and Mitigation",price:7e3},{name:"Financial Planning and Analysis",price:8500},{name:"Technology Consulting",price:9e3},{name:"Executive Coaching",price:10500},{name:"Long Term Strategic Planning",price:9500}],"Import/Export & Logistics":[{name:"International Shipping Coordination",price:4500},{name:"Customs Clearance Services",price:2800},{name:"Supply Chain Optimization",price:7500},{name:"Freight Forwarding",price:3800},{name:"Warehouse Management",price:5200},{name:"Documentation and Compliance",price:2500},{name:"Route Planning and Optimization",price:4200},{name:"Inventory Management",price:4800},{name:"Last Mile Delivery Solutions",price:3500},{name:"Logistics Analysis and Reporting",price:5800}],"Marketing Solutions":[{name:"Digital Marketing Strategy",price:6500},{name:"Social Media Management",price:3800},{name:"Content Creation and Marketing",price:4800},{name:"SEO and SEM Optimization",price:5200},{name:"Brand Development",price:8500},{name:"Email Marketing Campaigns",price:2900},{name:"Performance Analytics",price:4200},{name:"Influencer Partnerships",price:7e3},{name:"Conversion Rate Optimization",price:5800},{name:"Marketing Automation",price:6200}]},c=p=>{r(p)},u=p=>{p.target.classList.contains("products-detail-overlay")&&r(null)},d=p=>{const g=JSON.parse(localStorage.getItem("cartItems")||"[]"),m=g.findIndex(y=>y.name===p.name);m!==-1?g[m].quantity+=1:g.push({name:p.name,price:p.price,quantity:1,category:s}),localStorage.setItem("cartItems",JSON.stringify(g)),window.dispatchEvent(new Event("cartUpdated")),n(`"${p.name}" added to cart`)},f=p=>{const g=JSON.parse(localStorage.getItem("cartItems")||"[]");g.push(p),localStorage.setItem("cartItems",JSON.stringify(g)),window.dispatchEvent(new Event("cartUpdated")),n(`"${p.name}" added to cart`)};return h.jsxs("div",{className:"page-container",children:[h.jsx(At,{colors:["#5227FF","#FF9FFC","#B19EEF"],mouseForce:t?18:24,cursorSize:t?80:100,isViscous:!0,viscous:30,iterationsViscous:e.iterationsViscous,iterationsPoisson:e.iterationsPoisson,resolution:e.resolution,isBounce:!1,autoDemo:!0,autoSpeed:e.autoSpeed,autoIntensity:2.2,takeoverDuration:.25,autoResumeDelay:3e3,autoRampDuration:.6}),h.jsxs("div",{className:"page-content products-content",children:[h.jsx("h1",{className:"page-title",children:"Our Solutions"}),s?h.jsx("div",{className:"products-detail-overlay",onClick:u,children:h.jsxs("div",{className:"products-detail-content",onClick:p=>p.stopPropagation(),children:[h.jsx("button",{className:"back-button",onClick:()=>r(null),children:"â† Back to Products"}),h.jsx("h2",{className:"detail-title",children:s}),h.jsx(gb,{items:l[s],showGradients:!0,enableArrowNavigation:!0,displayScrollbar:!1,onItemSelect:(p,g)=>console.log(`Selected: ${p.name}`),onAddToCart:d})]})}):h.jsxs("div",{className:"products-grid",children:[h.jsx("div",{onClick:()=>c("AI Solutions"),children:h.jsxs(dt,{spotlightColor:"rgba(82, 39, 255, 0.3)",children:[h.jsx("span",{className:"spotlight-card-icon",children:"ðŸ¤–"}),h.jsx("h2",{children:"AI Solutions"}),h.jsx("p",{children:"Harness the power of artificial intelligence to transform your business operations. We deliver cutting-edge AI implementations including machine learning models, natural language processing, computer vision, and intelligent automation systems tailored to your unique challenges and opportunities."})]})}),h.jsx("div",{onClick:()=>c("Consulting"),children:h.jsxs(dt,{spotlightColor:"rgba(255, 159, 252, 0.3)",children:[h.jsx("span",{className:"spotlight-card-icon",children:"ðŸ’¡"}),h.jsx("h2",{children:"Consulting"}),h.jsx("p",{children:"Strategic guidance from industry experts to navigate complex business challenges. Our consulting services provide actionable insights, comprehensive analysis, and proven strategies to optimize operations, drive growth, and achieve sustainable competitive advantages in your market."})]})}),h.jsx("div",{onClick:()=>c("Import/Export & Logistics"),children:h.jsxs(dt,{spotlightColor:"rgba(177, 158, 239, 0.3)",children:[h.jsx("span",{className:"spotlight-card-icon",children:"ðŸŒ"}),h.jsx("h2",{children:"Import/Export & Logistics"}),h.jsx("p",{children:"Seamless global trade solutions with end-to-end logistics management. We handle international shipping, customs clearance, supply chain optimization, and freight forwarding to ensure your goods move efficiently across borders with full compliance and minimal risk."})]})}),h.jsx("div",{onClick:()=>c("Marketing Solutions"),children:h.jsxs(dt,{spotlightColor:"rgba(82, 39, 255, 0.3)",children:[h.jsx("span",{className:"spotlight-card-icon",children:"ðŸ“ˆ"}),h.jsx("h2",{children:"Marketing Solutions"}),h.jsx("p",{children:"Data-driven marketing strategies that amplify your brand and drive measurable results. From digital campaigns and content creation to SEO, social media management, and performance analytics, we build comprehensive marketing ecosystems that connect you with your target audience."})]})}),h.jsx("div",{className:"schedule-meeting-card-wrapper",onClick:()=>a(!0),children:h.jsx(dt,{spotlightColor:"rgba(82, 39, 255, 0.3)",children:h.jsxs("div",{className:"schedule-meeting-card-content",children:[h.jsx("span",{className:"spotlight-card-icon schedule-icon",children:"ðŸ“…"}),h.jsxs("div",{className:"schedule-text",children:[h.jsx("h2",{children:"Schedule a Meeting"}),h.jsx("p",{children:"Book a one-on-one consultation with our experts. Choose between 30-minute or 1-hour sessions at your convenience. Available Monday to Friday, 8:30 AM - 4:30 PM."})]})]})})})]})]}),o&&h.jsx(wb,{onClose:()=>a(!1),onAddToCart:f}),i&&h.jsx(Ud,{message:i,onClose:()=>n(null),duration:3e3})]})}function bb(){const t=typeof window<"u"&&(/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)||window.innerWidth<=768),e=Rt(t),[s,r]=S.useState(null),[i,n]=S.useState(null),o={"AI Solutions":{bronze:{name:"AI Starter",priceMonthly:50,priceOneTime:500,pricingLabel:"$50/month or $500 one-time (1 year)",description:"Perfect for businesses beginning their AI journey",features:["Basic ML model implementation","Data preprocessing & cleaning","Model training & testing","Performance metrics dashboard","2 months support","Documentation & training materials","Up to 3 iterations","Basic integration assistance"]},silver:{name:"AI Professional",priceMonthly:125,priceOneTime:1350,pricingLabel:"$125/month or $1,350 one-time (1 year)",description:"Comprehensive AI solutions for growing enterprises",features:["Advanced ML/DL implementation","Custom NLP or Computer Vision","API integration & deployment","Real-time monitoring system","6 months premium support","Ongoing optimization","Unlimited iterations","Full technical documentation","Team training sessions","Cloud deployment setup"]},gold:{name:"AI Enterprise",priceMonthly:299,priceOneTime:2990,pricingLabel:"$299/month or $2,990 one-time (1 year)",description:"End-to-end AI transformation for industry leaders",features:["Everything in AI Professional","Multi-model ensemble & orchestration (combining ML/DL/NLP/CV/LLMs/agents)","Enterprise-grade security, compliance & governance (GDPR, HIPAA, SOC 2 support, audit trails, data sovereignty options)","Scalable production infrastructure (auto-scaling, high-availability setup, multi-region/cloud hybrid deployment)","Advanced MLOps pipeline (CI/CD for models, automated retraining, drift detection, A/B testing frameworks)","Custom AI agents or autonomous workflows","Priority dedicated account manager & senior AI architect access","12 months premium support with SLA (e.g., <4-hour response for critical issues)","Quarterly business reviews, ROI/performance audits & strategic AI roadmap consulting","Unlimited iterations + proactive feature development","White-label options & co-branded deliverables (if applicable)","Integration with enterprise systems (ERP, CRM, legacy databases, real-time data streams)"]}},Consulting:{bronze:{name:"Strategy Essentials",priceMonthly:null,priceOneTime:null,pricingLabel:"Contact for pricing",description:"Foundational consulting for immediate needs",features:["Initial business assessment","Strategy roadmap development","Market analysis report","Competitive landscape review","4 consulting sessions","Implementation guidelines","30 days email support","Final recommendations report"]},silver:{name:"Growth Accelerator",priceMonthly:null,priceOneTime:null,pricingLabel:"Contact for pricing",description:"Comprehensive consulting for sustainable growth",features:["In-depth strategic analysis","Custom growth strategy","Operational optimization plan","Change management framework","12 consulting sessions","Quarterly business reviews","3 months support","Executive presentations","Risk mitigation strategies","Performance tracking system"]},gold:{name:"Enterprise Transformation",priceMonthly:null,priceOneTime:null,pricingLabel:"Contact for pricing",description:"Complete business transformation partnership",features:["Full enterprise assessment","Multi-year strategic plan","Digital transformation roadmap","Organization restructuring plan","Unlimited consulting sessions","Dedicated senior consultant","12 months partnership","C-suite advisory services","Implementation oversight","Monthly board presentations","Crisis management support","Merger & acquisition guidance"]}},"Import/Export & Logistics":{bronze:{name:"Trade Starter",priceMonthly:100,priceOneTime:1e3,pricingLabel:"$100/month or $1,000 one-time (1 year)",description:"Essential services for new international traders",features:["Customs documentation assistance","Basic freight forwarding","Import/export compliance check","Shipping coordination (up to 5 shipments)","Tariff classification help","Basic tracking & reporting","60 days support","Standard delivery timeframes"]},silver:{name:"Logistics Pro",priceMonthly:250,priceOneTime:2500,pricingLabel:"$250/month or $2,500 one-time (1 year)",description:"Advanced logistics management for regular traders",features:["Full customs clearance services","Multi-modal freight solutions","Supply chain optimization","Unlimited shipment coordination","Warehouse management","Route optimization","Real-time tracking portal","6 months support","Priority customer service","Quarterly logistics review"]},gold:{name:"Global Trade Elite",priceMonthly:600,priceOneTime:6500,pricingLabel:"$600/month or $6,500 one-time (1 year)",description:"Premium end-to-end logistics solutions",features:["Dedicated logistics manager","Full supply chain integration","Advanced analytics & forecasting","White-glove customs handling","Premium freight rates","Last-mile delivery solutions","24/7 support & monitoring","12 months service","Risk management & insurance","Multi-country coordination","Reverse logistics support","Sustainability reporting"]}},"Marketing Solutions":{bronze:{name:"Digital Presence",priceMonthly:50,priceOneTime:120,pricingLabel:"$50/month or $120 for 3 months",description:"Build your online presence and reach",features:["Social media setup & strategy","Content calendar (3 months)","12 custom posts per month","Basic SEO optimization","Monthly performance reports","Email marketing setup","Brand guidelines document","90 days support"]},silver:{name:"Growth Marketing",priceMonthly:200,priceOneTime:500,pricingLabel:"$200/month or $500 for 3 months",description:"Comprehensive digital marketing for growth",features:["Multi-channel marketing strategy","Social media management (4 platforms)","20 custom posts per month","Advanced SEO & SEM","Email marketing campaigns","Content creation & copywriting","Conversion rate optimization","Bi-weekly strategy calls","6 months engagement","A/B testing & optimization","Influencer outreach program"]},gold:{name:"Brand Domination",priceMonthly:1e3,priceOneTime:1750,pricingLabel:"$1,000 for 3 months or $1,750 for 6 months",description:"Full-scale marketing transformation",features:["Comprehensive brand strategy","Full-service marketing team","All-channel campaign management","Premium content production","Video & multimedia marketing","Marketing automation setup","Advanced analytics & attribution","Weekly strategy sessions","12 months partnership","Dedicated account manager","PR & media relations","Event marketing support","Crisis communication plan"]}}},a=p=>{r(p)},l=p=>{p.target.classList.contains("packages-tier-overlay")&&r(null)},c=(p,g,m,y,w)=>{const v=JSON.parse(localStorage.getItem("cartItems")||"[]"),_={name:`${p.name} - ${m}`,price:w,duration:y,quantity:1,category:"Package",tier:g,features:p.features},b=v.findIndex(x=>x.name===_.name&&x.duration===y);b!==-1?v[b].quantity+=1:v.push(_),localStorage.setItem("cartItems",JSON.stringify(v)),window.dispatchEvent(new Event("cartUpdated")),n(`"${_.name} (${y})" added to cart`)},u=p=>{switch(p){case"bronze":return"rgba(205, 127, 50, 0.3)";case"silver":return"rgba(192, 192, 192, 0.3)";case"gold":return"rgba(255, 215, 0, 0.3)";default:return"rgba(82, 39, 255, 0.3)"}},d=p=>{switch(p){case"bronze":return"linear-gradient(135deg, rgba(205, 127, 50, 0.2), rgba(139, 69, 19, 0.2))";case"silver":return"linear-gradient(135deg, rgba(192, 192, 192, 0.2), rgba(128, 128, 128, 0.2))";case"gold":return"linear-gradient(135deg, rgba(255, 215, 0, 0.2), rgba(218, 165, 32, 0.2))";default:return"linear-gradient(135deg, rgba(82, 39, 255, 0.2), rgba(177, 158, 239, 0.2))"}},f=(p,g,m)=>{const y=m==="Marketing Solutions",w=m==="Consulting",v=g.toLowerCase();return w?h.jsx("div",{className:"duration-buttons",children:h.jsx("button",{className:`duration-btn ${v}-btn`,onClick:()=>window.location.href="/contact",children:"Contact for Pricing"})}):y?h.jsxs("div",{className:"duration-buttons",children:[h.jsx("button",{className:`duration-btn ${v}-btn`,onClick:()=>c(p,g,m,p.priceMonthly?"Monthly":"3 Months",p.priceMonthly||p.priceOneTime),children:p.priceMonthly?`Monthly - $${p.priceMonthly}`:`3 Months - $${p.priceOneTime}`}),p.priceOneTime&&p.priceMonthly&&h.jsxs("button",{className:`duration-btn ${v}-btn`,onClick:()=>c(p,g,m,"3 Months",p.priceOneTime),children:["3 Months - $",p.priceOneTime]})]}):h.jsxs("div",{className:"duration-buttons",children:[p.priceMonthly&&h.jsxs("button",{className:`duration-btn ${v}-btn`,onClick:()=>c(p,g,m,"Monthly",p.priceMonthly),children:["Monthly - $",p.priceMonthly]}),p.priceOneTime&&h.jsxs("button",{className:`duration-btn ${v}-btn`,onClick:()=>c(p,g,m,"1 Year",p.priceOneTime),children:["1 Year - $",p.priceOneTime]})]})};return h.jsxs("div",{className:"page-container",children:[h.jsx(At,{colors:["#5227FF","#FF9FFC","#B19EEF"],mouseForce:t?18:24,cursorSize:t?80:100,isViscous:!0,viscous:30,iterationsViscous:e.iterationsViscous,iterationsPoisson:e.iterationsPoisson,resolution:e.resolution,isBounce:!1,autoDemo:!0,autoSpeed:e.autoSpeed,autoIntensity:2.2,takeoverDuration:.25,autoResumeDelay:3e3,autoRampDuration:.6}),h.jsxs("div",{className:"page-content packages-content",children:[h.jsx("h1",{className:"page-title",children:"Service Packages"}),s?h.jsx("div",{className:"packages-tier-overlay",onClick:l,children:h.jsxs("div",{className:"packages-tier-content",onClick:p=>p.stopPropagation(),children:[h.jsx("button",{className:"back-button",onClick:()=>r(null),children:"â† Back to Packages"}),h.jsxs("h2",{className:"detail-title",children:[s," Packages"]}),h.jsxs("div",{className:"tier-grid",children:[h.jsx("div",{className:"tier-card-wrapper",children:h.jsx(dt,{spotlightColor:u("bronze"),children:h.jsxs("div",{className:"tier-card bronze-tier",style:{background:d("bronze")},children:[h.jsx("div",{className:"tier-badge bronze",children:"Tier 1"}),h.jsx("h3",{className:"tier-name",children:o[s].bronze.name}),h.jsx("p",{className:"tier-description",children:o[s].bronze.description}),h.jsxs("div",{className:"tier-features",children:[h.jsx("h4",{children:"Includes:"}),h.jsx("ul",{children:o[s].bronze.features.map((p,g)=>h.jsxs("li",{children:["âœ“ ",p]},g))})]}),f(o[s].bronze,"Bronze",s)]})})}),h.jsx("div",{className:"tier-card-wrapper",children:h.jsx(dt,{spotlightColor:u("silver"),children:h.jsxs("div",{className:"tier-card silver-tier",style:{background:d("silver")},children:[h.jsx("div",{className:"tier-badge silver",children:"Tier 2"}),h.jsx("div",{className:"popular-badge",children:"Most Popular"}),h.jsx("h3",{className:"tier-name",children:o[s].silver.name}),h.jsx("p",{className:"tier-description",children:o[s].silver.description}),h.jsxs("div",{className:"tier-features",children:[h.jsx("h4",{children:"Includes:"}),h.jsx("ul",{children:o[s].silver.features.map((p,g)=>h.jsxs("li",{children:["âœ“ ",p]},g))})]}),f(o[s].silver,"Silver",s)]})})}),h.jsx("div",{className:"tier-card-wrapper",children:h.jsx(dt,{spotlightColor:u("gold"),children:h.jsxs("div",{className:"tier-card gold-tier",style:{background:d("gold")},children:[h.jsx("div",{className:"tier-badge gold",children:"Tier 3"}),h.jsx("h3",{className:"tier-name",children:o[s].gold.name}),h.jsx("p",{className:"tier-description",children:o[s].gold.description}),h.jsxs("div",{className:"tier-features",children:[h.jsx("h4",{children:"Includes:"}),h.jsx("ul",{children:o[s].gold.features.map((p,g)=>h.jsxs("li",{children:["âœ“ ",p]},g))})]}),f(o[s].gold,"Gold",s)]})})})]})]})}):h.jsxs("div",{className:"products-grid",children:[h.jsx("div",{onClick:()=>a("AI Solutions"),children:h.jsxs(dt,{spotlightColor:"rgba(82, 39, 255, 0.3)",children:[h.jsx("span",{className:"spotlight-card-icon",children:"ðŸ¤–"}),h.jsx("h2",{children:"AI Solutions"}),h.jsx("p",{children:"Choose from our tiered AI packages designed to fit your business needs and budget. From starter implementations to enterprise-grade solutions with full support."})]})}),h.jsx("div",{onClick:()=>a("Consulting"),children:h.jsxs(dt,{spotlightColor:"rgba(255, 159, 252, 0.3)",children:[h.jsx("span",{className:"spotlight-card-icon",children:"ðŸ’¡"}),h.jsx("h2",{children:"Consulting"}),h.jsx("p",{children:"Strategic consulting packages tailored to your organization's size and objectives. From essential guidance to full transformation partnerships."})]})}),h.jsx("div",{onClick:()=>a("Import/Export & Logistics"),children:h.jsxs(dt,{spotlightColor:"rgba(177, 158, 239, 0.3)",children:[h.jsx("span",{className:"spotlight-card-icon",children:"ðŸŒ"}),h.jsx("h2",{children:"Import/Export & Logistics"}),h.jsx("p",{children:"International trade and logistics packages for businesses of all sizes. From starter documentation to premium global trade management."})]})}),h.jsx("div",{onClick:()=>a("Marketing Solutions"),children:h.jsxs(dt,{spotlightColor:"rgba(82, 39, 255, 0.3)",children:[h.jsx("span",{className:"spotlight-card-icon",children:"ðŸ“ˆ"}),h.jsx("h2",{children:"Marketing Solutions"}),h.jsx("p",{children:"Comprehensive marketing packages to build and amplify your brand. From digital presence to full-scale brand domination strategies."})]})})]})]}),i&&h.jsx(Ud,{message:i,onClose:()=>n(null),duration:3e3})]})}const xb="/api/account";async function Fi(){const{data:{session:t}}=await Ot.auth.getSession();return(t==null?void 0:t.access_token)||null}async function ds(t,e,s){const r=await Fi(),i={method:t,headers:{"Content-Type":"application/json"}};r&&(i.headers.Authorization=`Bearer ${r}`),s&&t!=="GET"&&(i.body=JSON.stringify(s));const n=await fetch(`${xb}${e}`,i);let o;const a=await n.text();try{o=JSON.parse(a)}catch{console.error("Failed to parse response JSON:",a),o={}}if(!n.ok){const l=new Error(o.message||"Something went wrong. Please try again.");throw l.status=n.status,l.data=o,l}return o}const fs={getToken:Fi,async register({username:t,email:e,password:s,terms:r}){throw new Error("Please use Supabase Auth for registration")},async login({usernameOrEmail:t,password:e}){throw new Error("Please use Supabase Auth for login")},async logout(){return{success:!0}},async getProfile(){return(await ds("GET","/me",null)).data},async updateProfile({username:t,email:e}){return(await ds("PUT","/profile",{username:t,email:e})).data},async updatePassword({newPassword:t}){return await ds("PUT","/password",{newPassword:t})},async getAddresses(){return(await ds("GET","/addresses",null)).data},async updateAddresses({billing:t,shipping:e}){return await ds("PUT","/addresses",{billing:t,shipping:e})},async getSubscriptions(t="active"){return(await ds("GET",`/subscriptions?status=${t}`,null)).data},async cancelSubscription(t){return await ds("POST",`/subscriptions/${t}/cancel`,{})}},Nc="/api/stripe",zd={async createCheckoutSession({cartItems:t,userId:e,userEmail:s,mode:r="subscription"}){const i=await Fi(),n=await fetch(`${Nc}/create-checkout-session`,{method:"POST",headers:{"Content-Type":"application/json",...i&&{Authorization:`Bearer ${i}`}},body:JSON.stringify({cartItems:t,userId:e,userEmail:s,mode:r})}),o=await n.json();if(!n.ok)throw new Error(o.message||"Failed to create checkout session");return o},async createPortalSession(t){const e=await Fi(),s=await fetch(`${Nc}/create-portal-session`,{method:"POST",headers:{"Content-Type":"application/json",...e&&{Authorization:`Bearer ${e}`}},body:JSON.stringify({customerId:t})}),r=await s.json();if(!s.ok)throw new Error(r.message||"Failed to create portal session");return r}};function Sb(){const t=typeof window<"u"&&(/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)||window.innerWidth<=768),e=Rt(t),{formatPrice:s,convertPrice:r,currency:i}=Vc(),[n,o]=S.useState([]);S.useEffect(()=>{const C=()=>{const D=localStorage.getItem("cartItems");D&&o(JSON.parse(D))};return C(),window.addEventListener("storage",C),()=>window.removeEventListener("storage",C)},[]);const[a,l]=S.useState(null),[c,u]=S.useState(!1),[d,f]=S.useState({cardNumber:"",cardName:"",expiryDate:"",cvv:"",postalCode:"",email:""}),[p,g]=S.useState({email:""}),[m,y]=S.useState({walletAddress:"",network:"ethereum"}),w=[{id:"credit",name:"Credit Card",iconSvg:h.jsxs("div",{style:{display:"flex",gap:"6px",alignItems:"center",justifyContent:"center"},children:[h.jsx("svg",{viewBox:"0 0 60 20",xmlns:"http://www.w3.org/2000/svg",style:{width:"38px",height:"13px"},children:h.jsx("text",{x:"30",y:"15",fontFamily:"Arial, sans-serif",fontSize:"14",fontWeight:"bold",fill:"white",textAnchor:"middle",fontStyle:"italic",children:"VISA"})}),h.jsxs("svg",{viewBox:"0 0 32 20",xmlns:"http://www.w3.org/2000/svg",style:{width:"28px",height:"18px"},children:[h.jsx("circle",{cx:"10",cy:"10",r:"8",fill:"white",opacity:"0.85"}),h.jsx("circle",{cx:"22",cy:"10",r:"8",fill:"white",opacity:"0.85"}),h.jsx("path",{d:"M16 4.5 A8 8 0 0 1 16 15.5 A8 8 0 0 0 16 4.5",fill:"white"})]}),h.jsxs("svg",{viewBox:"0 0 40 24",xmlns:"http://www.w3.org/2000/svg",style:{width:"32px",height:"19px"},children:[h.jsx("rect",{x:"1",y:"2",width:"38",height:"20",rx:"2",fill:"none",stroke:"white",strokeWidth:"1.5"}),h.jsx("text",{x:"20",y:"15",fontFamily:"Arial, sans-serif",fontSize:"10",fontWeight:"bold",fill:"white",textAnchor:"middle",children:"AMEX"})]})]})},{id:"debit",name:"Debit",iconSvg:h.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"center"},children:[h.jsx("svg",{viewBox:"0 0 60 20",xmlns:"http://www.w3.org/2000/svg",style:{width:"42px",height:"14px"},children:h.jsx("text",{x:"30",y:"15",fontFamily:"Arial, sans-serif",fontSize:"14",fontWeight:"bold",fill:"white",textAnchor:"middle",fontStyle:"italic",children:"VISA"})}),h.jsxs("svg",{viewBox:"0 0 32 20",xmlns:"http://www.w3.org/2000/svg",style:{width:"32px",height:"20px"},children:[h.jsx("circle",{cx:"10",cy:"10",r:"8",fill:"white",opacity:"0.85"}),h.jsx("circle",{cx:"22",cy:"10",r:"8",fill:"white",opacity:"0.85"}),h.jsx("path",{d:"M16 4.5 A8 8 0 0 1 16 15.5 A8 8 0 0 0 16 4.5",fill:"white"})]})]})},{id:"apple",name:"Apple Pay",iconSvg:h.jsx("svg",{viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg",style:{width:"40px",height:"40px"},children:h.jsx("path",{d:"M31.5 11.5c-1.3 1.4-3.4 2.5-5.4 2.3-.3-2.1.7-4.2 1.9-5.5 1.3-1.4 3.5-2.4 5.2-2.5.2 2.2-.6 4.3-1.7 5.7zm1.7 2.7c-2.9-.2-5.4 1.6-6.8 1.6-1.4 0-3.5-1.5-5.8-1.5-3 .1-5.8 1.8-7.3 4.5-3.1 5.4-.8 13.4 2.2 17.8 1.5 2.2 3.3 4.6 5.6 4.5 2.2-.1 3.1-1.4 5.8-1.4 2.6 0 3.5 1.4 5.8 1.4 2.4-.1 4-2.1 5.5-4.3 1.7-2.5 2.4-4.9 2.5-5-.1 0-4.7-1.8-4.8-7.1-.1-4.4 3.6-6.5 3.8-6.7-2.1-3-5.3-3.4-6.5-3.8z",fill:"white"})})},{id:"google",name:"Google Pay",iconSvg:h.jsx("svg",{viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg",style:{width:"40px",height:"40px"},children:h.jsx("path",{d:"M24.5 20.5v7.2h10c-.4 2.5-2.9 7.3-10 7.3-6 0-11-5-11-11s5-11 11-11c3.4 0 5.7 1.5 7 2.7l5.7-5.5C34 6.3 29.6 4 24.5 4c-11 0-20 9-20 20s9 20 20 20c11.5 0 19.2-8.1 19.2-19.5 0-1.3-.1-2.3-.3-3.3H24.5z",fill:"white"})})},{id:"paypal",name:"PayPal",iconSvg:h.jsxs("svg",{viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg",style:{width:"40px",height:"40px"},children:[h.jsx("path",{d:"M29.5 10h-10c-.7 0-1.3.5-1.4 1.2l-4 25c-.1.5.3 1 .8 1h4.5c.7 0 1.3-.5 1.4-1.2l1.1-6.8c.1-.7.7-1.2 1.4-1.2h3.2c6.6 0 10.4-3.2 11.4-9.5.4-2.7 0-4.9-1.4-6.4-1.5-1.5-4.1-2.1-7-2.1zm.9 9.4c-.5 3.5-3.2 3.5-5.8 3.5h-1.5l1-6.5c.1-.4.4-.7.8-.7h.7c1.9 0 3.6 0 4.5.9.5.5.7 1.3.3 2.8z",fill:"white"}),h.jsx("path",{d:"M16.5 10h-10c-.7 0-1.3.5-1.4 1.2l-4 25c-.1.5.3 1 .8 1h4.8c.5 0 .9-.3 1-.8l1.1-7c.1-.7.7-1.2 1.4-1.2h3.2c6.6 0 10.4-3.2 11.4-9.5.4-2.7 0-4.9-1.4-6.4-1.5-1.5-4.1-2.1-7-2.1zm.9 9.4c-.5 3.5-3.2 3.5-5.8 3.5h-1.5l1-6.5c.1-.4.4-.7.8-.7h.7c1.9 0 3.6 0 4.5.9.5.5.7 1.3.3 2.8z",fill:"white",opacity:"0.7"})]})},{id:"bitcoin",name:"Bitcoin",iconSvg:h.jsxs("svg",{viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg",style:{width:"40px",height:"40px"},children:[h.jsx("circle",{cx:"16",cy:"16",r:"15",fill:"none",stroke:"white",strokeWidth:"1.5"}),h.jsx("path",{d:"M23.189 14.02c.314-2.096-1.283-3.223-3.465-3.975l.708-2.84-1.728-.43-.69 2.765c-.454-.114-.92-.22-1.385-.326l.695-2.783L15.596 6l-.708 2.839c-.376-.086-.746-.17-1.104-.26l.002-.009-2.384-.595-.46 1.846s1.283.294 1.256.312c.7.175.826.638.805 1.006l-.806 3.235c.048.012.11.03.18.057l-.183-.045-1.13 4.532c-.086.212-.303.531-.793.41.018.025-1.256-.313-1.256-.313l-.858 1.978 2.25.561c.418.105.828.215 1.231.318l-.715 2.872 1.727.43.708-2.84c.472.127.93.245 1.378.357l-.706 2.828 1.728.43.715-2.866c2.948.558 5.164.333 6.097-2.333.752-2.146-.037-3.385-1.588-4.192 1.13-.26 1.98-1.003 2.207-2.538zm-3.95 5.538c-.533 2.147-4.148.986-5.32.695l.95-3.805c1.172.293 4.929.872 4.37 3.11zm.535-5.569c-.487 1.953-3.495.96-4.47.717l.86-3.45c.975.243 4.118.696 3.61 2.733z",fill:"white"})]})},{id:"ethereum",name:"Ethereum",iconSvg:h.jsxs("svg",{viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg",style:{width:"40px",height:"40px"},children:[h.jsx("circle",{cx:"16",cy:"16",r:"15",fill:"none",stroke:"white",strokeWidth:"1.5"}),h.jsx("path",{d:"M16 4L15.7 5.1v13.5l.3.3 6.5-3.8L16 4z",fill:"white",opacity:"0.6"}),h.jsx("path",{d:"M16 4l-6.5 11.1L16 18.9V4z",fill:"white"}),h.jsx("path",{d:"M16 20.5l-.2.2v5l.2.6 6.5-9.2-6.5 3.4z",fill:"white",opacity:"0.6"}),h.jsx("path",{d:"M16 26.3v-5.8l-6.5-3.4L16 26.3z",fill:"white"}),h.jsx("path",{d:"M16 18.9l6.5-3.8L16 11.3v7.6z",fill:"white",opacity:"0.2"}),h.jsx("path",{d:"M9.5 15.1l6.5 3.8v-7.6l-6.5 3.8z",fill:"white",opacity:"0.6"})]})},{id:"usdt",name:"Tether (USDT)",iconSvg:h.jsxs("svg",{viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg",style:{width:"40px",height:"40px"},children:[h.jsx("circle",{cx:"16",cy:"16",r:"14.5",fill:"none",stroke:"white",strokeWidth:"1.5"}),h.jsx("path",{d:"M17.2 13.5h-2.4v-2.4h6.9V9.3H10.3v1.8h6.9v2.4h-2.4c-3.5 0-6.3.5-6.3 1.2 0 .5 1.7.9 4.1 1.1v5.9h2.8v-5.9c2.4-.2 4.1-.6 4.1-1.1 0-.7-2.8-1.2-6.3-1.2zm0 1.9c-2.9 0-5.2-.4-5.2-.9s2.3-.9 5.2-.9 5.2.4 5.2.9-2.3.9-5.2.9z",fill:"white"})]})},{id:"usdc",name:"USD Coin (USDC)",iconSvg:h.jsxs("svg",{viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg",style:{width:"40px",height:"40px"},children:[h.jsx("circle",{cx:"16",cy:"16",r:"14.5",fill:"none",stroke:"white",strokeWidth:"1.5"}),h.jsx("path",{d:"M13.5 19.5c0 .8.7 1.5 1.5 1.5h2c.8 0 1.5-.7 1.5-1.5v-.3c0-.6-.3-1.1-.8-1.3l-3.4-1.4c-.5-.2-.8-.7-.8-1.3v-.3c0-.8.7-1.5 1.5-1.5h2c.8 0 1.5.7 1.5 1.5v.2h1.5v-.2c0-1.5-1.2-2.7-2.7-2.9V11h-1.6v1.1c-1.5.2-2.7 1.4-2.7 2.9v.3c0 1.1.6 2 1.5 2.4l3.4 1.4c.2.1.3.3.3.5v.3c0 .3-.2.5-.5.5h-2c-.3 0-.5-.2-.5-.5v-.4h-1.5v.4zm4.8 4.8c-.2.1-.5.1-.7.2-.2 0-.5.1-.7.1-.2 0-.5 0-.7-.1-.2 0-.5-.1-.7-.2",stroke:"white",strokeWidth:"0.8",fill:"none",strokeLinecap:"round"}),h.jsx("path",{d:"M18.3 24.3c2.7-.8 4.7-3.3 4.7-6.3",stroke:"white",strokeWidth:"0.8",fill:"none",strokeLinecap:"round"}),h.jsx("path",{d:"M13.7 7.7c-2.7.8-4.7 3.3-4.7 6.3",stroke:"white",strokeWidth:"0.8",fill:"none",strokeLinecap:"round"}),h.jsx("circle",{cx:"20",cy:"12",r:"1",fill:"white"}),h.jsx("circle",{cx:"12",cy:"20",r:"1",fill:"white"})]})}],v=n.reduce((C,D)=>C+D.price*D.quantity,0),b=n.reduce((C,D)=>D.category==="Consultation"?C:C+D.price*D.quantity,0)*.1,x=v+b,T=(C,D)=>{if(D<1)return;const X=n.map(U=>U.name===C?{...U,quantity:D}:U);o(X),localStorage.setItem("cartItems",JSON.stringify(X)),window.dispatchEvent(new Event("cartUpdated"))},k=C=>{const D=n.filter(X=>X.name!==C);o(D),localStorage.setItem("cartItems",JSON.stringify(D)),window.dispatchEvent(new Event("cartUpdated"))},j=nr(),{user:P,isAuthenticated:R}=ar(),[A,N]=S.useState(!1),M=async()=>{if(!R){j("/login",{state:{from:{pathname:"/cart"}}});return}N(!0);try{const D=n.some(Y=>Y.duration==="Monthly"||Y.duration==="3 Months"||Y.duration==="1 Year")?"subscription":"payment",{sessionId:X,url:U}=await zd.createCheckoutSession({cartItems:n,userId:P.id,userEmail:P.email,mode:D});U&&(window.location.href=U)}catch(C){console.error("Checkout error:",C),alert("Failed to create checkout session. Please try again.")}finally{N(!1)}},H=C=>{l(C)},J=C=>{C.preventDefault();const D=n.filter(U=>U.category==="Consultation");if(D.length>0){const U=JSON.parse(localStorage.getItem("bookedSlots")||"[]");D.forEach(Y=>{if(Y.details){const z=new Date(Y.details.date).toISOString().split("T")[0],oe=Y.details.time,[le,ct]=oe.split(" "),[Pe,Ke]=le.split(":").map(Number);let Ne=Pe;ct==="PM"&&Pe!==12&&(Ne+=12),ct==="AM"&&Pe===12&&(Ne=0);const Be=`${Ne.toString().padStart(2,"0")}:${Ke.toString().padStart(2,"0")}`;U.push({date:z,time24:Be,time12:oe,duration:parseInt(Y.details.duration),bookedAt:new Date().toISOString()})}}),localStorage.setItem("bookedSlots",JSON.stringify(U))}const X=a==="paypal"?p.email:d.email;o([]),localStorage.setItem("cartItems",JSON.stringify([])),window.dispatchEvent(new Event("cartUpdated")),alert(`Payment successful! Your order has been confirmed.

A receipt has been sent to ${X}`),u(!1),f({cardNumber:"",cardName:"",expiryDate:"",cvv:"",postalCode:"",email:""}),g({email:""}),y({walletAddress:""})},Q=()=>{switch(a){case"credit":case"debit":return`Pay ${s(x)}`;case"apple":return"Continue with Apple Pay";case"google":return"Continue with Google Pay";case"paypal":return"Continue to PayPal";case"bitcoin":case"ethereum":case"usdt":case"usdc":return"Confirm Payment";default:return"Complete Payment"}},B=()=>{switch(a){case"credit":case"debit":return h.jsxs("form",{className:"payment-form",onSubmit:J,children:[h.jsx("h3",{children:"Card Information"}),h.jsxs("div",{className:"form-group",children:[h.jsx("label",{children:"Card Number"}),h.jsx("input",{type:"text",placeholder:"1234 5678 9012 3456",value:d.cardNumber,onChange:C=>f({...d,cardNumber:C.target.value}),maxLength:"19",required:!0})]}),h.jsxs("div",{className:"form-group",children:[h.jsx("label",{children:"Cardholder Name"}),h.jsx("input",{type:"text",placeholder:"John Doe",value:d.cardName,onChange:C=>f({...d,cardName:C.target.value}),required:!0})]}),h.jsxs("div",{className:"form-row",children:[h.jsxs("div",{className:"form-group",children:[h.jsx("label",{children:"Expiry Date"}),h.jsx("input",{type:"text",placeholder:"MM/YY",value:d.expiryDate,onChange:C=>f({...d,expiryDate:C.target.value}),maxLength:"5",required:!0})]}),h.jsxs("div",{className:"form-group",children:[h.jsx("label",{children:"CVV"}),h.jsx("input",{type:"text",placeholder:"123",value:d.cvv,onChange:C=>f({...d,cvv:C.target.value}),maxLength:"4",required:!0})]})]}),h.jsxs("div",{className:"form-group",children:[h.jsx("label",{children:"Postal Code / Zip Code"}),h.jsx("input",{type:"text",placeholder:"12345 or A1B 2C3",value:d.postalCode,onChange:C=>f({...d,postalCode:C.target.value}),maxLength:"10",required:!0})]}),h.jsxs("div",{className:"form-group",children:[h.jsx("label",{children:"Email Address"}),h.jsx("input",{type:"email",placeholder:"your.email@example.com",value:d.email,onChange:C=>f({...d,email:C.target.value}),required:!0})]})]});case"apple":case"google":return h.jsxs("form",{className:"payment-form",onSubmit:J,children:[h.jsx("h3",{children:a==="apple"?"Apple Pay":"Google Pay"}),h.jsxs("div",{className:"form-group",children:[h.jsx("label",{children:"Email Address"}),h.jsx("input",{type:"email",placeholder:"your.email@example.com",value:d.email,onChange:C=>f({...d,email:C.target.value}),required:!0})]}),h.jsxs("p",{className:"payment-info",children:["You will be redirected to ",a==="apple"?"Apple Pay":"Google Pay"," to complete your purchase."]})]});case"paypal":return h.jsxs("form",{className:"payment-form",onSubmit:J,children:[h.jsx("h3",{children:"PayPal Payment"}),h.jsxs("div",{className:"form-group",children:[h.jsx("label",{children:"PayPal Email"}),h.jsx("input",{type:"email",placeholder:"your.email@example.com",value:p.email,onChange:C=>g({...p,email:C.target.value}),required:!0})]}),h.jsx("p",{className:"payment-info",children:"You will be redirected to PayPal to complete your purchase."})]});case"bitcoin":case"ethereum":case"usdt":case"usdc":return h.jsxs("form",{className:"payment-form",onSubmit:J,children:[h.jsxs("h3",{children:[a==="bitcoin"?"Bitcoin":a==="ethereum"?"Ethereum":a==="usdt"?"Tether (USDT)":"USD Coin (USDC)"," Payment"]}),h.jsxs("div",{className:"form-group",children:[h.jsx("label",{children:"Email Address"}),h.jsx("input",{type:"email",placeholder:"your.email@example.com",value:d.email,onChange:C=>f({...d,email:C.target.value}),required:!0})]}),h.jsxs("div",{className:"form-group",children:[h.jsx("label",{children:"Your Wallet Address"}),h.jsx("input",{type:"text",placeholder:a==="bitcoin"?"bc1q...":"0x...",value:m.walletAddress,onChange:C=>y({...m,walletAddress:C.target.value}),required:!0})]}),h.jsxs("div",{className:"crypto-info",children:[h.jsx("p",{children:h.jsx("strong",{children:"Amount to Send:"})}),h.jsx("p",{className:"crypto-amount",children:a==="bitcoin"?`${(x/45e3).toFixed(8)} BTC`:a==="ethereum"?`${(x/2500).toFixed(6)} ETH`:`${r(x)} ${a==="usdt"?"USDT":"USDC"}`}),h.jsxs("p",{className:"crypto-note",children:["Send exact amount to: ",h.jsx("br",{}),h.jsx("code",{children:a==="bitcoin"?"bc1qxy2kgdygjrsqtzq2n0yrf2493p83kkfjhx0wlh":"0x742d35Cc6634C0532925a3b844Bc454e4438f44e"})]}),(a==="usdt"||a==="usdc")&&h.jsxs("p",{className:"crypto-note",style:{marginTop:"1rem"},children:[h.jsx("strong",{children:"Network:"})," ERC-20 (Ethereum)",a==="usdt"?" or TRC-20 (Tron)":""]})]})]});default:return null}};return h.jsxs("div",{className:"page-container",children:[h.jsx(At,{colors:["#5227FF","#FF9FFC","#B19EEF"],mouseForce:t?18:24,cursorSize:t?80:100,isViscous:!0,viscous:30,iterationsViscous:e.iterationsViscous,iterationsPoisson:e.iterationsPoisson,resolution:e.resolution,isBounce:!1,autoDemo:!0,autoSpeed:e.autoSpeed,autoIntensity:2.2,takeoverDuration:.25,autoResumeDelay:3e3,autoRampDuration:.6}),h.jsxs("div",{className:"page-content cart-content",children:[h.jsx("h1",{className:"page-title",children:"Shopping Cart"}),c?h.jsxs("div",{className:"checkout-container",children:[h.jsx("button",{className:"back-to-cart",onClick:()=>u(!1),children:"â† Back to Cart"}),h.jsxs("div",{className:"checkout-content",children:[h.jsxs("div",{className:"payment-methods",children:[h.jsx("h2",{children:"Select Payment Method"}),h.jsx("div",{className:"payment-grid",children:w.map(C=>h.jsxs("button",{className:`payment-method-btn ${a===C.id?"selected":""}`,onClick:()=>H(C.id),children:[h.jsx("span",{className:"payment-icon",children:C.iconSvg?C.iconSvg:C.icon}),h.jsx("span",{className:"payment-name",children:C.name})]},C.id))})]}),a&&h.jsx("div",{className:"payment-form-container",children:B()}),h.jsxs("div",{className:"checkout-summary",children:[h.jsx("h3",{children:"Order Summary"}),h.jsx("div",{className:"checkout-items-list",children:n.map(C=>h.jsxs("div",{className:"checkout-item",children:[h.jsxs("div",{className:"checkout-item-info",children:[h.jsx("div",{className:"checkout-item-name",children:C.name}),h.jsxs("div",{className:"checkout-item-details",children:[C.category&&h.jsx("span",{className:"checkout-item-category",children:C.category}),C.duration&&h.jsxs("span",{className:"checkout-item-duration",children:["Duration: ",C.duration]}),h.jsxs("span",{className:"checkout-item-qty",children:["Qty: ",C.quantity]})]})]}),h.jsxs("div",{className:"checkout-item-actions",children:[h.jsx("span",{className:"checkout-item-price",children:s(C.price*C.quantity)}),h.jsx("button",{className:"checkout-remove-btn",onClick:()=>k(C.name),"aria-label":"Remove item",children:"Ã—"})]})]},C.name))}),h.jsxs("div",{className:"checkout-totals",children:[h.jsxs("div",{className:"summary-row",children:[h.jsx("span",{children:"Subtotal:"}),h.jsx("span",{children:s(v)})]}),h.jsxs("div",{className:"summary-row",children:[h.jsx("span",{children:"Tax (10%):"}),h.jsx("span",{children:s(b)})]}),h.jsxs("div",{className:"summary-row total",children:[h.jsx("span",{children:"Total:"}),h.jsx("span",{children:s(x)})]})]}),a&&h.jsx("button",{onClick:J,className:"submit-payment-btn",children:Q()})]})]})]}):h.jsxs("div",{className:"cart-container",children:[h.jsx("div",{className:"cart-items",children:n.length===0?h.jsx("p",{className:"empty-cart",children:"Your cart is empty"}):n.map(C=>h.jsxs("div",{className:"cart-item",children:[h.jsxs("div",{className:"item-info",children:[h.jsx("h3",{children:C.name}),C.category&&h.jsx("p",{children:C.category}),C.duration&&h.jsxs("p",{className:"item-duration",children:[h.jsx("strong",{children:"Duration:"})," ",C.duration]})]}),h.jsxs("div",{className:"item-controls",children:[h.jsxs("div",{className:"quantity-control",children:[h.jsx("button",{onClick:()=>T(C.name,C.quantity-1),children:"-"}),h.jsx("span",{children:C.quantity}),h.jsx("button",{onClick:()=>T(C.name,C.quantity+1),children:"+"})]}),h.jsx("div",{className:"item-price",children:s(C.price*C.quantity)}),h.jsx("button",{className:"remove-btn",onClick:()=>k(C.name),children:"Ã—"})]})]},C.name))}),n.length>0&&h.jsxs("div",{className:"cart-summary",children:[h.jsx("h2",{children:"Order Summary"}),h.jsxs("div",{className:"summary-row",children:[h.jsx("span",{children:"Subtotal:"}),h.jsx("span",{children:s(v)})]}),h.jsxs("div",{className:"summary-row",children:[h.jsx("span",{children:"Tax (10%):"}),h.jsx("span",{children:s(b)})]}),h.jsxs("div",{className:"summary-row total",children:[h.jsx("span",{children:"Total:"}),h.jsx("span",{children:s(x)})]}),h.jsx("button",{className:"checkout-btn",onClick:M,disabled:A,children:A?"Redirecting to Checkout...":"Proceed to Checkout"})]})]})]})]})}const $s={SMOOTH_TAU:.25,MIN_COPIES:2,COPY_HEADROOM:2},Dn=t=>typeof t=="number"?`${t}px`:t??void 0,Tb=(t,e,s)=>{S.useEffect(()=>{if(!window.ResizeObserver){const i=()=>t();return window.addEventListener("resize",i),t(),()=>window.removeEventListener("resize",i)}const r=e.map(i=>{if(!i.current)return null;const n=new ResizeObserver(t);return n.observe(i.current),n});return t(),()=>{r.forEach(i=>i==null?void 0:i.disconnect())}},[t,e,s])},kb=(t,e,s)=>{S.useEffect(()=>{var o;const r=((o=t.current)==null?void 0:o.querySelectorAll("img"))??[];if(r.length===0){e();return}let i=r.length;const n=()=>{i-=1,i===0&&e()};return r.forEach(a=>{const l=a;l.complete?n():(l.addEventListener("load",n,{once:!0}),l.addEventListener("error",n,{once:!0}))}),()=>{r.forEach(a=>{a.removeEventListener("load",n),a.removeEventListener("error",n)})}},[e,t,s])},Cb=(t,e,s,r,i,n,o)=>{const a=S.useRef(null),l=S.useRef(null),c=S.useRef(0),u=S.useRef(0);S.useEffect(()=>{const d=t.current;if(!d)return;const f=o?r:s;if(f>0){c.current=(c.current%f+f)%f;const g=o?`translate3d(0, ${-c.current}px, 0)`:`translate3d(${-c.current}px, 0, 0)`;d.style.transform=g}const p=g=>{l.current===null&&(l.current=g);const m=Math.max(0,g-l.current)/1e3;l.current=g;const y=i&&n!==void 0?n:e,w=1-Math.exp(-m/$s.SMOOTH_TAU);if(u.current+=(y-u.current)*w,f>0){let v=c.current+u.current*m;v=(v%f+f)%f,c.current=v;const _=o?`translate3d(0, ${-c.current}px, 0)`:`translate3d(${-c.current}px, 0, 0)`;d.style.transform=_}a.current=requestAnimationFrame(p)};return a.current=requestAnimationFrame(p),()=>{a.current!==null&&(cancelAnimationFrame(a.current),a.current=null),l.current=null}},[e,s,r,i,n,o,t])},Wd=S.memo(({logos:t,speed:e=120,direction:s="left",width:r="100%",logoHeight:i=28,gap:n=32,pauseOnHover:o,hoverSpeed:a,fadeOut:l=!1,fadeOutColor:c,scaleOnHover:u=!1,renderItem:d,ariaLabel:f="Partner logos",className:p,style:g})=>{const m=S.useRef(null),y=S.useRef(null),w=S.useRef(null),[v,_]=S.useState(0),[b,x]=S.useState(0),[T,k]=S.useState($s.MIN_COPIES),[j,P]=S.useState(!1),R=S.useMemo(()=>{if(a!==void 0)return a;if(o===!0)return 0;if(o!==!1)return 0},[a,o]),A=s==="up"||s==="down",N=S.useMemo(()=>{const U=Math.abs(e);let Y;A?Y=s==="up"?1:-1:Y=s==="left"?1:-1;const ge=e<0?-1:1;return U*Y*ge},[e,s,A]),M=S.useCallback(()=>{var oe,le,ct,Pe,Ke,Ne;const U=((oe=m.current)==null?void 0:oe.clientWidth)??0,Y=(ct=(le=w.current)==null?void 0:le.getBoundingClientRect)==null?void 0:ct.call(le),ge=(Y==null?void 0:Y.width)??0,z=(Y==null?void 0:Y.height)??0;if(A){const Be=((Ke=(Pe=m.current)==null?void 0:Pe.parentElement)==null?void 0:Ke.clientHeight)??0;if(m.current&&Be>0){const ye=Math.ceil(Be);m.current.style.height!==`${ye}px`&&(m.current.style.height=`${ye}px`)}if(z>0){x(Math.ceil(z));const ye=((Ne=m.current)==null?void 0:Ne.clientHeight)??Be??z,yt=Math.ceil(ye/z)+$s.COPY_HEADROOM;k(Math.max($s.MIN_COPIES,yt))}}else if(ge>0){_(Math.ceil(ge));const Be=Math.ceil(U/ge)+$s.COPY_HEADROOM;k(Math.max($s.MIN_COPIES,Be))}},[A]);Tb(M,[m,w],[t,n,i,A]),kb(w,M,[t,n,i,A]),Cb(y,N,v,b,j,R,A);const H=S.useMemo(()=>({"--logoloop-gap":`${n}px`,"--logoloop-logoHeight":`${i}px`,...c&&{"--logoloop-fadeColor":c}}),[n,i,c]),J=S.useMemo(()=>["logoloop",A?"logoloop--vertical":"logoloop--horizontal",l&&"logoloop--fade",u&&"logoloop--scale-hover",p].filter(Boolean).join(" "),[A,l,u,p]),Q=S.useCallback(()=>{R!==void 0&&P(!0)},[R]),B=S.useCallback(()=>{R!==void 0&&P(!1)},[R]),C=S.useCallback((U,Y)=>{if(d)return h.jsx("li",{className:"logoloop__item",role:"listitem",children:d(U,Y)},Y);const ge="node"in U,z=ge?h.jsx("span",{className:"logoloop__node","aria-hidden":!!U.href&&!U.ariaLabel,children:U.node}):h.jsx("img",{src:U.src,srcSet:U.srcSet,sizes:U.sizes,width:U.width,height:U.height,alt:U.alt??"",title:U.title,loading:"lazy",decoding:"async",draggable:!1}),oe=ge?U.ariaLabel??U.title:U.alt??U.title,le=U.href?h.jsx("a",{className:"logoloop__link",href:U.href,"aria-label":oe||"logo link",target:"_blank",rel:"noreferrer noopener",children:z}):z;return h.jsx("li",{className:"logoloop__item",role:"listitem",children:le},Y)},[d]),D=S.useMemo(()=>Array.from({length:T},(U,Y)=>h.jsx("ul",{className:"logoloop__list",role:"list","aria-hidden":Y>0,ref:Y===0?w:void 0,children:t.map((ge,z)=>C(ge,`${Y}-${z}`))},`copy-${Y}`)),[T,t,C]),X=S.useMemo(()=>({width:A?Dn(r)==="100%"?void 0:Dn(r):Dn(r)??"100%",...H,...g}),[r,H,g,A]);return h.jsx("div",{ref:m,className:J,style:X,role:"region","aria-label":f,children:h.jsx("div",{className:"logoloop__track",ref:y,onMouseEnter:Q,onMouseLeave:B,children:D})})});Wd.displayName="LogoLoop";var qd={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Dc=nt.createContext&&nt.createContext(qd),Eb=["attr","size","title"];function jb(t,e){if(t==null)return{};var s=Pb(t,e),r,i;if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);for(i=0;i<n.length;i++)r=n[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(s[r]=t[r])}return s}function Pb(t,e){if(t==null)return{};var s={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;s[r]=t[r]}return s}function $i(){return $i=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(t[r]=s[r])}return t},$i.apply(this,arguments)}function Ic(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),s.push.apply(s,r)}return s}function Vi(t){for(var e=1;e<arguments.length;e++){var s=arguments[e]!=null?arguments[e]:{};e%2?Ic(Object(s),!0).forEach(function(r){Ab(t,r,s[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):Ic(Object(s)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(s,r))})}return t}function Ab(t,e,s){return e=Rb(e),e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}function Rb(t){var e=Ob(t,"string");return typeof e=="symbol"?e:e+""}function Ob(t,e){if(typeof t!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var r=s.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Hd(t){return t&&t.map((e,s)=>nt.createElement(e.tag,Vi({key:s},e.attr),Hd(e.child)))}function hr(t){return e=>nt.createElement(Nb,$i({attr:Vi({},t.attr)},e),Hd(t.child))}function Nb(t){var e=s=>{var{attr:r,size:i,title:n}=t,o=jb(t,Eb),a=i||s.size||"1em",l;return s.className&&(l=s.className),t.className&&(l=(l?l+" ":"")+t.className),nt.createElement("svg",$i({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},s.attr,r,o,{className:l,style:Vi(Vi({color:t.color||s.color},s.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),n&&nt.createElement("title",null,n),t.children)};return Dc!==void 0?nt.createElement(Dc.Consumer,null,s=>e(s)):e(qd)}function Db(t){return hr({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M80 299.3V512H196V299.3h86.5l18-97.8H196V166.9c0-51.7 20.3-71.5 72.7-71.5c16.3 0 29.4 .4 37 1.2V7.9C291.4 4 256.4 0 236.2 0C129.3 0 80 50.5 80 159.4v42.1H14v97.8H80z"},child:[]}]})(t)}function Ib(t){return hr({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"},child:[]}]})(t)}function Mb(t){return hr({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"},child:[]}]})(t)}function Lb(t){return hr({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M100.28 448H7.4V148.9h92.88zM53.79 108.1C24.09 108.1 0 83.5 0 53.8a53.79 53.79 0 0 1 107.58 0c0 29.7-24.1 54.3-53.79 54.3zM447.9 448h-92.68V302.4c0-34.7-.7-79.2-48.29-79.2-48.29 0-55.69 37.7-55.69 76.7V448h-92.78V148.9h89.08v40.8h1.3c12.4-23.5 42.69-48.3 87.88-48.3 94 0 111.28 61.9 111.28 142.3V448z"},child:[]}]})(t)}function Fb(t){return hr({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M380.9 97.1C339 55.1 283.2 32 223.9 32c-122.4 0-222 99.6-222 222 0 39.1 10.2 77.3 29.6 111L0 480l117.7-30.9c32.4 17.7 68.9 27 106.1 27h.1c122.3 0 224.1-99.6 224.1-222 0-59.3-25.2-115-67.1-157zm-157 341.6c-33.2 0-65.7-8.9-94-25.7l-6.7-4-69.8 18.3L72 359.2l-4.4-7c-18.5-29.4-28.2-63.3-28.2-98.2 0-101.7 82.8-184.5 184.6-184.5 49.3 0 95.6 19.2 130.4 54.1 34.8 34.9 56.2 81.2 56.1 130.5 0 101.8-84.9 184.6-186.6 184.6zm101.2-138.2c-5.5-2.8-32.8-16.2-37.9-18-5.1-1.9-8.8-2.8-12.5 2.8-3.7 5.6-14.3 18-17.6 21.8-3.2 3.7-6.5 4.2-12 1.4-32.6-16.3-54-29.1-75.5-66-5.7-9.8 5.7-9.1 16.3-30.3 1.8-3.7.9-6.9-.5-9.7-1.4-2.8-12.5-30.1-17.1-41.2-4.5-10.8-9.1-9.3-12.5-9.5-3.2-.2-6.9-.2-10.6-.2-3.7 0-9.7 1.4-14.8 6.9-5.1 5.6-19.4 19-19.4 46.3 0 27.3 19.9 53.7 22.6 57.4 2.8 3.7 39.1 59.7 94.8 83.8 35.2 15.2 49 16.5 66.6 13.9 10.7-1.6 32.8-13.4 37.4-26.4 4.6-13 4.6-24.1 3.2-26.4-1.3-2.5-5-3.9-10.5-6.6z"},child:[]}]})(t)}function $b(t){return hr({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M389.2 48h70.6L305.6 224.2 487 464H345L233.7 318.6 106.5 464H35.8L200.7 275.5 26.8 48H172.4L272.9 180.9 389.2 48zM364.4 421.8h39.1L151.1 88h-42L364.4 421.8z"},child:[]}]})(t)}function Vb(){const t=typeof window<"u"&&(/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)||window.innerWidth<=768),e=Rt(t),[s,r]=S.useState({name:"",email:"",company:"",message:""}),i=a=>{r({...s,[a.target.name]:a.target.value})},n=a=>{a.preventDefault(),console.log("Form submitted:",s),alert("Thank you for contacting us! We will get back to you soon."),r({name:"",email:"",company:"",message:""})},o=[{node:h.jsx(Mb,{}),title:"Instagram",href:"https://instagram.com",ariaLabel:"Follow us on Instagram"},{node:h.jsx($b,{}),title:"X (Twitter)",href:"https://twitter.com",ariaLabel:"Follow us on X"},{node:h.jsx(Db,{}),title:"Facebook",href:"https://facebook.com",ariaLabel:"Follow us on Facebook"},{node:h.jsx(Fb,{}),title:"WhatsApp",href:"https://wa.me/",ariaLabel:"Message us on WhatsApp"},{node:h.jsx(Lb,{}),title:"LinkedIn",href:"https://linkedin.com",ariaLabel:"Connect on LinkedIn"},{node:h.jsx(Ib,{}),title:"GitHub",href:"https://github.com",ariaLabel:"View our GitHub"}];return h.jsxs("div",{className:"page-container",children:[h.jsx(At,{colors:["#5227FF","#FF9FFC","#B19EEF"],mouseForce:t?18:24,cursorSize:t?80:100,isViscous:!0,viscous:30,iterationsViscous:e.iterationsViscous,iterationsPoisson:e.iterationsPoisson,resolution:e.resolution,isBounce:!1,autoDemo:!0,autoSpeed:e.autoSpeed,autoIntensity:2.2,takeoverDuration:.25,autoResumeDelay:3e3,autoRampDuration:.6}),h.jsxs("div",{className:"page-content",children:[h.jsx("h1",{className:"page-title",children:"Contact Us"}),h.jsx("div",{className:"contact-form-wrapper",children:h.jsxs("form",{className:"contact-form",onSubmit:n,children:[h.jsxs("div",{className:"form-group",children:[h.jsx("label",{htmlFor:"name",children:"Name *"}),h.jsx("input",{type:"text",id:"name",name:"name",value:s.name,onChange:i,required:!0,placeholder:"Your full name"})]}),h.jsxs("div",{className:"form-group",children:[h.jsx("label",{htmlFor:"email",children:"Email *"}),h.jsx("input",{type:"email",id:"email",name:"email",value:s.email,onChange:i,required:!0,placeholder:"your.email@example.com"})]}),h.jsxs("div",{className:"form-group",children:[h.jsx("label",{htmlFor:"company",children:"Company"}),h.jsx("input",{type:"text",id:"company",name:"company",value:s.company,onChange:i,placeholder:"Your company name (optional)"})]}),h.jsxs("div",{className:"form-group",children:[h.jsx("label",{htmlFor:"message",children:"Message *"}),h.jsx("textarea",{id:"message",name:"message",value:s.message,onChange:i,required:!0,rows:"6",placeholder:"Tell us about your project or inquiry..."})]}),h.jsx("button",{type:"submit",className:"submit-button",children:"Send Message"})]})}),h.jsxs("div",{className:"social-logos-section",children:[h.jsx("h2",{className:"social-title",children:"Connect With Us"}),h.jsx("div",{className:"logoloop-container",children:h.jsx(Wd,{logos:o,speed:50,direction:"left",logoHeight:48,gap:60,pauseOnHover:!0,scaleOnHover:!0,fadeOut:!0,fadeOutColor:"rgba(0, 0, 0, 0)",ariaLabel:"Social media links"})})]})]})]})}function Bb(){const t=nr(),{register:e}=ar(),s=typeof window<"u"&&(/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)||window.innerWidth<=768),r=Rt(s),[i,n]=S.useState({username:"",email:"",password:"",confirmPassword:"",terms:!1}),[o,a]=S.useState(!1),[l,c]=S.useState(null),u=f=>{const{name:p,type:g,value:m,checked:y}=f.target;n(w=>({...w,[p]:g==="checkbox"?y:m})),c(null)},d=async f=>{var p;if(f.preventDefault(),c(null),i.password!==i.confirmPassword){c("Passwords do not match!");return}if(!i.terms){c("Please agree to the terms and conditions.");return}a(!0);try{await e(i.username.trim(),i.email.trim(),i.password,i.terms),t("/",{replace:!0})}catch(g){c(g.message||((p=g.data)==null?void 0:p.message)||"Something went wrong. Please try again.")}finally{a(!1)}};return h.jsxs("div",{className:"page-container",children:[h.jsx(At,{colors:["#5227FF","#FF9FFC","#B19EEF"],mouseForce:s?18:24,cursorSize:s?80:100,isViscous:!0,viscous:30,iterationsViscous:r.iterationsViscous,iterationsPoisson:r.iterationsPoisson,resolution:r.resolution,isBounce:!1,autoDemo:!0,autoSpeed:r.autoSpeed,autoIntensity:2.2,takeoverDuration:.25,autoResumeDelay:3e3,autoRampDuration:.6}),h.jsxs("div",{className:"page-content",children:[h.jsx("h1",{className:"page-title",children:"Create Account"}),h.jsx("div",{className:"account-form-wrapper",children:h.jsxs("form",{onSubmit:d,className:"account-form",children:[l&&h.jsx("div",{className:"form-error",role:"alert",children:l}),h.jsxs("div",{className:"form-group",children:[h.jsx("label",{htmlFor:"username",children:"Username"}),h.jsx("input",{type:"text",id:"username",name:"username",value:i.username,onChange:u,required:!0,placeholder:"Choose a unique username",autoComplete:"username"})]}),h.jsxs("div",{className:"form-group",children:[h.jsx("label",{htmlFor:"email",children:"Email Address"}),h.jsx("input",{type:"email",id:"email",name:"email",value:i.email,onChange:u,required:!0,placeholder:"Enter your email",autoComplete:"email"})]}),h.jsxs("div",{className:"form-group",children:[h.jsx("label",{htmlFor:"password",children:"Password"}),h.jsx("input",{type:"password",id:"password",name:"password",value:i.password,onChange:u,required:!0,placeholder:"Create a password",minLength:8,autoComplete:"new-password"})]}),h.jsxs("div",{className:"form-group",children:[h.jsx("label",{htmlFor:"confirmPassword",children:"Confirm Password"}),h.jsx("input",{type:"password",id:"confirmPassword",name:"confirmPassword",value:i.confirmPassword,onChange:u,required:!0,placeholder:"Confirm your password",minLength:8,autoComplete:"new-password"})]}),h.jsx("div",{className:"form-group checkbox-group",children:h.jsxs("label",{className:"checkbox-label",children:[h.jsx("input",{type:"checkbox",name:"terms",checked:i.terms,onChange:u}),"I agree to the terms and conditions"]})}),h.jsx("button",{type:"submit",className:"submit-btn",disabled:o,children:o?"Creating accountâ€¦":"Create Account"}),h.jsxs("p",{className:"form-footer",children:["Already have an account? ",h.jsx(Po,{to:"/login",children:"Sign in"})]})]})})]})]})}function Ub(){const t=nr(),e=Mc(),{login:s}=ar(),r=typeof window<"u"&&(/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)||window.innerWidth<=768),i=Rt(r),[n,o]=S.useState({usernameOrEmail:"",password:""}),[a,l]=S.useState(!1),[c,u]=S.useState(null),d=p=>{o({...n,[p.target.name]:p.target.value}),u(null)},f=async p=>{var g,m;p.preventDefault(),u(null),l(!0);try{await s(n.usernameOrEmail.trim(),n.password);const y=((m=(g=e.state)==null?void 0:g.from)==null?void 0:m.pathname)||"/";t(y,{replace:!0})}catch(y){u(y.message||"Invalid username/email or password.")}finally{l(!1)}};return h.jsxs("div",{className:"page-container",children:[h.jsx(At,{colors:["#5227FF","#FF9FFC","#B19EEF"],mouseForce:r?18:24,cursorSize:r?80:100,isViscous:!0,viscous:30,iterationsViscous:i.iterationsViscous,iterationsPoisson:i.iterationsPoisson,resolution:i.resolution,isBounce:!1,autoDemo:!0,autoSpeed:i.autoSpeed,autoIntensity:2.2,takeoverDuration:.25,autoResumeDelay:3e3,autoRampDuration:.6}),h.jsxs("div",{className:"page-content",children:[h.jsx("h1",{className:"page-title",children:"Sign in"}),h.jsx("div",{className:"account-form-wrapper",children:h.jsxs("form",{onSubmit:f,className:"account-form",children:[c&&h.jsx("div",{className:"form-error",role:"alert",children:c}),h.jsxs("div",{className:"form-group",children:[h.jsx("label",{htmlFor:"usernameOrEmail",children:"Username or Email"}),h.jsx("input",{type:"text",id:"usernameOrEmail",name:"usernameOrEmail",value:n.usernameOrEmail,onChange:d,required:!0,placeholder:"Username or email",autoComplete:"username"})]}),h.jsxs("div",{className:"form-group",children:[h.jsx("label",{htmlFor:"password",children:"Password"}),h.jsx("input",{type:"password",id:"password",name:"password",value:n.password,onChange:d,required:!0,placeholder:"Your password",autoComplete:"current-password"})]}),h.jsx("button",{type:"submit",className:"submit-btn",disabled:a,children:a?"Signing inâ€¦":"Log In"}),h.jsxs("p",{className:"form-footer",children:["Don't have an account? ",h.jsx(Po,{to:"/account",children:"Create account"})]})]})})]})]})}function zb(){const{user:t,updateUser:e}=ar(),s=typeof window<"u"&&(/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)||window.innerWidth<=768),r=Rt(s),[i,n]=S.useState({username:(t==null?void 0:t.username)||"",email:(t==null?void 0:t.email)||""}),[o,a]=S.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[l,c]=S.useState({billing:{street:"",city:"",state:"",zip:"",country:"United States"},shipping:{street:"",city:"",state:"",zip:"",country:"United States"},sameAsBilling:!1}),[u,d]=S.useState([]),[f,p]=S.useState([]),[g,m]=S.useState(!1),[y,w]=S.useState(!1),[v,_]=S.useState(null),[b,x]=S.useState(null);S.useEffect(()=>{t&&(n({username:t.username,email:t.email}),T(),k())},[t]);const T=async()=>{try{const C=await fs.getAddresses();(C.billing||C.shipping)&&c({billing:C.billing||l.billing,shipping:C.shipping||l.shipping,sameAsBilling:!1})}catch(C){console.error("Failed to load addresses:",C)}},k=async()=>{try{const C=await fs.getSubscriptions("active"),D=await fs.getSubscriptions("cancelled");d(C||[]),p(D||[])}catch(C){console.error("Failed to load subscriptions:",C)}},j=C=>{n({...i,[C.target.name]:C.target.value}),_(null),x(null)},P=C=>{a({...o,[C.target.name]:C.target.value}),_(null),x(null)},R=(C,D,X)=>{c({...l,[C]:{...l[C],[D]:X}}),_(null),x(null)},A=C=>{const D=C.target.checked;c({...l,sameAsBilling:D,shipping:D?{...l.billing}:l.shipping})},N=async C=>{C.preventDefault(),_(null),x(null),m(!0);try{const D=await fs.updateProfile({username:i.username.trim(),email:i.email.trim()});e(D),x("Profile updated successfully!")}catch(D){_(D.message||"Failed to update profile")}finally{m(!1)}},M=async C=>{if(C.preventDefault(),_(null),x(null),o.newPassword!==o.confirmPassword){_("New passwords do not match!");return}if(o.newPassword.length<8){_("Password must be at least 8 characters long");return}m(!0);try{await fs.updatePassword({currentPassword:o.currentPassword,newPassword:o.newPassword}),x("Password updated successfully!"),a({currentPassword:"",newPassword:"",confirmPassword:""})}catch(D){_(D.message||"Failed to update password")}finally{m(!1)}},H=async C=>{C.preventDefault(),_(null),x(null),m(!0);try{await fs.updateAddresses({billing:l.billing,shipping:l.sameAsBilling?l.billing:l.shipping}),x("Addresses updated successfully!")}catch(D){_(D.message||"Failed to update addresses")}finally{m(!1)}},J=async C=>{if(confirm("Are you sure you want to cancel this subscription?"))try{await fs.cancelSubscription(C),x("Subscription cancelled successfully!"),k()}catch(D){_(D.message||"Failed to cancel subscription")}},Q=async()=>{w(!0),_(null);try{const C=u[0];if(!C||!C.stripe_customer_id){_("No billing information found. Please contact support.");return}const{url:D}=await zd.createPortalSession(C.stripe_customer_id);D&&(window.location.href=D)}catch(C){console.error("Portal error:",C),_("Failed to open billing portal. Please try again.")}finally{w(!1)}},B=C=>new Date(C).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"});return h.jsxs("div",{className:"page-container",children:[h.jsx(At,{colors:["#5227FF","#FF9FFC","#B19EEF"],mouseForce:s?18:24,cursorSize:s?80:100,isViscous:!0,viscous:30,iterationsViscous:r.iterationsViscous,iterationsPoisson:r.iterationsPoisson,resolution:r.resolution,isBounce:!1,autoDemo:!0,autoSpeed:r.autoSpeed,autoIntensity:2.2,takeoverDuration:.25,autoResumeDelay:3e3,autoRampDuration:.6}),h.jsxs("div",{className:"page-content",children:[h.jsx("h1",{className:"page-title",children:"Account Settings"}),h.jsxs("div",{className:"account-form-wrapper",children:[v&&h.jsx("div",{className:"form-error",role:"alert",children:v}),b&&h.jsx("div",{className:"form-success",role:"alert",children:b}),h.jsxs("form",{onSubmit:N,className:"account-form",children:[h.jsx("h2",{className:"form-section-title",children:"Profile Information"}),h.jsxs("div",{className:"form-group",children:[h.jsx("label",{htmlFor:"username",children:"Username"}),h.jsx("input",{type:"text",id:"username",name:"username",value:i.username,onChange:j,required:!0,placeholder:"Your username",autoComplete:"username"})]}),h.jsxs("div",{className:"form-group",children:[h.jsx("label",{htmlFor:"email",children:"Email Address"}),h.jsx("input",{type:"email",id:"email",name:"email",value:i.email,onChange:j,required:!0,placeholder:"Your email",autoComplete:"email"})]}),h.jsx("button",{type:"submit",className:"submit-btn",disabled:g,children:g?"Saving...":"Save Profile"})]}),h.jsxs("form",{onSubmit:H,className:"account-form",style:{marginTop:"2rem"},children:[h.jsx("h2",{className:"form-section-title",children:"Billing Address"}),h.jsxs("div",{className:"form-group",children:[h.jsx("label",{htmlFor:"billing-street",children:"Street Address"}),h.jsx("input",{type:"text",id:"billing-street",value:l.billing.street,onChange:C=>R("billing","street",C.target.value),placeholder:"123 Main St"})]}),h.jsxs("div",{className:"form-row",children:[h.jsxs("div",{className:"form-group",children:[h.jsx("label",{htmlFor:"billing-city",children:"City"}),h.jsx("input",{type:"text",id:"billing-city",value:l.billing.city,onChange:C=>R("billing","city",C.target.value),placeholder:"City"})]}),h.jsxs("div",{className:"form-group",children:[h.jsx("label",{htmlFor:"billing-state",children:"State"}),h.jsx("input",{type:"text",id:"billing-state",value:l.billing.state,onChange:C=>R("billing","state",C.target.value),placeholder:"State"})]}),h.jsxs("div",{className:"form-group",children:[h.jsx("label",{htmlFor:"billing-zip",children:"ZIP Code"}),h.jsx("input",{type:"text",id:"billing-zip",value:l.billing.zip,onChange:C=>R("billing","zip",C.target.value),placeholder:"12345"})]})]}),h.jsx("h2",{className:"form-section-title",style:{marginTop:"2rem"},children:"Shipping Address"}),h.jsx("div",{className:"form-group",children:h.jsxs("label",{className:"checkbox-label",children:[h.jsx("input",{type:"checkbox",checked:l.sameAsBilling,onChange:A}),h.jsx("span",{children:"Same as billing address"})]})}),!l.sameAsBilling&&h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"form-group",children:[h.jsx("label",{htmlFor:"shipping-street",children:"Street Address"}),h.jsx("input",{type:"text",id:"shipping-street",value:l.shipping.street,onChange:C=>R("shipping","street",C.target.value),placeholder:"123 Main St"})]}),h.jsxs("div",{className:"form-row",children:[h.jsxs("div",{className:"form-group",children:[h.jsx("label",{htmlFor:"shipping-city",children:"City"}),h.jsx("input",{type:"text",id:"shipping-city",value:l.shipping.city,onChange:C=>R("shipping","city",C.target.value),placeholder:"City"})]}),h.jsxs("div",{className:"form-group",children:[h.jsx("label",{htmlFor:"shipping-state",children:"State"}),h.jsx("input",{type:"text",id:"shipping-state",value:l.shipping.state,onChange:C=>R("shipping","state",C.target.value),placeholder:"State"})]}),h.jsxs("div",{className:"form-group",children:[h.jsx("label",{htmlFor:"shipping-zip",children:"ZIP Code"}),h.jsx("input",{type:"text",id:"shipping-zip",value:l.shipping.zip,onChange:C=>R("shipping","zip",C.target.value),placeholder:"12345"})]})]})]}),h.jsx("button",{type:"submit",className:"submit-btn",disabled:g,children:g?"Saving...":"Save Addresses"})]}),h.jsxs("div",{className:"subscriptions-section",style:{marginTop:"2rem"},children:[h.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[h.jsx("h2",{className:"form-section-title",style:{margin:0},children:"Current Subscriptions"}),u.length>0&&h.jsx("button",{onClick:Q,disabled:y,className:"submit-btn",style:{padding:"0.5rem 1.5rem",fontSize:"0.9rem",background:"linear-gradient(135deg, #5227FF, #B19EEF)"},children:y?"Loading...":"ðŸ’³ Manage Billing"})]}),u.length===0?h.jsx("p",{className:"no-subscriptions",children:"You don't have any active subscriptions yet."}):h.jsx("div",{className:"subscriptions-grid",children:u.map(C=>h.jsxs("div",{className:"subscription-card",children:[h.jsxs("div",{className:"subscription-header",children:[h.jsx("h3",{children:C.packageName}),h.jsx("span",{className:"subscription-tier",children:C.tier})]}),h.jsxs("div",{className:"subscription-details",children:[h.jsxs("p",{children:[h.jsx("strong",{children:"Duration:"})," ",C.duration]}),h.jsxs("p",{children:[h.jsx("strong",{children:"Price:"})," $",C.price]}),h.jsxs("p",{children:[h.jsx("strong",{children:"Started:"})," ",B(C.startDate)]}),h.jsxs("p",{children:[h.jsx("strong",{children:"Next Billing:"})," ",B(C.nextBillingDate)]})]}),h.jsx("button",{className:"cancel-btn",onClick:()=>J(C.id),children:"Cancel Subscription"})]},C.id))})]}),f.length>0&&h.jsxs("div",{className:"subscriptions-section",style:{marginTop:"2rem"},children:[h.jsx("h2",{className:"form-section-title",children:"Past Subscriptions"}),h.jsx("div",{className:"subscriptions-grid",children:f.map(C=>h.jsxs("div",{className:"subscription-card cancelled",children:[h.jsxs("div",{className:"subscription-header",children:[h.jsx("h3",{children:C.packageName}),h.jsx("span",{className:"subscription-tier cancelled",children:C.tier})]}),h.jsxs("div",{className:"subscription-details",children:[h.jsxs("p",{children:[h.jsx("strong",{children:"Duration:"})," ",C.duration]}),h.jsxs("p",{children:[h.jsx("strong",{children:"Price:"})," $",C.price]}),h.jsxs("p",{children:[h.jsx("strong",{children:"Started:"})," ",B(C.startDate)]}),h.jsxs("p",{children:[h.jsx("strong",{children:"Cancelled:"})," ",B(C.cancelledAt)]})]})]},C.id))})]}),h.jsxs("form",{onSubmit:M,className:"account-form",style:{marginTop:"2rem"},children:[h.jsx("h2",{className:"form-section-title",children:"Change Password"}),h.jsxs("div",{className:"form-group",children:[h.jsx("label",{htmlFor:"currentPassword",children:"Current Password"}),h.jsx("input",{type:"password",id:"currentPassword",name:"currentPassword",value:o.currentPassword,onChange:P,required:!0,placeholder:"Enter current password",autoComplete:"current-password"})]}),h.jsxs("div",{className:"form-group",children:[h.jsx("label",{htmlFor:"newPassword",children:"New Password"}),h.jsx("input",{type:"password",id:"newPassword",name:"newPassword",value:o.newPassword,onChange:P,required:!0,placeholder:"Enter new password",minLength:8,autoComplete:"new-password"})]}),h.jsxs("div",{className:"form-group",children:[h.jsx("label",{htmlFor:"confirmPassword",children:"Confirm New Password"}),h.jsx("input",{type:"password",id:"confirmPassword",name:"confirmPassword",value:o.confirmPassword,onChange:P,required:!0,placeholder:"Confirm new password",minLength:8,autoComplete:"new-password"})]}),h.jsx("button",{type:"submit",className:"submit-btn",disabled:g,children:g?"Updating...":"Update Password"})]})]})]})]})}function Wb(){const t=nr(),[e]=Xd(),s=e.get("session_id"),r=typeof window<"u"&&(/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)||window.innerWidth<=768),i=Rt(r);return S.useEffect(()=>{localStorage.setItem("cartItems",JSON.stringify([])),window.dispatchEvent(new Event("cartUpdated"))},[]),h.jsxs("div",{className:"page-container",children:[h.jsx(At,{colors:["#5227FF","#FF9FFC","#B19EEF"],mouseForce:r?18:24,cursorSize:r?80:100,isViscous:!0,viscous:30,iterationsViscous:i.iterationsViscous,iterationsPoisson:i.iterationsPoisson,resolution:i.resolution,isBounce:!1,autoDemo:!0,autoSpeed:i.autoSpeed,autoIntensity:2.2,takeoverDuration:.25,autoResumeDelay:3e3,autoRampDuration:.6}),h.jsx("div",{className:"page-content",style:{textAlign:"center",maxWidth:"600px",margin:"0 auto"},children:h.jsxs("div",{style:{background:"rgba(255, 255, 255, 0.05)",backdropFilter:"blur(20px)",border:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"20px",padding:"3rem 2rem",marginTop:"2rem"},children:[h.jsx("div",{style:{fontSize:"4rem",marginBottom:"1rem"},children:"âœ“"}),h.jsx("h1",{className:"page-title",style:{marginBottom:"1rem"},children:"Payment Successful!"}),h.jsx("p",{style:{fontSize:"1.1rem",marginBottom:"2rem",opacity:.9},children:"Thank you for your purchase. Your order has been confirmed and you'll receive a confirmation email shortly."}),s&&h.jsxs("p",{style:{fontSize:"0.9rem",opacity:.7,marginBottom:"2rem"},children:["Session ID: ",s.substring(0,20),"..."]}),h.jsxs("div",{style:{display:"flex",gap:"1rem",justifyContent:"center",flexWrap:"wrap"},children:[h.jsx("button",{onClick:()=>t("/settings"),style:{padding:"0.75rem 2rem",background:"linear-gradient(135deg, #5227FF, #B19EEF)",border:"none",borderRadius:"10px",color:"white",fontSize:"1rem",fontWeight:"600",cursor:"pointer",transition:"transform 0.2s"},onMouseEnter:n=>n.target.style.transform="scale(1.05)",onMouseLeave:n=>n.target.style.transform="scale(1)",children:"View My Account"}),h.jsx("button",{onClick:()=>t("/"),style:{padding:"0.75rem 2rem",background:"rgba(255, 255, 255, 0.1)",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"10px",color:"white",fontSize:"1rem",fontWeight:"600",cursor:"pointer",transition:"transform 0.2s"},onMouseEnter:n=>n.target.style.transform="scale(1.05)",onMouseLeave:n=>n.target.style.transform="scale(1)",children:"Back to Home"})]})]})})]})}function qb(){return h.jsxs("div",{style:{minHeight:"100vh",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",textAlign:"center",padding:"2rem",backgroundColor:"#0a0e1a",color:"#ffffff"},children:[h.jsx("h1",{style:{fontSize:"6rem",marginBottom:"1rem",fontWeight:"bold"},children:"404"}),h.jsx("h2",{style:{fontSize:"2rem",marginBottom:"1rem"},children:"Page Not Found"}),h.jsx("p",{style:{marginBottom:"2rem",color:"#e0e0e0",fontSize:"1.1rem"},children:"The page you're looking for doesn't exist."}),h.jsx(Po,{to:"/",style:{display:"inline-block",padding:"0.75rem 2rem",backgroundColor:"#4da6ff",color:"#fff",textDecoration:"none",borderRadius:"4px",transition:"background-color 0.3s",fontSize:"1rem"},onMouseEnter:t=>t.target.style.backgroundColor="#3d8fdd",onMouseLeave:t=>t.target.style.backgroundColor="#4da6ff",children:"Go Home"})]})}function Hb(){return h.jsx(Zd,{children:h.jsx(iu,{children:h.jsx(Ym,{children:h.jsx(wf,{children:h.jsx(my,{children:h.jsxs(Qd,{children:[h.jsx(vt,{path:"/",element:h.jsx(Py,{})}),h.jsx(vt,{path:"/about",element:h.jsx(Oy,{})}),h.jsx(vt,{path:"/products",element:h.jsx(_b,{})}),h.jsx(vt,{path:"/packages",element:h.jsx(bb,{})}),h.jsx(vt,{path:"/cart",element:h.jsx(Sb,{})}),h.jsx(vt,{path:"/contact",element:h.jsx(Vb,{})}),h.jsx(vt,{path:"/account",element:h.jsx(Bb,{})}),h.jsx(vt,{path:"/login",element:h.jsx(Ub,{})}),h.jsx(vt,{path:"/settings",element:h.jsx(gy,{children:h.jsx(zb,{})})}),h.jsx(vt,{path:"/checkout/success",element:h.jsx(Wb,{})}),h.jsx(vt,{path:"*",element:h.jsx(qb,{})})]})})})})})})}In.createRoot(document.getElementById("root")).render(h.jsx(nt.StrictMode,{children:h.jsx(iu,{children:h.jsx(Hb,{})})}));
