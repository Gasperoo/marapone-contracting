var mO=Object.defineProperty;var pO=(e,t,n)=>t in e?mO(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var wh=(e,t,n)=>pO(e,typeof t!="symbol"?t+"":t,n);import{r as b,a as Su,R as Wt,u as ju,L as yt,b as No,N as gO,g as Rr,c as vO,d as yO,e as xO,B as bO,f as wO,h as rn}from"./react-vendor-Cr3fs6P9.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var _1={exports:{}},Pu={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _O=b,SO=Symbol.for("react.element"),jO=Symbol.for("react.fragment"),PO=Object.prototype.hasOwnProperty,kO=_O.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,AO={key:!0,ref:!0,__self:!0,__source:!0};function S1(e,t,n){var r,i={},s=null,a=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(a=t.ref);for(r in t)PO.call(t,r)&&!AO.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:SO,type:e,key:s,ref:a,props:i,_owner:kO.current}}Pu.Fragment=jO;Pu.jsx=S1;Pu.jsxs=S1;_1.exports=Pu;var c=_1.exports,jf={},Wy=Su;jf.createRoot=Wy.createRoot,jf.hydrateRoot=Wy.hydrateRoot;const j1=b.createContext(),CO=()=>{const e=b.useContext(j1);if(!e)throw new Error("useCurrency must be used within a CurrencyProvider");return e},TO=({children:e})=>{const[t,n]=b.useState(()=>localStorage.getItem("selectedCurrency")||"USD"),r={USD:1,CAD:1.35,EUR:.92},i={USD:"$",CAD:"C$",EUR:"â‚¬"};b.useEffect(()=>{localStorage.setItem("selectedCurrency",t)},[t]);const s=u=>(u*r[t]).toFixed(2),a=u=>{const h=s(u),f=i[t];return t==="EUR"?`${h}${f}`:`${f}${h}`},l=u=>{r[u]&&n(u)};return c.jsx(j1.Provider,{value:{currency:t,changeCurrency:l,convertPrice:s,formatPrice:a,currencySymbol:i[t],exchangeRates:r},children:e})};function ku(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function NO(e,t,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function l(f){try{h(r.next(f))}catch(m){a(m)}}function u(f){try{h(r.throw(f))}catch(m){a(m)}}function h(f){f.done?s(f.value):i(f.value).then(l,u)}h((r=r.apply(e,t||[])).next())})}const OO=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class op extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class EO extends op{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Hy extends op{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Ky extends op{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Pf;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Pf||(Pf={}));class MO{constructor(t,{headers:n={},customFetch:r,region:i=Pf.Any}={}){this.url=t,this.headers=n,this.region=i,this.fetch=OO(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return NO(this,arguments,void 0,function*(n,r={}){var i;let s,a;try{const{headers:l,method:u,body:h,signal:f,timeout:m}=r;let g={},{region:v}=r;v||(v=this.region);const y=new URL(`${this.url}/${n}`);v&&v!=="any"&&(g["x-region"]=v,y.searchParams.set("forceFunctionRegion",v));let w;h&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)?typeof Blob<"u"&&h instanceof Blob||h instanceof ArrayBuffer?(g["Content-Type"]="application/octet-stream",w=h):typeof h=="string"?(g["Content-Type"]="text/plain",w=h):typeof FormData<"u"&&h instanceof FormData?w=h:(g["Content-Type"]="application/json",w=JSON.stringify(h)):h&&typeof h!="string"&&!(typeof Blob<"u"&&h instanceof Blob)&&!(h instanceof ArrayBuffer)&&!(typeof FormData<"u"&&h instanceof FormData)?w=JSON.stringify(h):w=h;let _=f;m&&(a=new AbortController,s=setTimeout(()=>a.abort(),m),f?(_=a.signal,f.addEventListener("abort",()=>a.abort())):_=a.signal);const j=yield this.fetch(y.toString(),{method:u||"POST",headers:Object.assign(Object.assign(Object.assign({},g),this.headers),l),body:w,signal:_}).catch(N=>{throw new EO(N)}),k=j.headers.get("x-relay-error");if(k&&k==="true")throw new Hy(j);if(!j.ok)throw new Ky(j);let P=((i=j.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),C;return P==="application/json"?C=yield j.json():P==="application/octet-stream"||P==="application/pdf"?C=yield j.blob():P==="text/event-stream"?C=j:P==="multipart/form-data"?C=yield j.formData():C=yield j.text(),{data:C,error:null,response:j}}catch(l){return{data:null,error:l,response:l instanceof Ky||l instanceof Hy?l.context:void 0}}finally{s&&clearTimeout(s)}})}}var IO=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},LO=class{constructor(e){var t,n;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(n=e.isMaybeSingle)!==null&&n!==void 0?n:!1,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async s=>{let a=null,l=null,u=null,h=s.status,f=s.statusText;if(s.ok){var m,g;if(n.method!=="HEAD"){var v;const j=await s.text();j===""||(n.headers.get("Accept")==="text/csv"||n.headers.get("Accept")&&(!((v=n.headers.get("Accept"))===null||v===void 0)&&v.includes("application/vnd.pgrst.plan+text"))?l=j:l=JSON.parse(j))}const w=(m=n.headers.get("Prefer"))===null||m===void 0?void 0:m.match(/count=(exact|planned|estimated)/),_=(g=s.headers.get("content-range"))===null||g===void 0?void 0:g.split("/");w&&_&&_.length>1&&(u=parseInt(_[1])),n.isMaybeSingle&&n.method==="GET"&&Array.isArray(l)&&(l.length>1?(a={code:"PGRST116",details:`Results contain ${l.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},l=null,u=null,h=406,f="Not Acceptable"):l.length===1?l=l[0]:l=null)}else{var y;const w=await s.text();try{a=JSON.parse(w),Array.isArray(a)&&s.status===404&&(l=[],a=null,h=200,f="OK")}catch{s.status===404&&w===""?(h=204,f="No Content"):a={message:w}}if(a&&n.isMaybeSingle&&(!(a==null||(y=a.details)===null||y===void 0)&&y.includes("0 rows"))&&(a=null,h=200,f="OK"),a&&n.shouldThrowOnError)throw new IO(a)}return{error:a,data:l,count:u,status:h,statusText:f}});return this.shouldThrowOnError||(i=i.catch(s=>{var a;let l="";const u=s==null?void 0:s.cause;if(u){var h,f,m,g;const y=(h=u==null?void 0:u.message)!==null&&h!==void 0?h:"",w=(f=u==null?void 0:u.code)!==null&&f!==void 0?f:"";l=`${(m=s==null?void 0:s.name)!==null&&m!==void 0?m:"FetchError"}: ${s==null?void 0:s.message}`,l+=`

Caused by: ${(g=u==null?void 0:u.name)!==null&&g!==void 0?g:"Error"}: ${y}`,w&&(l+=` (${w})`),u!=null&&u.stack&&(l+=`
${u.stack}`)}else{var v;l=(v=s==null?void 0:s.stack)!==null&&v!==void 0?v:""}return{error:{message:`${(a=s==null?void 0:s.name)!==null&&a!==void 0?a:"FetchError"}: ${s==null?void 0:s.message}`,details:l,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),i.then(e,t)}returns(){return this}overrideTypes(){return this}},DO=class extends LO{select(e){let t=!1;const n=(e??"*").split("").map(r=>/\s/.test(r)&&!t?"":(r==='"'&&(t=!t),r)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:n,foreignTable:r,referencedTable:i=r}={}){const s=i?`${i}.order`:"order",a=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${a?`${a},`:""}${e}.${t?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:n=t}={}){const r=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(r,`${e}`),this}range(e,t,{foreignTable:n,referencedTable:r=n}={}){const i=typeof r>"u"?"offset":`${r}.offset`,s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(s,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:n=!1,buffers:r=!1,wal:i=!1,format:s="text"}={}){var a;const l=[e?"analyze":null,t?"verbose":null,n?"settings":null,r?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(a=this.headers.get("Accept"))!==null&&a!==void 0?a:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${s}; for="${u}"; options=${l};`),s==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const qy=new RegExp("[,()]");var As=class extends DO{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const n=Array.from(new Set(t)).map(r=>typeof r=="string"&&qy.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}notIn(e,t){const n=Array.from(new Set(t)).map(r=>typeof r=="string"&&qy.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(e,`not.in.(${n})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:n,type:r}={}){let i="";r==="plain"?i="pl":r==="phrase"?i="ph":r==="websearch"&&(i="w");const s=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${i}fts${s}.${t}`),this}match(e){return Object.entries(e).forEach(([t,n])=>{this.url.searchParams.append(t,`eq.${n}`)}),this}not(e,t,n){return this.url.searchParams.append(e,`not.${t}.${n}`),this}or(e,{foreignTable:t,referencedTable:n=t}={}){const r=n?`${n}.or`:"or";return this.url.searchParams.append(r,`(${e})`),this}filter(e,t,n){return this.url.searchParams.append(e,`${t}.${n}`),this}},RO=class{constructor(e,{headers:t={},schema:n,fetch:r}){this.url=e,this.headers=new Headers(t),this.schema=n,this.fetch=r}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(e,t){const{head:n=!1,count:r}=t??{},i=n?"HEAD":"GET";let s=!1;const a=(e??"*").split("").map(h=>/\s/.test(h)&&!s?"":(h==='"'&&(s=!s),h)).join(""),{url:l,headers:u}=this.cloneRequestState();return l.searchParams.set("select",a),r&&u.append("Prefer",`count=${r}`),new As({method:i,url:l,headers:u,schema:this.schema,fetch:this.fetch})}insert(e,{count:t,defaultToNull:n=!0}={}){var r;const i="POST",{url:s,headers:a}=this.cloneRequestState();if(t&&a.append("Prefer",`count=${t}`),n||a.append("Prefer","missing=default"),Array.isArray(e)){const l=e.reduce((u,h)=>u.concat(Object.keys(h)),[]);if(l.length>0){const u=[...new Set(l)].map(h=>`"${h}"`);s.searchParams.set("columns",u.join(","))}}return new As({method:i,url:s,headers:a,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}upsert(e,{onConflict:t,ignoreDuplicates:n=!1,count:r,defaultToNull:i=!0}={}){var s;const a="POST",{url:l,headers:u}=this.cloneRequestState();if(u.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),t!==void 0&&l.searchParams.set("on_conflict",t),r&&u.append("Prefer",`count=${r}`),i||u.append("Prefer","missing=default"),Array.isArray(e)){const h=e.reduce((f,m)=>f.concat(Object.keys(m)),[]);if(h.length>0){const f=[...new Set(h)].map(m=>`"${m}"`);l.searchParams.set("columns",f.join(","))}}return new As({method:a,url:l,headers:u,schema:this.schema,body:e,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}update(e,{count:t}={}){var n;const r="PATCH",{url:i,headers:s}=this.cloneRequestState();return t&&s.append("Prefer",`count=${t}`),new As({method:r,url:i,headers:s,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:e}={}){var t;const n="DELETE",{url:r,headers:i}=this.cloneRequestState();return e&&i.append("Prefer",`count=${e}`),new As({method:n,url:r,headers:i,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}},$O=class P1{constructor(t,{headers:n={},schema:r,fetch:i}={}){this.url=t,this.headers=new Headers(n),this.schemaName=r,this.fetch=i}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new RO(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new P1(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:i=!1,count:s}={}){var a;let l;const u=new URL(`${this.url}/rpc/${t}`);let h;const f=v=>v!==null&&typeof v=="object"&&(!Array.isArray(v)||v.some(f)),m=r&&Object.values(n).some(f);m?(l="POST",h=n):r||i?(l=r?"HEAD":"GET",Object.entries(n).filter(([v,y])=>y!==void 0).map(([v,y])=>[v,Array.isArray(y)?`{${y.join(",")}}`:`${y}`]).forEach(([v,y])=>{u.searchParams.append(v,y)})):(l="POST",h=n);const g=new Headers(this.headers);return m?g.set("Prefer",s?`count=${s},return=minimal`:"return=minimal"):s&&g.set("Prefer",`count=${s}`),new As({method:l,url:u,headers:g,schema:this.schemaName,body:h,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}};class zO{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const n=globalThis.process;if(n){const r=n.versions;if(r&&r.node){const i=r.node,s=parseInt(i.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const r=this.getWebSocketConstructor();return new r(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const BO="2.93.3",FO=`realtime-js/${BO}`,UO="1.0.0",k1="2.0.0",Gy=k1,kf=1e4,VO=1e3,WO=100;var Xr;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Xr||(Xr={}));var dt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(dt||(dt={}));var zn;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(zn||(zn={}));var Af;(function(e){e.websocket="websocket"})(Af||(Af={}));var Mi;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Mi||(Mi={}));class HO{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,n){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(t));let r=[t.join_ref,t.ref,t.topic,t.event,t.payload];return n(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(t){var n;return this._isArrayBuffer((n=t.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var n,r;const i=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(t){var n,r;const i=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:{},a=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,a)}_encodeUserBroadcastPush(t,n,r){var i,s;const a=t.topic,l=(i=t.ref)!==null&&i!==void 0?i:"",u=(s=t.join_ref)!==null&&s!==void 0?s:"",h=t.payload.event,f=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},m=Object.keys(f).length===0?"":JSON.stringify(f);if(u.length>255)throw new Error(`joinRef length ${u.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`ref length ${l.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`topic length ${a.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`userEvent length ${h.length} exceeds maximum of 255`);if(m.length>255)throw new Error(`metadata length ${m.length} exceeds maximum of 255`);const g=this.USER_BROADCAST_PUSH_META_LENGTH+u.length+l.length+a.length+h.length+m.length,v=new ArrayBuffer(this.HEADER_LENGTH+g);let y=new DataView(v),w=0;y.setUint8(w++,this.KINDS.userBroadcastPush),y.setUint8(w++,u.length),y.setUint8(w++,l.length),y.setUint8(w++,a.length),y.setUint8(w++,h.length),y.setUint8(w++,m.length),y.setUint8(w++,n),Array.from(u,j=>y.setUint8(w++,j.charCodeAt(0))),Array.from(l,j=>y.setUint8(w++,j.charCodeAt(0))),Array.from(a,j=>y.setUint8(w++,j.charCodeAt(0))),Array.from(h,j=>y.setUint8(w++,j.charCodeAt(0))),Array.from(m,j=>y.setUint8(w++,j.charCodeAt(0)));var _=new Uint8Array(v.byteLength+r.byteLength);return _.set(new Uint8Array(v),0),_.set(new Uint8Array(r),v.byteLength),_.buffer}decode(t,n){if(this._isArrayBuffer(t)){let r=this._binaryDecode(t);return n(r)}if(typeof t=="string"){const r=JSON.parse(t),[i,s,a,l,u]=r;return n({join_ref:i,ref:s,topic:a,event:l,payload:u})}return n({})}_binaryDecode(t){const n=new DataView(t),r=n.getUint8(0),i=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,n,i)}}_decodeUserBroadcast(t,n,r){const i=n.getUint8(1),s=n.getUint8(2),a=n.getUint8(3),l=n.getUint8(4);let u=this.HEADER_LENGTH+4;const h=r.decode(t.slice(u,u+i));u=u+i;const f=r.decode(t.slice(u,u+s));u=u+s;const m=r.decode(t.slice(u,u+a));u=u+a;const g=t.slice(u,t.byteLength),v=l===this.JSON_ENCODING?JSON.parse(r.decode(g)):g,y={type:this.BROADCAST_EVENT,event:f,payload:v};return a>0&&(y.meta=JSON.parse(m)),{join_ref:null,ref:null,topic:h,event:this.BROADCAST_EVENT,payload:y}}_isArrayBuffer(t){var n;return t instanceof ArrayBuffer||((n=t==null?void 0:t.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(t,n){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([r])=>n.includes(r)))}}class A1{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Be;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Be||(Be={}));const Zy=(e,t,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return t?Object.keys(t).reduce((s,a)=>(s[a]=KO(a,e,t,i),s),{}):{}},KO=(e,t,n,r)=>{const i=t.find(l=>l.name===e),s=i==null?void 0:i.type,a=n[e];return s&&!r.includes(s)?C1(s,a):Cf(a)},C1=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return YO(t,n)}switch(e){case Be.bool:return qO(t);case Be.float4:case Be.float8:case Be.int2:case Be.int4:case Be.int8:case Be.numeric:case Be.oid:return GO(t);case Be.json:case Be.jsonb:return ZO(t);case Be.timestamp:return XO(t);case Be.abstime:case Be.date:case Be.daterange:case Be.int4range:case Be.int8range:case Be.money:case Be.reltime:case Be.text:case Be.time:case Be.timestamptz:case Be.timetz:case Be.tsrange:case Be.tstzrange:return Cf(t);default:return Cf(t)}},Cf=e=>e,qO=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},GO=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},ZO=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},YO=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let s;const a=e.slice(1,n);try{s=JSON.parse("["+a+"]")}catch{s=a?a.split(","):[]}return s.map(l=>C1(t,l))}return e},XO=e=>typeof e=="string"?e.replace(" ","T"):e,T1=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class _h{constructor(t,n,r={},i=kf){this.channel=t,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Yy;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Yy||(Yy={}));class Ga{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:s,onLeave:a,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ga.syncState(this.state,i,s,a),this.pendingDiffs.forEach(u=>{this.state=Ga.syncDiff(this.state,u,s,a)}),this.pendingDiffs=[],l()}),this.channel._on(r.diff,{},i=>{const{onJoin:s,onLeave:a,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Ga.syncDiff(this.state,i,s,a),l())}),this.onJoin((i,s,a)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:a})}),this.onLeave((i,s,a)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,i){const s=this.cloneDeep(t),a=this.transformState(n),l={},u={};return this.map(s,(h,f)=>{a[h]||(u[h]=f)}),this.map(a,(h,f)=>{const m=s[h];if(m){const g=f.map(_=>_.presence_ref),v=m.map(_=>_.presence_ref),y=f.filter(_=>v.indexOf(_.presence_ref)<0),w=m.filter(_=>g.indexOf(_.presence_ref)<0);y.length>0&&(l[h]=y),w.length>0&&(u[h]=w)}else l[h]=f}),this.syncDiff(s,{joins:l,leaves:u},r,i)}static syncDiff(t,n,r,i){const{joins:s,leaves:a}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(s,(l,u)=>{var h;const f=(h=t[l])!==null&&h!==void 0?h:[];if(t[l]=this.cloneDeep(u),f.length>0){const m=t[l].map(v=>v.presence_ref),g=f.filter(v=>m.indexOf(v.presence_ref)<0);t[l].unshift(...g)}r(l,f,u)}),this.map(a,(l,u)=>{let h=t[l];if(!h)return;const f=u.map(m=>m.presence_ref);h=h.filter(m=>f.indexOf(m.presence_ref)<0),t[l]=h,i(l,h,u),h.length===0&&delete t[l]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const i=t[r];return"metas"in i?n[r]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):n[r]=i,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Xy;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Xy||(Xy={}));var Za;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Za||(Za={}));var br;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(br||(br={}));class Os{constructor(t,n={config:{}},r){var i,s;if(this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=dt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new _h(this,zn.join,this.params,this.timeout),this.rejoinTimer=new A1(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=dt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=dt.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=dt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=dt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=dt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(zn.reply,{},(a,l)=>{this._trigger(this._replyEventName(l),a)}),this.presence=new Ga(this),this.broadcastEndpointURL=T1(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((s=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||s===void 0)&&s.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var r,i,s;if(this.socket.isConnected()||this.socket.connect(),this.state==dt.closed){const{config:{broadcast:a,presence:l,private:u}}=this.params,h=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(v=>v.filter))!==null&&i!==void 0?i:[],f=!!this.bindings[Za.PRESENCE]&&this.bindings[Za.PRESENCE].length>0||((s=this.params.config.presence)===null||s===void 0?void 0:s.enabled)===!0,m={},g={broadcast:a,presence:Object.assign(Object.assign({},l),{enabled:f}),postgres_changes:h,private:u};this.socket.accessTokenValue&&(m.access_token=this.socket.accessTokenValue),this._onError(v=>t==null?void 0:t(br.CHANNEL_ERROR,v)),this._onClose(()=>t==null?void 0:t(br.CLOSED)),this.updateJoinPayload(Object.assign({config:g},m)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:v})=>{var y;if(this.socket._isManualToken()||this.socket.setAuth(),v===void 0){t==null||t(br.SUBSCRIBED);return}else{const w=this.bindings.postgres_changes,_=(y=w==null?void 0:w.length)!==null&&y!==void 0?y:0,j=[];for(let k=0;k<_;k++){const P=w[k],{filter:{event:C,schema:N,table:T,filter:M}}=P,E=v&&v[k];if(E&&E.event===C&&Os.isFilterValueEqual(E.schema,N)&&Os.isFilterValueEqual(E.table,T)&&Os.isFilterValueEqual(E.filter,M))j.push(Object.assign(Object.assign({},P),{id:E.id}));else{this.unsubscribe(),this.state=dt.errored,t==null||t(br.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=j,t&&t(br.SUBSCRIBED);return}}).receive("error",v=>{this.state=dt.errored,t==null||t(br.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(v).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(br.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this.state===dt.joined&&t===Za.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,n,r)}async httpSend(t,n,r={}){var i;if(n==null)return Promise.reject("Payload is required for httpSend()");const s={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(s.Authorization=`Bearer ${this.socket.accessTokenValue}`);const a={method:"POST",headers:s,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:n,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(i=r.timeout)!==null&&i!==void 0?i:this.timeout);if(l.status===202)return{success:!0};let u=l.statusText;try{const h=await l.json();u=h.error||h.message||u}catch{}return Promise.reject(new Error(u))}async send(t,n={}){var r,i;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:s,payload:a}=t,l={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(l.Authorization=`Bearer ${this.socket.accessTokenValue}`);const u={method:"POST",headers:l,body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:a,private:this.private}]})};try{const h=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=h.body)===null||i===void 0?void 0:i.cancel()),h.ok?"ok":"error"}catch(h){return h.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var a,l,u;const h=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((u=(l=(a=this.params)===null||a===void 0?void 0:a.config)===null||l===void 0?void 0:l.broadcast)===null||u===void 0)&&u.ack)&&s("ok"),h.receive("ok",()=>s("ok")),h.receive("error",()=>s("error")),h.receive("timeout",()=>s("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=dt.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(zn.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new _h(this,zn.leave,{},t),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=dt.closed,this.bindings={}}async _fetchWithTimeout(t,n,r){const i=new AbortController,s=setTimeout(()=>i.abort(),r),a=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(s),a}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new _h(this,t,n,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>WO){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var i,s;const a=t.toLocaleLowerCase(),{close:l,error:u,leave:h,join:f}=zn;if(r&&[l,u,h,f].indexOf(a)>=0&&r!==this._joinRef())return;let g=this._onMessage(a,n,r);if(n&&!g)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(v=>{var y,w,_;return((y=v.filter)===null||y===void 0?void 0:y.event)==="*"||((_=(w=v.filter)===null||w===void 0?void 0:w.event)===null||_===void 0?void 0:_.toLocaleLowerCase())===a}).map(v=>v.callback(g,r)):(s=this.bindings[a])===null||s===void 0||s.filter(v=>{var y,w,_,j,k,P;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in v){const C=v.id,N=(y=v.filter)===null||y===void 0?void 0:y.event;return C&&((w=n.ids)===null||w===void 0?void 0:w.includes(C))&&(N==="*"||(N==null?void 0:N.toLocaleLowerCase())===((_=n.data)===null||_===void 0?void 0:_.type.toLocaleLowerCase()))}else{const C=(k=(j=v==null?void 0:v.filter)===null||j===void 0?void 0:j.event)===null||k===void 0?void 0:k.toLocaleLowerCase();return C==="*"||C===((P=n==null?void 0:n.event)===null||P===void 0?void 0:P.toLocaleLowerCase())}else return v.type.toLocaleLowerCase()===a}).map(v=>{if(typeof g=="object"&&"ids"in g){const y=g.data,{schema:w,table:_,commit_timestamp:j,type:k,errors:P}=y;g=Object.assign(Object.assign({},{schema:w,table:_,commit_timestamp:j,eventType:k,new:{},old:{},errors:P}),this._getPayloadRecords(y))}v.callback(g,r)})}_isClosed(){return this.state===dt.closed}_isJoined(){return this.state===dt.joined}_isJoining(){return this.state===dt.joining}_isLeaving(){return this.state===dt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const i=t.toLocaleLowerCase(),s={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===r&&Os.isEqual(i.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}static isFilterValueEqual(t,n){return(t??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(zn.close,{},t)}_onError(t){this._on(zn.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=dt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=Zy(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=Zy(t.columns,t.old_record)),n}}const Sh=()=>{},wl={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},JO=[1e3,2e3,5e3,1e4],QO=1e4,eE=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class tE{constructor(t,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=kf,this.transport=null,this.heartbeatIntervalMs=wl.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Sh,this.ref=0,this.reconnectTimer=null,this.vsn=Gy,this.logger=Sh,this.conn=null,this.sendBuffer=[],this.serializer=new HO,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=i=>i?(...s)=>i(...s):(...s)=>fetch(...s),!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${Af.websocket}`,this.httpEndpoint=T1(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=zO.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Xr.connecting:return Mi.Connecting;case Xr.open:return Mi.Open;case Xr.closing:return Mi.Closing;default:return Mi.Closed}}isConnected(){return this.connectionState()===Mi.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const r=`realtime:${t}`,i=this.getChannels().find(s=>s.topic===r);if(i)return i;{const s=new Os(`realtime:${t}`,n,this);return this.channels.push(s),s}}push(t){const{topic:n,event:r,payload:i,ref:s}=t,a=()=>{this.encode(t,l=>{var u;(u=this.conn)===null||u===void 0||u.send(l)})};this.log("push",`${n} ${r} (${s})`,i),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(VO,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},wl.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply"&&n.ref&&n.ref===this.pendingHeartbeatRef){const h=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error",h)}catch(f){this.log("error","error in heartbeat callback",f)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:r,event:i,payload:s,ref:a}=n,l=a?`(${a})`:"",u=s.status||"";this.log("receive",`${u} ${r} ${i} ${l}`.trim(),s),this.channels.filter(h=>h._isMember(r)).forEach(h=>h._trigger(i,s,a)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===Xr.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Xr.open||this.conn.readyState===Xr.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t);try{this.heartbeatCallback("error")}catch(n){this.log("error","error in heartbeat callback",n)}}_triggerChanError(){this.channels.forEach(t=>t._trigger(zn.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${t}${r}${i}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([eE],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n,r=!1;if(t)n=t,r=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(i){this.log("error","Error fetching access token from callback",i),n=this.accessTokenValue}else n=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(i=>{const s={access_token:n,version:FO};n&&i.updateJoinPayload(s),i.joinedOnce&&i._isJoined()&&i._push(zn.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(n)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new A1(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},wl.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,r,i,s,a,l,u,h,f,m,g,v;switch(this.transport=(n=t==null?void 0:t.transport)!==null&&n!==void 0?n:null,this.timeout=(r=t==null?void 0:t.timeout)!==null&&r!==void 0?r:kf,this.heartbeatIntervalMs=(i=t==null?void 0:t.heartbeatIntervalMs)!==null&&i!==void 0?i:wl.HEARTBEAT_INTERVAL,this.worker=(s=t==null?void 0:t.worker)!==null&&s!==void 0?s:!1,this.accessToken=(a=t==null?void 0:t.accessToken)!==null&&a!==void 0?a:null,this.heartbeatCallback=(l=t==null?void 0:t.heartbeatCallback)!==null&&l!==void 0?l:Sh,this.vsn=(u=t==null?void 0:t.vsn)!==null&&u!==void 0?u:Gy,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(h=t==null?void 0:t.reconnectAfterMs)!==null&&h!==void 0?h:y=>JO[y-1]||QO,this.vsn){case UO:this.encode=(f=t==null?void 0:t.encode)!==null&&f!==void 0?f:(y,w)=>w(JSON.stringify(y)),this.decode=(m=t==null?void 0:t.decode)!==null&&m!==void 0?m:(y,w)=>w(JSON.parse(y));break;case k1:this.encode=(g=t==null?void 0:t.encode)!==null&&g!==void 0?g:this.serializer.encode.bind(this.serializer),this.decode=(v=t==null?void 0:t.decode)!==null&&v!==void 0?v:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}var to=class extends Error{constructor(e,t){var n;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((n=t.icebergType)==null?void 0:n.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function nE(e,t,n){const r=new URL(t,e);if(n)for(const[i,s]of Object.entries(n))s!==void 0&&r.searchParams.set(i,s);return r.toString()}async function rE(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function iE(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:n,path:r,query:i,body:s,headers:a}){const l=nE(e.baseUrl,r,i),u=await rE(e.auth),h=await t(l,{method:n,headers:{...s?{"Content-Type":"application/json"}:{},...u,...a},body:s?JSON.stringify(s):void 0}),f=await h.text(),m=(h.headers.get("content-type")||"").includes("application/json"),g=m&&f?JSON.parse(f):f;if(!h.ok){const v=m?g:void 0,y=v==null?void 0:v.error;throw new to((y==null?void 0:y.message)??`Request failed with status ${h.status}`,{status:h.status,icebergType:y==null?void 0:y.type,icebergCode:y==null?void 0:y.code,details:v})}return{status:h.status,headers:h.headers,data:g}}}}function _l(e){return e.join("")}var sE=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:_l(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(e,t){const n={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${_l(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${_l(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${_l(e.namespace)}`}),!0}catch(t){if(t instanceof to&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(n){if(n instanceof to&&n.status===409)return;throw n}}};function ps(e){return e.join("")}var aE=class{constructor(e,t="",n){this.client=e,this.prefix=t,this.accessDelegation=n}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ps(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${ps(e.namespace)}/tables`,body:t,headers:n})).data.metadata}async updateTable(e,t){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${ps(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${ps(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ps(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${ps(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(n){if(n instanceof to&&n.status===404)return!1;throw n}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(n){if(n instanceof to&&n.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw n}}},oE=class{constructor(e){var r;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const n=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=iE({baseUrl:n,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(r=e.accessDelegation)==null?void 0:r.join(","),this.namespaceOps=new sE(this.client,t),this.tableOps=new aE(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},Au=class extends Error{constructor(e,t="storage",n,r){super(e),this.__isStorageError=!0,this.namespace=t,this.name=t==="vectors"?"StorageVectorsError":"StorageError",this.status=n,this.statusCode=r}};function Cu(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var Sl=class extends Au{constructor(e,t,n,r="storage"){super(e,r,t,n),this.name=r==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},N1=class extends Au{constructor(e,t,n="storage"){super(e,n),this.name=n==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=t}};const lE=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),cE=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Tf=e=>{if(Array.isArray(e))return e.map(n=>Tf(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));t[i]=Tf(r)}),t},uE=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function no(e){"@babel/helpers - typeof";return no=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},no(e)}function dE(e,t){if(no(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(no(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hE(e){var t=dE(e,"string");return no(t)=="symbol"?t:t+""}function fE(e,t,n){return(t=hE(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Jy(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function pe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Jy(Object(n),!0).forEach(function(r){fE(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jy(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}const Qy=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},mE=async(e,t,n,r)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(n!=null&&n.noResolveJson)){const i=e,s=i.status||500;if(typeof i.json=="function")i.json().then(a=>{const l=(a==null?void 0:a.statusCode)||(a==null?void 0:a.code)||s+"";t(new Sl(Qy(a),s,l,r))}).catch(()=>{if(r==="vectors"){const a=s+"";t(new Sl(i.statusText||`HTTP ${s} error`,s,a,r))}else{const a=s+"";t(new Sl(i.statusText||`HTTP ${s} error`,s,a,r))}});else{const a=s+"";t(new Sl(i.statusText||`HTTP ${s} error`,s,a,r))}}else t(new N1(Qy(e),e,r))},pE=(e,t,n,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||e==="HEAD"||!r?pe(pe({},i),n):(cE(r)?(i.headers=pe({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(r)):i.body=r,t!=null&&t.duplex&&(i.duplex=t.duplex),pe(pe({},i),n))};async function Ta(e,t,n,r,i,s,a){return new Promise((l,u)=>{e(n,pE(t,r,i,s)).then(h=>{if(!h.ok)throw h;if(r!=null&&r.noResolveJson)return h;if(a==="vectors"){const f=h.headers.get("content-type");if(h.headers.get("content-length")==="0"||h.status===204)return{};if(!f||!f.includes("application/json"))return{}}return h.json()}).then(h=>l(h)).catch(h=>mE(h,u,r,a))})}function O1(e="storage"){return{get:async(t,n,r,i)=>Ta(t,"GET",n,r,i,void 0,e),post:async(t,n,r,i,s)=>Ta(t,"POST",n,i,s,r,e),put:async(t,n,r,i,s)=>Ta(t,"PUT",n,i,s,r,e),head:async(t,n,r,i)=>Ta(t,"HEAD",n,pe(pe({},r),{},{noResolveJson:!0}),i,void 0,e),remove:async(t,n,r,i,s)=>Ta(t,"DELETE",n,i,s,r,e)}}const gE=O1("storage"),{get:ro,post:$n,put:Nf,head:vE,remove:lp}=gE,un=O1("vectors");var Qs=class{constructor(e,t={},n,r="storage"){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.fetch=lE(n),this.namespace=r}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(e){var t=this;try{return{data:await e(),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Cu(n))return{data:null,error:n};throw n}}},yE=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Cu(t))return{data:null,error:t};throw t}}};let E1;E1=Symbol.toStringTag;var xE=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[E1]="BlobDownloadBuilder",this.promise=null}asStream(){return new yE(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Cu(t))return{data:null,error:t};throw t}}};const bE={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},e0={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var wE=class extends Qs{constructor(e,t={},n,r){super(e,t,r,"storage"),this.bucketId=n}async uploadOrUpdate(e,t,n,r){var i=this;return i.handleOperation(async()=>{let s;const a=pe(pe({},e0),r);let l=pe(pe({},i.headers),e==="POST"&&{"x-upsert":String(a.upsert)});const u=a.metadata;typeof Blob<"u"&&n instanceof Blob?(s=new FormData,s.append("cacheControl",a.cacheControl),u&&s.append("metadata",i.encodeMetadata(u)),s.append("",n)):typeof FormData<"u"&&n instanceof FormData?(s=n,s.has("cacheControl")||s.append("cacheControl",a.cacheControl),u&&!s.has("metadata")&&s.append("metadata",i.encodeMetadata(u))):(s=n,l["cache-control"]=`max-age=${a.cacheControl}`,l["content-type"]=a.contentType,u&&(l["x-metadata"]=i.toBase64(i.encodeMetadata(u))),(typeof ReadableStream<"u"&&s instanceof ReadableStream||s&&typeof s=="object"&&"pipe"in s&&typeof s.pipe=="function")&&!a.duplex&&(a.duplex="half")),r!=null&&r.headers&&(l=pe(pe({},l),r.headers));const h=i._removeEmptyFolders(t),f=i._getFinalPath(h),m=await(e=="PUT"?Nf:$n)(i.fetch,`${i.url}/object/${f}`,s,pe({headers:l},a!=null&&a.duplex?{duplex:a.duplex}:{}));return{path:h,id:m.Id,fullPath:m.Key}})}async upload(e,t,n){return this.uploadOrUpdate("POST",e,t,n)}async uploadToSignedUrl(e,t,n,r){var i=this;const s=i._removeEmptyFolders(e),a=i._getFinalPath(s),l=new URL(i.url+`/object/upload/sign/${a}`);return l.searchParams.set("token",t),i.handleOperation(async()=>{let u;const h=pe({upsert:e0.upsert},r),f=pe(pe({},i.headers),{"x-upsert":String(h.upsert)});return typeof Blob<"u"&&n instanceof Blob?(u=new FormData,u.append("cacheControl",h.cacheControl),u.append("",n)):typeof FormData<"u"&&n instanceof FormData?(u=n,u.append("cacheControl",h.cacheControl)):(u=n,f["cache-control"]=`max-age=${h.cacheControl}`,f["content-type"]=h.contentType),{path:s,fullPath:(await Nf(i.fetch,l.toString(),u,{headers:f})).Key}})}async createSignedUploadUrl(e,t){var n=this;return n.handleOperation(async()=>{let r=n._getFinalPath(e);const i=pe({},n.headers);t!=null&&t.upsert&&(i["x-upsert"]="true");const s=await $n(n.fetch,`${n.url}/object/upload/sign/${r}`,{},{headers:i}),a=new URL(n.url+s.url),l=a.searchParams.get("token");if(!l)throw new Au("No token returned by API");return{signedUrl:a.toString(),path:e,token:l}})}async update(e,t,n){return this.uploadOrUpdate("PUT",e,t,n)}async move(e,t,n){var r=this;return r.handleOperation(async()=>await $n(r.fetch,`${r.url}/object/move`,{bucketId:r.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n==null?void 0:n.destinationBucket},{headers:r.headers}))}async copy(e,t,n){var r=this;return r.handleOperation(async()=>({path:(await $n(r.fetch,`${r.url}/object/copy`,{bucketId:r.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n==null?void 0:n.destinationBucket},{headers:r.headers})).Key}))}async createSignedUrl(e,t,n){var r=this;return r.handleOperation(async()=>{let i=r._getFinalPath(e),s=await $n(r.fetch,`${r.url}/object/sign/${i}`,pe({expiresIn:t},n!=null&&n.transform?{transform:n.transform}:{}),{headers:r.headers});const a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{signedUrl:encodeURI(`${r.url}${s.signedURL}${a}`)}})}async createSignedUrls(e,t,n){var r=this;return r.handleOperation(async()=>{const i=await $n(r.fetch,`${r.url}/object/sign/${r.bucketId}`,{expiresIn:t,paths:e},{headers:r.headers}),s=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i.map(a=>pe(pe({},a),{},{signedUrl:a.signedURL?encodeURI(`${r.url}${a.signedURL}${s}`):null}))})}download(e,t){const n=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",r=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),i=r?`?${r}`:"",s=this._getFinalPath(e),a=()=>ro(this.fetch,`${this.url}/${n}/${s}${i}`,{headers:this.headers,noResolveJson:!0});return new xE(a,this.shouldThrowOnError)}async info(e){var t=this;const n=t._getFinalPath(e);return t.handleOperation(async()=>Tf(await ro(t.fetch,`${t.url}/object/info/${n}`,{headers:t.headers})))}async exists(e){var t=this;const n=t._getFinalPath(e);try{return await vE(t.fetch,`${t.url}/object/${n}`,{headers:t.headers}),{data:!0,error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Cu(r)&&r instanceof N1){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}}getPublicUrl(e,t){const n=this._getFinalPath(e),r=[],i=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";i!==""&&r.push(i);const s=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",a=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});a!==""&&r.push(a);let l=r.join("&");return l!==""&&(l=`?${l}`),{data:{publicUrl:encodeURI(`${this.url}/${s}/public/${n}${l}`)}}}async remove(e){var t=this;return t.handleOperation(async()=>await lp(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}))}async list(e,t,n){var r=this;return r.handleOperation(async()=>{const i=pe(pe(pe({},bE),t),{},{prefix:e||""});return await $n(r.fetch,`${r.url}/object/list/${r.bucketId}`,i,{headers:r.headers},n)})}async listV2(e,t){var n=this;return n.handleOperation(async()=>{const r=pe({},e);return await $n(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,r,{headers:n.headers},t)})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const _E="2.93.3",Oo={"X-Client-Info":`storage-js/${_E}`};var SE=class extends Qs{constructor(e,t={},n,r){const i=new URL(e);r!=null&&r.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase."));const s=i.href.replace(/\/$/,""),a=pe(pe({},Oo),t);super(s,a,n,"storage")}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const n=t.listBucketOptionsToQueryString(e);return await ro(t.fetch,`${t.url}/bucket${n}`,{headers:t.headers})})}async getBucket(e){var t=this;return t.handleOperation(async()=>await ro(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}))}async createBucket(e,t={public:!1}){var n=this;return n.handleOperation(async()=>await $n(n.fetch,`${n.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}))}async updateBucket(e,t){var n=this;return n.handleOperation(async()=>await Nf(n.fetch,`${n.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}))}async emptyBucket(e){var t=this;return t.handleOperation(async()=>await $n(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await lp(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},jE=class extends Qs{constructor(e,t={},n){const r=e.replace(/\/$/,""),i=pe(pe({},Oo),t);super(r,i,n,"storage")}async createBucket(e){var t=this;return t.handleOperation(async()=>await $n(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}))}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const n=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&n.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&n.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&n.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&n.set("sortOrder",e.sortOrder),e!=null&&e.search&&n.set("search",e.search);const r=n.toString(),i=r?`${t.url}/bucket?${r}`:`${t.url}/bucket`;return await ro(t.fetch,i,{headers:t.headers})})}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await lp(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}from(e){var t=this;if(!uE(e))throw new Au("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new oE({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(n,{get(i,s){const a=i[s];return typeof a!="function"?a:async(...l)=>{try{return{data:await a.apply(i,l),error:null}}catch(u){if(r)throw u;return{data:null,error:u}}}}})}},PE=class extends Qs{constructor(e,t={},n){const r=e.replace(/\/$/,""),i=pe(pe({},Oo),{},{"Content-Type":"application/json"},t);super(r,i,n,"vectors")}async createIndex(e){var t=this;return t.handleOperation(async()=>await un.post(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{})}async getIndex(e,t){var n=this;return n.handleOperation(async()=>await un.post(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:n.headers}))}async listIndexes(e){var t=this;return t.handleOperation(async()=>await un.post(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}))}async deleteIndex(e,t){var n=this;return n.handleOperation(async()=>await un.post(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:n.headers})||{})}},kE=class extends Qs{constructor(e,t={},n){const r=e.replace(/\/$/,""),i=pe(pe({},Oo),{},{"Content-Type":"application/json"},t);super(r,i,n,"vectors")}async putVectors(e){var t=this;if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return t.handleOperation(async()=>await un.post(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{})}async getVectors(e){var t=this;return t.handleOperation(async()=>await un.post(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}))}async listVectors(e){var t=this;if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return t.handleOperation(async()=>await un.post(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}))}async queryVectors(e){var t=this;return t.handleOperation(async()=>await un.post(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}))}async deleteVectors(e){var t=this;if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return t.handleOperation(async()=>await un.post(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{})}},AE=class extends Qs{constructor(e,t={},n){const r=e.replace(/\/$/,""),i=pe(pe({},Oo),{},{"Content-Type":"application/json"},t);super(r,i,n,"vectors")}async createBucket(e){var t=this;return t.handleOperation(async()=>await un.post(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}async getBucket(e){var t=this;return t.handleOperation(async()=>await un.post(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}))}async listBuckets(e={}){var t=this;return t.handleOperation(async()=>await un.post(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await un.post(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}},CE=class extends AE{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new TE(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,n=this;return t().call(n,e)}async getBucket(e){var t=()=>super.getBucket,n=this;return t().call(n,e)}async listBuckets(e={}){var t=()=>super.listBuckets,n=this;return t().call(n,e)}async deleteBucket(e){var t=()=>super.deleteBucket,n=this;return t().call(n,e)}},TE=class extends PE{constructor(e,t,n,r){super(e,t,r),this.vectorBucketName=n}async createIndex(e){var t=()=>super.createIndex,n=this;return t().call(n,pe(pe({},e),{},{vectorBucketName:n.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,n=this;return t().call(n,pe(pe({},e),{},{vectorBucketName:n.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,n=this;return t().call(n,n.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,n=this;return t().call(n,n.vectorBucketName,e)}index(e){return new NE(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},NE=class extends kE{constructor(e,t,n,r,i){super(e,t,i),this.vectorBucketName=n,this.indexName=r}async putVectors(e){var t=()=>super.putVectors,n=this;return t().call(n,pe(pe({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async getVectors(e){var t=()=>super.getVectors,n=this;return t().call(n,pe(pe({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,n=this;return t().call(n,pe(pe({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,n=this;return t().call(n,pe(pe({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,n=this;return t().call(n,pe(pe({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}},OE=class extends SE{constructor(e,t={},n,r){super(e,t,n,r)}from(e){return new wE(this.url,this.headers,e,this.fetch)}get vectors(){return new CE(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new jE(this.url+"/iceberg",this.headers,this.fetch)}};const M1="2.93.3",Cs=30*1e3,Of=3,jh=Of*Cs,EE="http://localhost:9999",ME="supabase.auth.token",IE={"X-Client-Info":`gotrue-js/${M1}`},Ef="X-Supabase-Api-Version",I1={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},LE=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,DE=10*60*1e3;class io extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function ae(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class RE extends io{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function $E(e){return ae(e)&&e.name==="AuthApiError"}class Ii extends io{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class $r extends io{constructor(t,n,r,i){super(t,r,i),this.name=n,this.status=r}}class cn extends $r{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Ph(e){return ae(e)&&e.name==="AuthSessionMissingError"}class gs extends $r{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class jl extends $r{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Pl extends $r{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function zE(e){return ae(e)&&e.name==="AuthImplicitGrantRedirectError"}class t0 extends $r{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class BE extends $r{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Mf extends $r{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function kh(e){return ae(e)&&e.name==="AuthRetryableFetchError"}class n0 extends $r{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class If extends $r{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const fc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),r0=` 	
\r=`.split(""),FE=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<r0.length;t+=1)e[r0[t].charCodeAt(0)]=-2;for(let t=0;t<fc.length;t+=1)e[fc[t].charCodeAt(0)]=t;return e})();function i0(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(fc[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(fc[r]),t.queuedBits-=6}}function L1(e,t,n){const r=FE[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function s0(e){const t=[],n=a=>{t.push(String.fromCodePoint(a))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},s=a=>{WE(a,r,n)};for(let a=0;a<e.length;a+=1)L1(e.charCodeAt(a),i,s);return t.join("")}function UE(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function VE(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}UE(r,t)}}function WE(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function $s(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)L1(e.charCodeAt(i),n,r);return new Uint8Array(t)}function HE(e){const t=[];return VE(e,n=>t.push(n)),new Uint8Array(t)}function Li(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};return e.forEach(i=>i0(i,n,r)),i0(null,n,r),t.join("")}function KE(e){return Math.round(Date.now()/1e3)+e}function qE(){return Symbol("auth-callback")}const It=()=>typeof window<"u"&&typeof document<"u",bi={tested:!1,writable:!1},D1=()=>{if(!It())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(bi.tested)return bi.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),bi.tested=!0,bi.writable=!0}catch{bi.tested=!0,bi.writable=!1}return bi.writable};function GE(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,s)=>{t[s]=i})}catch{}return n.searchParams.forEach((r,i)=>{t[i]=r}),t}const R1=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),ZE=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Ts=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},wi=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Mt=async(e,t)=>{await e.removeItem(t)};class Tu{constructor(){this.promise=new Tu.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}Tu.promiseConstructor=Promise;function kl(e){const t=e.split(".");if(t.length!==3)throw new If("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!LE.test(t[r]))throw new If("JWT not in base64url format");return{header:JSON.parse(s0(t[0])),payload:JSON.parse(s0(t[1])),signature:$s(t[2]),raw:{header:t[0],payload:t[1]}}}async function YE(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function XE(e,t){return new Promise((r,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const a=await e(s);if(!t(s,null,a)){r(a);return}}catch(a){if(!t(s,a)){i(a);return}}})()})}function JE(e){return("0"+e.toString(16)).substr(-2)}function QE(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let s=0;s<56;s++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(t),Array.from(t,JE).join("")}async function eM(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}async function tM(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await eM(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function vs(e,t,n=!1){const r=QE();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await Ts(e,`${t}-code-verifier`,i);const s=await tM(r);return[s,r===s?"plain":"s256"]}const nM=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function rM(e){const t=e.headers.get(Ef);if(!t||!t.match(nM))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function iM(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function sM(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const aM=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ys(e){if(!aM.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Ah(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function oM(e,t){return new Proxy(e,{get:(n,r,i)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const s=r.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)"||s==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,i)}return!t.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(n,r,i)}})}function a0(e){return JSON.parse(JSON.stringify(e))}const Ai=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),lM=[502,503,504];async function o0(e){var t;if(!ZE(e))throw new Mf(Ai(e),0);if(lM.includes(e.status))throw new Mf(Ai(e),e.status);let n;try{n=await e.json()}catch(s){throw new Ii(Ai(s),s)}let r;const i=rM(e);if(i&&i.getTime()>=I1["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new n0(Ai(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new cn}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((s,a)=>s&&typeof a=="string",!0))throw new n0(Ai(n),e.status,n.weak_password.reasons);throw new RE(Ai(n),e.status||500,r)}const cM=(e,t,n,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function fe(e,t,n,r){var i;const s=Object.assign({},r==null?void 0:r.headers);s[Ef]||(s[Ef]=I1["2024-01-01"].name),r!=null&&r.jwt&&(s.Authorization=`Bearer ${r.jwt}`);const a=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(a.redirect_to=r.redirectTo);const l=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",u=await uM(e,t,n+l,{headers:s,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(u):{data:Object.assign({},u),error:null}}async function uM(e,t,n,r,i,s){const a=cM(t,r,i,s);let l;try{l=await e(n,Object.assign({},a))}catch(u){throw console.error(u),new Mf(Ai(u),0)}if(l.ok||await o0(l),r!=null&&r.noResolveJson)return l;try{return await l.json()}catch(u){await o0(u)}}function Dn(e){var t;let n=null;fM(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=KE(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function l0(e){const t=Dn(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function ei(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function dM(e){return{data:e,error:null}}function hM(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s}=e,a=ku(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s},u=Object.assign({},a);return{data:{properties:l,user:u},error:null}}function c0(e){return e}function fM(e){return e.access_token&&e.refresh_token&&e.expires_in}const Ch=["global","local","others"];class mM{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=R1(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,n=Ch[0]){if(Ch.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Ch.join(", ")}`);try{return await fe(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ae(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await fe(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:ei})}catch(r){if(ae(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=ku(t,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await fe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:hM,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(ae(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await fe(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:ei})}catch(n){if(ae(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,i,s,a,l,u;try{const h={nextPage:null,lastPage:0,total:0},f=await fe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(s=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:c0});if(f.error)throw f.error;const m=await f.json(),g=(a=f.headers.get("x-total-count"))!==null&&a!==void 0?a:0,v=(u=(l=f.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&u!==void 0?u:[];return v.length>0&&(v.forEach(y=>{const w=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(y.split(";")[1].split("=")[1]);h[`${_}Page`]=w}),h.total=parseInt(g)),{data:Object.assign(Object.assign({},m),h),error:null}}catch(h){if(ae(h))return{data:{users:[]},error:h};throw h}}async getUserById(t){ys(t);try{return await fe(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:ei})}catch(n){if(ae(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){ys(t);try{return await fe(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:ei})}catch(r){if(ae(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){ys(t);try{return await fe(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:ei})}catch(r){if(ae(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){ys(t.userId);try{const{data:n,error:r}=await fe(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(ae(n))return{data:null,error:n};throw n}}async _deleteFactor(t){ys(t.userId),ys(t.id);try{return{data:await fe(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(ae(n))return{data:null,error:n};throw n}}async _listOAuthClients(t){var n,r,i,s,a,l,u;try{const h={nextPage:null,lastPage:0,total:0},f=await fe(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(s=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:c0});if(f.error)throw f.error;const m=await f.json(),g=(a=f.headers.get("x-total-count"))!==null&&a!==void 0?a:0,v=(u=(l=f.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&u!==void 0?u:[];return v.length>0&&(v.forEach(y=>{const w=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(y.split(";")[1].split("=")[1]);h[`${_}Page`]=w}),h.total=parseInt(g)),{data:Object.assign(Object.assign({},m),h),error:null}}catch(h){if(ae(h))return{data:{clients:[]},error:h};throw h}}async _createOAuthClient(t){try{return await fe(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ae(n))return{data:null,error:n};throw n}}async _getOAuthClient(t){try{return await fe(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ae(n))return{data:null,error:n};throw n}}async _updateOAuthClient(t,n){try{return await fe(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ae(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(t){try{return await fe(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(ae(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(t){try{return await fe(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ae(n))return{data:null,error:n};throw n}}}function u0(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const xs={debug:!!(globalThis&&D1()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class $1 extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class pM extends $1{}async function gM(e,t,n){xs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),xs.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){xs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await n()}finally{xs.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw xs.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new pM(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(xs.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function vM(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function z1(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function yM(e){return parseInt(e,16)}function xM(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,r=>r.toString(16).padStart(2,"0")).join("")}function bM(e){var t;const{chainId:n,domain:r,expirationTime:i,issuedAt:s=new Date,nonce:a,notBefore:l,requestId:u,resources:h,scheme:f,uri:m,version:g}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(a&&a.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${a}`);if(!m)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(g!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${g}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const v=z1(e.address),y=f?`${f}://${r}`:r,w=e.statement?`${e.statement}
`:"",_=`${y} wants you to sign in with your Ethereum account:
${v}

${w}`;let j=`URI: ${m}
Version: ${g}
Chain ID: ${n}${a?`
Nonce: ${a}`:""}
Issued At: ${s.toISOString()}`;if(i&&(j+=`
Expiration Time: ${i.toISOString()}`),l&&(j+=`
Not Before: ${l.toISOString()}`),u&&(j+=`
Request ID: ${u}`),h){let k=`
Resources:`;for(const P of h){if(!P||typeof P!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${P}`);k+=`
- ${P}`}j+=k}return`${_}
${j}`}class st extends Error{constructor({message:t,code:n,cause:r,name:i}){var s;super(t,{cause:r}),this.__isWebAuthnError=!0,this.name=(s=i??(r instanceof Error?r.name:void 0))!==null&&s!==void 0?s:"Unknown Error",this.code=n}}class mc extends st{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}}function wM({error:e,options:t}){var n,r,i;const{publicKey:s}=t;if(!s)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new st({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=s.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new st({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((r=s.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new st({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((i=s.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new st({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new st({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new st({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return s.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new st({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new st({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const a=window.location.hostname;if(B1(a)){if(s.rp.id!==a)return new st({message:`The RP ID "${s.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new st({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(s.user.id.byteLength<1||s.user.id.byteLength>64)return new st({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new st({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new st({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function _M({error:e,options:t}){const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new st({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new st({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const r=window.location.hostname;if(B1(r)){if(n.rpId!==r)return new st({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new st({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new st({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new st({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class SM{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const jM=new SM;function PM(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:n,excludeCredentials:r}=e,i=ku(e,["challenge","user","excludeCredentials"]),s=$s(t).buffer,a=Object.assign(Object.assign({},n),{id:$s(n.id).buffer}),l=Object.assign(Object.assign({},i),{challenge:s,user:a});if(r&&r.length>0){l.excludeCredentials=new Array(r.length);for(let u=0;u<r.length;u++){const h=r[u];l.excludeCredentials[u]=Object.assign(Object.assign({},h),{id:$s(h.id).buffer,type:h.type||"public-key",transports:h.transports})}}return l}function kM(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:n}=e,r=ku(e,["challenge","allowCredentials"]),i=$s(t).buffer,s=Object.assign(Object.assign({},r),{challenge:i});if(n&&n.length>0){s.allowCredentials=new Array(n.length);for(let a=0;a<n.length;a++){const l=n[a];s.allowCredentials[a]=Object.assign(Object.assign({},l),{id:$s(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return s}function AM(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e;return{id:e.id,rawId:e.id,response:{attestationObject:Li(new Uint8Array(e.response.attestationObject)),clientDataJSON:Li(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function CM(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e,r=e.getClientExtensionResults(),i=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Li(new Uint8Array(i.authenticatorData)),clientDataJSON:Li(new Uint8Array(i.clientDataJSON)),signature:Li(new Uint8Array(i.signature)),userHandle:i.userHandle?Li(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function B1(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function d0(){var e,t;return!!(It()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function TM(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new mc("Browser returned unexpected credential type",t)}:{data:null,error:new mc("Empty credential response",t)}}catch(t){return{data:null,error:wM({error:t,options:e})}}}async function NM(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new mc("Browser returned unexpected credential type",t)}:{data:null,error:new mc("Empty credential response",t)}}catch(t){return{data:null,error:_M({error:t,options:e})}}}const OM={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},EM={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function pc(...e){const t=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),n=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),r={};for(const i of e)if(i)for(const s in i){const a=i[s];if(a!==void 0)if(Array.isArray(a))r[s]=a;else if(n(a))r[s]=a;else if(t(a)){const l=r[s];t(l)?r[s]=pc(l,a):r[s]=pc(a)}else r[s]=a}return r}function MM(e,t){return pc(OM,e,t||{})}function IM(e,t){return pc(EM,e,t||{})}class LM{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:n,friendlyName:r,signal:i},s){var a;try{const{data:l,error:u}=await this.client.mfa.challenge({factorId:t,webauthn:n});if(!l)return{data:null,error:u};const h=i??jM.createNewAbortSignal();if(l.webauthn.type==="create"){const{user:f}=l.webauthn.credential_options.publicKey;if(!f.name){const m=r;if(m)f.name=`${f.id}:${m}`;else{const v=(await this.client.getUser()).data.user,y=((a=v==null?void 0:v.user_metadata)===null||a===void 0?void 0:a.name)||(v==null?void 0:v.email)||(v==null?void 0:v.id)||"User";f.name=`${f.id}:${y}`}}f.displayName||(f.displayName=f.name)}switch(l.webauthn.type){case"create":{const f=MM(l.webauthn.credential_options.publicKey,s==null?void 0:s.create),{data:m,error:g}=await TM({publicKey:f,signal:h});return m?{data:{factorId:t,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:m}},error:null}:{data:null,error:g}}case"request":{const f=IM(l.webauthn.credential_options.publicKey,s==null?void 0:s.request),{data:m,error:g}=await NM(Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:f,signal:h}));return m?{data:{factorId:t,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:m}},error:null}:{data:null,error:g}}}}catch(l){return ae(l)?{data:null,error:l}:{data:null,error:new Ii("Unexpected error in challenge",l)}}}async _verify({challengeId:t,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:r})}async _authenticate({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},s){if(!n)return{data:null,error:new io("rpId is required for WebAuthn authentication")};try{if(!d0())return{data:null,error:new Ii("Browser does not support WebAuthn",null)};const{data:a,error:l}=await this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:r},signal:i},{request:s});if(!a)return{data:null,error:l};const{webauthn:u}=a;return this._verify({factorId:t,challengeId:a.challengeId,webauthn:{type:u.type,rpId:n,rpOrigins:r,credential_response:u.credential_response}})}catch(a){return ae(a)?{data:null,error:a}:{data:null,error:new Ii("Unexpected error in authenticate",a)}}}async _register({friendlyName:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},s){if(!n)return{data:null,error:new io("rpId is required for WebAuthn registration")};try{if(!d0())return{data:null,error:new Ii("Browser does not support WebAuthn",null)};const{data:a,error:l}=await this._enroll({friendlyName:t});if(!a)return await this.client.mfa.listFactors().then(f=>{var m;return(m=f.data)===null||m===void 0?void 0:m.all.find(g=>g.factor_type==="webauthn"&&g.friendly_name===t&&g.status!=="unverified")}).then(f=>f?this.client.mfa.unenroll({factorId:f==null?void 0:f.id}):void 0),{data:null,error:l};const{data:u,error:h}=await this._challenge({factorId:a.id,friendlyName:a.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:i},{create:s});return u?this._verify({factorId:a.id,challengeId:u.challengeId,webauthn:{rpId:n,rpOrigins:r,type:u.webauthn.type,credential_response:u.webauthn.credential_response}}):{data:null,error:h}}catch(a){return ae(a)?{data:null,error:a}:{data:null,error:new Ii("Unexpected error in register",a)}}}}vM();const DM={url:EE,storageKey:ME,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:IE,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function h0(e,t,n){return await n()}const bs={};class so{get jwks(){var t,n;return(n=(t=bs[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){bs[this.storageKey]=Object.assign(Object.assign({},bs[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=bs[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){bs[this.storageKey]=Object.assign(Object.assign({},bs[this.storageKey]),{cachedAt:t})}constructor(t){var n,r,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const s=Object.assign(Object.assign({},DM),t);if(this.storageKey=s.storageKey,this.instanceID=(n=so.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,so.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.instanceID>0&&It()){const a=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(a),this.logDebugMessages&&console.trace(a)}if(this.persistSession=s.persistSession,this.autoRefreshToken=s.autoRefreshToken,this.admin=new mM({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=R1(s.fetch),this.lock=s.lock||h0,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,this.throwOnError=s.throwOnError,this.lockAcquireTimeout=s.lockAcquireTimeout,s.lock?this.lock=s.lock:this.persistSession&&It()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=gM:this.lock=h0,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new LM(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:D1()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=u0(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=u0(this.memoryStorage)),It()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a);try{await this._notifyAllSubscribers(a.data.event,a.data.session,!1)}catch(l){this._debug("#broadcastChannel","error",l)}})}this.initialize().catch(a=>{this._debug("#initialize()","error",a)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${M1}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let n={},r="none";if(It()&&(n=GE(window.location.href),this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce")),It()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:s}=await this._getSessionFromURL(n,r);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),zE(s)){const u=(t=s.details)===null||t===void 0?void 0:t.code;if(u==="identity_already_exists"||u==="identity_not_found"||u==="single_identity_not_deletable")return{error:s}}return{error:s}}const{session:a,redirectType:l}=i;return this._debug("#_initialize()","detected session in URL",a,"redirect type",l),await this._saveSession(a),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return ae(n)?this._returnResult({error:n}):this._returnResult({error:new Ii("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,i;try{const s=await fe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:Dn}),{data:a,error:l}=s;if(l||!a)return this._returnResult({data:{user:null,session:null},error:l});const u=a.session,h=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",u)),this._returnResult({data:{user:h,session:u},error:null})}catch(s){if(ae(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signUp(t){var n,r,i;try{let s;if("email"in t){const{email:f,password:m,options:g}=t;let v=null,y=null;this.flowType==="pkce"&&([v,y]=await vs(this.storage,this.storageKey)),s=await fe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:g==null?void 0:g.emailRedirectTo,body:{email:f,password:m,data:(n=g==null?void 0:g.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},code_challenge:v,code_challenge_method:y},xform:Dn})}else if("phone"in t){const{phone:f,password:m,options:g}=t;s=await fe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:f,password:m,data:(r=g==null?void 0:g.data)!==null&&r!==void 0?r:{},channel:(i=g==null?void 0:g.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken}},xform:Dn})}else throw new jl("You must provide either an email or phone number and a password");const{data:a,error:l}=s;if(l||!a)return await Mt(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:l});const u=a.session,h=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",u)),this._returnResult({data:{user:h,session:u},error:null})}catch(s){if(await Mt(this.storage,`${this.storageKey}-code-verifier`),ae(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithPassword(t){try{let n;if("email"in t){const{email:s,password:a,options:l}=t;n=await fe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:l0})}else if("phone"in t){const{phone:s,password:a,options:l}=t;n=await fe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:l0})}else throw new jl("You must provide either an email or phone number and a password");const{data:r,error:i}=n;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!r||!r.session||!r.user){const s=new gs;return this._returnResult({data:{user:null,session:null},error:s})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(ae(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(t){var n,r,i,s;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=t.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;switch(n){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(t){var n,r,i,s,a,l,u,h,f,m,g;let v,y;if("message"in t)v=t.message,y=t.signature;else{const{chain:w,wallet:_,statement:j,options:k}=t;let P;if(It())if(typeof _=="object")P=_;else{const $=window;if("ethereum"in $&&typeof $.ethereum=="object"&&"request"in $.ethereum&&typeof $.ethereum.request=="function")P=$.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof _!="object"||!(k!=null&&k.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");P=_}const C=new URL((n=k==null?void 0:k.url)!==null&&n!==void 0?n:window.location.href),N=await P.request({method:"eth_requestAccounts"}).then($=>$).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!N||N.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const T=z1(N[0]);let M=(r=k==null?void 0:k.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!M){const $=await P.request({method:"eth_chainId"});M=yM($)}const E={domain:C.host,address:T,statement:j,uri:C.href,version:"1",chainId:M,nonce:(i=k==null?void 0:k.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(a=(s=k==null?void 0:k.signInWithEthereum)===null||s===void 0?void 0:s.issuedAt)!==null&&a!==void 0?a:new Date,expirationTime:(l=k==null?void 0:k.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(u=k==null?void 0:k.signInWithEthereum)===null||u===void 0?void 0:u.notBefore,requestId:(h=k==null?void 0:k.signInWithEthereum)===null||h===void 0?void 0:h.requestId,resources:(f=k==null?void 0:k.signInWithEthereum)===null||f===void 0?void 0:f.resources};v=bM(E),y=await P.request({method:"personal_sign",params:[xM(v),T]})}try{const{data:w,error:_}=await fe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:v,signature:y},!((m=t.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(g=t.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:Dn});if(_)throw _;if(!w||!w.session||!w.user){const j=new gs;return this._returnResult({data:{user:null,session:null},error:j})}return w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),this._returnResult({data:Object.assign({},w),error:_})}catch(w){if(ae(w))return this._returnResult({data:{user:null,session:null},error:w});throw w}}async signInWithSolana(t){var n,r,i,s,a,l,u,h,f,m,g,v;let y,w;if("message"in t)y=t.message,w=t.signature;else{const{chain:_,wallet:j,statement:k,options:P}=t;let C;if(It())if(typeof j=="object")C=j;else{const T=window;if("solana"in T&&typeof T.solana=="object"&&("signIn"in T.solana&&typeof T.solana.signIn=="function"||"signMessage"in T.solana&&typeof T.solana.signMessage=="function"))C=T.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof j!="object"||!(P!=null&&P.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");C=j}const N=new URL((n=P==null?void 0:P.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in C&&C.signIn){const T=await C.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},P==null?void 0:P.signInWithSolana),{version:"1",domain:N.host,uri:N.href}),k?{statement:k}:null));let M;if(Array.isArray(T)&&T[0]&&typeof T[0]=="object")M=T[0];else if(T&&typeof T=="object"&&"signedMessage"in T&&"signature"in T)M=T;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in M&&"signature"in M&&(typeof M.signedMessage=="string"||M.signedMessage instanceof Uint8Array)&&M.signature instanceof Uint8Array)y=typeof M.signedMessage=="string"?M.signedMessage:new TextDecoder().decode(M.signedMessage),w=M.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in C)||typeof C.signMessage!="function"||!("publicKey"in C)||typeof C!="object"||!C.publicKey||!("toBase58"in C.publicKey)||typeof C.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");y=[`${N.host} wants you to sign in with your Solana account:`,C.publicKey.toBase58(),...k?["",k,""]:[""],"Version: 1",`URI: ${N.href}`,`Issued At: ${(i=(r=P==null?void 0:P.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((s=P==null?void 0:P.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${P.signInWithSolana.notBefore}`]:[],...!((a=P==null?void 0:P.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${P.signInWithSolana.expirationTime}`]:[],...!((l=P==null?void 0:P.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${P.signInWithSolana.chainId}`]:[],...!((u=P==null?void 0:P.signInWithSolana)===null||u===void 0)&&u.nonce?[`Nonce: ${P.signInWithSolana.nonce}`]:[],...!((h=P==null?void 0:P.signInWithSolana)===null||h===void 0)&&h.requestId?[`Request ID: ${P.signInWithSolana.requestId}`]:[],...!((m=(f=P==null?void 0:P.signInWithSolana)===null||f===void 0?void 0:f.resources)===null||m===void 0)&&m.length?["Resources",...P.signInWithSolana.resources.map(M=>`- ${M}`)]:[]].join(`
`);const T=await C.signMessage(new TextEncoder().encode(y),"utf8");if(!T||!(T instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");w=T}}try{const{data:_,error:j}=await fe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:y,signature:Li(w)},!((g=t.options)===null||g===void 0)&&g.captchaToken?{gotrue_meta_security:{captcha_token:(v=t.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:Dn});if(j)throw j;if(!_||!_.session||!_.user){const k=new gs;return this._returnResult({data:{user:null,session:null},error:k})}return _.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),this._returnResult({data:Object.assign({},_),error:j})}catch(_){if(ae(_))return this._returnResult({data:{user:null,session:null},error:_});throw _}}async _exchangeCodeForSession(t){const n=await wi(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{if(!r&&this.flowType==="pkce")throw new BE;const{data:s,error:a}=await fe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:Dn});if(await Mt(this.storage,`${this.storageKey}-code-verifier`),a)throw a;if(!s||!s.session||!s.user){const l=new gs;return this._returnResult({data:{user:null,session:null,redirectType:null},error:l})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:a})}catch(s){if(await Mt(this.storage,`${this.storageKey}-code-verifier`),ae(s))return this._returnResult({data:{user:null,session:null,redirectType:null},error:s});throw s}}async signInWithIdToken(t){try{const{options:n,provider:r,token:i,access_token:s,nonce:a}=t,l=await fe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:s,nonce:a,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Dn}),{data:u,error:h}=l;if(h)return this._returnResult({data:{user:null,session:null},error:h});if(!u||!u.session||!u.user){const f=new gs;return this._returnResult({data:{user:null,session:null},error:f})}return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),this._returnResult({data:u,error:h})}catch(n){if(ae(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(t){var n,r,i,s,a;try{if("email"in t){const{email:l,options:u}=t;let h=null,f=null;this.flowType==="pkce"&&([h,f]=await vs(this.storage,this.storageKey));const{error:m}=await fe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(n=u==null?void 0:u.data)!==null&&n!==void 0?n:{},create_user:(r=u==null?void 0:u.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken},code_challenge:h,code_challenge_method:f},redirectTo:u==null?void 0:u.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:m})}if("phone"in t){const{phone:l,options:u}=t,{data:h,error:f}=await fe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(i=u==null?void 0:u.data)!==null&&i!==void 0?i:{},create_user:(s=u==null?void 0:u.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken},channel:(a=u==null?void 0:u.channel)!==null&&a!==void 0?a:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:h==null?void 0:h.message_id},error:f})}throw new jl("You must provide either an email or phone number.")}catch(l){if(await Mt(this.storage,`${this.storageKey}-code-verifier`),ae(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async verifyOtp(t){var n,r;try{let i,s;"options"in t&&(i=(n=t.options)===null||n===void 0?void 0:n.redirectTo,s=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:a,error:l}=await fe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:Dn});if(l)throw l;if(!a)throw new Error("An error occurred on token verification.");const u=a.session,h=a.user;return u!=null&&u.access_token&&(await this._saveSession(u),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",u)),this._returnResult({data:{user:h,session:u},error:null})}catch(i){if(ae(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(t){var n,r,i,s,a;try{let l=null,u=null;this.flowType==="pkce"&&([l,u]=await vs(this.storage,this.storageKey));const h=await fe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:u}),headers:this.headers,xform:dM});return!((s=h.data)===null||s===void 0)&&s.url&&It()&&!(!((a=t.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(h.data.url),this._returnResult(h)}catch(l){if(await Mt(this.storage,`${this.storageKey}-code-verifier`),ae(l))return this._returnResult({data:null,error:l});throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new cn;const{error:i}=await fe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(t){if(ae(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:i,options:s}=t,{error:a}=await fe(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:a})}else if("phone"in t){const{phone:r,type:i,options:s}=t,{data:a,error:l}=await fe(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:l})}throw new jl("You must provide either an email or phone number and a type")}catch(n){if(ae(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await wi(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<jh:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const a=await wi(this.userStorage,this.storageKey+"-user");a!=null&&a.user?t.user=a.user:t.user=Ah()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const a={value:this.suppressGetSessionWarning};t.user=oM(t.user,a),a.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?this._returnResult({data:{session:null},error:s}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const n=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(t){try{return t?await fe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:ei}):await this._useSession(async n=>{var r,i,s;const{data:a,error:l}=n;if(l)throw l;return!(!((r=a.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new cn}:await fe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=a.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:ei})})}catch(n){if(ae(n))return Ph(n)&&(await this._removeSession(),await Mt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:i,error:s}=r;if(s)throw s;if(!i.session)throw new cn;const a=i.session;let l=null,u=null;this.flowType==="pkce"&&t.email!=null&&([l,u]=await vs(this.storage,this.storageKey));const{data:h,error:f}=await fe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:u}),jwt:a.access_token,xform:ei});if(f)throw f;return a.user=h.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),this._returnResult({data:{user:a.user},error:null})})}catch(r){if(await Mt(this.storage,`${this.storageKey}-code-verifier`),ae(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new cn;const n=Date.now()/1e3;let r=n,i=!0,s=null;const{payload:a}=kl(t.access_token);if(a.exp&&(r=a.exp,i=r<=n),i){const{data:l,error:u}=await this._callRefreshToken(t.refresh_token);if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!l)return{data:{user:null,session:null},error:null};s=l}else{const{data:l,error:u}=await this._getUser(t.access_token);if(u)return this._returnResult({data:{user:null,session:null},error:u});s={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return this._returnResult({data:{user:s.user,session:s},error:null})}catch(n){if(ae(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:a,error:l}=n;if(l)throw l;t=(r=a.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new cn;const{data:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?this._returnResult({data:{user:null,session:null},error:s}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(ae(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(t,n){try{if(!It())throw new Pl("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Pl(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new t0("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Pl("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new t0("No code detected.");const{data:k,error:P}=await this._exchangeCodeForSession(t.code);if(P)throw P;const C=new URL(window.location.href);return C.searchParams.delete("code"),window.history.replaceState(window.history.state,"",C.toString()),{data:{session:k.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:s,refresh_token:a,expires_in:l,expires_at:u,token_type:h}=t;if(!s||!l||!a||!h)throw new Pl("No session defined in URL");const f=Math.round(Date.now()/1e3),m=parseInt(l);let g=f+m;u&&(g=parseInt(u));const v=g-f;v*1e3<=Cs&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${v}s, should have been closer to ${m}s`);const y=g-m;f-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,g,f):f-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,g,f);const{data:w,error:_}=await this._getUser(s);if(_)throw _;const j={provider_token:r,provider_refresh_token:i,access_token:s,expires_in:m,expires_at:g,refresh_token:a,token_type:h,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:j,redirectType:t.type},error:null})}catch(r){if(ae(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await wi(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s&&!Ph(s))return this._returnResult({error:s});const a=(r=i.session)===null||r===void 0?void 0:r.access_token;if(a){const{error:l}=await this.admin.signOut(a,t);if(l&&!($E(l)&&(l.status===404||l.status===401||l.status===403)||Ph(l)))return this._returnResult({error:l})}return t!=="others"&&(await this._removeSession(),await Mt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const n=qE(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,i;try{const{data:{session:s},error:a}=n;if(a)throw a;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",t,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",s),console.error(s)}})}async resetPasswordForEmail(t,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await vs(this.storage,this.storageKey,!0));try{return await fe(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(s){if(await Mt(this.storage,`${this.storageKey}-code-verifier`),ae(s))return this._returnResult({data:null,error:s});throw s}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(n){if(ae(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var n;try{const{data:r,error:i}=await this._useSession(async s=>{var a,l,u,h,f;const{data:m,error:g}=s;if(g)throw g;const v=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(a=t.options)===null||a===void 0?void 0:a.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(u=t.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:!0});return await fe(this.fetch,"GET",v,{headers:this.headers,jwt:(f=(h=m.session)===null||h===void 0?void 0:h.access_token)!==null&&f!==void 0?f:void 0})});if(i)throw i;return It()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),this._returnResult({data:{provider:t.provider,url:r==null?void 0:r.url},error:null})}catch(r){if(ae(r))return this._returnResult({data:{provider:t.provider,url:null},error:r});throw r}}async linkIdentityIdToken(t){return await this._useSession(async n=>{var r;try{const{error:i,data:{session:s}}=n;if(i)throw i;const{options:a,provider:l,token:u,access_token:h,nonce:f}=t,m=await fe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=s==null?void 0:s.access_token)!==null&&r!==void 0?r:void 0,body:{provider:l,id_token:u,access_token:h,nonce:f,link_identity:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Dn}),{data:g,error:v}=m;return v?this._returnResult({data:{user:null,session:null},error:v}):!g||!g.session||!g.user?this._returnResult({data:{user:null,session:null},error:new gs}):(g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("USER_UPDATED",g.session)),this._returnResult({data:g,error:v}))}catch(i){if(await Mt(this.storage,`${this.storageKey}-code-verifier`),ae(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,i;const{data:s,error:a}=n;if(a)throw a;return await fe(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(r=s.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(ae(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await XE(async i=>(i>0&&await YE(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await fe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Dn})),(i,s)=>{const a=200*Math.pow(2,i);return s&&kh(s)&&Date.now()+a-r<Cs})}catch(r){if(this._debug(n,"error",r),ae(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),It()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await wi(this.storage,this.storageKey);if(i&&this.userStorage){let a=await wi(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:i.user},await Ts(this.userStorage,this.storageKey+"-user",a)),i.user=(t=a==null?void 0:a.user)!==null&&t!==void 0?t:Ah()}else if(i&&!i.user&&!i.user){const a=await wi(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(i.user=a.user,await Mt(this.storage,this.storageKey+"-user"),await Ts(this.storage,this.storageKey,i)):i.user=Ah()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const s=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<jh;if(this._debug(r,`session has${s?"":" not"} expired with margin of ${jh}s`),s){if(this.autoRefreshToken&&i.refresh_token){const{error:a}=await this._callRefreshToken(i.refresh_token);a&&(console.error(a),kh(a)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:l}=await this._getUser(i.access_token);!l&&(a!=null&&a.user)?(i.user=a.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(r,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new cn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Tu;const{data:s,error:a}=await this._refreshAccessToken(t);if(a)throw a;if(!s.session)throw new cn;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const l={data:s.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(s){if(this._debug(i,"error",s),ae(s)){const a={data:null,error:s};return kh(s)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(a),a}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,n,r=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const s=[],a=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,n)}catch(u){s.push(u)}});if(await Promise.all(a),s.length>0){for(let l=0;l<s.length;l+=1)console.error(s[l]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Mt(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await Ts(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const s=a0(i);await Ts(this.storage,this.storageKey,s)}else{const i=a0(n);await Ts(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Mt(this.storage,this.storageKey),await Mt(this.storage,this.storageKey+"-code-verifier"),await Mt(this.storage,this.storageKey+"-user"),this.userStorage&&await Mt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&It()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Cs);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t);const n=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t);const n=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,n&&clearTimeout(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-t)/Cs);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Cs}ms, refresh threshold is ${Of} ticks`),i<=Of&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof $1)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!It()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(t){this._debug("#visibilityChangedCallback","error",t)}},window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[s,a]=await vs(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(a)}`});i.push(l.toString())}if(r!=null&&r.queryParams){const s=new URLSearchParams(r.queryParams);i.push(s.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;return s?this._returnResult({data:null,error:s}):await fe(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(ae(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,i;const{data:s,error:a}=n;if(a)return this._returnResult({data:null,error:a});const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:u,error:h}=await fe(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return h?this._returnResult({data:null,error:h}):(t.factorType==="totp"&&u.type==="totp"&&(!((i=u==null?void 0:u.totp)===null||i===void 0)&&i.qr_code)&&(u.totp.qr_code=`data:image/svg+xml;utf-8,${u.totp.qr_code}`),this._returnResult({data:u,error:null}))})}catch(n){if(ae(n))return this._returnResult({data:null,error:n});throw n}}async _verify(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return this._returnResult({data:null,error:s});const a=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?AM(t.webauthn.credential_response):CM(t.webauthn.credential_response)})}:{code:t.code}),{data:l,error:u}=await fe(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:a,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return u?this._returnResult({data:null,error:u}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),this._returnResult({data:l,error:u}))})}catch(n){if(ae(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return this._returnResult({data:null,error:s});const a=await fe(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});if(a.error)return a;const{data:l}=a;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:PM(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:kM(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(ae(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){var t;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const i={all:[],phone:[],totp:[],webauthn:[]};for(const s of(t=n==null?void 0:n.factors)!==null&&t!==void 0?t:[])i.all.push(s),s.status==="verified"&&i[s.factor_type].push(s);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(t){var n,r,i,s;if(t)try{const{payload:v}=kl(t);let y=null;v.aal&&(y=v.aal);let w=y;const{data:{user:_},error:j}=await this.getUser(t);if(j)return this._returnResult({data:null,error:j});((r=(n=_==null?void 0:_.factors)===null||n===void 0?void 0:n.filter(C=>C.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(w="aal2");const P=v.amr||[];return{data:{currentLevel:y,nextLevel:w,currentAuthenticationMethods:P},error:null}}catch(v){if(ae(v))return this._returnResult({data:null,error:v});throw v}const{data:{session:a},error:l}=await this.getSession();if(l)return this._returnResult({data:null,error:l});if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:u}=kl(a.access_token);let h=null;u.aal&&(h=u.aal);let f=h;((s=(i=a.user.factors)===null||i===void 0?void 0:i.filter(v=>v.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(f="aal2");const g=u.amr||[];return{data:{currentLevel:h,nextLevel:f,currentAuthenticationMethods:g},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?await fe(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:r.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new cn})})}catch(n){if(ae(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:i},error:s}=r;if(s)return this._returnResult({data:null,error:s});if(!i)return this._returnResult({data:null,error:new cn});const a=await fe(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return a.data&&a.data.redirect_url&&It()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(r){if(ae(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:i},error:s}=r;if(s)return this._returnResult({data:null,error:s});if(!i)return this._returnResult({data:null,error:new cn});const a=await fe(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return a.data&&a.data.redirect_url&&It()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(r){if(ae(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;return r?this._returnResult({data:null,error:r}):n?await fe(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new cn})})}catch(t){if(ae(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?(await fe(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new cn})})}catch(n){if(ae(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(l=>l.kid===t);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(l=>l.kid===t),r&&this.jwks_cached_at+DE>i)return r;const{data:s,error:a}=await fe(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=i,r=s.keys.find(l=>l.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:v,error:y}=await this.getSession();if(y||!v.session)return this._returnResult({data:null,error:y});r=v.session.access_token}const{header:i,payload:s,signature:a,raw:{header:l,payload:u}}=kl(r);n!=null&&n.allowExpired||iM(s.exp);const h=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!h){const{error:v}=await this.getUser(r);if(v)throw v;return{data:{claims:s,header:i,signature:a},error:null}}const f=sM(i.alg),m=await crypto.subtle.importKey("jwk",h,f,!0,["verify"]);if(!await crypto.subtle.verify(f,m,a,HE(`${l}.${u}`)))throw new If("Invalid JWT signature");return{data:{claims:s,header:i,signature:a},error:null}}catch(r){if(ae(r))return this._returnResult({data:null,error:r});throw r}}}so.nextInstanceID={};const RM=so,$M="2.93.3";let Ua="";typeof Deno<"u"?Ua="deno":typeof document<"u"?Ua="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ua="react-native":Ua="node";const zM={"X-Client-Info":`supabase-js-${Ua}/${$M}`},BM={headers:zM},FM={schema:"public"},UM={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},VM={};function ao(e){"@babel/helpers - typeof";return ao=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ao(e)}function WM(e,t){if(ao(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(ao(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function HM(e){var t=WM(e,"string");return ao(t)=="symbol"?t:t+""}function KM(e,t,n){return(t=HM(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f0(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ye(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?f0(Object(n),!0).forEach(function(r){KM(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f0(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}const qM=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),GM=()=>Headers,ZM=(e,t,n)=>{const r=qM(n),i=GM();return async(s,a)=>{var l;const u=(l=await t())!==null&&l!==void 0?l:e;let h=new i(a==null?void 0:a.headers);return h.has("apikey")||h.set("apikey",e),h.has("Authorization")||h.set("Authorization",`Bearer ${u}`),r(s,Ye(Ye({},a),{},{headers:h}))}};function YM(e){return e.endsWith("/")?e:e+"/"}function XM(e,t){var n,r;const{db:i,auth:s,realtime:a,global:l}=e,{db:u,auth:h,realtime:f,global:m}=t,g={db:Ye(Ye({},u),i),auth:Ye(Ye({},h),s),realtime:Ye(Ye({},f),a),storage:{},global:Ye(Ye(Ye({},m),l),{},{headers:Ye(Ye({},(n=m==null?void 0:m.headers)!==null&&n!==void 0?n:{}),(r=l==null?void 0:l.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return e.accessToken?g.accessToken=e.accessToken:delete g.accessToken,g}function JM(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(YM(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var QM=class extends RM{constructor(e){super(e)}},eI=class{constructor(e,t,n){var r,i;this.supabaseUrl=e,this.supabaseKey=t;const s=JM(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",s),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",s),this.storageUrl=new URL("storage/v1",s),this.functionsUrl=new URL("functions/v1",s);const a=`sb-${s.hostname.split(".")[0]}-auth-token`,l={db:FM,realtime:VM,auth:Ye(Ye({},UM),{},{storageKey:a}),global:BM},u=XM(n??{},l);if(this.storageKey=(r=u.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(i=u.global.headers)!==null&&i!==void 0?i:{},u.accessToken)this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(f,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}});else{var h;this.auth=this._initSupabaseAuthClient((h=u.auth)!==null&&h!==void 0?h:{},this.headers,u.global.fetch)}this.fetch=ZM(t,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Ye({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(f=>this.realtime.setAuth(f)).catch(f=>console.warn("Failed to set initial Realtime auth token:",f)),this.rest=new $O(new URL("rest/v1",s).href,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),this.storage=new OE(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),u.accessToken||this._listenForAuthEvents()}get functions(){return new MO(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,n)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,n;if(e.accessToken)return await e.accessToken();const{data:r}=await e.auth.getSession();return(t=(n=r.session)===null||n===void 0?void 0:n.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:r,userStorage:i,storageKey:s,flowType:a,lock:l,debug:u,throwOnError:h},f,m){const g={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new QM({url:this.authUrl.href,headers:Ye(Ye({},g),f),storageKey:s,autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:r,userStorage:i,flowType:a,lock:l,debug:u,throwOnError:h,fetch:m,hasCustomAuthorizationHeader:Object.keys(this.headers).some(v=>v.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new tE(this.realtimeUrl.href,Ye(Ye({},e),{},{params:Ye(Ye({},{apikey:this.supabaseKey}),e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t==null?void 0:t.access_token)})}_handleTokenChanged(e,t,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const tI=(e,t,n)=>new eI(e,t,n);function nI(){if(typeof window<"u")return!1;const e=globalThis.process;if(!e)return!1;const t=e.version;if(t==null)return!1;const n=t.match(/^v(\d+)\./);return n?parseInt(n[1],10)<=18:!1}nI()&&console.warn("âš ï¸  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const rI="https://caibyqdwzyhzatrdlqso.supabase.co",iI="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImNhaWJ5cWR3enloemF0cmRscXNvIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njk5NzAxMTIsImV4cCI6MjA4NTU0NjExMn0.TQxlzL1h9PbAZbBitC_fpqepsGZX9WwOWvCxQBdZ-6I",xr=tI(rI,iI,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0}}),F1=b.createContext(null);function sI({children:e}){const[t,n]=b.useState(null),[r,i]=b.useState(!0);b.useEffect(()=>{xr.auth.getSession().then(({data:{session:y}})=>{var w,_;y!=null&&y.user&&n({id:y.user.id,email:y.user.email,username:((w=y.user.user_metadata)==null?void 0:w.username)||((_=y.user.email)==null?void 0:_.split("@")[0])}),i(!1)});const{data:{subscription:v}}=xr.auth.onAuthStateChange(async(y,w)=>{var _,j;console.log("Auth state changed:",y),w!=null&&w.user?n({id:w.user.id,email:w.user.email,username:((_=w.user.user_metadata)==null?void 0:_.username)||((j=w.user.email)==null?void 0:j.split("@")[0])}):n(null),i(!1)});return()=>{v.unsubscribe()}},[]);const g={user:t,loading:r,isAuthenticated:!!t,login:async(v,y)=>{var w,_;try{const{data:j,error:k}=await xr.auth.signInWithPassword({email:v.includes("@")?v:`${v}@temp.com`,password:y});if(k)throw k;return{success:!0,data:{user:{id:j.user.id,email:j.user.email,username:((w=j.user.user_metadata)==null?void 0:w.username)||((_=j.user.email)==null?void 0:_.split("@")[0])}}}}catch(j){throw console.error("Login error:",j),new Error(j.message||"Invalid email or password")}},register:async(v,y,w,_)=>{try{if(!_)throw new Error("You must accept the terms and conditions");const{data:j,error:k}=await xr.auth.signUp({email:y,password:w,options:{data:{username:v}}});if(k)throw k;if(j.user&&!j.session)throw new Error("Please check your email to confirm your account");return{success:!0,data:{user:{id:j.user.id,email:j.user.email,username:v}}}}catch(j){throw console.error("Registration error:",j),new Error(j.message||"Registration failed")}},logout:async()=>{try{const{error:v}=await xr.auth.signOut();if(v)throw v;n(null)}catch(v){throw console.error("Logout error:",v),v}},resetPassword:async v=>{try{const{error:y}=await xr.auth.resetPasswordForEmail(v,{redirectTo:`${window.location.origin}/reset-password`});if(y)throw y;return{success:!0}}catch(y){throw console.error("Password reset error:",y),y}},updatePassword:async v=>{try{const{error:y}=await xr.auth.updateUser({password:v});if(y)throw y;return{success:!0}}catch(y){throw console.error("Update password error:",y),y}},updateUser:v=>{n(y=>({...y,...v}))},getSession:async()=>{const{data:{session:v}}=await xr.auth.getSession();return v}};return c.jsx(F1.Provider,{value:g,children:e})}function ea(){const e=b.useContext(F1);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e}class U1 extends Wt.Component{constructor(t){super(t),this.state={hasError:!1,error:null}}static getDerivedStateFromError(t){return{hasError:!0}}componentDidCatch(t,n){console.error("ErrorBoundary caught an error:",t,n),this.setState({error:t})}render(){return this.state.hasError?c.jsxs("div",{style:{padding:"2rem",textAlign:"center",color:"#e0e0e0",minHeight:"100vh",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",backgroundColor:"#0a0e1a"},children:[c.jsx("h1",{style:{fontSize:"2rem",marginBottom:"1rem"},children:"Something went wrong"}),c.jsx("p",{style:{marginBottom:"2rem",color:"#999"},children:"Please refresh the page or try again later."}),c.jsx("button",{onClick:()=>window.location.reload(),style:{padding:"0.75rem 2rem",backgroundColor:"#4da6ff",color:"#fff",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"1rem"},children:"Reload Page"})]}):this.props.children}}const V1=b.createContext({});function aI(e){const t=b.useRef(null);return t.current===null&&(t.current=e()),t.current}const W1=typeof window<"u",oI=W1?b.useLayoutEffect:b.useEffect,cp=b.createContext(null);function up(e,t){e.indexOf(t)===-1&&e.push(t)}function dp(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const lr=(e,t,n)=>n>t?t:n<e?e:n;let hp=()=>{};const Tr={},H1=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function K1(e){return typeof e=="object"&&e!==null}const q1=e=>/^0[^.\s]+$/u.test(e);function fp(e){let t;return()=>(t===void 0&&(t=e()),t)}const jn=e=>e,lI=(e,t)=>n=>t(e(n)),Eo=(...e)=>e.reduce(lI),oo=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r};class mp{constructor(){this.subscriptions=[]}add(t){return up(this.subscriptions,t),()=>dp(this.subscriptions,t)}notify(t,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,n,r);else for(let s=0;s<i;s++){const a=this.subscriptions[s];a&&a(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Pr=e=>e*1e3,_n=e=>e/1e3;function G1(e,t){return t?e*(1e3/t):0}const Z1=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,cI=1e-7,uI=12;function dI(e,t,n,r,i){let s,a,l=0;do a=t+(n-t)/2,s=Z1(a,r,i)-e,s>0?n=a:t=a;while(Math.abs(s)>cI&&++l<uI);return a}function Mo(e,t,n,r){if(e===t&&n===r)return jn;const i=s=>dI(s,0,1,e,n);return s=>s===0||s===1?s:Z1(i(s),t,r)}const Y1=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,X1=e=>t=>1-e(1-t),J1=Mo(.33,1.53,.69,.99),pp=X1(J1),Q1=Y1(pp),eS=e=>(e*=2)<1?.5*pp(e):.5*(2-Math.pow(2,-10*(e-1))),gp=e=>1-Math.sin(Math.acos(e)),tS=X1(gp),nS=Y1(gp),hI=Mo(.42,0,1,1),fI=Mo(0,0,.58,1),rS=Mo(.42,0,.58,1),mI=e=>Array.isArray(e)&&typeof e[0]!="number",iS=e=>Array.isArray(e)&&typeof e[0]=="number",pI={linear:jn,easeIn:hI,easeInOut:rS,easeOut:fI,circIn:gp,circInOut:nS,circOut:tS,backIn:pp,backInOut:Q1,backOut:J1,anticipate:eS},gI=e=>typeof e=="string",m0=e=>{if(iS(e)){hp(e.length===4);const[t,n,r,i]=e;return Mo(t,n,r,i)}else if(gI(e))return pI[e];return e},Al=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function vI(e,t){let n=new Set,r=new Set,i=!1,s=!1;const a=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1};function u(f){a.has(f)&&(h.schedule(f),e()),f(l)}const h={schedule:(f,m=!1,g=!1)=>{const y=g&&i?n:r;return m&&a.add(f),y.has(f)||y.add(f),f},cancel:f=>{r.delete(f),a.delete(f)},process:f=>{if(l=f,i){s=!0;return}i=!0,[n,r]=[r,n],n.forEach(u),n.clear(),i=!1,s&&(s=!1,h.process(f))}};return h}const yI=40;function sS(e,t){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,a=Al.reduce((P,C)=>(P[C]=vI(s),P),{}),{setup:l,read:u,resolveKeyframes:h,preUpdate:f,update:m,preRender:g,render:v,postRender:y}=a,w=()=>{const P=Tr.useManualTiming?i.timestamp:performance.now();n=!1,Tr.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(P-i.timestamp,yI),1)),i.timestamp=P,i.isProcessing=!0,l.process(i),u.process(i),h.process(i),f.process(i),m.process(i),g.process(i),v.process(i),y.process(i),i.isProcessing=!1,n&&t&&(r=!1,e(w))},_=()=>{n=!0,r=!0,i.isProcessing||e(w)};return{schedule:Al.reduce((P,C)=>{const N=a[C];return P[C]=(T,M=!1,E=!1)=>(n||_(),N.schedule(T,M,E)),P},{}),cancel:P=>{for(let C=0;C<Al.length;C++)a[Al[C]].cancel(P)},state:i,steps:a}}const{schedule:We,cancel:ai,state:Dt,steps:Th}=sS(typeof requestAnimationFrame<"u"?requestAnimationFrame:jn,!0);let nc;function xI(){nc=void 0}const Gt={now:()=>(nc===void 0&&Gt.set(Dt.isProcessing||Tr.useManualTiming?Dt.timestamp:performance.now()),nc),set:e=>{nc=e,queueMicrotask(xI)}},aS=e=>t=>typeof t=="string"&&t.startsWith(e),oS=aS("--"),bI=aS("var(--"),vp=e=>bI(e)?wI.test(e.split("/*")[0].trim()):!1,wI=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function p0(e){return typeof e!="string"?!1:e.split("/*")[0].includes("var(--")}const ta={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},lo={...ta,transform:e=>lr(0,1,e)},Cl={...ta,default:1},Ya=e=>Math.round(e*1e5)/1e5,yp=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function _I(e){return e==null}const SI=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,xp=(e,t)=>n=>!!(typeof n=="string"&&SI.test(n)&&n.startsWith(e)||t&&!_I(n)&&Object.prototype.hasOwnProperty.call(n,t)),lS=(e,t,n)=>r=>{if(typeof r!="string")return r;const[i,s,a,l]=r.match(yp);return{[e]:parseFloat(i),[t]:parseFloat(s),[n]:parseFloat(a),alpha:l!==void 0?parseFloat(l):1}},jI=e=>lr(0,255,e),Nh={...ta,transform:e=>Math.round(jI(e))},Di={test:xp("rgb","red"),parse:lS("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+Nh.transform(e)+", "+Nh.transform(t)+", "+Nh.transform(n)+", "+Ya(lo.transform(r))+")"};function PI(e){let t="",n="",r="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const Lf={test:xp("#"),parse:PI,transform:Di.transform},Io=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Yr=Io("deg"),sr=Io("%"),re=Io("px"),kI=Io("vh"),AI=Io("vw"),g0={...sr,parse:e=>sr.parse(e)/100,transform:e=>sr.transform(e*100)},Es={test:xp("hsl","hue"),parse:lS("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+sr.transform(Ya(t))+", "+sr.transform(Ya(n))+", "+Ya(lo.transform(r))+")"},at={test:e=>Di.test(e)||Lf.test(e)||Es.test(e),parse:e=>Di.test(e)?Di.parse(e):Es.test(e)?Es.parse(e):Lf.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Di.transform(e):Es.transform(e),getAnimatableNone:e=>{const t=at.parse(e);return t.alpha=0,at.transform(t)}},CI=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function TI(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(yp))==null?void 0:t.length)||0)+(((n=e.match(CI))==null?void 0:n.length)||0)>0}const cS="number",uS="color",NI="var",OI="var(",v0="${}",EI=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function co(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const l=t.replace(EI,u=>(at.test(u)?(r.color.push(s),i.push(uS),n.push(at.parse(u))):u.startsWith(OI)?(r.var.push(s),i.push(NI),n.push(u)):(r.number.push(s),i.push(cS),n.push(parseFloat(u))),++s,v0)).split(v0);return{values:n,split:l,indexes:r,types:i}}function dS(e){return co(e).values}function hS(e){const{split:t,types:n}=co(e),r=t.length;return i=>{let s="";for(let a=0;a<r;a++)if(s+=t[a],i[a]!==void 0){const l=n[a];l===cS?s+=Ya(i[a]):l===uS?s+=at.transform(i[a]):s+=i[a]}return s}}const MI=e=>typeof e=="number"?0:at.test(e)?at.getAnimatableNone(e):e;function II(e){const t=dS(e);return hS(e)(t.map(MI))}const oi={test:TI,parse:dS,createTransformer:hS,getAnimatableNone:II};function Oh(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function LI({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let i=0,s=0,a=0;if(!t)i=s=a=n;else{const l=n<.5?n*(1+t):n+t-n*t,u=2*n-l;i=Oh(u,l,e+1/3),s=Oh(u,l,e),a=Oh(u,l,e-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(a*255),alpha:r}}function gc(e,t){return n=>n>0?t:e}const Ge=(e,t,n)=>e+(t-e)*n,Eh=(e,t,n)=>{const r=e*e,i=n*(t*t-r)+r;return i<0?0:Math.sqrt(i)},DI=[Lf,Di,Es],RI=e=>DI.find(t=>t.test(e));function y0(e){const t=RI(e);if(!t)return!1;let n=t.parse(e);return t===Es&&(n=LI(n)),n}const x0=(e,t)=>{const n=y0(e),r=y0(t);if(!n||!r)return gc(e,t);const i={...n};return s=>(i.red=Eh(n.red,r.red,s),i.green=Eh(n.green,r.green,s),i.blue=Eh(n.blue,r.blue,s),i.alpha=Ge(n.alpha,r.alpha,s),Di.transform(i))},Df=new Set(["none","hidden"]);function $I(e,t){return Df.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function zI(e,t){return n=>Ge(e,t,n)}function bp(e){return typeof e=="number"?zI:typeof e=="string"?vp(e)?gc:at.test(e)?x0:UI:Array.isArray(e)?fS:typeof e=="object"?at.test(e)?x0:BI:gc}function fS(e,t){const n=[...e],r=n.length,i=e.map((s,a)=>bp(s)(s,t[a]));return s=>{for(let a=0;a<r;a++)n[a]=i[a](s);return n}}function BI(e,t){const n={...e,...t},r={};for(const i in n)e[i]!==void 0&&t[i]!==void 0&&(r[i]=bp(e[i])(e[i],t[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}}function FI(e,t){const n=[],r={color:0,var:0,number:0};for(let i=0;i<t.values.length;i++){const s=t.types[i],a=e.indexes[s][r[s]],l=e.values[a]??0;n[i]=l,r[s]++}return n}const UI=(e,t)=>{const n=oi.createTransformer(t),r=co(e),i=co(t);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?Df.has(e)&&!i.values.length||Df.has(t)&&!r.values.length?$I(e,t):Eo(fS(FI(r,i),i.values),n):gc(e,t)};function mS(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?Ge(e,t,n):bp(e)(e,t)}const VI=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>We.update(t,n),stop:()=>ai(t),now:()=>Dt.isProcessing?Dt.timestamp:Gt.now()}},pS=(e,t,n=10)=>{let r="";const i=Math.max(Math.round(t/n),2);for(let s=0;s<i;s++)r+=Math.round(e(s/(i-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},vc=2e4;function wp(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<vc;)t+=n,r=e.next(t);return t>=vc?1/0:t}function WI(e,t=100,n){const r=n({...e,keyframes:[0,t]}),i=Math.min(wp(r),vc);return{type:"keyframes",ease:s=>r.next(i*s).value/t,duration:_n(i)}}const HI=5;function gS(e,t,n){const r=Math.max(t-HI,0);return G1(n-e(r),t-r)}const Je={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Mh=.001;function KI({duration:e=Je.duration,bounce:t=Je.bounce,velocity:n=Je.velocity,mass:r=Je.mass}){let i,s,a=1-t;a=lr(Je.minDamping,Je.maxDamping,a),e=lr(Je.minDuration,Je.maxDuration,_n(e)),a<1?(i=h=>{const f=h*a,m=f*e,g=f-n,v=Rf(h,a),y=Math.exp(-m);return Mh-g/v*y},s=h=>{const m=h*a*e,g=m*n+n,v=Math.pow(a,2)*Math.pow(h,2)*e,y=Math.exp(-m),w=Rf(Math.pow(h,2),a);return(-i(h)+Mh>0?-1:1)*((g-v)*y)/w}):(i=h=>{const f=Math.exp(-h*e),m=(h-n)*e+1;return-Mh+f*m},s=h=>{const f=Math.exp(-h*e),m=(n-h)*(e*e);return f*m});const l=5/e,u=GI(i,s,l);if(e=Pr(e),isNaN(u))return{stiffness:Je.stiffness,damping:Je.damping,duration:e};{const h=Math.pow(u,2)*r;return{stiffness:h,damping:a*2*Math.sqrt(r*h),duration:e}}}const qI=12;function GI(e,t,n){let r=n;for(let i=1;i<qI;i++)r=r-e(r)/t(r);return r}function Rf(e,t){return e*Math.sqrt(1-t*t)}const ZI=["duration","bounce"],YI=["stiffness","damping","mass"];function b0(e,t){return t.some(n=>e[n]!==void 0)}function XI(e){let t={velocity:Je.velocity,stiffness:Je.stiffness,damping:Je.damping,mass:Je.mass,isResolvedFromDuration:!1,...e};if(!b0(e,YI)&&b0(e,ZI))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,s=2*lr(.05,1,1-(e.bounce||0))*Math.sqrt(i);t={...t,mass:Je.mass,stiffness:i,damping:s}}else{const n=KI(e);t={...t,...n,mass:Je.mass},t.isResolvedFromDuration=!0}return t}function yc(e=Je.visualDuration,t=Je.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:i}=n;const s=n.keyframes[0],a=n.keyframes[n.keyframes.length-1],l={done:!1,value:s},{stiffness:u,damping:h,mass:f,duration:m,velocity:g,isResolvedFromDuration:v}=XI({...n,velocity:-_n(n.velocity||0)}),y=g||0,w=h/(2*Math.sqrt(u*f)),_=a-s,j=_n(Math.sqrt(u/f)),k=Math.abs(_)<5;r||(r=k?Je.restSpeed.granular:Je.restSpeed.default),i||(i=k?Je.restDelta.granular:Je.restDelta.default);let P;if(w<1){const N=Rf(j,w);P=T=>{const M=Math.exp(-w*j*T);return a-M*((y+w*j*_)/N*Math.sin(N*T)+_*Math.cos(N*T))}}else if(w===1)P=N=>a-Math.exp(-j*N)*(_+(y+j*_)*N);else{const N=j*Math.sqrt(w*w-1);P=T=>{const M=Math.exp(-w*j*T),E=Math.min(N*T,300);return a-M*((y+w*j*_)*Math.sinh(E)+N*_*Math.cosh(E))/N}}const C={calculatedDuration:v&&m||null,next:N=>{const T=P(N);if(v)l.done=N>=m;else{let M=N===0?y:0;w<1&&(M=N===0?Pr(y):gS(P,N,T));const E=Math.abs(M)<=r,$=Math.abs(a-T)<=i;l.done=E&&$}return l.value=l.done?a:T,l},toString:()=>{const N=Math.min(wp(C),vc),T=pS(M=>C.next(N*M).value,N,30);return N+"ms "+T},toTransition:()=>{}};return C}yc.applyToOptions=e=>{const t=WI(e,100,yc);return e.ease=t.ease,e.duration=Pr(t.duration),e.type="keyframes",e};function $f({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:a,min:l,max:u,restDelta:h=.5,restSpeed:f}){const m=e[0],g={done:!1,value:m},v=E=>l!==void 0&&E<l||u!==void 0&&E>u,y=E=>l===void 0?u:u===void 0||Math.abs(l-E)<Math.abs(u-E)?l:u;let w=n*t;const _=m+w,j=a===void 0?_:a(_);j!==_&&(w=j-m);const k=E=>-w*Math.exp(-E/r),P=E=>j+k(E),C=E=>{const $=k(E),q=P(E);g.done=Math.abs($)<=h,g.value=g.done?j:q};let N,T;const M=E=>{v(g.value)&&(N=E,T=yc({keyframes:[g.value,y(g.value)],velocity:gS(P,E,g.value),damping:i,stiffness:s,restDelta:h,restSpeed:f}))};return M(0),{calculatedDuration:null,next:E=>{let $=!1;return!T&&N===void 0&&($=!0,C(E),M(E)),N!==void 0&&E>=N?T.next(E-N):(!$&&C(E),g)}}}function JI(e,t,n){const r=[],i=n||Tr.mix||mS,s=e.length-1;for(let a=0;a<s;a++){let l=i(e[a],e[a+1]);if(t){const u=Array.isArray(t)?t[a]||jn:t;l=Eo(u,l)}r.push(l)}return r}function QI(e,t,{clamp:n=!0,ease:r,mixer:i}={}){const s=e.length;if(hp(s===t.length),s===1)return()=>t[0];if(s===2&&t[0]===t[1])return()=>t[1];const a=e[0]===e[1];e[0]>e[s-1]&&(e=[...e].reverse(),t=[...t].reverse());const l=JI(t,r,i),u=l.length,h=f=>{if(a&&f<e[0])return t[0];let m=0;if(u>1)for(;m<e.length-2&&!(f<e[m+1]);m++);const g=oo(e[m],e[m+1],f);return l[m](g)};return n?f=>h(lr(e[0],e[s-1],f)):h}function eL(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const i=oo(0,t,r);e.push(Ge(n,1,i))}}function tL(e){const t=[0];return eL(t,e.length-1),t}function nL(e,t){return e.map(n=>n*t)}function rL(e,t){return e.map(()=>t||rS).splice(0,e.length-1)}function Xa({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const i=mI(r)?r.map(m0):m0(r),s={done:!1,value:t[0]},a=nL(n&&n.length===t.length?n:tL(t),e),l=QI(a,t,{ease:Array.isArray(i)?i:rL(t,i)});return{calculatedDuration:e,next:u=>(s.value=l(u),s.done=u>=e,s)}}const iL=e=>e!==null;function _p(e,{repeat:t,repeatType:n="loop"},r,i=1){const s=e.filter(iL),l=i<0||t&&n!=="loop"&&t%2===1?0:s.length-1;return!l||r===void 0?s[l]:r}const sL={decay:$f,inertia:$f,tween:Xa,keyframes:Xa,spring:yc};function vS(e){typeof e.type=="string"&&(e.type=sL[e.type])}class Sp{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const aL=e=>e/100;class jp extends Sp{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,i;const{motionValue:n}=this.options;n&&n.updatedAt!==Gt.now()&&this.tick(Gt.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(i=(r=this.options).onStop)==null||i.call(r))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;vS(t);const{type:n=Xa,repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:a=0}=t;let{keyframes:l}=t;const u=n||Xa;u!==Xa&&typeof l[0]!="number"&&(this.mixKeyframes=Eo(aL,mS(l[0],l[1])),l=[0,100]);const h=u({...t,keyframes:l});s==="mirror"&&(this.mirroredGenerator=u({...t,keyframes:[...l].reverse(),velocity:-a})),h.calculatedDuration===null&&(h.calculatedDuration=wp(h));const{calculatedDuration:f}=h;this.calculatedDuration=f,this.resolvedDuration=f+i,this.totalDuration=this.resolvedDuration*(r+1)-i,this.generator=h}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:r,totalDuration:i,mixKeyframes:s,mirroredGenerator:a,resolvedDuration:l,calculatedDuration:u}=this;if(this.startTime===null)return r.next(0);const{delay:h=0,keyframes:f,repeat:m,repeatType:g,repeatDelay:v,type:y,onUpdate:w,finalKeyframe:_}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-i/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const j=this.currentTime-h*(this.playbackSpeed>=0?1:-1),k=this.playbackSpeed>=0?j<0:j>i;this.currentTime=Math.max(j,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let P=this.currentTime,C=r;if(m){const E=Math.min(this.currentTime,i)/l;let $=Math.floor(E),q=E%1;!q&&E>=1&&(q=1),q===1&&$--,$=Math.min($,m+1),!!($%2)&&(g==="reverse"?(q=1-q,v&&(q-=v/l)):g==="mirror"&&(C=a)),P=lr(0,1,q)*l}const N=k?{done:!1,value:f[0]}:C.next(P);s&&(N.value=s(N.value));let{done:T}=N;!k&&u!==null&&(T=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const M=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&T);return M&&y!==$f&&(N.value=_p(f,this.options,_,this.speed)),w&&w(N.value),M&&this.finish(),N}then(t,n){return this.finished.then(t,n)}get duration(){return _n(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+_n(t)}get time(){return _n(this.currentTime)}set time(t){var n;t=Pr(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Gt.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=_n(this.currentTime))}play(){var i,s;if(this.isStopped)return;const{driver:t=VI,startTime:n}=this.options;this.driver||(this.driver=t(a=>this.tick(a))),(s=(i=this.options).onPlay)==null||s.call(i);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Gt.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(t=this.options).onComplete)==null||n.call(t)}cancel(){var t,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(t=this.options).onCancel)==null||n.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),t.observe(this)}}function oL(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const Ri=e=>e*180/Math.PI,zf=e=>{const t=Ri(Math.atan2(e[1],e[0]));return Bf(t)},lL={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:zf,rotateZ:zf,skewX:e=>Ri(Math.atan(e[1])),skewY:e=>Ri(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},Bf=e=>(e=e%360,e<0&&(e+=360),e),w0=zf,_0=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),S0=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),cL={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:_0,scaleY:S0,scale:e=>(_0(e)+S0(e))/2,rotateX:e=>Bf(Ri(Math.atan2(e[6],e[5]))),rotateY:e=>Bf(Ri(Math.atan2(-e[2],e[0]))),rotateZ:w0,rotate:w0,skewX:e=>Ri(Math.atan(e[4])),skewY:e=>Ri(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function Ff(e){return e.includes("scale")?1:0}function Uf(e,t){if(!e||e==="none")return Ff(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(n)r=cL,i=n;else{const l=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=lL,i=l}if(!i)return Ff(t);const s=r[t],a=i[1].split(",").map(dL);return typeof s=="function"?s(a):a[s]}const uL=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return Uf(n,t)};function dL(e){return parseFloat(e.trim())}const na=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ra=new Set(na),j0=e=>e===ta||e===re,hL=new Set(["x","y","z"]),fL=na.filter(e=>!hL.has(e));function mL(e){const t=[];return fL.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const ni={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>Uf(t,"x"),y:(e,{transform:t})=>Uf(t,"y")};ni.translateX=ni.x;ni.translateY=ni.y;const Ui=new Set;let Vf=!1,Wf=!1,Hf=!1;function yS(){if(Wf){const e=Array.from(Ui).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const i=mL(r);i.length&&(n.set(r,i),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([s,a])=>{var l;(l=r.getValue(s))==null||l.set(a)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Wf=!1,Vf=!1,Ui.forEach(e=>e.complete(Hf)),Ui.clear()}function xS(){Ui.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Wf=!0)})}function pL(){Hf=!0,xS(),yS(),Hf=!1}class Pp{constructor(t,n,r,i,s,a=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=i,this.element=s,this.isAsync=a}scheduleResolve(){this.state="scheduled",this.isAsync?(Ui.add(this),Vf||(Vf=!0,We.read(xS),We.resolveKeyframes(yS))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:i}=this;if(t[0]===null){const s=i==null?void 0:i.get(),a=t[t.length-1];if(s!==void 0)t[0]=s;else if(r&&n){const l=r.readValue(n,a);l!=null&&(t[0]=l)}t[0]===void 0&&(t[0]=a),i&&s===void 0&&i.set(t[0])}oL(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Ui.delete(this)}cancel(){this.state==="scheduled"&&(Ui.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const gL=e=>e.startsWith("--");function vL(e,t,n){gL(t)?e.style.setProperty(t,n):e.style[t]=n}const yL=fp(()=>window.ScrollTimeline!==void 0),xL={};function bL(e,t){const n=fp(e);return()=>xL[t]??n()}const bS=bL(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Va=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,P0={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Va([0,.65,.55,1]),circOut:Va([.55,0,1,.45]),backIn:Va([.31,.01,.66,-.59]),backOut:Va([.33,1.53,.69,.99])};function wS(e,t){if(e)return typeof e=="function"?bS()?pS(e,t):"ease-out":iS(e)?Va(e):Array.isArray(e)?e.map(n=>wS(n,t)||P0.easeOut):P0[e]}function wL(e,t,n,{delay:r=0,duration:i=300,repeat:s=0,repeatType:a="loop",ease:l="easeOut",times:u}={},h=void 0){const f={[t]:n};u&&(f.offset=u);const m=wS(l,i);Array.isArray(m)&&(f.easing=m);const g={delay:r,duration:i,easing:Array.isArray(m)?"linear":m,fill:"both",iterations:s+1,direction:a==="reverse"?"alternate":"normal"};return h&&(g.pseudoElement=h),e.animate(f,g)}function _S(e){return typeof e=="function"&&"applyToOptions"in e}function _L({type:e,...t}){return _S(e)&&bS()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class SL extends Sp{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!t)return;const{element:n,name:r,keyframes:i,pseudoElement:s,allowFlatten:a=!1,finalKeyframe:l,onComplete:u}=t;this.isPseudoElement=!!s,this.allowFlatten=a,this.options=t,hp(typeof t.type!="string");const h=_L(t);this.animation=wL(n,r,i,h,s),h.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!s){const f=_p(i,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(f):vL(n,r,f),this.animation.cancel()}u==null||u(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,n;(n=(t=this.animation).finish)==null||n.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,n;this.isPseudoElement||(n=(t=this.animation).commitStyles)==null||n.call(t)}get duration(){var n,r;const t=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return _n(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+_n(t)}get time(){return _n(Number(this.animation.currentTime)||0)}set time(t){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=Pr(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(t){this.manualStartTime=this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&yL()?(this.animation.timeline=t,jn):n(this)}}const SS={anticipate:eS,backInOut:Q1,circInOut:nS};function jL(e){return e in SS}function PL(e){typeof e.ease=="string"&&jL(e.ease)&&(e.ease=SS[e.ease])}const Ih=10;class kL extends SL{constructor(t){PL(t),vS(t),super(t),t.startTime!==void 0&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:r,onComplete:i,element:s,...a}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const l=new jp({...a,autoplay:!1}),u=Math.max(Ih,Gt.now()-this.startTime),h=lr(0,Ih,u-Ih);n.setWithVelocity(l.sample(Math.max(0,u-h)).value,l.sample(u).value,h),l.stop()}}const k0=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(oi.test(e)||e==="0")&&!e.startsWith("url("));function AL(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function CL(e,t,n,r){const i=e[0];if(i===null)return!1;if(t==="display"||t==="visibility")return!0;const s=e[e.length-1],a=k0(i,t),l=k0(s,t);return!a||!l?!1:AL(e)||(n==="spring"||_S(n))&&r}function Kf(e){e.duration=0,e.type="keyframes"}const TL=new Set(["opacity","clipPath","filter","transform"]),NL=fp(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function OL(e){var f;const{motionValue:t,name:n,repeatDelay:r,repeatType:i,damping:s,type:a}=e;if(!(((f=t==null?void 0:t.owner)==null?void 0:f.current)instanceof HTMLElement))return!1;const{onUpdate:u,transformTemplate:h}=t.owner.getProps();return NL()&&n&&TL.has(n)&&(n!=="transform"||!h)&&!u&&!r&&i!=="mirror"&&s!==0&&a!=="inertia"}const EL=40;class ML extends Sp{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:a="loop",keyframes:l,name:u,motionValue:h,element:f,...m}){var y;super(),this.stop=()=>{var w,_;this._animation&&(this._animation.stop(),(w=this.stopTimeline)==null||w.call(this)),(_=this.keyframeResolver)==null||_.cancel()},this.createdAt=Gt.now();const g={autoplay:t,delay:n,type:r,repeat:i,repeatDelay:s,repeatType:a,name:u,motionValue:h,element:f,...m},v=(f==null?void 0:f.KeyframeResolver)||Pp;this.keyframeResolver=new v(l,(w,_,j)=>this.onKeyframesResolved(w,_,g,!j),u,h,f),(y=this.keyframeResolver)==null||y.scheduleResolve()}onKeyframesResolved(t,n,r,i){var _,j;this.keyframeResolver=void 0;const{name:s,type:a,velocity:l,delay:u,isHandoff:h,onUpdate:f}=r;this.resolvedAt=Gt.now(),CL(t,s,a,l)||((Tr.instantAnimations||!u)&&(f==null||f(_p(t,r,n))),t[0]=t[t.length-1],Kf(r),r.repeat=0);const g={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>EL?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:t},v=!h&&OL(g),y=(j=(_=g.motionValue)==null?void 0:_.owner)==null?void 0:j.current,w=v?new kL({...g,element:y}):new jp(g);w.finished.then(()=>{this.notifyFinished()}).catch(jn),this.pendingTimeline&&(this.stopTimeline=w.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=w}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),pL()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}function jS(e,t,n,r=0,i=1){const s=Array.from(e).sort((h,f)=>h.sortNodePosition(f)).indexOf(t),a=e.size,l=(a-1)*r;return typeof n=="function"?n(s,a):i===1?s*r:l-s*r}const IL=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function LL(e){const t=IL.exec(e);if(!t)return[,];const[,n,r,i]=t;return[`--${n??r}`,i]}function PS(e,t,n=1){const[r,i]=LL(e);if(!r)return;const s=window.getComputedStyle(t).getPropertyValue(r);if(s){const a=s.trim();return H1(a)?parseFloat(a):a}return vp(i)?PS(i,t,n+1):i}const DL={type:"spring",stiffness:500,damping:25,restSpeed:10},RL=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),$L={type:"keyframes",duration:.8},zL={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},BL=(e,{keyframes:t})=>t.length>2?$L:ra.has(e)?e.startsWith("scale")?RL(t[1]):DL:zL,FL=e=>e!==null;function UL(e,{repeat:t,repeatType:n="loop"},r){const i=e.filter(FL),s=t&&n!=="loop"&&t%2===1?0:i.length-1;return i[s]}function kp(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}function VL({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:a,repeatDelay:l,from:u,elapsed:h,...f}){return!!Object.keys(f).length}const Ap=(e,t,n,r={},i,s)=>a=>{const l=kp(r,e)||{},u=l.delay||r.delay||0;let{elapsed:h=0}=r;h=h-Pr(u);const f={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...l,delay:-h,onUpdate:g=>{t.set(g),l.onUpdate&&l.onUpdate(g)},onComplete:()=>{a(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:s?void 0:i};VL(l)||Object.assign(f,BL(e,f)),f.duration&&(f.duration=Pr(f.duration)),f.repeatDelay&&(f.repeatDelay=Pr(f.repeatDelay)),f.from!==void 0&&(f.keyframes[0]=f.from);let m=!1;if((f.type===!1||f.duration===0&&!f.repeatDelay)&&(Kf(f),f.delay===0&&(m=!0)),(Tr.instantAnimations||Tr.skipAnimations)&&(m=!0,Kf(f),f.delay=0),f.allowFlatten=!l.type&&!l.ease,m&&!s&&t.get()!==void 0){const g=UL(f.keyframes,l);if(g!==void 0){We.update(()=>{f.onUpdate(g),f.onComplete()});return}}return l.isSync?new jp(f):new ML(f)};function A0(e){const t=[{},{}];return e==null||e.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function Cp(e,t,n,r){if(typeof t=="function"){const[i,s]=A0(r);t=t(n!==void 0?n:e.custom,i,s)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[i,s]=A0(r);t=t(n!==void 0?n:e.custom,i,s)}return t}function zs(e,t,n){const r=e.getProps();return Cp(r,t,n!==void 0?n:r.custom,e)}const kS=new Set(["width","height","top","left","right","bottom",...na]),C0=30,WL=e=>!isNaN(parseFloat(e));class HL{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var s;const i=Gt.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((s=this.events.change)==null||s.notify(this.current),this.dependents))for(const a of this.dependents)a.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=Gt.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=WL(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new mp);const r=this.events[t].add(n);return t==="change"?()=>{r(),We.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Gt.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>C0)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,C0);return G1(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,n;(t=this.dependents)==null||t.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Us(e,t){return new HL(e,t)}const qf=e=>Array.isArray(e);function KL(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Us(n))}function qL(e){return qf(e)?e[e.length-1]||0:e}function GL(e,t){const n=zs(e,t);let{transitionEnd:r={},transition:i={},...s}=n||{};s={...s,...r};for(const a in s){const l=qL(s[a]);KL(e,a,l)}}const Vt=e=>!!(e&&e.getVelocity);function ZL(e){return!!(Vt(e)&&e.add)}function Gf(e,t){const n=e.getValue("willChange");if(ZL(n))return n.add(t);if(!n&&Tr.WillChange){const r=new Tr.WillChange("auto");e.addValue("willChange",r),r.add(t)}}function Tp(e){return e.replace(/([A-Z])/g,t=>`-${t.toLowerCase()}`)}const YL="framerAppearId",AS="data-"+Tp(YL);function CS(e){return e.props[AS]}function XL({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function TS(e,t,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:s=e.getDefaultTransition(),transitionEnd:a,...l}=t;const u=s==null?void 0:s.reduceMotion;r&&(s=r);const h=[],f=i&&e.animationState&&e.animationState.getState()[i];for(const m in l){const g=e.getValue(m,e.latestValues[m]??null),v=l[m];if(v===void 0||f&&XL(f,m))continue;const y={delay:n,...kp(s||{},m)},w=g.get();if(w!==void 0&&!g.isAnimating&&!Array.isArray(v)&&v===w&&!y.velocity)continue;let _=!1;if(window.MotionHandoffAnimation){const P=CS(e);if(P){const C=window.MotionHandoffAnimation(P,m,We);C!==null&&(y.startTime=C,_=!0)}}Gf(e,m);const j=u??e.shouldReduceMotion;g.start(Ap(m,g,v,j&&kS.has(m)?{type:!1}:y,e,_));const k=g.animation;k&&h.push(k)}return a&&Promise.all(h).then(()=>{We.update(()=>{a&&GL(e,a)})}),h}function Zf(e,t,n={}){var u;const r=zs(e,t,n.type==="exit"?(u=e.presenceContext)==null?void 0:u.custom:void 0);let{transition:i=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const s=r?()=>Promise.all(TS(e,r,n)):()=>Promise.resolve(),a=e.variantChildren&&e.variantChildren.size?(h=0)=>{const{delayChildren:f=0,staggerChildren:m,staggerDirection:g}=i;return JL(e,t,h,f,m,g,n)}:()=>Promise.resolve(),{when:l}=i;if(l){const[h,f]=l==="beforeChildren"?[s,a]:[a,s];return h().then(()=>f())}else return Promise.all([s(),a(n.delay)])}function JL(e,t,n=0,r=0,i=0,s=1,a){const l=[];for(const u of e.variantChildren)u.notify("AnimationStart",t),l.push(Zf(u,t,{...a,delay:n+(typeof r=="function"?0:r)+jS(e.variantChildren,u,r,i,s)}).then(()=>u.notify("AnimationComplete",t)));return Promise.all(l)}function QL(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const i=t.map(s=>Zf(e,s,n));r=Promise.all(i)}else if(typeof t=="string")r=Zf(e,t,n);else{const i=typeof t=="function"?zs(e,t,n.custom):t;r=Promise.all(TS(e,i,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}const eD={test:e=>e==="auto",parse:e=>e},NS=e=>t=>t.test(e),OS=[ta,re,sr,Yr,AI,kI,eD],T0=e=>OS.find(NS(e));function tD(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||q1(e):!0}const nD=new Set(["brightness","contrast","saturate","opacity"]);function rD(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(yp)||[];if(!r)return e;const i=n.replace(r,"");let s=nD.has(t)?1:0;return r!==n&&(s*=100),t+"("+s+i+")"}const iD=/\b([a-z-]*)\(.*?\)/gu,Yf={...oi,getAnimatableNone:e=>{const t=e.match(iD);return t?t.map(rD).join(" "):e}},N0={...ta,transform:Math.round},sD={rotate:Yr,rotateX:Yr,rotateY:Yr,rotateZ:Yr,scale:Cl,scaleX:Cl,scaleY:Cl,scaleZ:Cl,skew:Yr,skewX:Yr,skewY:Yr,distance:re,translateX:re,translateY:re,translateZ:re,x:re,y:re,z:re,perspective:re,transformPerspective:re,opacity:lo,originX:g0,originY:g0,originZ:re},Np={borderWidth:re,borderTopWidth:re,borderRightWidth:re,borderBottomWidth:re,borderLeftWidth:re,borderRadius:re,borderTopLeftRadius:re,borderTopRightRadius:re,borderBottomRightRadius:re,borderBottomLeftRadius:re,width:re,maxWidth:re,height:re,maxHeight:re,top:re,right:re,bottom:re,left:re,inset:re,insetBlock:re,insetBlockStart:re,insetBlockEnd:re,insetInline:re,insetInlineStart:re,insetInlineEnd:re,padding:re,paddingTop:re,paddingRight:re,paddingBottom:re,paddingLeft:re,paddingBlock:re,paddingBlockStart:re,paddingBlockEnd:re,paddingInline:re,paddingInlineStart:re,paddingInlineEnd:re,margin:re,marginTop:re,marginRight:re,marginBottom:re,marginLeft:re,marginBlock:re,marginBlockStart:re,marginBlockEnd:re,marginInline:re,marginInlineStart:re,marginInlineEnd:re,fontSize:re,backgroundPositionX:re,backgroundPositionY:re,...sD,zIndex:N0,fillOpacity:lo,strokeOpacity:lo,numOctaves:N0},aD={...Np,color:at,backgroundColor:at,outlineColor:at,fill:at,stroke:at,borderColor:at,borderTopColor:at,borderRightColor:at,borderBottomColor:at,borderLeftColor:at,filter:Yf,WebkitFilter:Yf},ES=e=>aD[e];function MS(e,t){let n=ES(e);return n!==Yf&&(n=oi),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const oD=new Set(["auto","none","0"]);function lD(e,t,n){let r=0,i;for(;r<e.length&&!i;){const s=e[r];typeof s=="string"&&!oD.has(s)&&co(s).values.length&&(i=e[r]),r++}if(i&&n)for(const s of t)e[s]=MS(n,i)}class cD extends Pp{constructor(t,n,r,i,s){super(t,n,r,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let f=0;f<t.length;f++){let m=t[f];if(typeof m=="string"&&(m=m.trim(),vp(m))){const g=PS(m,n.current);g!==void 0&&(t[f]=g),f===t.length-1&&(this.finalKeyframe=m)}}if(this.resolveNoneKeyframes(),!kS.has(r)||t.length!==2)return;const[i,s]=t,a=T0(i),l=T0(s),u=p0(i),h=p0(s);if(u!==h&&ni[r]){this.needsMeasurement=!0;return}if(a!==l)if(j0(a)&&j0(l))for(let f=0;f<t.length;f++){const m=t[f];typeof m=="string"&&(t[f]=parseFloat(m))}else ni[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let i=0;i<t.length;i++)(t[i]===null||tD(t[i]))&&r.push(i);r.length&&lD(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ni[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&t.getValue(r,i).jump(i,!1)}measureEndState(){var l;const{element:t,name:n,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const i=t.getValue(n);i&&i.jump(this.measuredOrigin,!1);const s=r.length-1,a=r[s];r[s]=ni[n](t.measureViewportBox(),window.getComputedStyle(t.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),(l=this.removedTransforms)!=null&&l.length&&this.removedTransforms.forEach(([u,h])=>{t.getValue(u).set(h)}),this.resolveNoneKeyframes()}}function uD(e,t,n){if(e==null)return[];if(e instanceof EventTarget)return[e];if(typeof e=="string"){let r=document;const i=(n==null?void 0:n[e])??r.querySelectorAll(e);return i?Array.from(i):[]}return Array.from(e).filter(r=>r!=null)}const IS=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function dD(e){return K1(e)&&"offsetHeight"in e}const{schedule:Op}=sS(queueMicrotask,!1),Rn={x:!1,y:!1};function LS(){return Rn.x||Rn.y}function hD(e){return e==="x"||e==="y"?Rn[e]?null:(Rn[e]=!0,()=>{Rn[e]=!1}):Rn.x||Rn.y?null:(Rn.x=Rn.y=!0,()=>{Rn.x=Rn.y=!1})}function DS(e,t){const n=uD(e),r=new AbortController,i={passive:!0,...t,signal:r.signal};return[n,i,()=>r.abort()]}function O0(e){return!(e.pointerType==="touch"||LS())}function fD(e,t,n={}){const[r,i,s]=DS(e,n),a=l=>{if(!O0(l))return;const{target:u}=l,h=t(u,l);if(typeof h!="function"||!u)return;const f=m=>{O0(m)&&(h(m),u.removeEventListener("pointerleave",f))};u.addEventListener("pointerleave",f,i)};return r.forEach(l=>{l.addEventListener("pointerenter",a,i)}),s}const RS=(e,t)=>t?e===t?!0:RS(e,t.parentElement):!1,Ep=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,mD=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function $S(e){return mD.has(e.tagName)||e.isContentEditable===!0}const rc=new WeakSet;function E0(e){return t=>{t.key==="Enter"&&e(t)}}function Lh(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const pD=(e,t)=>{const n=e.currentTarget;if(!n)return;const r=E0(()=>{if(rc.has(n))return;Lh(n,"down");const i=E0(()=>{Lh(n,"up")}),s=()=>Lh(n,"cancel");n.addEventListener("keyup",i,t),n.addEventListener("blur",s,t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)};function M0(e){return Ep(e)&&!LS()}function gD(e,t,n={}){const[r,i,s]=DS(e,n),a=l=>{const u=l.currentTarget;if(!M0(l))return;rc.add(u);const h=t(u,l),f=(v,y)=>{window.removeEventListener("pointerup",m),window.removeEventListener("pointercancel",g),rc.has(u)&&rc.delete(u),M0(v)&&typeof h=="function"&&h(v,{success:y})},m=v=>{f(v,u===window||u===document||n.useGlobalTarget||RS(u,v.target))},g=v=>{f(v,!1)};window.addEventListener("pointerup",m,i),window.addEventListener("pointercancel",g,i)};return r.forEach(l=>{(n.useGlobalTarget?window:l).addEventListener("pointerdown",a,i),dD(l)&&(l.addEventListener("focus",h=>pD(h,i)),!$S(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),s}function zS(e){return K1(e)&&"ownerSVGElement"in e}function vD(e){return zS(e)&&e.tagName==="svg"}const yD=[...OS,at,oi],xD=e=>yD.find(NS(e)),I0=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ms=()=>({x:I0(),y:I0()}),L0=()=>({min:0,max:0}),ht=()=>({x:L0(),y:L0()}),Xf={current:null},BS={current:!1},bD=typeof window<"u";function wD(){if(BS.current=!0,!!bD)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Xf.current=e.matches;e.addEventListener("change",t),t()}else Xf.current=!1}const _D=new WeakMap;function Nu(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function uo(e){return typeof e=="string"||Array.isArray(e)}const Mp=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Ip=["initial",...Mp];function Ou(e){return Nu(e.animate)||Ip.some(t=>uo(e[t]))}function FS(e){return!!(Ou(e)||e.variants)}function SD(e,t,n){for(const r in t){const i=t[r],s=n[r];if(Vt(i))e.addValue(r,i);else if(Vt(s))e.addValue(r,Us(i,{owner:e}));else if(s!==i)if(e.hasValue(r)){const a=e.getValue(r);a.liveStyle===!0?a.jump(i):a.hasAnimated||a.set(i)}else{const a=e.getStaticValue(r);e.addValue(r,Us(a!==void 0?a:i,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const D0=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let xc={};function US(e){xc=e}function jD(){return xc}class PD{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:a},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Pp,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const g=Gt.now();this.renderScheduledAt<g&&(this.renderScheduledAt=g,We.render(this.render,!1,!0))};const{latestValues:u,renderState:h}=a;this.latestValues=u,this.baseTarget={...u},this.initialValues=n.initial?{...u}:{},this.renderState=h,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=l,this.blockInitialAnimation=!!s,this.isControllingVariants=Ou(n),this.isVariantNode=FS(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:f,...m}=this.scrapeMotionValuesFromProps(n,{},this);for(const g in m){const v=m[g];u[g]!==void 0&&Vt(v)&&v.set(u[g])}}mount(t){var n;this.current=t,_D.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,i)=>this.bindToMotionValue(i,r)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(BS.current||wD(),this.shouldReduceMotion=Xf.current),(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var t;this.projection&&this.projection.unmount(),ai(this.notifyUpdate),ai(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(t=this.parent)==null||t.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const r=this.features[n];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=ra.has(t);r&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",a=>{this.latestValues[t]=a,this.props.onUpdate&&We.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let s;typeof window<"u"&&window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{i(),s&&s(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in xc){const n=xc[t];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[t]&&i&&r(this.props)&&(this.features[t]=new i(this)),this.features[t]){const s=this.features[t];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ht()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<D0.length;r++){const i=D0[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,a=t[s];a&&(this.propEventSubscriptions[i]=this.on(i,a))}this.prevMotionValues=SD(this,this.scrapeMotionValuesFromProps(t,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=Us(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(H1(r)||q1(r))?r=parseFloat(r):!xD(r)&&oi.test(n)&&(r=MS(t,n)),this.setBaseTarget(t,Vt(r)?r.get():r)),Vt(r)?r.get():r}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var s;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const a=Cp(this.props,n,(s=this.presenceContext)==null?void 0:s.custom);a&&(r=a[t])}if(n&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!Vt(i)?i:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new mp),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){Op.render(this.render)}}class VS extends PD{constructor(){super(...arguments),this.KeyframeResolver=cD}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){const r=t.style;return r?r[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Vt(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}class di{constructor(t){this.isMounted=!1,this.node=t}update(){}}function WS({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function kD({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function AD(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Dh(e){return e===void 0||e===1}function Jf({scale:e,scaleX:t,scaleY:n}){return!Dh(e)||!Dh(t)||!Dh(n)}function Ci(e){return Jf(e)||HS(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function HS(e){return R0(e.x)||R0(e.y)}function R0(e){return e&&e!=="0%"}function bc(e,t,n){const r=e-n,i=t*r;return n+i}function $0(e,t,n,r,i){return i!==void 0&&(e=bc(e,i,r)),bc(e,n,r)+t}function Qf(e,t=0,n=1,r,i){e.min=$0(e.min,t,n,r,i),e.max=$0(e.max,t,n,r,i)}function KS(e,{x:t,y:n}){Qf(e.x,t.translate,t.scale,t.originPoint),Qf(e.y,n.translate,n.scale,n.originPoint)}const z0=.999999999999,B0=1.0000000000001;function CD(e,t,n,r=!1){const i=n.length;if(!i)return;t.x=t.y=1;let s,a;for(let l=0;l<i;l++){s=n[l],a=s.projectionDelta;const{visualElement:u}=s.options;u&&u.props.style&&u.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Ls(e,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),a&&(t.x*=a.x.scale,t.y*=a.y.scale,KS(e,a)),r&&Ci(s.latestValues)&&Ls(e,s.latestValues))}t.x<B0&&t.x>z0&&(t.x=1),t.y<B0&&t.y>z0&&(t.y=1)}function Is(e,t){e.min=e.min+t,e.max=e.max+t}function F0(e,t,n,r,i=.5){const s=Ge(e.min,e.max,i);Qf(e,t,n,s,r)}function Ls(e,t){F0(e.x,t.x,t.scaleX,t.scale,t.originX),F0(e.y,t.y,t.scaleY,t.scale,t.originY)}function qS(e,t){return WS(AD(e.getBoundingClientRect(),t))}function TD(e,t,n){const r=qS(e,n),{scroll:i}=t;return i&&(Is(r.x,i.offset.x),Is(r.y,i.offset.y)),r}const ND={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},OD=na.length;function ED(e,t,n){let r="",i=!0;for(let s=0;s<OD;s++){const a=na[s],l=e[a];if(l===void 0)continue;let u=!0;if(typeof l=="number")u=l===(a.startsWith("scale")?1:0);else{const h=parseFloat(l);u=a.startsWith("scale")?h===1:h===0}if(!u||n){const h=IS(l,Np[a]);if(!u){i=!1;const f=ND[a]||a;r+=`${f}(${h}) `}n&&(t[a]=h)}}return r=r.trim(),n?r=n(t,i?"":r):i&&(r="none"),r}function Lp(e,t,n){const{style:r,vars:i,transformOrigin:s}=e;let a=!1,l=!1;for(const u in t){const h=t[u];if(ra.has(u)){a=!0;continue}else if(oS(u)){i[u]=h;continue}else{const f=IS(h,Np[u]);u.startsWith("origin")?(l=!0,s[u]=f):r[u]=f}}if(t.transform||(a||n?r.transform=ED(t,e.transform,n):r.transform&&(r.transform="none")),l){const{originX:u="50%",originY:h="50%",originZ:f=0}=s;r.transformOrigin=`${u} ${h} ${f}`}}function GS(e,{style:t,vars:n},r,i){const s=e.style;let a;for(a in t)s[a]=t[a];i==null||i.applyProjectionStyles(s,r);for(a in n)s.setProperty(a,n[a])}function U0(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Na={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(re.test(e))e=parseFloat(e);else return e;const n=U0(e,t.target.x),r=U0(e,t.target.y);return`${n}% ${r}%`}},MD={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,i=oi.parse(e);if(i.length>5)return r;const s=oi.createTransformer(e),a=typeof i[0]!="number"?1:0,l=n.x.scale*t.x,u=n.y.scale*t.y;i[0+a]/=l,i[1+a]/=u;const h=Ge(l,u,.5);return typeof i[2+a]=="number"&&(i[2+a]/=h),typeof i[3+a]=="number"&&(i[3+a]/=h),s(i)}},em={borderRadius:{...Na,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Na,borderTopRightRadius:Na,borderBottomLeftRadius:Na,borderBottomRightRadius:Na,boxShadow:MD};function ZS(e,{layout:t,layoutId:n}){return ra.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!em[e]||e==="opacity")}function Dp(e,t,n){var a;const r=e.style,i=t==null?void 0:t.style,s={};if(!r)return s;for(const l in r)(Vt(r[l])||i&&Vt(i[l])||ZS(l,e)||((a=n==null?void 0:n.getValue(l))==null?void 0:a.liveStyle)!==void 0)&&(s[l]=r[l]);return s}function ID(e){return window.getComputedStyle(e)}class LD extends VS{constructor(){super(...arguments),this.type="html",this.renderInstance=GS}readValueFromInstance(t,n){var r;if(ra.has(n))return(r=this.projection)!=null&&r.isProjecting?Ff(n):uL(t,n);{const i=ID(t),s=(oS(n)?i.getPropertyValue(n):i[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(t,{transformPagePoint:n}){return qS(t,n)}build(t,n,r){Lp(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return Dp(t,n,r)}}const DD={offset:"stroke-dashoffset",array:"stroke-dasharray"},RD={offset:"strokeDashoffset",array:"strokeDasharray"};function $D(e,t,n=1,r=0,i=!0){e.pathLength=1;const s=i?DD:RD;e[s.offset]=`${-r}`,e[s.array]=`${t} ${n}`}const zD=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function YS(e,{attrX:t,attrY:n,attrScale:r,pathLength:i,pathSpacing:s=1,pathOffset:a=0,...l},u,h,f){if(Lp(e,l,h),u){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:m,style:g}=e;m.transform&&(g.transform=m.transform,delete m.transform),(g.transform||m.transformOrigin)&&(g.transformOrigin=m.transformOrigin??"50% 50%",delete m.transformOrigin),g.transform&&(g.transformBox=(f==null?void 0:f.transformBox)??"fill-box",delete m.transformBox);for(const v of zD)m[v]!==void 0&&(g[v]=m[v],delete m[v]);t!==void 0&&(m.x=t),n!==void 0&&(m.y=n),r!==void 0&&(m.scale=r),i!==void 0&&$D(m,i,s,a,!1)}const XS=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),JS=e=>typeof e=="string"&&e.toLowerCase()==="svg";function BD(e,t,n,r){GS(e,t,void 0,r);for(const i in t.attrs)e.setAttribute(XS.has(i)?i:Tp(i),t.attrs[i])}function QS(e,t,n){const r=Dp(e,t,n);for(const i in e)if(Vt(e[i])||Vt(t[i])){const s=na.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=e[i]}return r}class FD extends VS{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ht}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(ra.has(n)){const r=ES(n);return r&&r.default||0}return n=XS.has(n)?n:Tp(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return QS(t,n,r)}build(t,n,r){YS(t,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(t,n,r,i){BD(t,n,r,i)}mount(t){this.isSVGTag=JS(t.tagName),super.mount(t)}}const UD=Ip.length;function ej(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?ej(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<UD;n++){const r=Ip[n],i=e.props[r];(uo(i)||i===!1)&&(t[r]=i)}return t}function tj(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}const VD=[...Mp].reverse(),WD=Mp.length;function HD(e){return t=>Promise.all(t.map(({animation:n,options:r})=>QL(e,n,r)))}function KD(e){let t=HD(e),n=V0(),r=!0;const i=u=>(h,f)=>{var g;const m=zs(e,f,u==="exit"?(g=e.presenceContext)==null?void 0:g.custom:void 0);if(m){const{transition:v,transitionEnd:y,...w}=m;h={...h,...w,...y}}return h};function s(u){t=u(e)}function a(u){const{props:h}=e,f=ej(e.parent)||{},m=[],g=new Set;let v={},y=1/0;for(let _=0;_<WD;_++){const j=VD[_],k=n[j],P=h[j]!==void 0?h[j]:f[j],C=uo(P),N=j===u?k.isActive:null;N===!1&&(y=_);let T=P===f[j]&&P!==h[j]&&C;if(T&&r&&e.manuallyAnimateOnMount&&(T=!1),k.protectedKeys={...v},!k.isActive&&N===null||!P&&!k.prevProp||Nu(P)||typeof P=="boolean")continue;const M=qD(k.prevProp,P);let E=M||j===u&&k.isActive&&!T&&C||_>y&&C,$=!1;const q=Array.isArray(P)?P:[P];let U=q.reduce(i(j),{});N===!1&&(U={});const{prevResolvedValues:R={}}=k,se={...R,...U},Y=V=>{E=!0,g.has(V)&&($=!0,g.delete(V)),k.needsAnimating[V]=!0;const z=e.getValue(V);z&&(z.liveStyle=!1)};for(const V in se){const z=U[V],J=R[V];if(v.hasOwnProperty(V))continue;let G=!1;qf(z)&&qf(J)?G=!tj(z,J):G=z!==J,G?z!=null?Y(V):g.add(V):z!==void 0&&g.has(V)?Y(V):k.protectedKeys[V]=!0}k.prevProp=P,k.prevResolvedValues=U,k.isActive&&(v={...v,...U}),r&&e.blockInitialAnimation&&(E=!1);const oe=T&&M;E&&(!oe||$)&&m.push(...q.map(V=>{const z={type:j};if(typeof V=="string"&&r&&!oe&&e.manuallyAnimateOnMount&&e.parent){const{parent:J}=e,G=zs(J,V);if(J.enteringChildren&&G){const{delayChildren:de}=G.transition||{};z.delay=jS(J.enteringChildren,e,de)}}return{animation:V,options:z}}))}if(g.size){const _={};if(typeof h.initial!="boolean"){const j=zs(e,Array.isArray(h.initial)?h.initial[0]:h.initial);j&&j.transition&&(_.transition=j.transition)}g.forEach(j=>{const k=e.getBaseTarget(j),P=e.getValue(j);P&&(P.liveStyle=!0),_[j]=k??null}),m.push({animation:_})}let w=!!m.length;return r&&(h.initial===!1||h.initial===h.animate)&&!e.manuallyAnimateOnMount&&(w=!1),r=!1,w?t(m):Promise.resolve()}function l(u,h){var m;if(n[u].isActive===h)return Promise.resolve();(m=e.variantChildren)==null||m.forEach(g=>{var v;return(v=g.animationState)==null?void 0:v.setActive(u,h)}),n[u].isActive=h;const f=a(u);for(const g in n)n[g].protectedKeys={};return f}return{animateChanges:a,setActive:l,setAnimateFunction:s,getState:()=>n,reset:()=>{n=V0()}}}function qD(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!tj(t,e):!1}function _i(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function V0(){return{animate:_i(!0),whileInView:_i(),whileHover:_i(),whileTap:_i(),whileDrag:_i(),whileFocus:_i(),exit:_i()}}function W0(e,t){e.min=t.min,e.max=t.max}function Ln(e,t){W0(e.x,t.x),W0(e.y,t.y)}function H0(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}const nj=1e-4,GD=1-nj,ZD=1+nj,rj=.01,YD=0-rj,XD=0+rj;function Zt(e){return e.max-e.min}function JD(e,t,n){return Math.abs(e-t)<=n}function K0(e,t,n,r=.5){e.origin=r,e.originPoint=Ge(t.min,t.max,e.origin),e.scale=Zt(n)/Zt(t),e.translate=Ge(n.min,n.max,e.origin)-e.originPoint,(e.scale>=GD&&e.scale<=ZD||isNaN(e.scale))&&(e.scale=1),(e.translate>=YD&&e.translate<=XD||isNaN(e.translate))&&(e.translate=0)}function Ja(e,t,n,r){K0(e.x,t.x,n.x,r?r.originX:void 0),K0(e.y,t.y,n.y,r?r.originY:void 0)}function q0(e,t,n){e.min=n.min+t.min,e.max=e.min+Zt(t)}function QD(e,t,n){q0(e.x,t.x,n.x),q0(e.y,t.y,n.y)}function G0(e,t,n){e.min=t.min-n.min,e.max=e.min+Zt(t)}function wc(e,t,n){G0(e.x,t.x,n.x),G0(e.y,t.y,n.y)}function Z0(e,t,n,r,i){return e-=t,e=bc(e,1/n,r),i!==void 0&&(e=bc(e,1/i,r)),e}function eR(e,t=0,n=1,r=.5,i,s=e,a=e){if(sr.test(t)&&(t=parseFloat(t),t=Ge(a.min,a.max,t/100)-a.min),typeof t!="number")return;let l=Ge(s.min,s.max,r);e===s&&(l-=t),e.min=Z0(e.min,t,n,l,i),e.max=Z0(e.max,t,n,l,i)}function Y0(e,t,[n,r,i],s,a){eR(e,t[n],t[r],t[i],t.scale,s,a)}const tR=["x","scaleX","originX"],nR=["y","scaleY","originY"];function X0(e,t,n,r){Y0(e.x,t,tR,n?n.x:void 0,r?r.x:void 0),Y0(e.y,t,nR,n?n.y:void 0,r?r.y:void 0)}function J0(e){return e.translate===0&&e.scale===1}function ij(e){return J0(e.x)&&J0(e.y)}function Q0(e,t){return e.min===t.min&&e.max===t.max}function rR(e,t){return Q0(e.x,t.x)&&Q0(e.y,t.y)}function ex(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function sj(e,t){return ex(e.x,t.x)&&ex(e.y,t.y)}function tx(e){return Zt(e.x)/Zt(e.y)}function nx(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}function wn(e){return[e("x"),e("y")]}function iR(e,t,n){let r="";const i=e.x.translate/t.x,s=e.y.translate/t.y,a=(n==null?void 0:n.z)||0;if((i||s||a)&&(r=`translate3d(${i}px, ${s}px, ${a}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:h,rotate:f,rotateX:m,rotateY:g,skewX:v,skewY:y}=n;h&&(r=`perspective(${h}px) ${r}`),f&&(r+=`rotate(${f}deg) `),m&&(r+=`rotateX(${m}deg) `),g&&(r+=`rotateY(${g}deg) `),v&&(r+=`skewX(${v}deg) `),y&&(r+=`skewY(${y}deg) `)}const l=e.x.scale*t.x,u=e.y.scale*t.y;return(l!==1||u!==1)&&(r+=`scale(${l}, ${u})`),r||"none"}const aj=["TopLeft","TopRight","BottomLeft","BottomRight"],sR=aj.length,rx=e=>typeof e=="string"?parseFloat(e):e,ix=e=>typeof e=="number"||re.test(e);function aR(e,t,n,r,i,s){i?(e.opacity=Ge(0,n.opacity??1,oR(r)),e.opacityExit=Ge(t.opacity??1,0,lR(r))):s&&(e.opacity=Ge(t.opacity??1,n.opacity??1,r));for(let a=0;a<sR;a++){const l=`border${aj[a]}Radius`;let u=sx(t,l),h=sx(n,l);if(u===void 0&&h===void 0)continue;u||(u=0),h||(h=0),u===0||h===0||ix(u)===ix(h)?(e[l]=Math.max(Ge(rx(u),rx(h),r),0),(sr.test(h)||sr.test(u))&&(e[l]+="%")):e[l]=h}(t.rotate||n.rotate)&&(e.rotate=Ge(t.rotate||0,n.rotate||0,r))}function sx(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const oR=oj(0,.5,tS),lR=oj(.5,.95,jn);function oj(e,t,n){return r=>r<e?0:r>t?1:n(oo(e,t,r))}function cR(e,t,n){const r=Vt(e)?e:Us(e);return r.start(Ap("",r,t,n)),r.animation}function ho(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}const uR=(e,t)=>e.depth-t.depth;class dR{constructor(){this.children=[],this.isDirty=!1}add(t){up(this.children,t),this.isDirty=!0}remove(t){dp(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(uR),this.isDirty=!1,this.children.forEach(t)}}function hR(e,t){const n=Gt.now(),r=({timestamp:i})=>{const s=i-n;s>=t&&(ai(r),e(s-t))};return We.setup(r,!0),()=>ai(r)}function ic(e){return Vt(e)?e.get():e}class fR{constructor(){this.members=[]}add(t){up(this.members,t),t.scheduleRender()}remove(t){if(dp(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(i=>t===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender();const i=r.options.layoutDependency,s=t.options.layoutDependency;i!==void 0&&s!==void 0&&i===s||(t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0));const{crossfade:l}=t.options;l===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const sc={hasAnimatedSinceResize:!0,hasEverUpdated:!1},Rh=["","X","Y","Z"],mR=1e3;let pR=0;function $h(e,t,n,r){const{latestValues:i}=t;i[e]&&(n[e]=i[e],t.setStaticValue(e,0),r&&(r[e]=0))}function lj(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=CS(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:s}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",We,!(i||s))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&lj(r)}function cj({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(a={},l=t==null?void 0:t()){this.id=pR++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(yR),this.nodes.forEach(_R),this.nodes.forEach(SR),this.nodes.forEach(xR)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let u=0;u<this.path.length;u++)this.path[u].shouldResetTransform=!0;this.root===this&&(this.nodes=new dR)}addEventListener(a,l){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new mp),this.eventHandlers.get(a).add(l)}notifyListeners(a,...l){const u=this.eventHandlers.get(a);u&&u.notify(...l)}hasListeners(a){return this.eventHandlers.has(a)}mount(a){if(this.instance)return;this.isSVG=zS(a)&&!vD(a),this.instance=a;const{layoutId:l,layout:u,visualElement:h}=this.options;if(h&&!h.current&&h.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(u||l)&&(this.isLayoutDirty=!0),e){let f,m=0;const g=()=>this.root.updateBlockedByResize=!1;We.read(()=>{m=window.innerWidth}),e(a,()=>{const v=window.innerWidth;v!==m&&(m=v,this.root.updateBlockedByResize=!0,f&&f(),f=hR(g,250),sc.hasAnimatedSinceResize&&(sc.hasAnimatedSinceResize=!1,this.nodes.forEach(lx)))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&h&&(l||u)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:m,hasRelativeLayoutChanged:g,layout:v})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const y=this.options.transition||h.getDefaultTransition()||CR,{onLayoutAnimationStart:w,onLayoutAnimationComplete:_}=h.getProps(),j=!this.targetLayout||!sj(this.targetLayout,v),k=!m&&g;if(this.options.layoutRoot||this.resumeFrom||k||m&&(j||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const P={...kp(y,"layout"),onPlay:w,onComplete:_};(h.shouldReduceMotion||this.options.layoutRoot)&&(P.delay=0,P.type=!1),this.startAnimation(P),this.setAnimationOrigin(f,k)}else m||lx(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=v})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),ai(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(jR),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&lj(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let f=0;f<this.path.length;f++){const m=this.path[f];m.shouldResetTransform=!0,m.updateScroll("snapshot"),m.options.layoutRoot&&m.willUpdate(!1)}const{layoutId:l,layout:u}=this.options;if(l===void 0&&!u)return;const h=this.getTransformTemplate();this.prevTransformTemplateValue=h?h(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(ax);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(ox);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(wR),this.nodes.forEach(gR),this.nodes.forEach(vR)):this.nodes.forEach(ox),this.clearAllSnapshots();const l=Gt.now();Dt.delta=lr(0,1e3/60,l-Dt.timestamp),Dt.timestamp=l,Dt.isProcessing=!0,Th.update.process(Dt),Th.preRender.process(Dt),Th.render.process(Dt),Dt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Op.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(bR),this.sharedNodes.forEach(PR)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,We.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){We.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Zt(this.snapshot.measuredBox.x)&&!Zt(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let u=0;u<this.path.length;u++)this.path[u].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=ht(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(l=!1),l&&this.instance){const u=r(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:u,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:u}}}resetTransform(){if(!i)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!ij(this.projectionDelta),u=this.getTransformTemplate(),h=u?u(this.latestValues,""):void 0,f=h!==this.prevTransformTemplateValue;a&&this.instance&&(l||Ci(this.latestValues)||f)&&(i(this.instance,h),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const l=this.measurePageBox();let u=this.removeElementScroll(l);return a&&(u=this.removeTransform(u)),TR(u),{animationId:this.root.animationId,measuredBox:l,layoutBox:u,latestValues:{},source:this.id}}measurePageBox(){var h;const{visualElement:a}=this.options;if(!a)return ht();const l=a.measureViewportBox();if(!(((h=this.scroll)==null?void 0:h.wasRoot)||this.path.some(NR))){const{scroll:f}=this.root;f&&(Is(l.x,f.offset.x),Is(l.y,f.offset.y))}return l}removeElementScroll(a){var u;const l=ht();if(Ln(l,a),(u=this.scroll)!=null&&u.wasRoot)return l;for(let h=0;h<this.path.length;h++){const f=this.path[h],{scroll:m,options:g}=f;f!==this.root&&m&&g.layoutScroll&&(m.wasRoot&&Ln(l,a),Is(l.x,m.offset.x),Is(l.y,m.offset.y))}return l}applyTransform(a,l=!1){const u=ht();Ln(u,a);for(let h=0;h<this.path.length;h++){const f=this.path[h];!l&&f.options.layoutScroll&&f.scroll&&f!==f.root&&Ls(u,{x:-f.scroll.offset.x,y:-f.scroll.offset.y}),Ci(f.latestValues)&&Ls(u,f.latestValues)}return Ci(this.latestValues)&&Ls(u,this.latestValues),u}removeTransform(a){const l=ht();Ln(l,a);for(let u=0;u<this.path.length;u++){const h=this.path[u];if(!h.instance||!Ci(h.latestValues))continue;Jf(h.latestValues)&&h.updateSnapshot();const f=ht(),m=h.measurePageBox();Ln(f,m),X0(l,h.latestValues,h.snapshot?h.snapshot.layoutBox:void 0,f)}return Ci(this.latestValues)&&X0(l,this.latestValues),l}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Dt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var v;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==l;if(!(a||u&&this.isSharedProjectionDirty||this.isProjectionDirty||(v=this.parent)!=null&&v.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:f,layoutId:m}=this.options;if(!this.layout||!(f||m))return;this.resolvedRelativeTargetAt=Dt.timestamp;const g=this.getClosestProjectingParent();g&&this.linkedParentVersion!==g.layoutVersion&&!g.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(g&&g.layout?this.createRelativeTarget(g,this.layout.layoutBox,g.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=ht(),this.targetWithTransforms=ht()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),QD(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ln(this.target,this.layout.layoutBox),KS(this.target,this.targetDelta)):Ln(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,g&&!!g.resumingFrom==!!this.resumingFrom&&!g.options.layoutScroll&&g.target&&this.animationProgress!==1?this.createRelativeTarget(g,this.target,g.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||Jf(this.parent.latestValues)||HS(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(a,l,u){this.relativeParent=a,this.linkedParentVersion=a.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ht(),this.relativeTargetOrigin=ht(),wc(this.relativeTargetOrigin,l,u),Ln(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){var y;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let u=!0;if((this.isProjectionDirty||(y=this.parent)!=null&&y.isProjectionDirty)&&(u=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===Dt.timestamp&&(u=!1),u)return;const{layout:h,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||f))return;Ln(this.layoutCorrected,this.layout.layoutBox);const m=this.treeScale.x,g=this.treeScale.y;CD(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=ht());const{target:v}=a;if(!v){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(H0(this.prevProjectionDelta.x,this.projectionDelta.x),H0(this.prevProjectionDelta.y,this.projectionDelta.y)),Ja(this.projectionDelta,this.layoutCorrected,v,this.latestValues),(this.treeScale.x!==m||this.treeScale.y!==g||!nx(this.projectionDelta.x,this.prevProjectionDelta.x)||!nx(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",v))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){var l;if((l=this.options.visualElement)==null||l.scheduleRender(),a){const u=this.getStack();u&&u.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Ms(),this.projectionDelta=Ms(),this.projectionDeltaWithTransform=Ms()}setAnimationOrigin(a,l=!1){const u=this.snapshot,h=u?u.latestValues:{},f={...this.latestValues},m=Ms();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const g=ht(),v=u?u.source:void 0,y=this.layout?this.layout.source:void 0,w=v!==y,_=this.getStack(),j=!_||_.members.length<=1,k=!!(w&&!j&&this.options.crossfade===!0&&!this.path.some(AR));this.animationProgress=0;let P;this.mixTargetDelta=C=>{const N=C/1e3;cx(m.x,a.x,N),cx(m.y,a.y,N),this.setTargetDelta(m),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(wc(g,this.layout.layoutBox,this.relativeParent.layout.layoutBox),kR(this.relativeTarget,this.relativeTargetOrigin,g,N),P&&rR(this.relativeTarget,P)&&(this.isProjectionDirty=!1),P||(P=ht()),Ln(P,this.relativeTarget)),w&&(this.animationValues=f,aR(f,h,this.latestValues,N,k,j)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=N},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){var l,u,h;this.notifyListeners("animationStart"),(l=this.currentAnimation)==null||l.stop(),(h=(u=this.resumingFrom)==null?void 0:u.currentAnimation)==null||h.stop(),this.pendingAnimation&&(ai(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=We.update(()=>{sc.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Us(0)),this.currentAnimation=cR(this.motionValue,[0,1e3],{...a,velocity:0,isSync:!0,onUpdate:f=>{this.mixTargetDelta(f),a.onUpdate&&a.onUpdate(f)},onStop:()=>{},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(mR),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:l,target:u,layout:h,latestValues:f}=a;if(!(!l||!u||!h)){if(this!==a&&this.layout&&h&&uj(this.options.animationType,this.layout.layoutBox,h.layoutBox)){u=this.target||ht();const m=Zt(this.layout.layoutBox.x);u.x.min=a.target.x.min,u.x.max=u.x.min+m;const g=Zt(this.layout.layoutBox.y);u.y.min=a.target.y.min,u.y.max=u.y.min+g}Ln(l,u),Ls(l,f),Ja(this.projectionDeltaWithTransform,this.layoutCorrected,l,f)}}registerSharedNode(a,l){this.sharedNodes.has(a)||this.sharedNodes.set(a,new fR),this.sharedNodes.get(a).add(l);const h=l.options.initialPromotionConfig;l.promote({transition:h?h.transition:void 0,preserveFollowOpacity:h&&h.shouldPreserveFollowOpacity?h.shouldPreserveFollowOpacity(l):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var l;const{layoutId:a}=this.options;return a?((l=this.getStack())==null?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:a}=this.options;return a?(l=this.getStack())==null?void 0:l.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:l,preserveFollowOpacity:u}={}){const h=this.getStack();h&&h.promote(this,u),a&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let l=!1;const{latestValues:u}=a;if((u.z||u.rotate||u.rotateX||u.rotateY||u.rotateZ||u.skewX||u.skewY)&&(l=!0),!l)return;const h={};u.z&&$h("z",a,h,this.animationValues);for(let f=0;f<Rh.length;f++)$h(`rotate${Rh[f]}`,a,h,this.animationValues),$h(`skew${Rh[f]}`,a,h,this.animationValues);a.render();for(const f in h)a.setStaticValue(f,h[f]),this.animationValues&&(this.animationValues[f]=h[f]);a.scheduleRender()}applyProjectionStyles(a,l){if(!this.instance||this.isSVG)return;if(!this.isVisible){a.visibility="hidden";return}const u=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,a.visibility="",a.opacity="",a.pointerEvents=ic(l==null?void 0:l.pointerEvents)||"",a.transform=u?u(this.latestValues,""):"none";return}const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){this.options.layoutId&&(a.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,a.pointerEvents=ic(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!Ci(this.latestValues)&&(a.transform=u?u({},""):"none",this.hasProjected=!1);return}a.visibility="";const f=h.animationValues||h.latestValues;this.applyTransformsToTarget();let m=iR(this.projectionDeltaWithTransform,this.treeScale,f);u&&(m=u(f,m)),a.transform=m;const{x:g,y:v}=this.projectionDelta;a.transformOrigin=`${g.origin*100}% ${v.origin*100}% 0`,h.animationValues?a.opacity=h===this?f.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:a.opacity=h===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const y in em){if(f[y]===void 0)continue;const{correct:w,applyTo:_,isCSSVariable:j}=em[y],k=m==="none"?f[y]:w(f[y],h);if(_){const P=_.length;for(let C=0;C<P;C++)a[_[C]]=k}else j?this.options.visualElement.renderState.vars[y]=k:a[y]=k}this.options.layoutId&&(a.pointerEvents=h===this?ic(l==null?void 0:l.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var l;return(l=a.currentAnimation)==null?void 0:l.stop()}),this.root.nodes.forEach(ax),this.root.sharedNodes.clear()}}}function gR(e){e.updateLayout()}function vR(e){var n;const t=((n=e.resumeFrom)==null?void 0:n.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=e.layout,{animationType:s}=e.options,a=t.source!==e.layout.source;s==="size"?wn(m=>{const g=a?t.measuredBox[m]:t.layoutBox[m],v=Zt(g);g.min=r[m].min,g.max=g.min+v}):uj(s,t.layoutBox,r)&&wn(m=>{const g=a?t.measuredBox[m]:t.layoutBox[m],v=Zt(r[m]);g.max=g.min+v,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[m].max=e.relativeTarget[m].min+v)});const l=Ms();Ja(l,r,t.layoutBox);const u=Ms();a?Ja(u,e.applyTransform(i,!0),t.measuredBox):Ja(u,r,t.layoutBox);const h=!ij(l);let f=!1;if(!e.resumeFrom){const m=e.getClosestProjectingParent();if(m&&!m.resumeFrom){const{snapshot:g,layout:v}=m;if(g&&v){const y=ht();wc(y,t.layoutBox,g.layoutBox);const w=ht();wc(w,r,v.layoutBox),sj(y,w)||(f=!0),m.options.layoutRoot&&(e.relativeTarget=w,e.relativeTargetOrigin=y,e.relativeParent=m)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:u,layoutDelta:l,hasLayoutChanged:h,hasRelativeLayoutChanged:f})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function yR(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function xR(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function bR(e){e.clearSnapshot()}function ax(e){e.clearMeasurements()}function ox(e){e.isLayoutDirty=!1}function wR(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function lx(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function _R(e){e.resolveTargetDelta()}function SR(e){e.calcProjection()}function jR(e){e.resetSkewAndRotation()}function PR(e){e.removeLeadSnapshot()}function cx(e,t,n){e.translate=Ge(t.translate,0,n),e.scale=Ge(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function ux(e,t,n,r){e.min=Ge(t.min,n.min,r),e.max=Ge(t.max,n.max,r)}function kR(e,t,n,r){ux(e.x,t.x,n.x,r),ux(e.y,t.y,n.y,r)}function AR(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const CR={duration:.45,ease:[.4,0,.1,1]},dx=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),hx=dx("applewebkit/")&&!dx("chrome/")?Math.round:jn;function fx(e){e.min=hx(e.min),e.max=hx(e.max)}function TR(e){fx(e.x),fx(e.y)}function uj(e,t,n){return e==="position"||e==="preserve-aspect"&&!JD(tx(t),tx(n),.2)}function NR(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const OR=cj({attachResizeListener:(e,t)=>ho(e,"resize",t),measureScroll:()=>{var e,t;return{x:document.documentElement.scrollLeft||((e=document.body)==null?void 0:e.scrollLeft)||0,y:document.documentElement.scrollTop||((t=document.body)==null?void 0:t.scrollTop)||0}},checkIsScrollRoot:()=>!0}),zh={current:void 0},dj=cj({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!zh.current){const e=new OR({});e.mount(window),e.setOptions({layoutScroll:!0}),zh.current=e}return zh.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),hj=b.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function ER(e=!0){const t=b.useContext(cp);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=t,s=b.useId();b.useEffect(()=>{if(e)return i(s)},[e]);const a=b.useCallback(()=>e&&r&&r(s),[s,r,e]);return!n&&r?[!1,a]:[!0]}const fj=b.createContext({strict:!1}),mx={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let px=!1;function MR(){if(px)return;const e={};for(const t in mx)e[t]={isEnabled:n=>mx[t].some(r=>!!n[r])};US(e),px=!0}function mj(){return MR(),jD()}function IR(e){const t=mj();for(const n in e)t[n]={...t[n],...e[n]};US(t)}const LR=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function _c(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||LR.has(e)}let pj=e=>!_c(e);function DR(e){typeof e=="function"&&(pj=t=>t.startsWith("on")?!_c(t):e(t))}try{DR(require("@emotion/is-prop-valid").default)}catch{}function RR(e,t,n){const r={};for(const i in e)i==="values"&&typeof e.values=="object"||(pj(i)||n===!0&&_c(i)||!t&&!_c(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}const Eu=b.createContext({});function $R(e,t){if(Ou(e)){const{initial:n,animate:r}=e;return{initial:n===!1||uo(n)?n:void 0,animate:uo(r)?r:void 0}}return e.inherit!==!1?t:{}}function zR(e){const{initial:t,animate:n}=$R(e,b.useContext(Eu));return b.useMemo(()=>({initial:t,animate:n}),[gx(t),gx(n)])}function gx(e){return Array.isArray(e)?e.join(" "):e}const Rp=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function gj(e,t,n){for(const r in t)!Vt(t[r])&&!ZS(r,n)&&(e[r]=t[r])}function BR({transformTemplate:e},t){return b.useMemo(()=>{const n=Rp();return Lp(n,t,e),Object.assign({},n.vars,n.style)},[t])}function FR(e,t){const n=e.style||{},r={};return gj(r,n,e),Object.assign(r,BR(e,t)),r}function UR(e,t){const n={},r=FR(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const vj=()=>({...Rp(),attrs:{}});function VR(e,t,n,r){const i=b.useMemo(()=>{const s=vj();return YS(s,t,JS(r),e.transformTemplate,e.style),{...s.attrs,style:{...s.style}}},[t]);if(e.style){const s={};gj(s,e.style,e),i.style={...s,...i.style}}return i}const WR=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function $p(e){return typeof e!="string"||e.includes("-")?!1:!!(WR.indexOf(e)>-1||/[A-Z]/u.test(e))}function HR(e,t,n,{latestValues:r},i,s=!1,a){const u=(a??$p(e)?VR:UR)(t,r,i,e),h=RR(t,typeof e=="string",s),f=e!==b.Fragment?{...h,...u,ref:n}:{},{children:m}=t,g=b.useMemo(()=>Vt(m)?m.get():m,[m]);return b.createElement(e,{...f,children:g})}function KR({scrapeMotionValuesFromProps:e,createRenderState:t},n,r,i){return{latestValues:qR(n,r,i,e),renderState:t()}}function qR(e,t,n,r){const i={},s=r(e,{});for(const g in s)i[g]=ic(s[g]);let{initial:a,animate:l}=e;const u=Ou(e),h=FS(e);t&&h&&!u&&e.inherit!==!1&&(a===void 0&&(a=t.initial),l===void 0&&(l=t.animate));let f=n?n.initial===!1:!1;f=f||a===!1;const m=f?l:a;if(m&&typeof m!="boolean"&&!Nu(m)){const g=Array.isArray(m)?m:[m];for(let v=0;v<g.length;v++){const y=Cp(e,g[v]);if(y){const{transitionEnd:w,transition:_,...j}=y;for(const k in j){let P=j[k];if(Array.isArray(P)){const C=f?P.length-1:0;P=P[C]}P!==null&&(i[k]=P)}for(const k in w)i[k]=w[k]}}}return i}const yj=e=>(t,n)=>{const r=b.useContext(Eu),i=b.useContext(cp),s=()=>KR(e,t,r,i);return n?s():aI(s)},GR=yj({scrapeMotionValuesFromProps:Dp,createRenderState:Rp}),ZR=yj({scrapeMotionValuesFromProps:QS,createRenderState:vj}),YR=Symbol.for("motionComponentSymbol");function XR(e,t,n){const r=b.useRef(n);b.useInsertionEffect(()=>{r.current=n});const i=b.useRef(null);return b.useCallback(s=>{var l;s&&((l=e.onMount)==null||l.call(e,s)),t&&(s?t.mount(s):t.unmount());const a=r.current;if(typeof a=="function")if(s){const u=a(s);typeof u=="function"&&(i.current=u)}else i.current?(i.current(),i.current=null):a(s);else a&&(a.current=s)},[t])}const xj=b.createContext({});function Wa(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function JR(e,t,n,r,i,s){var j,k;const{visualElement:a}=b.useContext(Eu),l=b.useContext(fj),u=b.useContext(cp),h=b.useContext(hj).reducedMotion,f=b.useRef(null),m=b.useRef(!1);r=r||l.renderer,!f.current&&r&&(f.current=r(e,{visualState:t,parent:a,props:n,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:h,isSVG:s}),m.current&&f.current&&(f.current.manuallyAnimateOnMount=!0));const g=f.current,v=b.useContext(xj);g&&!g.projection&&i&&(g.type==="html"||g.type==="svg")&&QR(f.current,n,i,v);const y=b.useRef(!1);b.useInsertionEffect(()=>{g&&y.current&&g.update(n,u)});const w=n[AS],_=b.useRef(!!w&&!((j=window.MotionHandoffIsComplete)!=null&&j.call(window,w))&&((k=window.MotionHasOptimisedAnimation)==null?void 0:k.call(window,w)));return oI(()=>{m.current=!0,g&&(y.current=!0,window.MotionIsMounted=!0,g.updateFeatures(),g.scheduleRenderMicrotask(),_.current&&g.animationState&&g.animationState.animateChanges())}),b.useEffect(()=>{g&&(!_.current&&g.animationState&&g.animationState.animateChanges(),_.current&&(queueMicrotask(()=>{var P;(P=window.MotionHandoffMarkAsComplete)==null||P.call(window,w)}),_.current=!1),g.enteringChildren=void 0)}),g}function QR(e,t,n,r){const{layoutId:i,layout:s,drag:a,dragConstraints:l,layoutScroll:u,layoutRoot:h,layoutCrossfade:f}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:bj(e.parent)),e.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!a||l&&Wa(l),visualElement:e,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,crossfade:f,layoutScroll:u,layoutRoot:h})}function bj(e){if(e)return e.options.allowProjection!==!1?e.projection:bj(e.parent)}function Bh(e,{forwardMotionProps:t=!1,type:n}={},r,i){r&&IR(r);const s=n?n==="svg":$p(e),a=s?ZR:GR;function l(h,f){let m;const g={...b.useContext(hj),...h,layoutId:e5(h)},{isStatic:v}=g,y=zR(h),w=a(h,v);if(!v&&W1){t5();const _=n5(g);m=_.MeasureLayout,y.visualElement=JR(e,w,g,i,_.ProjectionNode,s)}return c.jsxs(Eu.Provider,{value:y,children:[m&&y.visualElement?c.jsx(m,{visualElement:y.visualElement,...g}):null,HR(e,h,XR(w,y.visualElement,f),w,v,t,s)]})}l.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const u=b.forwardRef(l);return u[YR]=e,u}function e5({layoutId:e}){const t=b.useContext(V1).id;return t&&e!==void 0?t+"-"+e:e}function t5(e,t){b.useContext(fj).strict}function n5(e){const t=mj(),{drag:n,layout:r}=t;if(!n&&!r)return{};const i={...n,...r};return{MeasureLayout:n!=null&&n.isEnabled(e)||r!=null&&r.isEnabled(e)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}function r5(e,t){if(typeof Proxy>"u")return Bh;const n=new Map,r=(s,a)=>Bh(s,a,e,t),i=(s,a)=>r(s,a);return new Proxy(i,{get:(s,a)=>a==="create"?r:(n.has(a)||n.set(a,Bh(a,void 0,e,t)),n.get(a))})}const i5=(e,t)=>t.isSVG??$p(e)?new FD(t):new LD(t,{allowProjection:e!==b.Fragment});class s5 extends di{constructor(t){super(t),t.animationState||(t.animationState=KD(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Nu(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let a5=0;class o5 extends di{constructor(){super(...arguments),this.id=a5++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const i=this.node.animationState.setActive("exit",!t);n&&!t&&i.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const l5={animation:{Feature:s5},exit:{Feature:o5}};function Lo(e){return{point:{x:e.pageX,y:e.pageY}}}const c5=e=>t=>Ep(t)&&e(t,Lo(t));function Qa(e,t,n,r){return ho(e,t,c5(n),r)}const wj=({current:e})=>e?e.ownerDocument.defaultView:null,vx=(e,t)=>Math.abs(e-t);function u5(e,t){const n=vx(e.x,t.x),r=vx(e.y,t.y);return Math.sqrt(n**2+r**2)}const yx=new Set(["auto","scroll"]);class _j{constructor(t,n,{transformPagePoint:r,contextWindow:i=window,dragSnapToOrigin:s=!1,distanceThreshold:a=3,element:l}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=v=>{this.handleScroll(v.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=Uh(this.lastMoveEventInfo,this.history),y=this.startEvent!==null,w=u5(v.offset,{x:0,y:0})>=this.distanceThreshold;if(!y&&!w)return;const{point:_}=v,{timestamp:j}=Dt;this.history.push({..._,timestamp:j});const{onStart:k,onMove:P}=this.handlers;y||(k&&k(this.lastMoveEvent,v),this.startEvent=this.lastMoveEvent),P&&P(this.lastMoveEvent,v)},this.handlePointerMove=(v,y)=>{this.lastMoveEvent=v,this.lastMoveEventInfo=Fh(y,this.transformPagePoint),We.update(this.updatePoint,!0)},this.handlePointerUp=(v,y)=>{this.end();const{onEnd:w,onSessionEnd:_,resumeAnimation:j}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&j&&j(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const k=Uh(v.type==="pointercancel"?this.lastMoveEventInfo:Fh(y,this.transformPagePoint),this.history);this.startEvent&&w&&w(v,k),_&&_(v,k)},!Ep(t))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=a,this.contextWindow=i||window;const u=Lo(t),h=Fh(u,this.transformPagePoint),{point:f}=h,{timestamp:m}=Dt;this.history=[{...f,timestamp:m}];const{onSessionStart:g}=n;g&&g(t,Uh(h,this.history)),this.removeListeners=Eo(Qa(this.contextWindow,"pointermove",this.handlePointerMove),Qa(this.contextWindow,"pointerup",this.handlePointerUp),Qa(this.contextWindow,"pointercancel",this.handlePointerUp)),l&&this.startScrollTracking(l)}startScrollTracking(t){let n=t.parentElement;for(;n;){const r=getComputedStyle(n);(yx.has(r.overflowX)||yx.has(r.overflowY))&&this.scrollPositions.set(n,{x:n.scrollLeft,y:n.scrollTop}),n=n.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(t){const n=this.scrollPositions.get(t);if(!n)return;const r=t===window,i=r?{x:window.scrollX,y:window.scrollY}:{x:t.scrollLeft,y:t.scrollTop},s={x:i.x-n.x,y:i.y-n.y};s.x===0&&s.y===0||(r?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=s.x,this.lastMoveEventInfo.point.y+=s.y):this.history.length>0&&(this.history[0].x-=s.x,this.history[0].y-=s.y),this.scrollPositions.set(t,i),We.update(this.updatePoint,!0))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),ai(this.updatePoint)}}function Fh(e,t){return t?{point:t(e.point)}:e}function xx(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Uh({point:e},t){return{point:e,delta:xx(e,Sj(t)),offset:xx(e,d5(t)),velocity:h5(t,.1)}}function d5(e){return e[0]}function Sj(e){return e[e.length-1]}function h5(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const i=Sj(e);for(;n>=0&&(r=e[n],!(i.timestamp-r.timestamp>Pr(t)));)n--;if(!r)return{x:0,y:0};const s=_n(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const a={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function f5(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?Ge(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?Ge(n,e,r.max):Math.min(e,n)),e}function bx(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function m5(e,{top:t,left:n,bottom:r,right:i}){return{x:bx(e.x,n,i),y:bx(e.y,t,r)}}function wx(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function p5(e,t){return{x:wx(e.x,t.x),y:wx(e.y,t.y)}}function g5(e,t){let n=.5;const r=Zt(e),i=Zt(t);return i>r?n=oo(t.min,t.max-r,e.min):r>i&&(n=oo(e.min,e.max-i,t.min)),lr(0,1,n)}function v5(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const tm=.35;function y5(e=tm){return e===!1?e=0:e===!0&&(e=tm),{x:_x(e,"left","right"),y:_x(e,"top","bottom")}}function _x(e,t,n){return{min:Sx(e,t),max:Sx(e,n)}}function Sx(e,t){return typeof e=="number"?e:e[t]||0}const x5=new WeakMap;class b5{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ht(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const s=m=>{n?(this.stopAnimation(),this.snapToCursor(Lo(m).point)):this.pauseAnimation()},a=(m,g)=>{this.stopAnimation();const{drag:v,dragPropagation:y,onDragStart:w}=this.getProps();if(v&&!y&&(this.openDragLock&&this.openDragLock(),this.openDragLock=hD(v),!this.openDragLock))return;this.latestPointerEvent=m,this.latestPanInfo=g,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),wn(j=>{let k=this.getAxisMotionValue(j).get()||0;if(sr.test(k)){const{projection:P}=this.visualElement;if(P&&P.layout){const C=P.layout.layoutBox[j];C&&(k=Zt(C)*(parseFloat(k)/100))}}this.originPoint[j]=k}),w&&We.postRender(()=>w(m,g)),Gf(this.visualElement,"transform");const{animationState:_}=this.visualElement;_&&_.setActive("whileDrag",!0)},l=(m,g)=>{this.latestPointerEvent=m,this.latestPanInfo=g;const{dragPropagation:v,dragDirectionLock:y,onDirectionLock:w,onDrag:_}=this.getProps();if(!v&&!this.openDragLock)return;const{offset:j}=g;if(y&&this.currentDirection===null){this.currentDirection=w5(j),this.currentDirection!==null&&w&&w(this.currentDirection);return}this.updateAxis("x",g.point,j),this.updateAxis("y",g.point,j),this.visualElement.render(),_&&_(m,g)},u=(m,g)=>{this.latestPointerEvent=m,this.latestPanInfo=g,this.stop(m,g),this.latestPointerEvent=null,this.latestPanInfo=null},h=()=>wn(m=>{var g;return this.getAnimationState(m)==="paused"&&((g=this.getAxisMotionValue(m).animation)==null?void 0:g.play())}),{dragSnapToOrigin:f}=this.getProps();this.panSession=new _j(t,{onSessionStart:s,onStart:a,onMove:l,onSessionEnd:u,resumeAnimation:h},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:f,distanceThreshold:r,contextWindow:wj(this.visualElement),element:this.visualElement.current})}stop(t,n){const r=t||this.latestPointerEvent,i=n||this.latestPanInfo,s=this.isDragging;if(this.cancel(),!s||!i||!r)return;const{velocity:a}=i;this.startAnimation(a);const{onDragEnd:l}=this.getProps();l&&We.postRender(()=>l(r,i))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.endPanSession();const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(t,n,r){const{drag:i}=this.getProps();if(!r||!Tl(t,i,this.currentDirection))return;const s=this.getAxisMotionValue(t);let a=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(a=f5(a,this.constraints[t],this.elastic[t])),s.set(a)}resolveConstraints(){var s;const{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(s=this.visualElement.projection)==null?void 0:s.layout,i=this.constraints;t&&Wa(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=m5(r.layoutBox,t):this.constraints=!1,this.elastic=y5(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&wn(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=v5(r.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Wa(t))return!1;const r=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=TD(r,i.root,this.visualElement.getTransformPagePoint());let a=p5(i.layout.layoutBox,s);if(n){const l=n(kD(a));this.hasMutatedConstraints=!!l,l&&(a=WS(l))}return a}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:a,onDragTransitionEnd:l}=this.getProps(),u=this.constraints||{},h=wn(f=>{if(!Tl(f,n,this.currentDirection))return;let m=u&&u[f]||{};a&&(m={min:0,max:0});const g=i?200:1e6,v=i?40:1e7,y={type:"inertia",velocity:r?t[f]:0,bounceStiffness:g,bounceDamping:v,timeConstant:750,restDelta:1,restSpeed:10,...s,...m};return this.startAxisValueAnimation(f,y)});return Promise.all(h).then(l)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return Gf(this.visualElement,t),r.start(Ap(t,r,0,n,this.visualElement,!1))}stopAnimation(){wn(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){wn(t=>{var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){wn(n=>{const{drag:r}=this.getProps();if(!Tl(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:a,max:l}=i.layout.layoutBox[n],u=s.get()||0;s.set(t[n]-Ge(a,l,.5)+u)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Wa(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};wn(a=>{const l=this.getAxisMotionValue(a);if(l&&this.constraints!==!1){const u=l.get();i[a]=g5({min:u,max:u},this.constraints[a])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),wn(a=>{if(!Tl(a,t,null))return;const l=this.getAxisMotionValue(a),{min:u,max:h}=this.constraints[a];l.set(Ge(u,h,i[a]))})}addListeners(){if(!this.visualElement.current)return;x5.set(this.visualElement,this);const t=this.visualElement.current,n=Qa(t,"pointerdown",u=>{const{drag:h,dragListener:f=!0}=this.getProps(),m=u.target,g=m!==t&&$S(m);h&&f&&!g&&this.start(u)}),r=()=>{const{dragConstraints:u}=this.getProps();Wa(u)&&u.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),We.read(r);const a=ho(window,"resize",()=>this.scalePositionWithinConstraints()),l=i.addEventListener("didUpdate",({delta:u,hasLayoutChanged:h})=>{this.isDragging&&h&&(wn(f=>{const m=this.getAxisMotionValue(f);m&&(this.originPoint[f]+=u[f].translate,m.set(m.get()+u[f].translate))}),this.visualElement.render())});return()=>{a(),n(),s(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:a=tm,dragMomentum:l=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:a,dragMomentum:l}}}function Tl(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function w5(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class _5 extends di{constructor(t){super(t),this.removeGroupControls=jn,this.removeListeners=jn,this.controls=new b5(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||jn}update(){const{dragControls:t}=this.node.getProps(),{dragControls:n}=this.node.prevProps||{};t!==n&&(this.removeGroupControls(),t&&(this.removeGroupControls=t.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.isDragging||this.controls.endPanSession()}}const jx=e=>(t,n)=>{e&&We.postRender(()=>e(t,n))};class S5 extends di{constructor(){super(...arguments),this.removePointerDownListener=jn}onPointerDown(t){this.session=new _j(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:wj(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:jx(t),onStart:jx(n),onMove:r,onEnd:(s,a)=>{delete this.session,i&&We.postRender(()=>i(s,a))}}}mount(){this.removePointerDownListener=Qa(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let Vh=!1;class j5 extends b.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=t;s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),Vh&&s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,layoutDependency:this.props.layoutDependency,onExitComplete:()=>this.safeToRemove()})),sc.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,{projection:a}=r;return a&&(a.isPresent=s,t.layoutDependency!==n&&a.setOptions({...a.options,layoutDependency:n}),Vh=!0,i||t.layoutDependency!==n||n===void 0||t.isPresent!==s?a.willUpdate():this.safeToRemove(),t.isPresent!==s&&(s?a.promote():a.relegate()||We.postRender(()=>{const l=a.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Op.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=t;Vh=!0,i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function jj(e){const[t,n]=ER(),r=b.useContext(V1);return c.jsx(j5,{...e,layoutGroup:r,switchLayoutGroup:b.useContext(xj),isPresent:t,safeToRemove:n})}const P5={pan:{Feature:S5},drag:{Feature:_5,ProjectionNode:dj,MeasureLayout:jj}};function Px(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,s=r[i];s&&We.postRender(()=>s(t,Lo(t)))}class k5 extends di{mount(){const{current:t}=this.node;t&&(this.unmount=fD(t,(n,r)=>(Px(this.node,r,"Start"),i=>Px(this.node,i,"End"))))}unmount(){}}class A5 extends di{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Eo(ho(this.node.current,"focus",()=>this.onFocus()),ho(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function kx(e,t,n){const{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),s=r[i];s&&We.postRender(()=>s(t,Lo(t)))}class C5 extends di{mount(){const{current:t}=this.node;t&&(this.unmount=gD(t,(n,r)=>(kx(this.node,r,"Start"),(i,{success:s})=>kx(this.node,i,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const nm=new WeakMap,Wh=new WeakMap,T5=e=>{const t=nm.get(e.target);t&&t(e)},N5=e=>{e.forEach(T5)};function O5({root:e,...t}){const n=e||document;Wh.has(n)||Wh.set(n,{});const r=Wh.get(n),i=JSON.stringify(t);return r[i]||(r[i]=new IntersectionObserver(N5,{root:e,...t})),r[i]}function E5(e,t,n){const r=O5(t);return nm.set(e,n),r.observe(e),()=>{nm.delete(e),r.unobserve(e)}}const M5={some:0,all:1};class I5 extends di{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=t,a={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:M5[i]},l=u=>{const{isIntersecting:h}=u;if(this.isInView===h||(this.isInView=h,s&&!h&&this.hasEnteredView))return;h&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",h);const{onViewportEnter:f,onViewportLeave:m}=this.node.getProps(),g=h?f:m;g&&g(u)};return E5(this.node.current,a,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(L5(t,n))&&this.startObserver()}unmount(){}}function L5({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const D5={inView:{Feature:I5},tap:{Feature:C5},focus:{Feature:A5},hover:{Feature:k5}},R5={layout:{ProjectionNode:dj,MeasureLayout:jj}},$5={...l5,...D5,...P5,...R5},Ne=r5($5,i5);function Pj(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=Pj(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Me(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=Pj(e))&&(r&&(r+=" "),r+=t);return r}const z5=(e,t)=>{const n=new Array(e.length+t.length);for(let r=0;r<e.length;r++)n[r]=e[r];for(let r=0;r<t.length;r++)n[e.length+r]=t[r];return n},B5=(e,t)=>({classGroupId:e,validator:t}),kj=(e=new Map,t=null,n)=>({nextPart:e,validators:t,classGroupId:n}),Sc="-",Ax=[],F5="arbitrary..",U5=e=>{const t=W5(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:a=>{if(a.startsWith("[")&&a.endsWith("]"))return V5(a);const l=a.split(Sc),u=l[0]===""&&l.length>1?1:0;return Aj(l,u,t)},getConflictingClassGroupIds:(a,l)=>{if(l){const u=r[a],h=n[a];return u?h?z5(h,u):u:h||Ax}return n[a]||Ax}}},Aj=(e,t,n)=>{if(e.length-t===0)return n.classGroupId;const i=e[t],s=n.nextPart.get(i);if(s){const h=Aj(e,t+1,s);if(h)return h}const a=n.validators;if(a===null)return;const l=t===0?e.join(Sc):e.slice(t).join(Sc),u=a.length;for(let h=0;h<u;h++){const f=a[h];if(f.validator(l))return f.classGroupId}},V5=e=>e.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const t=e.slice(1,-1),n=t.indexOf(":"),r=t.slice(0,n);return r?F5+r:void 0})(),W5=e=>{const{theme:t,classGroups:n}=e;return H5(n,t)},H5=(e,t)=>{const n=kj();for(const r in e){const i=e[r];zp(i,n,r,t)}return n},zp=(e,t,n,r)=>{const i=e.length;for(let s=0;s<i;s++){const a=e[s];K5(a,t,n,r)}},K5=(e,t,n,r)=>{if(typeof e=="string"){q5(e,t,n);return}if(typeof e=="function"){G5(e,t,n,r);return}Z5(e,t,n,r)},q5=(e,t,n)=>{const r=e===""?t:Cj(t,e);r.classGroupId=n},G5=(e,t,n,r)=>{if(Y5(e)){zp(e(r),t,n,r);return}t.validators===null&&(t.validators=[]),t.validators.push(B5(n,e))},Z5=(e,t,n,r)=>{const i=Object.entries(e),s=i.length;for(let a=0;a<s;a++){const[l,u]=i[a];zp(u,Cj(t,l),n,r)}},Cj=(e,t)=>{let n=e;const r=t.split(Sc),i=r.length;for(let s=0;s<i;s++){const a=r[s];let l=n.nextPart.get(a);l||(l=kj(),n.nextPart.set(a,l)),n=l}return n},Y5=e=>"isThemeGetter"in e&&e.isThemeGetter===!0,X5=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=Object.create(null),r=Object.create(null);const i=(s,a)=>{n[s]=a,t++,t>e&&(t=0,r=n,n=Object.create(null))};return{get(s){let a=n[s];if(a!==void 0)return a;if((a=r[s])!==void 0)return i(s,a),a},set(s,a){s in n?n[s]=a:i(s,a)}}},rm="!",Cx=":",J5=[],Tx=(e,t,n,r,i)=>({modifiers:e,hasImportantModifier:t,baseClassName:n,maybePostfixModifierPosition:r,isExternal:i}),Q5=e=>{const{prefix:t,experimentalParseClassName:n}=e;let r=i=>{const s=[];let a=0,l=0,u=0,h;const f=i.length;for(let w=0;w<f;w++){const _=i[w];if(a===0&&l===0){if(_===Cx){s.push(i.slice(u,w)),u=w+1;continue}if(_==="/"){h=w;continue}}_==="["?a++:_==="]"?a--:_==="("?l++:_===")"&&l--}const m=s.length===0?i:i.slice(u);let g=m,v=!1;m.endsWith(rm)?(g=m.slice(0,-1),v=!0):m.startsWith(rm)&&(g=m.slice(1),v=!0);const y=h&&h>u?h-u:void 0;return Tx(s,v,g,y)};if(t){const i=t+Cx,s=r;r=a=>a.startsWith(i)?s(a.slice(i.length)):Tx(J5,!1,a,void 0,!0)}if(n){const i=r;r=s=>n({className:s,parseClassName:i})}return r},e4=e=>{const t=new Map;return e.orderSensitiveModifiers.forEach((n,r)=>{t.set(n,1e6+r)}),n=>{const r=[];let i=[];for(let s=0;s<n.length;s++){const a=n[s],l=a[0]==="[",u=t.has(a);l||u?(i.length>0&&(i.sort(),r.push(...i),i=[]),r.push(a)):i.push(a)}return i.length>0&&(i.sort(),r.push(...i)),r}},t4=e=>({cache:X5(e.cacheSize),parseClassName:Q5(e),sortModifiers:e4(e),...U5(e)}),n4=/\s+/,r4=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i,sortModifiers:s}=t,a=[],l=e.trim().split(n4);let u="";for(let h=l.length-1;h>=0;h-=1){const f=l[h],{isExternal:m,modifiers:g,hasImportantModifier:v,baseClassName:y,maybePostfixModifierPosition:w}=n(f);if(m){u=f+(u.length>0?" "+u:u);continue}let _=!!w,j=r(_?y.substring(0,w):y);if(!j){if(!_){u=f+(u.length>0?" "+u:u);continue}if(j=r(y),!j){u=f+(u.length>0?" "+u:u);continue}_=!1}const k=g.length===0?"":g.length===1?g[0]:s(g).join(":"),P=v?k+rm:k,C=P+j;if(a.indexOf(C)>-1)continue;a.push(C);const N=i(j,_);for(let T=0;T<N.length;++T){const M=N[T];a.push(P+M)}u=f+(u.length>0?" "+u:u)}return u},i4=(...e)=>{let t=0,n,r,i="";for(;t<e.length;)(n=e[t++])&&(r=Tj(n))&&(i&&(i+=" "),i+=r);return i},Tj=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=Tj(e[r]))&&(n&&(n+=" "),n+=t);return n},s4=(e,...t)=>{let n,r,i,s;const a=u=>{const h=t.reduce((f,m)=>m(f),e());return n=t4(h),r=n.cache.get,i=n.cache.set,s=l,l(u)},l=u=>{const h=r(u);if(h)return h;const f=r4(u,n);return i(u,f),f};return s=a,(...u)=>s(i4(...u))},a4=[],ut=e=>{const t=n=>n[e]||a4;return t.isThemeGetter=!0,t},Nj=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,Oj=/^\((?:(\w[\w-]*):)?(.+)\)$/i,o4=/^\d+\/\d+$/,l4=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,c4=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,u4=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,d4=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,h4=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ws=e=>o4.test(e),Pe=e=>!!e&&!Number.isNaN(Number(e)),Zr=e=>!!e&&Number.isInteger(Number(e)),Hh=e=>e.endsWith("%")&&Pe(e.slice(0,-1)),yr=e=>l4.test(e),f4=()=>!0,m4=e=>c4.test(e)&&!u4.test(e),Ej=()=>!1,p4=e=>d4.test(e),g4=e=>h4.test(e),v4=e=>!te(e)&&!ne(e),y4=e=>ia(e,Lj,Ej),te=e=>Nj.test(e),Si=e=>ia(e,Dj,m4),Kh=e=>ia(e,S4,Pe),Nx=e=>ia(e,Mj,Ej),x4=e=>ia(e,Ij,g4),Nl=e=>ia(e,Rj,p4),ne=e=>Oj.test(e),Oa=e=>sa(e,Dj),b4=e=>sa(e,j4),Ox=e=>sa(e,Mj),w4=e=>sa(e,Lj),_4=e=>sa(e,Ij),Ol=e=>sa(e,Rj,!0),ia=(e,t,n)=>{const r=Nj.exec(e);return r?r[1]?t(r[1]):n(r[2]):!1},sa=(e,t,n=!1)=>{const r=Oj.exec(e);return r?r[1]?t(r[1]):n:!1},Mj=e=>e==="position"||e==="percentage",Ij=e=>e==="image"||e==="url",Lj=e=>e==="length"||e==="size"||e==="bg-size",Dj=e=>e==="length",S4=e=>e==="number",j4=e=>e==="family-name",Rj=e=>e==="shadow",P4=()=>{const e=ut("color"),t=ut("font"),n=ut("text"),r=ut("font-weight"),i=ut("tracking"),s=ut("leading"),a=ut("breakpoint"),l=ut("container"),u=ut("spacing"),h=ut("radius"),f=ut("shadow"),m=ut("inset-shadow"),g=ut("text-shadow"),v=ut("drop-shadow"),y=ut("blur"),w=ut("perspective"),_=ut("aspect"),j=ut("ease"),k=ut("animate"),P=()=>["auto","avoid","all","avoid-page","page","left","right","column"],C=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],N=()=>[...C(),ne,te],T=()=>["auto","hidden","clip","visible","scroll"],M=()=>["auto","contain","none"],E=()=>[ne,te,u],$=()=>[ws,"full","auto",...E()],q=()=>[Zr,"none","subgrid",ne,te],U=()=>["auto",{span:["full",Zr,ne,te]},Zr,ne,te],R=()=>[Zr,"auto",ne,te],se=()=>["auto","min","max","fr",ne,te],Y=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],oe=()=>["start","end","center","stretch","center-safe","end-safe"],I=()=>["auto",...E()],V=()=>[ws,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...E()],z=()=>[e,ne,te],J=()=>[...C(),Ox,Nx,{position:[ne,te]}],G=()=>["no-repeat",{repeat:["","x","y","space","round"]}],de=()=>["auto","cover","contain",w4,y4,{size:[ne,te]}],je=()=>[Hh,Oa,Si],ve=()=>["","none","full",h,ne,te],he=()=>["",Pe,Oa,Si],be=()=>["solid","dashed","dotted","double"],ge=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ye=()=>[Pe,Hh,Ox,Nx],ct=()=>["","none",y,ne,te],W=()=>["none",Pe,ne,te],xe=()=>["none",Pe,ne,te],_e=()=>[Pe,ne,te],K=()=>[ws,"full",...E()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[yr],breakpoint:[yr],color:[f4],container:[yr],"drop-shadow":[yr],ease:["in","out","in-out"],font:[v4],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[yr],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[yr],shadow:[yr],spacing:["px",Pe],text:[yr],"text-shadow":[yr],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",ws,te,ne,_]}],container:["container"],columns:[{columns:[Pe,te,ne,l]}],"break-after":[{"break-after":P()}],"break-before":[{"break-before":P()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:N()}],overflow:[{overflow:T()}],"overflow-x":[{"overflow-x":T()}],"overflow-y":[{"overflow-y":T()}],overscroll:[{overscroll:M()}],"overscroll-x":[{"overscroll-x":M()}],"overscroll-y":[{"overscroll-y":M()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:$()}],"inset-x":[{"inset-x":$()}],"inset-y":[{"inset-y":$()}],start:[{start:$()}],end:[{end:$()}],top:[{top:$()}],right:[{right:$()}],bottom:[{bottom:$()}],left:[{left:$()}],visibility:["visible","invisible","collapse"],z:[{z:[Zr,"auto",ne,te]}],basis:[{basis:[ws,"full","auto",l,...E()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Pe,ws,"auto","initial","none",te]}],grow:[{grow:["",Pe,ne,te]}],shrink:[{shrink:["",Pe,ne,te]}],order:[{order:[Zr,"first","last","none",ne,te]}],"grid-cols":[{"grid-cols":q()}],"col-start-end":[{col:U()}],"col-start":[{"col-start":R()}],"col-end":[{"col-end":R()}],"grid-rows":[{"grid-rows":q()}],"row-start-end":[{row:U()}],"row-start":[{"row-start":R()}],"row-end":[{"row-end":R()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":se()}],"auto-rows":[{"auto-rows":se()}],gap:[{gap:E()}],"gap-x":[{"gap-x":E()}],"gap-y":[{"gap-y":E()}],"justify-content":[{justify:[...Y(),"normal"]}],"justify-items":[{"justify-items":[...oe(),"normal"]}],"justify-self":[{"justify-self":["auto",...oe()]}],"align-content":[{content:["normal",...Y()]}],"align-items":[{items:[...oe(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...oe(),{baseline:["","last"]}]}],"place-content":[{"place-content":Y()}],"place-items":[{"place-items":[...oe(),"baseline"]}],"place-self":[{"place-self":["auto",...oe()]}],p:[{p:E()}],px:[{px:E()}],py:[{py:E()}],ps:[{ps:E()}],pe:[{pe:E()}],pt:[{pt:E()}],pr:[{pr:E()}],pb:[{pb:E()}],pl:[{pl:E()}],m:[{m:I()}],mx:[{mx:I()}],my:[{my:I()}],ms:[{ms:I()}],me:[{me:I()}],mt:[{mt:I()}],mr:[{mr:I()}],mb:[{mb:I()}],ml:[{ml:I()}],"space-x":[{"space-x":E()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":E()}],"space-y-reverse":["space-y-reverse"],size:[{size:V()}],w:[{w:[l,"screen",...V()]}],"min-w":[{"min-w":[l,"screen","none",...V()]}],"max-w":[{"max-w":[l,"screen","none","prose",{screen:[a]},...V()]}],h:[{h:["screen","lh",...V()]}],"min-h":[{"min-h":["screen","lh","none",...V()]}],"max-h":[{"max-h":["screen","lh",...V()]}],"font-size":[{text:["base",n,Oa,Si]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,ne,Kh]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Hh,te]}],"font-family":[{font:[b4,te,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,ne,te]}],"line-clamp":[{"line-clamp":[Pe,"none",ne,Kh]}],leading:[{leading:[s,...E()]}],"list-image":[{"list-image":["none",ne,te]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",ne,te]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:z()}],"text-color":[{text:z()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...be(),"wavy"]}],"text-decoration-thickness":[{decoration:[Pe,"from-font","auto",ne,Si]}],"text-decoration-color":[{decoration:z()}],"underline-offset":[{"underline-offset":[Pe,"auto",ne,te]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:E()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ne,te]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ne,te]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:J()}],"bg-repeat":[{bg:G()}],"bg-size":[{bg:de()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Zr,ne,te],radial:["",ne,te],conic:[Zr,ne,te]},_4,x4]}],"bg-color":[{bg:z()}],"gradient-from-pos":[{from:je()}],"gradient-via-pos":[{via:je()}],"gradient-to-pos":[{to:je()}],"gradient-from":[{from:z()}],"gradient-via":[{via:z()}],"gradient-to":[{to:z()}],rounded:[{rounded:ve()}],"rounded-s":[{"rounded-s":ve()}],"rounded-e":[{"rounded-e":ve()}],"rounded-t":[{"rounded-t":ve()}],"rounded-r":[{"rounded-r":ve()}],"rounded-b":[{"rounded-b":ve()}],"rounded-l":[{"rounded-l":ve()}],"rounded-ss":[{"rounded-ss":ve()}],"rounded-se":[{"rounded-se":ve()}],"rounded-ee":[{"rounded-ee":ve()}],"rounded-es":[{"rounded-es":ve()}],"rounded-tl":[{"rounded-tl":ve()}],"rounded-tr":[{"rounded-tr":ve()}],"rounded-br":[{"rounded-br":ve()}],"rounded-bl":[{"rounded-bl":ve()}],"border-w":[{border:he()}],"border-w-x":[{"border-x":he()}],"border-w-y":[{"border-y":he()}],"border-w-s":[{"border-s":he()}],"border-w-e":[{"border-e":he()}],"border-w-t":[{"border-t":he()}],"border-w-r":[{"border-r":he()}],"border-w-b":[{"border-b":he()}],"border-w-l":[{"border-l":he()}],"divide-x":[{"divide-x":he()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":he()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...be(),"hidden","none"]}],"divide-style":[{divide:[...be(),"hidden","none"]}],"border-color":[{border:z()}],"border-color-x":[{"border-x":z()}],"border-color-y":[{"border-y":z()}],"border-color-s":[{"border-s":z()}],"border-color-e":[{"border-e":z()}],"border-color-t":[{"border-t":z()}],"border-color-r":[{"border-r":z()}],"border-color-b":[{"border-b":z()}],"border-color-l":[{"border-l":z()}],"divide-color":[{divide:z()}],"outline-style":[{outline:[...be(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Pe,ne,te]}],"outline-w":[{outline:["",Pe,Oa,Si]}],"outline-color":[{outline:z()}],shadow:[{shadow:["","none",f,Ol,Nl]}],"shadow-color":[{shadow:z()}],"inset-shadow":[{"inset-shadow":["none",m,Ol,Nl]}],"inset-shadow-color":[{"inset-shadow":z()}],"ring-w":[{ring:he()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:z()}],"ring-offset-w":[{"ring-offset":[Pe,Si]}],"ring-offset-color":[{"ring-offset":z()}],"inset-ring-w":[{"inset-ring":he()}],"inset-ring-color":[{"inset-ring":z()}],"text-shadow":[{"text-shadow":["none",g,Ol,Nl]}],"text-shadow-color":[{"text-shadow":z()}],opacity:[{opacity:[Pe,ne,te]}],"mix-blend":[{"mix-blend":[...ge(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ge()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Pe]}],"mask-image-linear-from-pos":[{"mask-linear-from":ye()}],"mask-image-linear-to-pos":[{"mask-linear-to":ye()}],"mask-image-linear-from-color":[{"mask-linear-from":z()}],"mask-image-linear-to-color":[{"mask-linear-to":z()}],"mask-image-t-from-pos":[{"mask-t-from":ye()}],"mask-image-t-to-pos":[{"mask-t-to":ye()}],"mask-image-t-from-color":[{"mask-t-from":z()}],"mask-image-t-to-color":[{"mask-t-to":z()}],"mask-image-r-from-pos":[{"mask-r-from":ye()}],"mask-image-r-to-pos":[{"mask-r-to":ye()}],"mask-image-r-from-color":[{"mask-r-from":z()}],"mask-image-r-to-color":[{"mask-r-to":z()}],"mask-image-b-from-pos":[{"mask-b-from":ye()}],"mask-image-b-to-pos":[{"mask-b-to":ye()}],"mask-image-b-from-color":[{"mask-b-from":z()}],"mask-image-b-to-color":[{"mask-b-to":z()}],"mask-image-l-from-pos":[{"mask-l-from":ye()}],"mask-image-l-to-pos":[{"mask-l-to":ye()}],"mask-image-l-from-color":[{"mask-l-from":z()}],"mask-image-l-to-color":[{"mask-l-to":z()}],"mask-image-x-from-pos":[{"mask-x-from":ye()}],"mask-image-x-to-pos":[{"mask-x-to":ye()}],"mask-image-x-from-color":[{"mask-x-from":z()}],"mask-image-x-to-color":[{"mask-x-to":z()}],"mask-image-y-from-pos":[{"mask-y-from":ye()}],"mask-image-y-to-pos":[{"mask-y-to":ye()}],"mask-image-y-from-color":[{"mask-y-from":z()}],"mask-image-y-to-color":[{"mask-y-to":z()}],"mask-image-radial":[{"mask-radial":[ne,te]}],"mask-image-radial-from-pos":[{"mask-radial-from":ye()}],"mask-image-radial-to-pos":[{"mask-radial-to":ye()}],"mask-image-radial-from-color":[{"mask-radial-from":z()}],"mask-image-radial-to-color":[{"mask-radial-to":z()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":C()}],"mask-image-conic-pos":[{"mask-conic":[Pe]}],"mask-image-conic-from-pos":[{"mask-conic-from":ye()}],"mask-image-conic-to-pos":[{"mask-conic-to":ye()}],"mask-image-conic-from-color":[{"mask-conic-from":z()}],"mask-image-conic-to-color":[{"mask-conic-to":z()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:J()}],"mask-repeat":[{mask:G()}],"mask-size":[{mask:de()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",ne,te]}],filter:[{filter:["","none",ne,te]}],blur:[{blur:ct()}],brightness:[{brightness:[Pe,ne,te]}],contrast:[{contrast:[Pe,ne,te]}],"drop-shadow":[{"drop-shadow":["","none",v,Ol,Nl]}],"drop-shadow-color":[{"drop-shadow":z()}],grayscale:[{grayscale:["",Pe,ne,te]}],"hue-rotate":[{"hue-rotate":[Pe,ne,te]}],invert:[{invert:["",Pe,ne,te]}],saturate:[{saturate:[Pe,ne,te]}],sepia:[{sepia:["",Pe,ne,te]}],"backdrop-filter":[{"backdrop-filter":["","none",ne,te]}],"backdrop-blur":[{"backdrop-blur":ct()}],"backdrop-brightness":[{"backdrop-brightness":[Pe,ne,te]}],"backdrop-contrast":[{"backdrop-contrast":[Pe,ne,te]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Pe,ne,te]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Pe,ne,te]}],"backdrop-invert":[{"backdrop-invert":["",Pe,ne,te]}],"backdrop-opacity":[{"backdrop-opacity":[Pe,ne,te]}],"backdrop-saturate":[{"backdrop-saturate":[Pe,ne,te]}],"backdrop-sepia":[{"backdrop-sepia":["",Pe,ne,te]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":E()}],"border-spacing-x":[{"border-spacing-x":E()}],"border-spacing-y":[{"border-spacing-y":E()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",ne,te]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Pe,"initial",ne,te]}],ease:[{ease:["linear","initial",j,ne,te]}],delay:[{delay:[Pe,ne,te]}],animate:[{animate:["none",k,ne,te]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[w,ne,te]}],"perspective-origin":[{"perspective-origin":N()}],rotate:[{rotate:W()}],"rotate-x":[{"rotate-x":W()}],"rotate-y":[{"rotate-y":W()}],"rotate-z":[{"rotate-z":W()}],scale:[{scale:xe()}],"scale-x":[{"scale-x":xe()}],"scale-y":[{"scale-y":xe()}],"scale-z":[{"scale-z":xe()}],"scale-3d":["scale-3d"],skew:[{skew:_e()}],"skew-x":[{"skew-x":_e()}],"skew-y":[{"skew-y":_e()}],transform:[{transform:[ne,te,"","none","gpu","cpu"]}],"transform-origin":[{origin:N()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:K()}],"translate-x":[{"translate-x":K()}],"translate-y":[{"translate-y":K()}],"translate-z":[{"translate-z":K()}],"translate-none":["translate-none"],accent:[{accent:z()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:z()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ne,te]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":E()}],"scroll-mx":[{"scroll-mx":E()}],"scroll-my":[{"scroll-my":E()}],"scroll-ms":[{"scroll-ms":E()}],"scroll-me":[{"scroll-me":E()}],"scroll-mt":[{"scroll-mt":E()}],"scroll-mr":[{"scroll-mr":E()}],"scroll-mb":[{"scroll-mb":E()}],"scroll-ml":[{"scroll-ml":E()}],"scroll-p":[{"scroll-p":E()}],"scroll-px":[{"scroll-px":E()}],"scroll-py":[{"scroll-py":E()}],"scroll-ps":[{"scroll-ps":E()}],"scroll-pe":[{"scroll-pe":E()}],"scroll-pt":[{"scroll-pt":E()}],"scroll-pr":[{"scroll-pr":E()}],"scroll-pb":[{"scroll-pb":E()}],"scroll-pl":[{"scroll-pl":E()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ne,te]}],fill:[{fill:["none",...z()]}],"stroke-w":[{stroke:[Pe,Oa,Si,Kh]}],stroke:[{stroke:["none",...z()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},k4=s4(P4);function Xt(...e){return k4(Me(e))}function Pt(){return Math.random().toString(36).substring(2,9)}function De(e){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e)}function A4(e){return new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}function Ti(e){return`${(e*100).toFixed(1)}%`}function cr(e){return new Promise(t=>setTimeout(t,e))}function C4({items:e,className:t}){const n=ju(),[r,i]=b.useState(e[0].name),[s,a]=b.useState(!1);return b.useEffect(()=>{const l=e.find(u=>u.url===n.pathname);l&&i(l.name)},[n.pathname,e]),b.useEffect(()=>{const l=()=>{a(window.innerWidth<768)};return l(),window.addEventListener("resize",l),()=>window.removeEventListener("resize",l)},[]),c.jsx("div",{className:Xt("fixed bottom-0 sm:top-0 left-1/2 -translate-x-1/2 z-[100] mb-6 sm:pt-6",t),children:c.jsx("div",{className:"flex items-center gap-3 bg-white/5 border border-white/10 backdrop-blur-lg py-1 px-1 rounded-full shadow-lg",children:e.map(l=>{const u=l.icon,h=r===l.name;return c.jsxs(yt,{to:l.url,onClick:()=>{i(l.name),l.onClick&&l.onClick()},className:Xt("relative cursor-pointer text-sm font-semibold px-6 py-2 rounded-full transition-colors","text-white/60 hover:text-[#5227FF]",h&&"bg-white/10 text-[#5227FF]"),children:[c.jsx("span",{className:"hidden md:inline",children:l.name}),c.jsx("span",{className:"md:hidden",children:c.jsx(u,{size:18,strokeWidth:2.5})}),h&&c.jsx(Ne.div,{layoutId:"lamp",className:"absolute inset-0 w-full bg-[#5227FF]/5 rounded-full -z-10",initial:!1,transition:{type:"spring",stiffness:300,damping:30},children:c.jsxs("div",{className:"absolute -top-2 left-1/2 -translate-x-1/2 w-8 h-1 bg-[#5227FF] rounded-t-full",children:[c.jsx("div",{className:"absolute w-12 h-6 bg-[#5227FF]/20 rounded-full blur-md -top-2 -left-2"}),c.jsx("div",{className:"absolute w-8 h-6 bg-[#5227FF]/20 rounded-full blur-md -top-1"}),c.jsx("div",{className:"absolute w-4 h-4 bg-[#5227FF]/20 rounded-full blur-sm top-0 left-2"})]})})]},l.name)})})})}const T4={logo:()=>c.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[c.jsx("path",{d:"M12 2L2 7L12 12L22 7L12 2Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),c.jsx("path",{d:"M2 17L12 22L22 17",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),c.jsx("path",{d:"M2 12L12 17L22 12",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})},El={variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},Ue=Wt.forwardRef(({className:e,variant:t="default",size:n="default",...r},i)=>{const s="inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",a=El.variant[t]||El.variant.default,l=El.size[n]||El.size.default;return c.jsx("button",{className:Xt(s,a,l,e),ref:i,...r})});Ue.displayName="Button";const Vs=Wt.forwardRef(({className:e,type:t="text",...n},r)=>c.jsx("input",{type:t,className:Xt("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...n}));Vs.displayName="Input";function N4(){const e=t=>{t.preventDefault(),console.log("Newsletter subscription submitted")};return c.jsx("footer",{className:"compact-footer",children:c.jsxs("div",{className:"compact-footer-container",children:[c.jsxs("div",{className:"compact-footer-main",children:[c.jsxs("div",{className:"compact-footer-brand",children:[c.jsx(T4.logo,{}),c.jsx("span",{children:"Marapone"})]}),c.jsxs("nav",{className:"compact-footer-nav",children:[c.jsx(yt,{to:"/features",className:"compact-footer-link",children:"Features"}),c.jsx(yt,{to:"/pricing",className:"compact-footer-link",children:"Pricing"}),c.jsx(yt,{to:"/about",className:"compact-footer-link",children:"About"}),c.jsx(yt,{to:"/contact",className:"compact-footer-link",children:"Contact"})]}),c.jsx("div",{className:"compact-footer-copyright",children:c.jsx("p",{children:"Â© 2026 Marapone Contracting Inc."})})]}),c.jsx("div",{className:"compact-footer-newsletter",children:c.jsxs("form",{onSubmit:e,className:"compact-footer-form",children:[c.jsx(Vs,{id:"email",placeholder:"Newsletter",type:"email",className:"compact-footer-input",required:!0}),c.jsx(Ue,{type:"submit",className:"compact-footer-submit",children:"Join"})]})})]})})}/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $j=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O4=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E4=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase());/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ex=e=>{const t=E4(e);return t.charAt(0).toUpperCase()+t.slice(1)};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var M4={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I4=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0;return!1};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L4=b.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:a,...l},u)=>b.createElement("svg",{ref:u,...M4,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:$j("lucide",i),...!s&&!I4(l)&&{"aria-hidden":"true"},...l},[...a.map(([h,f])=>b.createElement(h,f)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z=(e,t)=>{const n=b.forwardRef(({className:r,...i},s)=>b.createElement(L4,{ref:s,iconNode:t,className:$j(`lucide-${O4(Ex(e))}`,`lucide-${e}`,r),...i}));return n.displayName=Ex(e),n};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D4=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Mu=Z("activity",D4);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R4=[["path",{d:"M12 6v16",key:"nqf5sj"}],["path",{d:"m19 13 2-1a9 9 0 0 1-18 0l2 1",key:"y7qv08"}],["path",{d:"M9 11h6",key:"1fldmi"}],["circle",{cx:"12",cy:"4",r:"2",key:"muu5ef"}]],Bp=Z("anchor",R4);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $4=[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]],Mx=Z("arrow-right-left",$4);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z4=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],li=Z("arrow-right",z4);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B4=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],Ix=Z("arrow-up-right",B4);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F4=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],U4=Z("award",F4);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V4=[["path",{d:"M4.5 3h15",key:"c7n0jr"}],["path",{d:"M6 3v16a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V3",key:"m1uhx7"}],["path",{d:"M6 14h12",key:"4cwo0f"}]],W4=Z("beaker",V4);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H4=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],K4=Z("bell",H4);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q4=[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]],G4=Z("box",q4);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z4=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Y4=Z("calendar",Z4);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X4=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],zj=Z("chart-column",X4);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J4=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Bj=Z("check",J4);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q4=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],e3=Z("chevron-down",Q4);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t3=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],n3=Z("chevron-left",t3);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r3=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],i3=Z("chevron-right",r3);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s3=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Ws=Z("circle-alert",s3);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a3=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],o3=Z("circle-check-big",a3);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l3=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Iu=Z("circle-check",l3);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c3=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],u3=Z("clock",c3);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d3=[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M16 14v6",key:"1j4efv"}],["path",{d:"M8 14v6",key:"17c4r9"}],["path",{d:"M12 16v6",key:"c8a4gj"}]],h3=Z("cloud-rain",d3);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f3=[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]],m3=Z("coins",f3);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p3=[["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M17 20v2",key:"1rnc9c"}],["path",{d:"M17 2v2",key:"11trls"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M2 17h2",key:"7oei6x"}],["path",{d:"M2 7h2",key:"asdhe0"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"M20 17h2",key:"1fpfkl"}],["path",{d:"M20 7h2",key:"1o8tra"}],["path",{d:"M7 20v2",key:"4gnj0m"}],["path",{d:"M7 2v2",key:"1i4yhu"}],["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"8",y:"8",width:"8",height:"8",rx:"1",key:"z9xiuo"}]],Fj=Z("cpu",p3);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g3=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],v3=Z("credit-card",g3);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y3=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],x3=Z("database",y3);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b3=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],w3=Z("download",b3);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _3=[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]],Lx=Z("droplets",_3);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S3=[["path",{d:"M21.54 15H17a2 2 0 0 0-2 2v4.54",key:"1djwo0"}],["path",{d:"M7 3.34V5a3 3 0 0 0 3 3a2 2 0 0 1 2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2c0-1.1.9-2 2-2h3.17",key:"1tzkfa"}],["path",{d:"M11 21.95V18a2 2 0 0 0-2-2a2 2 0 0 1-2-2v-1a2 2 0 0 0-2-2H2.05",key:"14pb5j"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],j3=Z("earth",S3);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P3=[["path",{d:"M12 16h.01",key:"1drbdi"}],["path",{d:"M16 16h.01",key:"1f9h7w"}],["path",{d:"M3 19a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V8.5a.5.5 0 0 0-.769-.422l-4.462 2.844A.5.5 0 0 1 15 10.5v-2a.5.5 0 0 0-.769-.422L9.77 10.922A.5.5 0 0 1 9 10.5V5a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2z",key:"1iv0i2"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],k3=Z("factory",P3);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A3=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Fp=Z("file-text",A3);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C3=[["path",{d:"M14 13h2a2 2 0 0 1 2 2v2a2 2 0 0 0 4 0v-6.998a2 2 0 0 0-.59-1.42L18 5",key:"1wtuz0"}],["path",{d:"M14 21V5a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v16",key:"e09ifn"}],["path",{d:"M2 21h13",key:"1x0fut"}],["path",{d:"M3 9h11",key:"1p7c0w"}]],T3=Z("fuel",C3);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N3=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],ar=Z("globe",N3);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O3=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],Uj=Z("grid-3x3",O3);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E3=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],M3=Z("house",E3);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I3=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Vj=Z("info",I3);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L3=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],D3=Z("layers",L3);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R3=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],$3=Z("layout-dashboard",R3);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z3=[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]],im=Z("leaf",z3);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B3=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Wn=Z("loader-circle",B3);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F3=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],U3=Z("lock",F3);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V3=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],W3=Z("log-out",V3);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H3=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],K3=Z("mail",H3);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q3=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],jc=Z("map-pin",q3);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G3=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],Z3=Z("map",G3);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y3=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],X3=Z("menu",Y3);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J3=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],Q3=Z("message-square",J3);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e$=[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]],t$=Z("navigation",e$);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n$=[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]],sm=Z("network",n$);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r$=[["path",{d:"M15 18h-5",key:"95g1m2"}],["path",{d:"M18 14h-8",key:"sponae"}],["path",{d:"M4 22h16a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v16a2 2 0 0 1-4 0v-9a2 2 0 0 1 2-2h2",key:"39pd36"}],["rect",{width:"8",height:"4",x:"10",y:"6",rx:"1",key:"aywv1n"}]],i$=Z("newspaper",r$);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s$=[["path",{d:"M12 16h.01",key:"1drbdi"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M15.312 2a2 2 0 0 1 1.414.586l4.688 4.688A2 2 0 0 1 22 8.688v6.624a2 2 0 0 1-.586 1.414l-4.688 4.688a2 2 0 0 1-1.414.586H8.688a2 2 0 0 1-1.414-.586l-4.688-4.688A2 2 0 0 1 2 15.312V8.688a2 2 0 0 1 .586-1.414l4.688-4.688A2 2 0 0 1 8.688 2z",key:"1fd625"}]],a$=Z("octagon-alert",s$);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o$=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],Pc=Z("package",o$);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l$=[["path",{d:"M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z",key:"1v9wt8"}]],Dx=Z("plane",l$);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c$=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],Rx=Z("play",c$);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u$=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Wj=Z("refresh-cw",u$);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d$=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Do=Z("search",d$);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h$=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],Hj=Z("send",h$);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f$=[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]],$x=Z("server",f$);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m$=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],p$=Z("share-2",m$);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g$=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],Kj=Z("shield-alert",g$);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v$=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],qj=Z("shield-check",v$);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y$=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],x$=Z("shield",y$);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b$=[["path",{d:"M12 10.189V14",key:"1p8cqu"}],["path",{d:"M12 2v3",key:"qbqxhf"}],["path",{d:"M19 13V7a2 2 0 0 0-2-2H7a2 2 0 0 0-2 2v6",key:"qpkstq"}],["path",{d:"M19.38 20A11.6 11.6 0 0 0 21 14l-8.188-3.639a2 2 0 0 0-1.624 0L3 14a11.6 11.6 0 0 0 2.81 7.76",key:"7tigtc"}],["path",{d:"M2 21c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1s1.2 1 2.5 1c2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"1924j5"}]],Gj=Z("ship",b$);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w$=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],_$=Z("shopping-bag",w$);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S$=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],j$=Z("star",S$);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P$=[["rect",{width:"16",height:"16",x:"4",y:"3",rx:"2",key:"1wxw4b"}],["path",{d:"M4 11h16",key:"mpoxn0"}],["path",{d:"M12 3v8",key:"1h2ygw"}],["path",{d:"m8 19-2 3",key:"13i0xs"}],["path",{d:"m18 22-2-3",key:"1p0ohu"}],["path",{d:"M8 15h.01",key:"a7atzg"}],["path",{d:"M16 15h.01",key:"rnfrdf"}]],k$=Z("tram-front",P$);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A$=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],fo=Z("trending-down",A$);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C$=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Pn=Z("trending-up",C$);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T$=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],N$=Z("triangle-alert",T$);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O$=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],kc=Z("truck",O$);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E$=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],M$=Z("upload",E$);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I$=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],L$=Z("user",I$);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D$=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],R$=Z("users",D$);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $$=[["path",{d:"M2 22 16 8",key:"60hf96"}],["path",{d:"M3.47 12.53 5 11l1.53 1.53a3.5 3.5 0 0 1 0 4.94L5 19l-1.53-1.53a3.5 3.5 0 0 1 0-4.94Z",key:"1rdhi6"}],["path",{d:"M7.47 8.53 9 7l1.53 1.53a3.5 3.5 0 0 1 0 4.94L9 15l-1.53-1.53a3.5 3.5 0 0 1 0-4.94Z",key:"1sdzmb"}],["path",{d:"M11.47 4.53 13 3l1.53 1.53a3.5 3.5 0 0 1 0 4.94L13 11l-1.53-1.53a3.5 3.5 0 0 1 0-4.94Z",key:"eoatbi"}],["path",{d:"M20 2h2v2a4 4 0 0 1-4 4h-2V6a4 4 0 0 1 4-4Z",key:"19rau1"}],["path",{d:"M11.47 17.47 13 19l-1.53 1.53a3.5 3.5 0 0 1-4.94 0L5 19l1.53-1.53a3.5 3.5 0 0 1 4.94 0Z",key:"tc8ph9"}],["path",{d:"M15.47 13.47 17 15l-1.53 1.53a3.5 3.5 0 0 1-4.94 0L9 15l1.53-1.53a3.5 3.5 0 0 1 4.94 0Z",key:"2m8kc5"}],["path",{d:"M19.47 9.47 21 11l-1.53 1.53a3.5 3.5 0 0 1-4.94 0L13 11l1.53-1.53a3.5 3.5 0 0 1 4.94 0Z",key:"vex3ng"}]],z$=Z("wheat",$$);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B$=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],F$=Z("wifi-off",B$);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U$=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],V$=Z("wifi",U$);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W$=[["path",{d:"M12.8 19.6A2 2 0 1 0 14 16H2",key:"148xed"}],["path",{d:"M17.5 8a2.5 2.5 0 1 1 2 4H2",key:"1u4tom"}],["path",{d:"M9.8 4.4A2 2 0 1 1 11 8H2",key:"75valh"}]],H$=Z("wind",W$);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K$=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Zj=Z("x",K$);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q$=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],kr=Z("zap",q$);function G$({children:e}){const t=No(),n=ju(),{isAuthenticated:r,logout:i}=ea(),a=[{name:"Home",url:"/",icon:M3},{name:"Features",url:"/features",icon:kr},{name:"Pricing",url:"/pricing",icon:v3},{name:"About",url:"/about",icon:Vj},{name:"Contact",url:"/contact",icon:K3},{name:"Launch App",url:"/gasper",icon:kr},r?{name:"Logout",url:"/login",icon:W3,onClick:async()=>{await i(),t("/login")}}:{name:"Account",url:"/account",icon:L$}],l=n.pathname.startsWith("/gasper");return c.jsxs("div",{style:{position:"relative",minHeight:"100vh",display:"flex",flexDirection:"column"},children:[!l&&c.jsx(C4,{items:a}),c.jsx("div",{style:{flex:1},children:e}),!l&&c.jsx(N4,{})]})}function Z$({children:e}){const{isAuthenticated:t,loading:n}=ea(),r=ju();return n?c.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",color:"white",fontSize:"1.2rem"},children:"Loading..."}):t?e:c.jsx(gO,{to:"/login",state:{from:r},replace:!0})}function Y$(){return c.jsx("div",{className:"landing-container pt-12",children:c.jsxs("div",{className:"landing-content",children:[c.jsxs("section",{className:"hero-section",children:[c.jsxs("div",{className:"hero-label",children:[c.jsx(kr,{size:14,className:"inline mr-2"}),"Next Gen Supply Chain Intelligence"]}),c.jsxs("h1",{className:"hero-title",children:["Command Your Logistics with ",c.jsx("span",{children:"Gasper Tool"})]}),c.jsx("p",{className:"hero-subtitle",children:"The all-in-one AI platform for real-time tracking, compliance analysis, and digital twin simulation. Transform chaos into clarity."}),c.jsxs("div",{className:"cta-group",children:[c.jsxs(yt,{to:"/gasper",className:"btn-primary",children:["Launch Console ",c.jsx(li,{size:20,className:"inline ml-2"})]}),c.jsx(yt,{to:"/about",className:"btn-secondary",children:"Learn More"})]})]}),c.jsxs("section",{className:"trusted-by-section",children:[c.jsx("p",{className:"trusted-label",children:"Trusted by industry leaders worldwide"}),c.jsxs("div",{className:"logos-grid opacity-60 grayscale hover:grayscale-0 transition-all duration-500",children:[c.jsx("span",{className:"text-xl font-bold font-mono",children:"MAERSK"}),c.jsx("span",{className:"text-xl font-bold font-mono",children:"MSC"}),c.jsx("span",{className:"text-xl font-bold font-mono",children:"CMA CGM"}),c.jsx("span",{className:"text-xl font-bold font-mono",children:"HAPAG-LLOYD"}),c.jsx("span",{className:"text-xl font-bold font-mono",children:"EVERGREEN"})]})]}),c.jsxs("section",{id:"how-it-works",className:"how-it-works-section",children:[c.jsxs("div",{className:"section-header",children:[c.jsx("h2",{className:"section-title",children:"From Chaos to Control"}),c.jsx("p",{className:"section-subtitle",children:"A simple, powerful workflow designed for modern logistics."})]}),c.jsxs("div",{className:"workflow-steps",children:[c.jsxs("div",{className:"step-card",children:[c.jsx("div",{className:"step-number",children:"01"}),c.jsx("h3",{className:"step-title",children:"Connect"}),c.jsx("p",{className:"step-desc",children:"Integrate your existing ERP and carrier data streams in minutes."})]}),c.jsx("div",{className:"step-line"}),c.jsxs("div",{className:"step-card",children:[c.jsx("div",{className:"step-number",children:"02"}),c.jsx("h3",{className:"step-title",children:"Analyze"}),c.jsx("p",{className:"step-desc",children:"AI models process millions of data points to identify risks and opportunities."})]}),c.jsx("div",{className:"step-line"}),c.jsxs("div",{className:"step-card",children:[c.jsx("div",{className:"step-number",children:"03"}),c.jsx("h3",{className:"step-title",children:"Optimize"}),c.jsx("p",{className:"step-desc",children:"Execute automated strategies to reduce costs and improve delivery times."})]})]})]}),c.jsxs(Ne.section,{id:"features",className:"features-section",initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.8},children:[c.jsxs("div",{className:"section-header",children:[c.jsx("h2",{className:"section-title",children:"Enterprise-Grade Capabilities"}),c.jsx("p",{className:"section-subtitle",children:"Built for modern logistics teams who demand speed, accuracy, and depth."})]}),c.jsxs("div",{className:"features-grid",children:[c.jsxs("div",{className:"feature-card",children:[c.jsx("div",{className:"feature-icon",children:c.jsx(Mu,{size:32})}),c.jsx("h3",{className:"feature-title",children:"Real-Time Tracking"}),c.jsx("p",{className:"feature-desc",children:"Live monitoring of vessels, flights, and rail freight. Visualize your entire supply chain on an interactive 3D globe."})]}),c.jsxs("div",{className:"feature-card",children:[c.jsx("div",{className:"feature-icon",children:c.jsx(Pn,{size:32})}),c.jsx("h3",{className:"feature-title",children:"Digital Twin Simulation"}),c.jsx("p",{className:"feature-desc",children:"Simulate port strikes, tariff changes, and route disruptions to predict impacts on cost and delivery timelines."})]}),c.jsxs("div",{className:"feature-card",children:[c.jsx("div",{className:"feature-icon",children:c.jsx(qj,{size:32})}),c.jsx("h3",{className:"feature-title",children:"Compliance & Risk"}),c.jsx("p",{className:"feature-desc",children:"Automated HS code classification, sanctions screening, and document generation powered by advanced AI models."})]}),c.jsxs("div",{className:"feature-card",children:[c.jsx("div",{className:"feature-icon",children:c.jsx(Uj,{size:32})}),c.jsx("h3",{className:"feature-title",children:"Market Intelligence"}),c.jsx("p",{className:"feature-desc",children:"Instant access to commodity prices, currency rates, and public holidays across key global markets."})]})]})]}),c.jsxs(Ne.section,{id:"industries",className:"industries-section",initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.8,delay:.2},children:[c.jsx("div",{className:"section-header",children:c.jsx("h2",{className:"section-title",children:"Engineered for Every Sector"})}),c.jsxs("div",{className:"industries-grid",children:[c.jsxs("div",{className:"industry-card",children:[c.jsx(Bp,{className:"industry-icon"}),c.jsx("span",{children:"Maritime Logistics"})]}),c.jsxs("div",{className:"industry-card",children:[c.jsx(kc,{className:"industry-icon"}),c.jsx("span",{children:"Freight Forwarding"})]}),c.jsxs("div",{className:"industry-card",children:[c.jsx(G4,{className:"industry-icon"}),c.jsx("span",{children:"Retail & E-commerce"})]}),c.jsxs("div",{className:"industry-card",children:[c.jsx(D3,{className:"industry-icon"}),c.jsx("span",{children:"Manufacturing"})]})]})]}),c.jsxs(Ne.section,{className:"stats-section",initial:{opacity:0},whileInView:{opacity:1},viewport:{once:!0},transition:{duration:1},children:[c.jsxs("div",{className:"stat-item",children:[c.jsx("div",{className:"stat-value",children:"200+"}),c.jsx("div",{className:"stat-label",children:"Countries Monitored"})]}),c.jsxs("div",{className:"stat-item",children:[c.jsx("div",{className:"stat-value",children:"99.9%"}),c.jsx("div",{className:"stat-label",children:"Uptime Reliability"})]}),c.jsxs("div",{className:"stat-item",children:[c.jsx("div",{className:"stat-value",children:"<2s"}),c.jsx("div",{className:"stat-label",children:"Data Latency"})]})]}),c.jsx("section",{className:"final-cta-section",children:c.jsxs("div",{className:"final-cta-content",children:[c.jsx("h2",{children:"Ready to Modernize Your Supply Chain?"}),c.jsx("p",{children:"Join thousands of forward-thinking logistics leaders today."}),c.jsx(yt,{to:"/gasper",className:"btn-primary mt-8 inline-block",children:"Get Started Now"})]})})]})})}function X$(){return c.jsx("div",{className:"landing-container w-full",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[c.jsx("section",{className:"mb-24",children:c.jsxs("div",{className:"relative rounded-3xl overflow-hidden border border-white/10 bg-white/5 p-8 md:p-12 lg:p-16",children:[c.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-[#5227FF]/10 to-transparent pointer-events-none"}),c.jsxs("div",{className:"relative z-10 grid md:grid-cols-2 gap-12 items-center",children:[c.jsxs("div",{children:[c.jsxs("h2",{className:"text-3xl md:text-5xl font-bold text-white mb-6 leading-tight",children:["The Marapone ",c.jsx("span",{className:"text-[#5227FF]",children:"Ecosystem"})]}),c.jsx("p",{className:"text-lg text-slate-300 mb-8 leading-relaxed",children:"Marapone is evolving beyond services. We are building a connected ecosystem bridging AI innovation, strategic consulting, and global logistics execution."}),c.jsxs("div",{className:"flex flex-wrap gap-4",children:[c.jsxs("div",{className:"flex items-center gap-2 text-white bg-white/10 px-4 py-2 rounded-full border border-white/10",children:[c.jsx(ar,{size:18,className:"text-[#22d3ee]"}),c.jsx("span",{children:"Global Reach"})]}),c.jsxs("div",{className:"flex items-center gap-2 text-white bg-white/10 px-4 py-2 rounded-full border border-white/10",children:[c.jsx(kr,{size:18,className:"text-[#5227FF]"}),c.jsx("span",{children:"AI Driven"})]})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsx(Ml,{value:"300+",label:"Partners",icon:c.jsx(R$,{className:"text-[#5227FF]"})}),c.jsx(Ml,{value:"10+",label:"Awards",icon:c.jsx(U4,{className:"text-amber-400"})}),c.jsx(Ml,{value:"99%",label:"Satisfaction",icon:c.jsx(kr,{className:"text-[#22d3ee]"})}),c.jsx(Ml,{value:"Global",label:"Coverage",icon:c.jsx(ar,{className:"text-emerald-400"})})]})]})]})}),c.jsxs("section",{className:"grid md:grid-cols-2 gap-8 mb-20",children:[c.jsxs(Ne.div,{whileHover:{y:-5},className:"group relative rounded-3xl overflow-hidden border border-white/10 bg-slate-900/50 p-8 min-h-[400px] flex flex-col justify-end",children:[c.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/90 via-black/50 to-transparent z-10"}),c.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_top_right,_var(--tw-gradient-stops))] from-[#5227FF]/20 via-transparent to-transparent opacity-50 group-hover:opacity-100 transition-opacity duration-500"}),c.jsxs("div",{className:"relative z-20",children:[c.jsx("div",{className:"w-12 h-12 rounded-xl bg-[#5227FF] flex items-center justify-center text-white mb-6 shadow-lg shadow-[#5227FF]/30",children:c.jsx(kr,{size:24})}),c.jsx("h3",{className:"text-2xl font-bold text-white mb-3",children:"Accelerate Growth"}),c.jsx("p",{className:"text-slate-300 mb-6",children:"Our solutions drive innovation, efficiency, and measurable impact for businesses across multiple continents."}),c.jsxs(yt,{to:"/contact",className:"inline-flex items-center text-white font-medium hover:text-[#5227FF] transition-colors",children:["Partner with us ",c.jsx(li,{className:"ml-2 w-4 h-4"})]})]})]}),c.jsxs(Ne.div,{whileHover:{y:-5},className:"group relative rounded-3xl overflow-hidden border border-white/10 bg-slate-900/50 p-8 min-h-[400px] flex flex-col justify-end",children:[c.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/90 via-black/50 to-transparent z-10"}),c.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_top_left,_var(--tw-gradient-stops))] from-[#22d3ee]/20 via-transparent to-transparent opacity-50 group-hover:opacity-100 transition-opacity duration-500"}),c.jsxs("div",{className:"relative z-20",children:[c.jsx("div",{className:"w-12 h-12 rounded-xl bg-[#22d3ee] flex items-center justify-center text-slate-900 mb-6 shadow-lg shadow-[#22d3ee]/30",children:c.jsx(ar,{size:24})}),c.jsx("h3",{className:"text-2xl font-bold text-white mb-3",children:"Future-Ready Design"}),c.jsx("p",{className:"text-slate-300 mb-6",children:"Intuitive, scalable solutions for modern businesses combining aesthetics, functionality, and real-world results."}),c.jsxs(yt,{to:"/features",className:"inline-flex items-center text-white font-medium hover:text-[#22d3ee] transition-colors",children:["See our tech ",c.jsx(li,{className:"ml-2 w-4 h-4"})]})]})]})]})]})})}function Ml({value:e,label:t,icon:n}){return c.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-6 text-center hover:bg-white/10 transition-colors",children:[c.jsx("div",{className:"flex justify-center mb-2",children:n}),c.jsx("div",{className:"text-2xl font-bold text-white mb-1",children:e}),c.jsx("div",{className:"text-xs text-slate-400 uppercase tracking-wider",children:t})]})}function J$(){return c.jsxs("div",{className:"landing-container pt-20",children:[" ",c.jsx("div",{className:"relative z-10 max-w-7xl mx-auto px-6 py-16 text-center",children:c.jsxs(Ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8},children:[c.jsxs("h1",{className:"hero-title mb-6",children:["About ",c.jsx("span",{className:"text-[#5227FF]",children:"Marapone"})]}),c.jsx("p",{className:"hero-subtitle mx-auto max-w-3xl",children:"We are a global ecosystem bridging the gap between advanced AI technology and real-world logistics operations."})]})}),c.jsx("section",{className:"py-20 bg-white/5 border-y border-white/5",children:c.jsx("div",{className:"max-w-7xl mx-auto px-6",children:c.jsxs("div",{className:"grid md:grid-cols-2 gap-12 items-center",children:[c.jsxs(Ne.div,{initial:{opacity:0,x:-20},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.8},children:[c.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-full bg-[#5227FF]/10 text-[#c084fc] text-sm font-semibold mb-6 border border-[#5227FF]/20",children:[c.jsx(kr,{size:14}),c.jsx("span",{children:"Flagship Product"})]}),c.jsx("h2",{className:"text-4xl font-bold text-white mb-6",children:"The Gasper Tool"}),c.jsx("p",{className:"text-lg text-slate-300 mb-6 leading-relaxed",children:'The Gasper Tool is our premier SaaS platform, designed to be the "Digital Nervous System" for modern supply chains. It goes beyond simple tracking to provide predictive intelligence.'}),c.jsxs("ul",{className:"space-y-4 mb-8",children:[c.jsxs("li",{className:"flex items-start gap-3 text-slate-300",children:[c.jsx("div",{className:"mt-1 p-1 bg-green-500/20 rounded text-green-400",children:c.jsx(Fj,{size:16})}),c.jsxs("span",{children:[c.jsx("strong",{children:"AI-Powered Analysis:"})," Compliance and risk checks in milliseconds."]})]}),c.jsxs("li",{className:"flex items-start gap-3 text-slate-300",children:[c.jsx("div",{className:"mt-1 p-1 bg-blue-500/20 rounded text-blue-400",children:c.jsx(sm,{size:16})}),c.jsxs("span",{children:[c.jsx("strong",{children:"Digital Twin:"})," Simulate disruptions before they happen."]})]}),c.jsxs("li",{className:"flex items-start gap-3 text-slate-300",children:[c.jsx("div",{className:"mt-1 p-1 bg-purple-500/20 rounded text-purple-400",children:c.jsx(ar,{size:16})}),c.jsxs("span",{children:[c.jsx("strong",{children:"Global Vision:"})," Real-time tracking across sea, air, and rail."]})]})]}),c.jsxs(yt,{to:"/gasper",className:"btn-primary inline-flex items-center",children:["Explore Gasper ",c.jsx(li,{className:"ml-2",size:20})]})]}),c.jsx(Ne.div,{initial:{opacity:0,scale:.9},whileInView:{opacity:1,scale:1},viewport:{once:!0},transition:{duration:.8},className:"relative",children:c.jsxs("div",{className:"rounded-2xl border border-white/10 overflow-hidden shadow-[0_0_50px_rgba(82,39,255,0.2)] relative group",children:[c.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-[#5227FF]/20 to-transparent mix-blend-overlay"}),c.jsx("img",{src:"/global-trade.png",alt:"Gasper Intelligence Global Trade Map",className:"w-full h-auto transition-transform duration-700 group-hover:scale-105"}),c.jsx("div",{className:"absolute bottom-6 left-6 right-6 p-4 bg-black/60 backdrop-blur-md border border-white/10 rounded-xl",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("div",{className:"text-white font-bold",children:"Gasper Intelligence"}),c.jsx("div",{className:"text-[#c084fc] text-xs",children:"v2.0 Live Network Feed"})]}),c.jsx("div",{className:"px-2 py-1 bg-green-500/20 text-green-400 text-[10px] font-bold rounded animate-pulse",children:"ACTIVE"})]})})]})})]})})}),c.jsx("div",{className:"py-12",children:c.jsx(X$,{})})]})}function Q$({activeTab:e,onTabChange:t,isCollapsed:n,toggleCollapse:r,isMobileOpen:i,closeMobileMenu:s}){const a=[{id:"dashboard",label:"Overview",icon:$3},{id:"map",label:"Live Map",icon:ar},{id:"chat",label:"AI Assistant",icon:Q3},{id:"market",label:"Market Intel",icon:Pn},{id:"shipments",label:"Shipments",icon:Pc},{id:"classifier",label:"HS Classifier",icon:Do},{id:"rates",label:"Rate Check",icon:Pn},{id:"simulation",label:"Digital Twin",icon:W4},{id:"analytics",label:"Analytics",icon:zj},{id:"compliance",label:"Compliance",icon:x$},{id:"risk",label:"Risk Monitor",icon:Kj},{id:"carbon",label:"Sustainability",icon:im},{id:"docs",label:"Documents",icon:Fp}];return c.jsxs("div",{className:`gasper-sidebar ${n?"collapsed":""} ${i?"mobile-open":""}`,children:[c.jsxs("div",{className:"sidebar-header",children:[c.jsx("div",{className:"brand-logo h-8 w-8 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white font-bold text-xs",children:"GT"}),c.jsxs("h1",{className:`font-bold text-lg tracking-tight text-white transition-opacity duration-300 ${n?"opacity-0 w-0 hidden":"opacity-100"}`,children:["Gasper",c.jsx("span",{className:"text-blue-400",children:"Tool"})]}),c.jsx("button",{onClick:s,className:"md:hidden ml-auto text-white/60 hover:text-white",children:c.jsx(Zj,{size:20})})]}),c.jsx("div",{className:"sidebar-nav custom-scrollbar",children:a.map(l=>c.jsxs("div",{className:`nav-item ${e===l.id?"active":""}`,onClick:()=>t(l.id),children:[c.jsx(l.icon,{size:20,className:`nav-item-icon ${e===l.id?"text-cyan-400":""}`}),c.jsx("span",{className:"nav-label",children:l.label}),e===l.id&&!n&&c.jsx("div",{className:"ml-auto w-1.5 h-1.5 rounded-full bg-cyan-400 shadow-[0_0_8px_rgba(34,211,238,0.8)]"})]},l.id))}),c.jsx("div",{className:"p-4 border-t border-white/10 hidden md:block",children:c.jsx("button",{onClick:r,className:"w-full flex items-center justify-center p-2 rounded-lg hover:bg-white/5 text-white/60 hover:text-white transition-colors",children:n?c.jsx(i3,{size:20}):c.jsx(n3,{size:20})})})]})}const ue=Wt.forwardRef(({className:e,...t},n)=>c.jsx("div",{ref:n,className:Xt("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));ue.displayName="Card";const ez=Wt.forwardRef(({className:e,...t},n)=>c.jsx("div",{ref:n,className:Xt("flex flex-col space-y-1.5 p-6",e),...t}));ez.displayName="CardHeader";const tz=Wt.forwardRef(({className:e,...t},n)=>c.jsx("h3",{ref:n,className:Xt("text-2xl font-semibold leading-none tracking-tight",e),...t}));tz.displayName="CardTitle";const nz=Wt.forwardRef(({className:e,...t},n)=>c.jsx("p",{ref:n,className:Xt("text-sm text-muted-foreground",e),...t}));nz.displayName="CardDescription";const rz=Wt.forwardRef(({className:e,...t},n)=>c.jsx("div",{ref:n,className:Xt("p-6 pt-0",e),...t}));rz.displayName="CardContent";const iz=Wt.forwardRef(({className:e,...t},n)=>c.jsx("div",{ref:n,className:Xt("flex items-center p-6 pt-0",e),...t}));iz.displayName="CardFooter";const sz=async(e="USD")=>{try{const t=await fetch(`https://open.er-api.com/v6/latest/${e}`);if(!t.ok)throw new Error("Failed to fetch currency data");const n=await t.json();return{EUR:n.rates.EUR,GBP:n.rates.GBP,CNY:n.rates.CNY,JPY:n.rates.JPY,lastUpdate:n.time_last_update_utc}}catch(t){return console.error("Currency Fetch Error:",t),null}},az=async(e,t)=>{try{const n=await fetch(`https://api.open-meteo.com/v1/forecast?latitude=${e}&longitude=${t}&current=temperature_2m,weather_code,wind_speed_10m&hourly=temperature_2m,precipitation_probability`);if(!n.ok)throw new Error("Failed to fetch weather data");return await n.json()}catch(n){return console.error("Weather Fetch Error:",n),null}},zx={SHANGHAI:{name:"Shanghai",lat:31.2304,lon:121.4737},ROTTERDAM:{name:"Rotterdam",lat:51.9225,lon:4.47917},LOS_ANGELES:{name:"Los Angeles",lat:33.7288,lon:-118.262},SINGAPORE:{name:"Singapore",lat:1.3521,lon:103.8198}};function oz(){const[e,t]=b.useState(null),[n,r]=b.useState({}),[i,s]=b.useState(!0),[a,l]=b.useState(null),u=async()=>{s(!0);const f=await sz();t(f),l(new Date().toLocaleTimeString());const m=Object.entries(zx).map(async([y,w])=>{const _=await az(w.lat,w.lon);return{[y]:_}}),v=(await Promise.all(m)).reduce((y,w)=>({...y,...w}),{});r(v),s(!1)};b.useEffect(()=>{u();const f=setInterval(u,6e4*5);return()=>clearInterval(f)},[]);const h=f=>f<=3?"â˜€ï¸":f<=48?"â˜ï¸":f<=67?"ðŸŒ§ï¸":f<=77?"â„ï¸":f<=99?"â›ˆï¸":"â“";return c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[c.jsxs(ue,{className:"p-5 glass-panel border-0 bg-white/5 relative overflow-hidden group",children:[c.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity",children:c.jsx(Pn,{size:100})}),c.jsxs("div",{className:"flex justify-between items-center mb-4 relative z-10",children:[c.jsxs("h3",{className:"font-semibold text-white flex items-center gap-2",children:[c.jsx("span",{className:"w-2 h-2 rounded-full bg-green-400 animate-pulse"}),"Live Forex (USD Base)"]}),c.jsx("button",{onClick:u,className:"p-1 hover:bg-white/10 rounded-full transition-colors",children:c.jsx(Wj,{size:14,className:`text-white/60 ${i?"animate-spin":""}`})})]}),c.jsx("div",{className:"grid grid-cols-2 gap-4 relative z-10",children:i&&!e?c.jsx("div",{className:"text-white/40 text-sm col-span-2",children:"Loading rates..."}):e?c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"bg-white/5 p-3 rounded-lg border border-white/5 hover:border-white/20 transition-colors",children:[c.jsx("div",{className:"text-xs text-white/60 mb-1",children:"EUR / USD"}),c.jsx("div",{className:"text-xl font-bold text-white",children:(1/e.EUR).toFixed(4)}),c.jsxs("div",{className:"text-xs text-green-400 flex items-center mt-1",children:[c.jsx(Pn,{size:10,className:"mr-1"})," Live"]})]}),c.jsxs("div",{className:"bg-white/5 p-3 rounded-lg border border-white/5 hover:border-white/20 transition-colors",children:[c.jsx("div",{className:"text-xs text-white/60 mb-1",children:"GBP / USD"}),c.jsx("div",{className:"text-xl font-bold text-white",children:(1/e.GBP).toFixed(4)}),c.jsxs("div",{className:"text-xs text-green-400 flex items-center mt-1",children:[c.jsx(Pn,{size:10,className:"mr-1"})," Live"]})]}),c.jsxs("div",{className:"bg-white/5 p-3 rounded-lg border border-white/5 hover:border-white/20 transition-colors",children:[c.jsx("div",{className:"text-xs text-white/60 mb-1",children:"USD / CNY"}),c.jsx("div",{className:"text-xl font-bold text-white",children:e.CNY.toFixed(4)}),c.jsxs("div",{className:"text-xs text-blue-400 flex items-center mt-1",children:[c.jsx(li,{size:10,className:"mr-1"})," Stable"]})]}),c.jsxs("div",{className:"bg-white/5 p-3 rounded-lg border border-white/5 hover:border-white/20 transition-colors",children:[c.jsx("div",{className:"text-xs text-white/60 mb-1",children:"USD / JPY"}),c.jsx("div",{className:"text-xl font-bold text-white",children:e.JPY.toFixed(2)}),c.jsxs("div",{className:"text-xs text-red-400 flex items-center mt-1",children:[c.jsx(fo,{size:10,className:"mr-1"})," -0.2%"]})]})]}):c.jsx("div",{className:"text-red-400 text-sm col-span-2",children:"Failed to load"})}),c.jsxs("div",{className:"text-[10px] text-white/30 mt-3 text-right",children:["Updated: ",a]})]}),c.jsxs(ue,{className:"p-5 glass-panel border-0 bg-white/5 relative overflow-hidden group",children:[c.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity",children:c.jsx(h3,{size:100})}),c.jsx("div",{className:"flex justify-between items-center mb-4 relative z-10",children:c.jsxs("h3",{className:"font-semibold text-white flex items-center gap-2",children:[c.jsx("span",{className:"w-2 h-2 rounded-full bg-blue-400 animate-pulse"}),"Port Conditions"]})}),c.jsx("div",{className:"space-y-3 relative z-10",children:i&&Object.keys(n).length===0?c.jsx("div",{className:"text-white/40 text-sm",children:"Loading weather..."}):Object.entries(zx).map(([f,m])=>{var v;const g=(v=n[f])==null?void 0:v.current;return g?c.jsxs("div",{className:"flex items-center justify-between p-2 rounded hover:bg-white/5 transition-colors",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"text-2xl",children:h(g.weather_code)}),c.jsxs("div",{children:[c.jsx("div",{className:"text-sm font-medium text-white",children:m.name}),c.jsx("div",{className:"text-xs text-white/50 flex items-center gap-2",children:c.jsxs("span",{className:"flex items-center gap-1",children:[c.jsx(H$,{size:10})," ",g.wind_speed_10m," km/h"]})})]})]}),c.jsxs("div",{className:"text-right",children:[c.jsxs("div",{className:"text-lg font-bold text-white",children:[g.temperature_2m,"Â°C"]}),c.jsx("div",{className:"text-xs text-white/40",children:"Real-time"})]})]},f):null})})]})]})}function lz(){const[e,t]=b.useState([]),[n,r]=b.useState(!0),[i,s]=b.useState(""),a=async()=>{r(!0);try{const l=await fetch("https://opensky-network.org/api/states/all?lamin=35.00&lomin=-10.00&lamax=70.00&lomax=40.00");if(!l.ok)throw new Error("OpenSky API Limit or Error");const u=await l.json();if(u.states){const h=u.states.filter(f=>f[1]&&f[1].trim()!=="").slice(0,8).map(f=>({callsign:f[1].trim(),country:f[2],velocity:f[9],altitude:f[7]}));t(h)}}catch(l){console.error("Flight fetch error:",l),t([{callsign:"DLH123",country:"Germany",velocity:240,altitude:11e3},{callsign:"BAW456",country:"United Kingdom",velocity:235,altitude:10500},{callsign:"AFR789",country:"France",velocity:242,altitude:11200},{callsign:"UAE52",country:"United Arab Emirates",velocity:250,altitude:12e3}])}finally{r(!1)}};return b.useEffect(()=>{a()},[]),c.jsxs(ue,{className:"p-5 glass-panel border-0 bg-white/5 relative overflow-hidden h-full flex flex-col",children:[c.jsxs("div",{className:"flex justify-between items-center mb-4 flex-shrink-0",children:[c.jsxs("h3",{className:"font-semibold text-white flex items-center gap-2",children:[c.jsx(Dx,{size:18,className:"text-blue-400 transform -rotate-45"}),"Live Air Traffic (Europe)"]}),c.jsx("button",{onClick:a,className:"p-1 hover:bg-white/10 rounded-full transition-colors",children:c.jsx(Wj,{size:14,className:`text-white/60 ${n?"animate-spin":""}`})})]}),c.jsxs("div",{className:"mb-4 relative flex-shrink-0",children:[c.jsx(Do,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-white/30 h-3 w-3"}),c.jsx("input",{type:"text",placeholder:"Filter by Callsign...",value:i,onChange:l=>s(l.target.value),className:"w-full bg-white/5 hover:bg-white/10 border border-white/10 rounded-lg text-xs px-3 py-2 pl-8 text-white focus:outline-none focus:border-blue-400/50 transition-colors placeholder:text-white/20"})]}),c.jsx("div",{className:"space-y-2 overflow-y-auto custom-scrollbar flex-1 pr-1",children:e.filter(l=>l.callsign.toLowerCase().includes(i.toLowerCase())).map((l,u)=>c.jsxs("div",{className:"flex items-center justify-between p-2 rounded-lg hover:bg-white/5 transition-colors border border-transparent hover:border-white/10 group cursor-pointer",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"bg-blue-500/20 p-2 rounded-lg group-hover:bg-blue-500/30 transition-colors",children:c.jsx(Dx,{size:14,className:"text-blue-400 transform -rotate-45"})}),c.jsxs("div",{children:[c.jsx("div",{className:"text-sm font-bold text-white tracking-wide",children:l.callsign}),c.jsxs("div",{className:"text-[10px] text-white/50 flex items-center gap-1",children:[c.jsx(jc,{size:10})," ",l.country]})]})]}),c.jsxs("div",{className:"text-right",children:[c.jsxs("div",{className:"text-xs text-white/90 font-mono",children:[(l.velocity*3.6).toFixed(0)," km/h"]}),c.jsxs("div",{className:"text-[10px] text-white/40",children:[l.altitude?l.altitude.toFixed(0):0,"m Alt"]})]})]},u))}),c.jsx("div",{className:"mt-3 text-[10px] text-white/30 text-center flex-shrink-0 pt-2 border-t border-white/5",children:"Data provided by OpenSky Network"})]})}function cz(){const[e,t]=b.useState([{name:"Brent Crude",symbol:"OIL",price:82.4,change:1.2,unit:"USD/bbl",icon:Lx,color:"text-amber-500"},{name:"Gold Spot",symbol:"XAU",price:2035.5,change:-.5,unit:"USD/oz",icon:m3,color:"text-yellow-400"},{name:"Natural Gas",symbol:"NG",price:2.85,change:3.1,unit:"USD/MMBtu",icon:Lx,color:"text-blue-400"}]),n=()=>{t(r=>r.map(i=>{const a=Math.random()*.002*2-.002,l=i.price*(1+a);return{...i,price:l,change:i.change+a*100}}))};return b.useEffect(()=>{const r=setInterval(n,3e3);return()=>clearInterval(r)},[]),c.jsxs(ue,{className:"p-5 glass-panel border-0 bg-white/5 relative overflow-hidden h-full",children:[c.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c.jsxs("h3",{className:"font-semibold text-white flex items-center gap-2",children:[c.jsx(Pn,{size:18,className:"text-green-400"}),"Commodities"]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500 animate-pulse"}),c.jsx("span",{className:"text-[10px] text-white/40 uppercase tracking-widest",children:"Live"})]})]}),c.jsx("div",{className:"space-y-4",children:e.map((r,i)=>c.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-white/5 border border-white/5 hover:border-white/20 transition-all",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:`p-2 rounded-full bg-white/5 ${r.color}`,children:c.jsx(r.icon,{size:16})}),c.jsxs("div",{children:[c.jsx("div",{className:"text-sm font-bold text-white",children:r.name}),c.jsx("div",{className:"text-[10px] text-white/50",children:r.unit})]})]}),c.jsxs("div",{className:"text-right",children:[c.jsx("div",{className:"text-lg font-mono font-bold text-white",children:r.price.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}),c.jsxs("div",{className:`text-xs flex items-center justify-end gap-1 ${r.change>=0?"text-green-400":"text-red-400"}`,children:[r.change>=0?c.jsx(Pn,{size:10}):c.jsx(fo,{size:10}),Math.abs(r.change).toFixed(2),"%"]})]})]},i))}),c.jsx("div",{className:"mt-4 text-[10px] text-white/30 text-center",children:"Simulated Live Feed"})]})}function uz(){const[e,t]=b.useState([]),[n,r]=b.useState(!0);return b.useEffect(()=>{(async()=>{try{const s=await fetch("https://date.nager.at/api/v3/NextPublicHolidaysWorldwide");if(!s.ok)throw new Error("Failed to fetch");const a=await s.json();t(a.slice(0,5))}catch(s){console.error("Holiday fetch error:",s),t([{date:"2025-01-01",localName:"New Year Day",countryCode:"Global"},{date:"2025-02-14",localName:"Valentine Day",countryCode:"Global"}])}finally{r(!1)}})()},[]),c.jsxs(ue,{className:"p-5 glass-panel border-0 bg-white/5 relative overflow-hidden h-full",children:[c.jsx("div",{className:"flex justify-between items-center mb-4",children:c.jsxs("h3",{className:"font-semibold text-white flex items-center gap-2",children:[c.jsx(Y4,{size:18,className:"text-purple-400"}),"Global Holidays"]})}),c.jsx("div",{className:"space-y-3",children:n?c.jsx("div",{className:"text-white/40 text-sm animate-pulse",children:"Loading calendar..."}):e.map((i,s)=>c.jsxs("div",{className:"flex items-center justify-between p-2 rounded hover:bg-white/5 transition-colors border-b border-white/5 last:border-0",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"text-xs font-bold text-white/50 bg-white/10 px-2 py-1 rounded w-10 text-center",children:i.countryCode||"GLO"}),c.jsxs("div",{children:[c.jsx("div",{className:"text-sm font-medium text-white",children:i.localName}),c.jsx("div",{className:"text-xs text-white/40",children:i.name})]})]}),c.jsx("div",{className:"text-xs text-purple-300 font-mono",children:i.date})]},s))}),c.jsx("div",{className:"mt-3 text-[10px] text-white/30 text-center",children:"Powered by Nager.Date"})]})}function dz(){const[e,t]=b.useState([]),[n,r]=b.useState("disconnected"),[i,s]=b.useState(""),[a,l]=b.useState(!0),u=b.useRef(null),h=[{name:"EVER GIVEN",type:"Cargo",lat:30.01,lon:32.54,speed:12.5,dest:"Rotterdam",status:"Underway"},{name:"MAERSK SEALAND",type:"Cargo",lat:34.22,lon:-118.24,speed:0,dest:"Los Angeles",status:"Moored"},{name:"MSC IRIS",type:"Cargo",lat:1.29,lon:103.85,speed:10.2,dest:"Singapore",status:"Underway"},{name:"CMA CGM MARCO POLO",type:"Cargo",lat:51.5,lon:.12,speed:14,dest:"Hamburg",status:"Underway"}];b.useEffect(()=>{if(a){t(h);const g=setInterval(()=>{t(v=>v.map(y=>y.status==="Moored"?y:{...y,lat:y.lat+(Math.random()-.5)*.01,lon:y.lon+(Math.random()-.5)*.01,speed:Math.max(0,y.speed+(Math.random()-.5))}))},2e3);return r("demo"),()=>clearInterval(g)}},[a]);const f=()=>{if(!i){alert("Please enter a valid AISStream API Key to connect live.");return}l(!1),r("connecting");const g=new WebSocket("wss://stream.aisstream.io/v0/stream");g.onopen=()=>{r("connected");const v={APIKey:i,BoundingBoxes:[[[-90,-180],[90,180]]],FiltersShipMMSI:[],FilterMessageTypes:["PositionReport"]};g.send(JSON.stringify(v)),t([])},g.onmessage=v=>{const y=JSON.parse(v.data);if(y.MessageType==="PositionReport"){const w=y.Message.PositionReport,_=y.MetaData;t(j=>{const k=j.findIndex(C=>C.mmsi===w.UserID),P={name:_.ShipName||`Vessel ${w.UserID}`,mmsi:w.UserID,lat:w.Latitude,lon:w.Longitude,speed:w.Sog,dest:"Unknown",status:w.NavigationalStatus===0?"Underway":"Other"};if(k>=0){const C=[...j];return C[k]=P,C}else return[P,...j].slice(0,10)})}},g.onclose=()=>{r("disconnected")},g.onerror=v=>{console.error("WebSocket Error:",v),r("error")},u.current=g},m=()=>{a?(l(!1),t([]),r("disconnected")):(u.current&&u.current.close(),l(!0))};return c.jsxs(ue,{className:"p-5 glass-panel border-0 bg-white/5 relative overflow-hidden h-full flex flex-col",children:[c.jsxs("div",{className:"flex justify-between items-center mb-4 flex-shrink-0",children:[c.jsxs("h3",{className:"font-semibold text-white flex items-center gap-2",children:[c.jsx(Gj,{size:18,className:"text-cyan-400"}),"Global Vessel Tracking"]}),c.jsx("button",{onClick:m,className:`text-[10px] px-2 py-1 rounded border transition-colors ${a?"bg-cyan-500/20 border-cyan-500/50 text-cyan-300":"bg-white/5 border-white/10 text-white/50 hover:bg-white/10"}`,children:a?"DEMO MODE":"LIVE API"})]}),!a&&n!=="connected"&&c.jsxs("div",{className:"mb-4",children:[c.jsx("input",{type:"text",placeholder:"Enter AISStream API Key",value:i,onChange:g=>s(g.target.value),className:"w-full bg-white/5 border border-white/10 rounded px-2 py-1 text-xs text-white mb-2"}),c.jsx("button",{onClick:f,className:"w-full bg-cyan-600 hover:bg-cyan-500 text-white text-xs py-1.5 rounded transition-colors",children:"Connect WebSocket"})]}),c.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar space-y-2 pr-1",children:e.map((g,v)=>c.jsxs("div",{className:"flex items-center justify-between p-2 rounded bg-white/5 border border-white/5 hover:border-cyan-500/30 transition-all",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"p-1.5 rounded bg-cyan-900/40 text-cyan-400",children:g.status==="Moored"?c.jsx(Bp,{size:14}):c.jsx(t$,{size:14,className:g.status==="Underway"?"transform rotate-45":""})}),c.jsxs("div",{children:[c.jsx("div",{className:"text-sm font-bold text-white leading-none",children:g.name}),c.jsxs("div",{className:"text-[10px] text-white/50 mt-1 flex items-center gap-1",children:[c.jsx(Z3,{size:10})," ",g.lat.toFixed(2),", ",g.lon.toFixed(2)]})]})]}),c.jsxs("div",{className:"text-right",children:[c.jsxs("div",{className:"text-xs font-mono text-cyan-300",children:[g.speed.toFixed(1)," kn"]}),c.jsx("div",{className:"text-[10px] text-white/40",children:g.dest})]})]},v))}),c.jsxs("div",{className:"mt-3 pt-2 border-t border-white/5 flex justify-between items-center text-[10px] text-white/40",children:[c.jsxs("span",{children:[e.length," Active Vessels"]}),c.jsxs("span",{className:"flex items-center gap-1",children:[n==="connected"?c.jsx(V$,{size:10,className:"text-green-400"}):c.jsx(F$,{size:10}),n.toUpperCase()]})]})]})}function hz(){const[e,t]=b.useState([{id:"RL-89021",route:"CN: Shanghai -> DE: Hamburg",carrier:"China Railway Express",progress:78,status:"On Time",eta:"2d 4h"},{id:"UP-44512",route:"US: Chicago -> US: Los Angeles",carrier:"Union Pacific",progress:45,status:"Delayed",eta:"4d 12h"},{id:"CSX-1120",route:"US: New York -> US: Atlanta",carrier:"CSX Transportation",progress:92,status:"On Time",eta:"8h"}]);return b.useEffect(()=>{const n=setInterval(()=>{t(r=>r.map(i=>i.progress>=100?i:{...i,progress:Math.min(100,i.progress+.5)}))},5e3);return()=>clearInterval(n)},[]),c.jsxs(ue,{className:"p-5 glass-panel border-0 bg-white/5 relative overflow-hidden h-full flex flex-col",children:[c.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c.jsxs("h3",{className:"font-semibold text-white flex items-center gap-2",children:[c.jsx(k$,{size:18,className:"text-amber-400"}),"Rail Freight Tracker"]}),c.jsx("div",{className:"bg-amber-500/10 text-amber-300 text-[10px] px-2 py-0.5 rounded border border-amber-500/20",children:"SIMULATION"})]}),c.jsx("div",{className:"space-y-4 overflow-y-auto custom-scrollbar pr-1 flex-1",children:e.map((n,r)=>c.jsxs("div",{className:"p-3 rounded-lg bg-white/5 border border-white/5 hover:bg-white/10 transition-colors",children:[c.jsxs("div",{className:"flex justify-between mb-2",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Pc,{size:14,className:"text-white/60"}),c.jsx("span",{className:"text-sm font-bold text-white",children:n.id})]}),c.jsxs("div",{className:`flex items-center gap-1 text-xs px-2 py-0.5 rounded-full ${n.status==="On Time"?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-400"}`,children:[n.status==="On Time"?c.jsx(Iu,{size:10}):c.jsx(Ws,{size:10}),n.status]})]}),c.jsxs("div",{className:"flex items-center gap-1 text-[11px] text-white/50 mb-3",children:[c.jsx(jc,{size:10})," ",n.route]}),c.jsxs("div",{className:"relative pt-1",children:[c.jsxs("div",{className:"flex mb-1 items-center justify-between",children:[c.jsx("span",{className:"text-[10px] font-semibold text-amber-200 py-0.5 rounded uppercase",children:n.carrier}),c.jsxs("span",{className:"text-[10px] font-semibold text-white",children:[n.progress.toFixed(0),"%"]})]}),c.jsx("div",{className:"overflow-hidden h-1.5 mb-1 text-xs flex rounded bg-white/10",children:c.jsx("div",{style:{width:`${n.progress}%`},className:`shadow-none flex flex-col text-center whitespace-nowrap text-white justify-center transition-all duration-1000 ${n.status==="Delayed"?"bg-red-500":"bg-amber-500"}`})}),c.jsxs("div",{className:"text-right text-[10px] text-white/40",children:["ETA: ",n.eta]})]})]},r))}),c.jsx("div",{className:"mt-3 text-[10px] text-white/30 text-center pt-2 border-t border-white/5",children:"Connected to Regional Rail APIs"})]})}function Bx(){return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[c.jsxs(ue,{className:"p-6 glass-panel border-0 bg-white/5",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("h3",{className:"text-white/60 font-medium text-sm",children:"Active Shipments"}),c.jsx("div",{className:"p-2 bg-blue-500/20 rounded-lg text-blue-400",children:c.jsx(Gj,{size:20})})]}),c.jsxs("div",{className:"flex items-end justify-between",children:[c.jsx("div",{className:"text-3xl font-bold text-white",children:"12"}),c.jsxs("div",{className:"flex items-center text-green-400 text-sm font-medium",children:[c.jsx(Ix,{size:16,className:"mr-1"}),"On Track"]})]})]}),c.jsxs(ue,{className:"p-6 glass-panel border-0 bg-white/5",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("h3",{className:"text-white/60 font-medium text-sm",children:"Carbon Offset"}),c.jsx("div",{className:"p-2 bg-green-500/20 rounded-lg text-green-400",children:c.jsx(kr,{size:20})})]}),c.jsxs("div",{className:"flex items-end justify-between",children:[c.jsx("div",{className:"text-3xl font-bold text-white",children:"4.2t"}),c.jsxs("div",{className:"flex items-center text-green-400 text-sm font-medium",children:[c.jsx(Ix,{size:16,className:"mr-1"}),"+5%"]})]})]}),c.jsxs(ue,{className:"p-6 glass-panel border-0 bg-white/5",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("h3",{className:"text-white/60 font-medium text-sm",children:"Global Risk"}),c.jsx("div",{className:"p-2 bg-red-500/20 rounded-lg text-red-400",children:c.jsx(ar,{size:20})})]}),c.jsxs("div",{className:"flex items-end justify-between",children:[c.jsx("div",{className:"text-3xl font-bold text-white",children:"Low"}),c.jsx("div",{className:"text-sm text-white/40",children:"Updated 2m ago"})]})]}),c.jsxs(ue,{className:"p-6 glass-panel border-0 bg-white/5",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("h3",{className:"text-white/60 font-medium text-sm",children:"Pending Actions"}),c.jsx("div",{className:"p-2 bg-amber-500/20 rounded-lg text-amber-400",children:c.jsx(Mu,{size:20})})]}),c.jsxs("div",{className:"flex items-end justify-between",children:[c.jsx("div",{className:"text-3xl font-bold text-white",children:"3"}),c.jsx("div",{className:"text-sm text-amber-400",children:"Needs Attention"})]})]})]}),c.jsx("h2",{className:"text-lg font-semibold text-white/80 mt-8 mb-4",children:"Live Market & Logistics Data"}),c.jsx(oz,{}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 min-h-[400px]",children:[c.jsx(lz,{}),c.jsx(cz,{}),c.jsx(uz,{})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 min-h-[350px]",children:[c.jsx(dz,{}),c.jsx(hz,{})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 min-h-[320px]",children:[c.jsxs(ue,{className:"col-span-1 lg:col-span-2 glass-panel border-0 bg-white/5 p-6 flex flex-col justify-center items-center text-white/40 relative overflow-hidden min-h-[300px]",children:[c.jsx("div",{className:"absolute inset-0 bg-[url('https://images.unsplash.com/photo-1524661135-423995f22d0b?auto=format&fit=crop&q=80')] opacity-10 bg-cover bg-center"}),c.jsx(ar,{size:48,className:"mb-4 opacity-50"}),c.jsx("span",{className:"z-10 text-lg font-medium",children:"Global Logistics Map (Coming Soon)"})]}),c.jsxs(ue,{className:"glass-panel border-0 bg-white/5 p-6",children:[c.jsx("h3",{className:"font-semibold text-white mb-4",children:"Recent Alerts"}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex gap-3 items-start",children:[c.jsx("div",{className:"w-2 h-2 mt-2 rounded-full bg-red-500 shrink-0"}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-white font-medium",children:"Port Congestion Warning"}),c.jsx("p",{className:"text-xs text-white/50",children:"Shanghai Port reporting 48h delays."})]})]}),c.jsxs("div",{className:"flex gap-3 items-start",children:[c.jsx("div",{className:"w-2 h-2 mt-2 rounded-full bg-amber-500 shrink-0"}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-white font-medium",children:"Rate Hike Alert"}),c.jsx("p",{className:"text-xs text-white/50",children:"Trans-Pacific rates up by 5%."})]})]})]})]})]})]})}const Up=Wt.forwardRef(({className:e,...t},n)=>c.jsx("textarea",{className:Xt("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...t}));Up.displayName="Textarea";const qh={"bluetooth speaker":{code:"8518.21.00",description:"Loudspeakers, without housing (portable)",confidence:.92,reasoning:"Product is a portable audio device with wireless connectivity",dutyRate:"0% (MFN)"},laptop:{code:"8471.30.01",description:"Portable automatic data processing machines, weighing not more than 10 kg",confidence:.95,reasoning:"Portable computing device for personal use",dutyRate:"0% (MFN)"},smartphone:{code:"8517.13.00",description:"Smartphones",confidence:.98,reasoning:"Mobile telephone with computing capabilities",dutyRate:"0% (MFN)"},headphones:{code:"8518.30.20",description:"Headphones and earphones, whether or not combined with a microphone",confidence:.94,reasoning:"Personal audio listening device",dutyRate:"0% (MFN)"},tablet:{code:"8471.30.01",description:"Portable automatic data processing machines, weighing not more than 10 kg",confidence:.93,reasoning:"Portable touchscreen computing device",dutyRate:"0% (MFN)"},"cotton t-shirt":{code:"6109.10.00",description:"T-shirts, singlets and other vests, of cotton, knitted or crocheted",confidence:.96,reasoning:"Knitted cotton garment for upper body",dutyRate:"18% (MFN)"},jeans:{code:"6203.42.00",description:"Men's or boys' trousers, bib and brace overalls, of cotton",confidence:.94,reasoning:"Cotton denim trousers",dutyRate:"17% (MFN)"},"running shoes":{code:"6404.11.00",description:"Sports footwear; tennis shoes, basketball shoes, gym shoes, training shoes",confidence:.91,reasoning:"Athletic footwear with rubber/plastic outer sole",dutyRate:"20% (MFN)"},"coffee beans":{code:"0901.21.00",description:"Coffee, not roasted, not decaffeinated",confidence:.97,reasoning:"Raw coffee beans for roasting",dutyRate:"0% (MFN)"},"olive oil":{code:"1509.10.00",description:"Virgin olive oil",confidence:.95,reasoning:"Edible vegetable oil from olives",dutyRate:"0% (MFN)"},"office chair":{code:"9401.30.00",description:"Swivel seats with variable height adjustment",confidence:.93,reasoning:"Adjustable seating furniture for office use",dutyRate:"0% (MFN)"},"wooden table":{code:"9403.60.00",description:"Other wooden furniture",confidence:.89,reasoning:"Furniture primarily of wood construction",dutyRate:"0% (MFN)"},"board game":{code:"9504.90.00",description:"Other games, operated by coins, banknotes, bank cards, tokens or by other means of payment",confidence:.87,reasoning:"Entertainment game for multiple players",dutyRate:"0% (MFN)"},"stuffed animal":{code:"9503.00.21",description:"Toys representing animals or non-human creatures",confidence:.94,reasoning:"Soft toy in animal form",dutyRate:"0% (MFN)"}};function Yj(e){const t=e.toLowerCase().trim();if(qh[t])return qh[t];const n=t.split(" ");for(const[r,i]of Object.entries(qh)){const s=r.split(" ");if(n.filter(l=>s.some(u=>u.includes(l)||l.includes(u))).length>=Math.min(2,n.length))return{...i,confidence:i.confidence*.85,reasoning:`${i.reasoning} (matched based on keywords: ${n.join(", ")})`}}return{code:"9999.99.99",description:"Product classification requires manual review",confidence:.45,reasoning:"Unable to automatically classify this product. Please consult with a customs broker for accurate HS code determination.",dutyRate:"Unknown - requires manual classification"}}function fz(e){const{units:t,unitPrice:n,origin:r,destination:i,weight:s=t*.5}=e,a=t*n,l=Xj(r),u=s*l*3.5,f=a*.065,m=i.toLowerCase().includes("ontario")||i.toLowerCase().includes("toronto")?.13:.05,g=(a+f)*m,v=a*.005,y=a+u+f+g+v;return{breakdown:{productCost:a,shipping:u,duties:f,taxes:g,insurance:v,total:y},currency:"CAD",perUnit:y/t,notes:["Duty rates vary by product classification (HS code)","Shipping costs are estimates and may vary by carrier",`Tax rate of ${(m*100).toFixed(0)}% applied based on destination`,"Insurance is optional but recommended for high-value shipments"]}}function Xj(e,t){const n=e.toLowerCase();return n.includes("china")||n.includes("shanghai")||n.includes("beijing")?2.5:n.includes("usa")||n.includes("united states")?1.2:n.includes("europe")||n.includes("uk")?2:n.includes("mexico")?1.5:2}function mz(e,t,n){const r=e.toLowerCase(),i=n.toLowerCase(),s=[{name:"Commercial Invoice",required:!0,description:"Detailed invoice showing product description, value, and terms of sale",authority:"CBSA"},{name:"Packing List",required:!0,description:"Detailed list of package contents, weights, and dimensions",authority:"CBSA"},{name:"Bill of Lading / Air Waybill",required:!0,description:"Transport document issued by carrier",authority:"Carrier"}],a=[];let l="Low",u="3-5 business days";return(r.includes("electronic")||r.includes("laptop")||r.includes("phone"))&&(s.push({name:"FCC Compliance Certificate",required:!0,description:"Federal Communications Commission compliance for electronic devices",authority:"FCC"},{name:"CE Marking (if from EU)",required:!1,description:"European conformity marking",authority:"EU"},{name:"Battery Safety Documentation",required:!0,description:"UN38.3 test summary for lithium batteries",authority:"Transport Canada"}),l="Medium",u="5-7 business days",a.push("Electronics with batteries require special handling and documentation")),(r.includes("food")||r.includes("coffee")||r.includes("beverage"))&&(s.push({name:"CFIA Import License",required:!0,description:"Canadian Food Inspection Agency import permit",authority:"CFIA"},{name:"Ingredient List & Nutritional Info",required:!0,description:"Complete ingredient declaration and nutritional facts",authority:"Health Canada"},{name:"Allergen Declaration",required:!0,description:"Declaration of major allergens present",authority:"Health Canada"}),l="High",u="10-15 business days",a.push("Food products require CFIA approval before import"),a.push("Labeling must comply with Canadian bilingual requirements")),(r.includes("clothing")||r.includes("textile")||r.includes("shirt")||r.includes("jeans"))&&(s.push({name:"Textile Declaration",required:!0,description:"Fiber content and country of origin labeling",authority:"Competition Bureau"},{name:"Care Labeling",required:!0,description:"Washing and care instructions in English and French",authority:"Competition Bureau"}),a.push("All textile labels must be in both English and French")),(i.includes("canada")||i.includes("toronto")||i.includes("vancouver"))&&s.push({name:"CBSA Declaration",required:!0,description:"Canada Border Services Agency import declaration",authority:"CBSA"}),{documents:s,estimatedTime:u,complexity:l,warnings:a}}function pz(e,t){const n=e.toLowerCase(),r=t.toLowerCase(),i=["iran","north korea","syria","cuba","russia","belarus"],s=["venezuela","myanmar","zimbabwe"];let a=Math.random()*30;const l=[];let u="Low";i.some(m=>r.includes(m))?(a+=60,l.push(`High-risk jurisdiction: ${t}`),l.push("Subject to comprehensive sanctions")):s.some(m=>r.includes(m))&&(a+=35,l.push(`Medium-risk jurisdiction: ${t}`)),["international","trading","export","import"].some(m=>n.includes(m))&&(a+=5),a>=70?u="Critical":a>=50?u="High":a>=30&&(u="Medium");const f=u==="Critical"?"DO NOT PROCEED - Consult legal counsel immediately":u==="High"?"Enhanced due diligence required before proceeding":u==="Medium"?"Standard due diligence recommended":"Low risk - safe to proceed with standard checks";return{riskLevel:u,score:Math.round(a),flags:l,recommendation:f,checkedAgainst:["OFAC SDN List (US)","UN Consolidated Sanctions List","EU Sanctions List","Canadian Sanctions List","UK Sanctions List"],lastUpdated:new Date().toISOString()}}function gz(e){const{weight:t,origin:n}=e,r=8.5,i=Xj(n),s=[];s.push({carrier:"DHL Express",service:"Express Worldwide",price:t*r*i*1.2,transitDays:3,reliability:.95,recommended:!0},{carrier:"FedEx",service:"International Priority",price:t*r*i*1.15,transitDays:4,reliability:.93},{carrier:"UPS",service:"Worldwide Express",price:t*r*i*1.18,transitDays:3,reliability:.94});const a=["Consider consolidating shipments to reduce per-unit costs","Ocean freight could save up to 70% for non-urgent shipments","Negotiate volume discounts with carriers for regular shipments","Use a freight forwarder for better rates on international shipments"].filter(Boolean),l=Math.min(...s.map(h=>h.price)),u=Math.max(...s.map(h=>h.price));return{quotes:s.sort((h,f)=>f.price-h.price),optimizationTips:a,estimatedSavings:u-l}}function vz(e,t,n){const r=[],i=[],s=e.toLowerCase(),a=t.toLowerCase();(s.includes("china")||s.includes("shanghai"))&&r.push({type:"port_strike",severity:"Medium",location:"Port of Shanghai",description:"Increased container processing times due to high volume",impact:"Potential 3-5 day delay in departure",probability:.65});const l=new Date().getMonth();l>=5&&l<=10&&r.push({type:"weather",severity:"Low",location:"Pacific Ocean / Atlantic routes",description:"Seasonal weather patterns may affect shipping routes",impact:"Possible route diversions adding 1-2 days",probability:.35}),(a.includes("canada")||a.includes("toronto")||a.includes("vancouver"))&&r.push({type:"customs_delay",severity:"Low",location:"Canadian Border Services",description:"Standard customs processing variability",impact:"1-3 day processing time variation",probability:.45}),r.push({type:"capacity",severity:"Medium",location:"Global shipping",description:"High demand period affecting carrier capacity",impact:"Limited availability, potential rate increases",probability:.55}),i.push("Book shipments 2-3 weeks in advance to secure capacity","Maintain safety stock of critical items","Establish relationships with multiple carriers for backup options","Consider air freight for time-sensitive shipments","Use a freight forwarder with multiple routing options");const u=r.reduce((h,f)=>h+f.probability*(f.severity==="High"?3:f.severity==="Medium"?2:1),0)/r.length*100;return{disruptions:r,mitigationStrategies:i,alternativeRoutes:["Air freight via Anchorage hub (faster but more expensive)","Ocean freight via Vancouver instead of Toronto (may reduce customs delays)"],riskScore:Math.round(u)}}function yz(e){const t=e.toLowerCase();return t.includes("import")||t.includes("importing")?{workflowType:"Import Process",estimatedDuration:"15-20 business days",steps:[{step:1,title:"Product Classification",description:"Determine HS code for your product",status:"completed",aiSuggestion:"Use our HS code classifier tool for instant classification"},{step:2,title:"Supplier Agreement",description:"Negotiate terms with supplier (Incoterms, payment, delivery)",status:"in_progress",aiSuggestion:"Recommend FOB or CIF terms for better cost control"},{step:3,title:"Compliance Documentation",description:"Gather all required import documents",status:"pending",aiSuggestion:"Generate compliance checklist based on your product type"},{step:4,title:"Freight Booking",description:"Book shipping with carrier or freight forwarder",status:"pending",aiSuggestion:"Compare quotes from multiple carriers to optimize costs"},{step:5,title:"Customs Clearance",description:"Submit import declaration and pay duties/taxes",status:"pending",aiSuggestion:"Use a licensed customs broker for faster processing"},{step:6,title:"Delivery & Inspection",description:"Receive goods and verify against purchase order",status:"pending"}]}:t.includes("invoice")?{workflowType:"Invoice Generation",estimatedDuration:"10 minutes",steps:[{step:1,title:"Gather Shipment Details",description:"Collect product descriptions, quantities, and values",status:"completed"},{step:2,title:"Calculate Costs",description:"Determine unit prices, shipping, and total value",status:"in_progress",aiSuggestion:"Use landed cost calculator for accurate pricing"},{step:3,title:"Generate Invoice",description:"Create commercial invoice with all required fields",status:"pending",aiSuggestion:"Auto-populate from shipment data"},{step:4,title:"Review & Send",description:"Verify accuracy and send to customer/customs",status:"pending"}]}:{workflowType:"General Trade Process",estimatedDuration:"10-15 business days",steps:[{step:1,title:"Planning",description:"Define requirements and identify suppliers",status:"pending"},{step:2,title:"Documentation",description:"Prepare all necessary trade documents",status:"pending"},{step:3,title:"Execution",description:"Execute the trade transaction",status:"pending"},{step:4,title:"Completion",description:"Finalize and close the transaction",status:"pending"}]}}function xz(){return[{id:"SHP-2024-001",status:"in_transit",origin:"Shanghai, China",destination:"Toronto, ON",currentLocation:"Pacific Ocean",eta:new Date(Date.now()+5*24*60*60*1e3).toISOString(),confidence:.88,delayRisk:"Low",trackingNumber:"MAEU1234567890",carrier:"Maersk"},{id:"SHP-2024-002",status:"customs",origin:"Los Angeles, CA",destination:"Vancouver, BC",currentLocation:"CBSA Vancouver",eta:new Date(Date.now()+2*24*60*60*1e3).toISOString(),confidence:.75,delayRisk:"Medium",trackingNumber:"UPS9876543210",carrier:"UPS"},{id:"SHP-2024-003",status:"delivered",origin:"Hamburg, Germany",destination:"Montreal, QC",currentLocation:"Delivered",eta:new Date(Date.now()-1*24*60*60*1e3).toISOString(),confidence:1,delayRisk:"Low",trackingNumber:"DHL5555666677",carrier:"DHL"},{id:"SHP-2024-004",status:"delayed",origin:"Mumbai, India",destination:"Toronto, ON",currentLocation:"Port of Mumbai",eta:new Date(Date.now()+12*24*60*60*1e3).toISOString(),confidence:.62,delayRisk:"High",trackingNumber:"MSC1122334455",carrier:"MSC"}]}function bz(){const[e,t]=b.useState([{id:Pt(),role:"assistant",content:`Hello! I'm your Gasper AI trade assistant. I can help you with:

â€¢ HS code classification
â€¢ Landed cost estimation
â€¢ Compliance documentation
â€¢ Sanctions screening
â€¢ Freight quotes
â€¢ Shipment delay predictions
â€¢ Trade workflow automation

What would you like help with today?`,timestamp:new Date}]),[n,r]=b.useState(""),[i,s]=b.useState(!1),a=Wt.useRef(null),l=()=>{var f;(f=a.current)==null||f.scrollIntoView({behavior:"smooth"})};b.useEffect(l,[e]);const u=async f=>{if(f.preventDefault(),!n.trim()||i)return;const m={id:Pt(),role:"user",content:n,timestamp:new Date};t(v=>[...v,m]),r(""),s(!0),await new Promise(v=>setTimeout(v,800));const g=h(m.content);t(v=>[...v,g]),s(!1)},h=f=>{const m=f.toLowerCase();if(m.includes("hs code")||m.includes("classify")||m.includes("tariff code")){const g=m.match(/(?:for|code for|classify)\s+(.+?)(?:\?|$)/),v=g?g[1].trim():"bluetooth speaker",y=Yj(v);return{id:Pt(),role:"assistant",content:`I've classified "${v}" for you:

**HS Code:** ${y.code}
**Description:** ${y.description}
**Confidence:** ${(y.confidence*100).toFixed(0)}%
**Duty Rate:** ${y.dutyRate}

**Reasoning:** ${y.reasoning}

${y.confidence<.7?"âš ï¸ Low confidence - recommend consulting a customs broker for verification.":""}`,timestamp:new Date,metadata:{hsCode:y}}}if(m.includes("landed cost")||m.includes("estimate cost")||m.includes("total cost")){const g=fz({units:200,unitPrice:25,origin:"China",destination:"Toronto"});return{id:Pt(),role:"assistant",content:`Here's the landed cost estimate for 200 units from China to Toronto:

**Product Cost:** ${De(g.breakdown.productCost)}
**Shipping:** ${De(g.breakdown.shipping)}
**Duties:** ${De(g.breakdown.duties)}
**Taxes:** ${De(g.breakdown.taxes)}
**Insurance:** ${De(g.breakdown.insurance)}

**Total:** ${De(g.breakdown.total)}
**Per Unit:** ${De(g.perUnit)}

ðŸ“ Notes:
${g.notes.map(v=>`â€¢ ${v}`).join(`
`)}`,timestamp:new Date,metadata:{landedCost:g}}}if(m.includes("documents")||m.includes("compliance")||m.includes("paperwork")){const g=m.includes("electronic")?"electronics":m.includes("food")?"food":"general",v=mz(g,"China","Canada");return{id:Pt(),role:"assistant",content:`Here's your compliance checklist for importing ${g} to Canada:

**Complexity:** ${v.complexity}
**Estimated Processing Time:** ${v.estimatedTime}

**Required Documents:**
${v.documents.filter(y=>y.required).map(y=>`âœ“ **${y.name}**
  ${y.description}`).join(`

`)}

${v.warnings.length>0?`âš ï¸ **Important Warnings:**
${v.warnings.map(y=>`â€¢ ${y}`).join(`
`)}`:""}`,timestamp:new Date,metadata:{compliance:v}}}if(m.includes("sanction")||m.includes("screen")||m.includes("risk")){const g=pz("ABC Trading Company","China");return{id:Pt(),role:"assistant",content:`**Sanctions Screening Report**

**Risk Level:** ${g.riskLevel}
**Risk Score:** ${g.score}/100
**Recommendation:** ${g.recommendation}

**Checked Against:**
${g.checkedAgainst.map(v=>`â€¢ ${v}`).join(`
`)}

${g.flags.length>0?`ðŸš© **Flags:**
${g.flags.map(v=>`â€¢ ${v}`).join(`
`)}`:"âœ… No sanctions flags found"}`,timestamp:new Date,metadata:{sanctions:g}}}if(m.includes("freight")||m.includes("quote")||m.includes("shipping cost")){const g=gz({weight:500,origin:"Beijing"});return{id:Pt(),role:"assistant",content:`**Freight Quotes for 500kg Air Cargo (Beijing â†’ Toronto)**

${g.quotes.map(v=>`**${v.carrier}** - ${v.service}
ðŸ’° ${De(v.price)} | ðŸ“… ${v.transitDays} days | â­ ${(v.reliability*100).toFixed(0)}% reliability${v.recommended?" âœ¨ **Recommended**":""}`).join(`

`)}

**Optimization Tips:**
${g.optimizationTips.map(v=>`â€¢ ${v}`).join(`
`)}

ðŸ’¡ Potential savings: ${De(g.estimatedSavings||0)}`,timestamp:new Date,metadata:{quotes:g}}}if(m.includes("delay")||m.includes("predict")||m.includes("disruption")){const g=vz("Shanghai","Vancouver");return{id:Pt(),role:"assistant",content:`**Supply Chain Disruption Analysis (Shanghai â†’ Vancouver)**

**Overall Risk Score:** ${g.riskScore}/100

**Potential Disruptions:**
${g.disruptions.map(v=>`ðŸ”¸ **${v.type.replace(/_/g," ").toUpperCase()}** (${v.severity} severity)
   ðŸ“ ${v.location}
   ${v.description}
   Impact: ${v.impact}
   Probability: ${(v.probability*100).toFixed(0)}%`).join(`

`)}

**Mitigation Strategies:**
${g.mitigationStrategies.map(v=>`â€¢ ${v}`).join(`
`)}`,timestamp:new Date,metadata:{disruptions:g}}}if(m.includes("workflow")||m.includes("process")||m.includes("steps")){const g=m.includes("invoice")?"invoice":"import",v=yz(g);return{id:Pt(),role:"assistant",content:`**${v.workflowType} Workflow**

Estimated Duration: ${v.estimatedDuration}

${v.steps.map(y=>`**Step ${y.step}: ${y.title}** ${y.status==="completed"?"âœ…":y.status==="in_progress"?"ðŸ”„":"â³"}
${y.description}${y.aiSuggestion?`
ðŸ’¡ AI Suggestion: ${y.aiSuggestion}`:""}`).join(`

`)}`,timestamp:new Date}}return{id:Pt(),role:"assistant",content:`I can help you with that! Try asking me about:

â€¢ "What HS code for [product]?"
â€¢ "Estimate landed cost for [quantity] units from [origin] to [destination]"
â€¢ "What documents do I need to import [product] to Canada?"
â€¢ "Screen [company] for sanctions"
â€¢ "Get freight quote for [weight]kg from [origin] to [destination]"
â€¢ "Predict delays for shipment from [origin] to [destination]"
â€¢ "Show me the import workflow"`,timestamp:new Date}};return c.jsxs("div",{className:"chat-container",children:[c.jsxs("div",{className:"chat-messages",children:[e.map(f=>c.jsx("div",{className:`chat-message ${f.role}`,children:c.jsx("div",{className:"whitespace-pre-wrap",children:f.content})},f.id)),i&&c.jsx("div",{className:"chat-message assistant",children:c.jsx(Wn,{className:"h-5 w-5 animate-spin"})}),c.jsx("div",{ref:a})]}),c.jsx("div",{className:"chat-input-area",children:c.jsxs("form",{onSubmit:u,className:"flex gap-2 w-full",children:[c.jsx(Up,{value:n,onChange:f=>r(f.target.value),placeholder:"Ask me anything about import/export...",className:"chat-input",onKeyDown:f=>{f.key==="Enter"&&!f.shiftKey&&(f.preventDefault(),u(f))}}),c.jsx(Ue,{type:"submit",size:"icon",disabled:i||!n.trim(),className:"gasper-btn primary",children:c.jsx(Hj,{className:"h-4 w-4"})})]})})]})}function wz(){const[e,t]=b.useState(""),[n,r]=b.useState(null),[i,s]=b.useState(!1),a=async l=>{if(l.preventDefault(),!e.trim())return;s(!0),await new Promise(h=>setTimeout(h,600));const u=Yj(e);r(u),s(!1)};return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"gasper-card",children:[c.jsx("h3",{className:"text-xl font-bold mb-2",children:"HS Code Classifier"}),c.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Enter a product description to get its Harmonized System (HS) code classification"}),c.jsxs("form",{onSubmit:a,className:"space-y-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{htmlFor:"product",className:"gasper-label",children:"Product Description"}),c.jsx(Vs,{id:"product",placeholder:"e.g., portable Bluetooth speaker",value:e,onChange:l=>t(l.target.value),className:"gasper-input"})]}),c.jsx(Ue,{type:"submit",disabled:i||!e.trim(),className:"gasper-btn primary w-full",children:i?c.jsxs(c.Fragment,{children:[c.jsx(Wn,{className:"mr-2 h-4 w-4 animate-spin"}),"Classifying..."]}):c.jsxs(c.Fragment,{children:[c.jsx(Do,{className:"mr-2 h-4 w-4"}),"Classify Product"]})})]})]}),n&&c.jsxs("div",{className:"gasper-card",style:{borderColor:"rgba(255,255,255,0.2)"},children:[c.jsxs("div",{className:"flex items-start justify-between mb-4",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-2xl font-bold text-white",children:n.code}),c.jsx("p",{className:"mt-1 text-white/80",children:n.description})]}),n.confidence>=.7?c.jsx(Iu,{className:"h-6 w-6 text-green-500"}):c.jsx(Ws,{className:"h-6 w-6 text-yellow-500"})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[c.jsxs("div",{children:[c.jsx("p",{className:"gasper-label",children:"Confidence"}),c.jsx("div",{className:"mt-1",children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"flex-1 h-2 bg-white/10 rounded-full overflow-hidden",children:c.jsx("div",{className:`h-full ${n.confidence>=.7?"bg-green-500":n.confidence>=.5?"bg-yellow-500":"bg-red-500"}`,style:{width:`${n.confidence*100}%`}})}),c.jsxs("span",{className:"text-sm font-semibold text-white",children:[(n.confidence*100).toFixed(0),"%"]})]})})]}),c.jsxs("div",{children:[c.jsx("p",{className:"gasper-label",children:"Duty Rate"}),c.jsx("p",{className:"mt-1 text-lg font-semibold text-white",children:n.dutyRate})]})]}),c.jsxs("div",{className:"mb-4",children:[c.jsx("p",{className:"gasper-label mb-2",children:"Reasoning"}),c.jsx("p",{className:"text-sm text-white/80",children:n.reasoning})]}),n.confidence<.7&&c.jsx("div",{className:"bg-yellow-900/40 border border-yellow-800 rounded-lg p-4",children:c.jsxs("div",{className:"flex gap-2",children:[c.jsx(Ws,{className:"h-5 w-5 text-yellow-500 flex-shrink-0 mt-0.5"}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-yellow-200",children:"Low Confidence Classification"}),c.jsx("p",{className:"text-sm text-yellow-300/80 mt-1",children:"We recommend consulting with a licensed customs broker to verify this classification before importing."})]})]})})]})]})}function Il({children:e,variant:t="default",className:n,...r}){return c.jsx("span",{className:Xt("gasper-badge",t,n),...r,children:e})}function _z(){const[e,t]=b.useState([]),[n,r]=b.useState(!0);b.useEffect(()=>{const a=setTimeout(()=>{t(xz()),r(!1)},800);return()=>clearTimeout(a)},[]);const i=a=>{switch(a){case"delivered":return"default";case"delayed":return"destructive";case"customs":return"secondary";case"in_transit":return"outline";default:return"outline"}},s=a=>{switch(a){case"High":return c.jsx(Il,{variant:"destructive",children:"High Risk"});case"Medium":return c.jsx(Il,{variant:"secondary",children:"Medium Risk"});default:return c.jsx(Il,{variant:"outline",className:"text-green-500 border-green-500/20",children:"Low Risk"})}};return n?c.jsx("div",{className:"flex items-center justify-center h-64",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-white"})}):c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[c.jsx(ue,{className:"p-4 bg-white/5 border-white/10",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"p-2 bg-blue-500/20 rounded-lg",children:c.jsx(Pc,{className:"h-6 w-6 text-blue-400"})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-white/60",children:"Active Shipments"}),c.jsx("p",{className:"text-2xl font-bold text-white",children:"12"})]})]})}),c.jsx(ue,{className:"p-4 bg-white/5 border-white/10",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"p-2 bg-orange-500/20 rounded-lg",children:c.jsx(N$,{className:"h-6 w-6 text-orange-400"})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-white/60",children:"Delays / Risks"}),c.jsx("p",{className:"text-2xl font-bold text-white",children:"3"})]})]})}),c.jsx(ue,{className:"p-4 bg-white/5 border-white/10",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"p-2 bg-green-500/20 rounded-lg",children:c.jsx(Iu,{className:"h-6 w-6 text-green-400"})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-white/60",children:"Delivered (Mtd)"}),c.jsx("p",{className:"text-2xl font-bold text-white",children:"45"})]})]})})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsx("h3",{className:"text-lg font-semibold text-white",children:"Active Shipments"}),e.map(a=>c.jsxs(ue,{className:"p-4 bg-white/5 border-white/10 hover:bg-white/10 transition-colors",children:[c.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[c.jsxs("div",{className:"flex items-start gap-4",children:[c.jsx("div",{className:"p-2 bg-white/5 rounded-lg",children:c.jsx(Pc,{className:"h-6 w-6 text-blue-400"})}),c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[c.jsx("span",{className:"font-semibold text-white",children:a.id}),c.jsx(Il,{variant:i(a.status),children:a.status.replace("_"," ").toUpperCase()})]}),c.jsxs("p",{className:"text-sm text-white/60",children:[a.carrier," â€¢ ",a.trackingNumber]})]})]}),c.jsxs("div",{className:"flex-1 grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[c.jsxs("div",{children:[c.jsxs("p",{className:"text-white/40 mb-1 flex items-center gap-1",children:[c.jsx(jc,{className:"h-3 w-3"})," Origin"]}),c.jsx("p",{className:"text-white",children:a.origin})]}),c.jsxs("div",{children:[c.jsxs("p",{className:"text-white/40 mb-1 flex items-center gap-1",children:[c.jsx(jc,{className:"h-3 w-3"})," Destination"]}),c.jsx("p",{className:"text-white",children:a.destination})]}),c.jsxs("div",{children:[c.jsxs("p",{className:"text-white/40 mb-1 flex items-center gap-1",children:[c.jsx(u3,{className:"h-3 w-3"})," ETA"]}),c.jsx("p",{className:"text-white",children:A4(a.eta)})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-white/40 mb-1",children:"Risk Status"}),s(a.delayRisk)]})]})]}),c.jsx("div",{className:"mt-4 relative h-1.5 bg-white/10 rounded-full overflow-hidden",children:c.jsx("div",{className:`absolute top-0 left-0 h-full rounded-full ${a.status==="delivered"?"bg-green-500 w-full":a.status==="customs"?"bg-orange-500 w-3/4":a.status==="delayed"?"bg-red-500 w-1/2":"bg-blue-500 w-1/2"}`})}),c.jsxs("div",{className:"flex justify-between mt-1 text-xs text-white/40",children:[c.jsx("span",{children:"Origin"}),c.jsx("span",{children:a.currentLocation}),c.jsx("span",{children:"Destination"})]})]},a.id))]})]})}const Ro=b.createContext(null),mt=({children:e,value:t,onValueChange:n})=>{const[r,i]=b.useState(!1);return c.jsx(Ro.Provider,{value:{value:t,onValueChange:n,open:r,setOpen:i},children:c.jsx("div",{className:"relative",children:e})})},pt=({children:e,className:t})=>{const{open:n,setOpen:r}=b.useContext(Ro);return c.jsxs("button",{onClick:()=>r(!n),className:Xt("flex h-10 w-full items-center justify-between rounded-md border border-white/10 bg-white/5 px-3 py-2 text-sm text-white ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),children:[e,c.jsx(e3,{className:"h-4 w-4 opacity-50"})]})},gt=({placeholder:e})=>{const{value:t}=b.useContext(Ro);return c.jsx("span",{children:t||e})},vt=({children:e,className:t})=>{const{open:n}=b.useContext(Ro);return n?c.jsx("div",{className:Xt("absolute z-50 min-w-[8rem] overflow-hidden rounded-md border border-white/10 bg-[#1a1a1a] text-white shadow-md animate-in fade-in-80",t),children:c.jsx("div",{className:"p-1",children:e})}):null},Q=({children:e,value:t,className:n})=>{const{value:r,onValueChange:i,setOpen:s}=b.useContext(Ro),a=r===t;return c.jsxs("div",{onClick:()=>{i(t),s(!1)},className:Xt("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none hover:bg-white/10 focus:bg-white/10 focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a&&"bg-white/5",n),children:[a&&c.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:c.jsx(Bj,{className:"h-4 w-4"})}),e]})};function Sz(e){const t=e.scenarios.map(n=>{const r={Low:1.1,Medium:1.25,High:1.5,Critical:2}[n.severity],i={tariff_change:0,port_strike:7,carrier_failure:5,demand_spike:3,weather_event:4,customs_delay:2}[n.type],s={tariff_change:.25,port_strike:.15,carrier_failure:.2,demand_spike:.3,weather_event:.1,customs_delay:.05}[n.type],a=e.currentCost*(1+s*r),l=28,u=l+Math.round(i*r),h=jz(n.type,n.severity),f=Pz(e.origin,e.destination,n.type);return{scenarioName:`${n.type.replace(/_/g," ").toUpperCase()} - ${n.severity} Severity`,costImpact:{baseline:e.currentCost,projected:a,delta:a-e.currentCost,deltaPercentage:(a-e.currentCost)/e.currentCost*100},timelineImpact:{baselineDays:l,projectedDays:u,delayDays:u-l},riskScore:Math.min(100,Math.round(r*25+Math.random()*15)),mitigations:h,alternativeRoutes:f,confidence:.75+Math.random()*.2}});return{id:Pt(),parameters:e,results:t,createdAt:new Date().toISOString(),status:"completed"}}function jz(e,t){const r={tariff_change:["Explore alternative sourcing from countries with favorable trade agreements","Negotiate with suppliers to share tariff burden","Consider local manufacturing or assembly to reduce tariff exposure","Build inventory before tariff implementation"],port_strike:["Diversify shipping routes to use alternative ports","Increase safety stock levels to buffer against delays","Establish relationships with multiple carriers","Consider air freight for critical shipments"],carrier_failure:["Maintain backup carrier relationships","Implement carrier performance monitoring","Use freight forwarders with multi-carrier access","Negotiate service level agreements with penalties"],demand_spike:["Implement dynamic pricing strategies","Increase production capacity or secure additional suppliers","Use predictive analytics for demand forecasting","Build strategic inventory reserves"],weather_event:["Monitor weather forecasts and adjust shipping schedules","Use alternative routes during severe weather seasons","Increase insurance coverage for weather-related risks","Build buffer time into delivery schedules"],customs_delay:["Ensure all documentation is complete and accurate","Use licensed customs brokers","Apply for trusted trader programs (e.g., C-TPAT)","Pre-clear shipments when possible"]}[e]||[];return(t==="High"||t==="Critical")&&(r.push("Consider emergency response protocols and escalation procedures"),r.push("Engage executive leadership for strategic decision-making")),r.slice(0,5)}function Pz(e,t,n){const r=[];return(n==="port_strike"||n==="weather_event")&&(r.push("Air freight via major hub (faster but 3-4x more expensive)"),r.push("Rail + truck multimodal option (moderate speed and cost)"),r.push("Alternative port routing (may add 5-7 days but avoids disruption)")),n==="tariff_change"&&(r.push("Source from alternative country with better tariff rates"),r.push("Partial assembly in free trade zone to reduce tariff base")),r}const Gh={steel:[{scenarioName:"Section 232 Tariff Increase",commodity:"Steel Products",hsCode:"7208.10.00",route:{origin:"China",destination:"USA"},currentTariff:25,proposedTariff:50,effectiveDate:"2026-03-01",source:"US Department of Commerce"},{scenarioName:"EU CBAM Implementation",commodity:"Steel Products",hsCode:"7208.10.00",route:{origin:"China",destination:"EU"},currentTariff:0,proposedTariff:15,effectiveDate:"2026-01-01",source:"European Commission"}],ev:[{scenarioName:"EV Import Tariff",commodity:"Electric Vehicles",hsCode:"8703.80.00",route:{origin:"China",destination:"USA"},currentTariff:27.5,proposedTariff:100,effectiveDate:"2026-06-01",source:"USTR Proposed Rule"}],agriculture:[{scenarioName:"Agricultural Product Tariff",commodity:"Soybeans",hsCode:"1201.90.00",route:{origin:"USA",destination:"China"},currentTariff:33,proposedTariff:50,effectiveDate:"2026-04-01",source:"China Ministry of Commerce"}],electronics:[{scenarioName:"Consumer Electronics Tariff",commodity:"Smartphones",hsCode:"8517.13.00",route:{origin:"China",destination:"USA"},currentTariff:0,proposedTariff:25,effectiveDate:"2026-05-01",source:"USTR Section 301 Review"}]};function kz(e,t,n,r){const i=Object.keys(Gh).find(_=>e.toLowerCase().includes(_))||"electronics",s=Gh[i]||Gh.electronics,a=s.find(_=>_.route.origin.toLowerCase().includes(t.origin.toLowerCase())&&_.route.destination.toLowerCase().includes(t.destination.toLowerCase()))||s[0],l=n*(a.currentTariff/100),u=n*(a.proposedTariff/100),h=u-l,f=(u-l)/l*100,m=Math.min(.3,(a.proposedTariff-a.currentTariff)/100),g=r*(1-m),v=Az(a,n),y=["Updated customs declaration forms required","Additional documentation for tariff classification","Country of origin certification may be required"];a.proposedTariff>50&&(y.push("Enhanced customs scrutiny expected"),y.push("Consider applying for tariff exclusion or exemption"));const w=[`Estimated annual cost increase: $${(h*r/1e3).toFixed(0)}K`,"Evaluate alternative sourcing options to mitigate tariff impact","Consider negotiating price adjustments with current suppliers","Build inventory before effective date to lock in current rates","Monitor for potential tariff exclusion processes"];return{scenario:a,impact:{currentDuty:l,proposedDuty:u,additionalCost:h,percentageIncrease:f},volumeImpact:{currentVolume:r,projectedVolume:g,volumeChange:g-r},alternativeSourcing:v,complianceChanges:y,recommendations:w}}function Az(e,t){const n=[];return e.route.destination.toLowerCase().includes("usa")?n.push({country:"Mexico",tariffRate:0,estimatedCost:t*1.05,savings:t*(e.proposedTariff/100)-t*.05,tradeAgreement:"USMCA"},{country:"Vietnam",tariffRate:5,estimatedCost:t*1.02,savings:t*(e.proposedTariff/100)-t*.07,tradeAgreement:"MFN"}):e.route.destination.toLowerCase().includes("eu")&&n.push({country:"Turkey",tariffRate:0,estimatedCost:t*1.08,savings:t*(e.proposedTariff/100)-t*.08,tradeAgreement:"EU-Turkey Customs Union"}),n}function Cz(){const[e,t]=b.useState("supply-chain"),[n,r]=b.useState("map"),[i,s]=b.useState(!1),[a,l]=b.useState(null),[u,h]=b.useState(null),[f,m]=b.useState("Shanghai"),[g,v]=b.useState("Toronto"),[y,w]=b.useState("Electronics"),[_,j]=b.useState("port_strike"),[k,P]=b.useState("steel"),[C,N]=b.useState("China"),[T,M]=b.useState("USA"),E=[{id:1,x:25,y:33,label:"Origin"},{id:2,x:75,y:66,label:"Destination"},{id:3,x:50,y:50,label:"Hub"}],$=async()=>{s(!0),await cr(1e3);const U={origin:f,destination:g,commodity:y,volume:1e3,currentCost:5e4,scenarios:[{type:_,severity:"Medium",description:`Simulated ${_.replace(/_/g," ")} scenario`}]},R=Sz(U);l(R),s(!1)},q=async()=>{s(!0),await cr(1e3);const U=kz(k,{origin:C,destination:T},1e4,500);h(U),s(!1)};return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex gap-2 p-1 bg-white/5 rounded-lg w-fit",children:[c.jsx(Ue,{variant:e==="supply-chain"?"default":"ghost",size:"sm",onClick:()=>t("supply-chain"),className:e==="supply-chain"?"bg-glass-highlight":"",children:"Supply Chain Simulation"}),c.jsx(Ue,{variant:e==="tariff"?"default":"ghost",size:"sm",onClick:()=>t("tariff"),className:e==="tariff"?"bg-glass-highlight":"",children:"Tariff Impact Simulator"})]}),c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("h3",{className:"text-xl font-semibold text-white",children:e==="supply-chain"?"Digital Twin Supply Chain":"Tariff Impact Analysis"}),c.jsxs("div",{className:"flex gap-2 bg-white/5 p-1 rounded-lg",children:[c.jsxs("button",{onClick:()=>r("map"),className:`px-3 py-1.5 rounded text-xs font-medium transition-colors flex items-center gap-2 ${n==="map"?"bg-cyan-500/20 text-cyan-300 border border-cyan-500/30":"text-white/60 hover:bg-white/10"}`,children:[c.jsx(ar,{size:14})," Global Map"]}),c.jsxs("button",{onClick:()=>r("network"),className:`px-3 py-1.5 rounded text-xs font-medium transition-colors flex items-center gap-2 ${n==="network"?"bg-purple-500/20 text-purple-300 border border-purple-500/30":"text-white/60 hover:bg-white/10"}`,children:[c.jsx(sm,{size:14})," Network Graph"]})]})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[c.jsx(ue,{className:"lg:col-span-2 glass-panel border-0 bg-white/5 relative overflow-hidden flex flex-col min-h-[500px]",children:n==="map"?c.jsxs("div",{className:"flex-1 bg-black/20 flex items-center justify-center relative group",children:[c.jsx("div",{className:"absolute inset-0 bg-[url('https://images.unsplash.com/photo-1451187580459-43490279c0fa?q=80&w=2072&auto=format&fit=crop')] opacity-30 bg-cover bg-center"}),c.jsx("div",{className:"absolute top-1/3 left-1/4 w-3 h-3 bg-cyan-400 rounded-full shadow-[0_0_15px_rgba(34,211,238,0.6)] animate-pulse"}),c.jsx("div",{className:"absolute bottom-1/3 right-1/4 w-3 h-3 bg-purple-400 rounded-full shadow-[0_0_15px_rgba(192,132,252,0.6)] animate-pulse delay-700"}),c.jsxs("svg",{className:"absolute inset-0 w-full h-full pointer-events-none",children:[c.jsx("path",{d:"M 25% 33% Q 50% 10% 75% 66%",fill:"none",stroke:"url(#lineGradient)",strokeWidth:"2",strokeDasharray:"5,5",className:"opacity-60",children:c.jsx("animate",{attributeName:"stroke-dashoffset",from:"100",to:"0",dur:"20s",repeatCount:"indefinite"})}),c.jsx("defs",{children:c.jsxs("linearGradient",{id:"lineGradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[c.jsx("stop",{offset:"0%",stopColor:"#22d3ee"}),c.jsx("stop",{offset:"100%",stopColor:"#c084fc"})]})})]}),c.jsxs("div",{className:"z-10 bg-black/60 backdrop-blur-sm p-4 rounded-xl border border-white/10 text-center max-w-sm",children:[c.jsx(Mu,{className:"w-8 h-8 text-cyan-400 mx-auto mb-2"}),c.jsx("h3",{className:"text-lg font-semibold text-white mb-1",children:"Live Digital Twin"}),c.jsxs("p",{className:"text-white/60 text-sm",children:["Monitoring ",E.length," active nodes. AI anomaly detection is running."]})]})]}):c.jsx("div",{className:"flex-1 bg-black/20 flex items-center justify-center text-white/40",children:c.jsxs("div",{className:"text-center",children:[c.jsx(sm,{size:48,className:"mx-auto mb-4 opacity-50"}),c.jsx("p",{children:"Network Graph Visualization"})]})})}),c.jsxs("div",{className:"space-y-6",children:[e==="supply-chain"?c.jsx(ue,{className:"p-6 bg-white/5 border-white/10",children:c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-white/80 mb-2 block",children:"Origin"}),c.jsxs(mt,{value:f,onValueChange:m,children:[c.jsx(pt,{children:c.jsx(gt,{})}),c.jsxs(vt,{children:[c.jsx(Q,{value:"Shanghai",children:"Shanghai, China"}),c.jsx(Q,{value:"Beijing",children:"Beijing, China"}),c.jsx(Q,{value:"Mumbai",children:"Mumbai, India"}),c.jsx(Q,{value:"Hamburg",children:"Hamburg, Germany"})]})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-white/80 mb-2 block",children:"Destination"}),c.jsxs(mt,{value:g,onValueChange:v,children:[c.jsx(pt,{children:c.jsx(gt,{})}),c.jsxs(vt,{children:[c.jsx(Q,{value:"Toronto",children:"Toronto, Canada"}),c.jsx(Q,{value:"Vancouver",children:"Vancouver, Canada"}),c.jsx(Q,{value:"New York",children:"New York, USA"}),c.jsx(Q,{value:"Los Angeles",children:"Los Angeles, USA"})]})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-white/80 mb-2 block",children:"Commodity"}),c.jsxs(mt,{value:y,onValueChange:w,children:[c.jsx(pt,{children:c.jsx(gt,{})}),c.jsxs(vt,{children:[c.jsx(Q,{value:"Electronics",children:"Electronics"}),c.jsx(Q,{value:"Textiles",children:"Textiles"}),c.jsx(Q,{value:"Machinery",children:"Machinery"}),c.jsx(Q,{value:"Food",children:"Food Products"})]})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-white/80 mb-2 block",children:"Scenario"}),c.jsxs(mt,{value:_,onValueChange:j,children:[c.jsx(pt,{children:c.jsx(gt,{})}),c.jsxs(vt,{children:[c.jsx(Q,{value:"port_strike",children:"Port Strike"}),c.jsx(Q,{value:"tariff_change",children:"Tariff Change"}),c.jsx(Q,{value:"carrier_failure",children:"Carrier Failure"}),c.jsx(Q,{value:"demand_spike",children:"Demand Spike"})]})]})]}),c.jsxs(Ue,{onClick:$,disabled:i,className:"w-full bg-indigo-600 hover:bg-indigo-700 mt-2",children:[i?c.jsx(Wn,{className:"h-4 w-4 animate-spin mr-2"}):c.jsx(Rx,{className:"h-4 w-4 mr-2"}),"Run Simulation"]})]})}):c.jsx(ue,{className:"p-6 bg-white/5 border-white/10",children:c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-white/80 mb-2 block",children:"Commodity"}),c.jsxs(mt,{value:k,onValueChange:P,children:[c.jsx(pt,{children:c.jsx(gt,{})}),c.jsxs(vt,{children:[c.jsx(Q,{value:"steel",children:"Steel Products"}),c.jsx(Q,{value:"ev",children:"Electric Vehicles"}),c.jsx(Q,{value:"agriculture",children:"Agricultural Products"})]})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-white/80 mb-2 block",children:"Origin"}),c.jsxs(mt,{value:C,onValueChange:N,children:[c.jsx(pt,{children:c.jsx(gt,{})}),c.jsxs(vt,{children:[c.jsx(Q,{value:"China",children:"China"}),c.jsx(Q,{value:"USA",children:"USA"}),c.jsx(Q,{value:"EU",children:"European Union"})]})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-white/80 mb-2 block",children:"Destination"}),c.jsxs(mt,{value:T,onValueChange:M,children:[c.jsx(pt,{children:c.jsx(gt,{})}),c.jsxs(vt,{children:[c.jsx(Q,{value:"USA",children:"USA"}),c.jsx(Q,{value:"EU",children:"European Union"}),c.jsx(Q,{value:"China",children:"China"})]})]})]}),c.jsxs(Ue,{onClick:q,disabled:i,className:"w-full bg-pink-600 hover:bg-pink-700 mt-2",children:[i?c.jsx(Wn,{className:"h-4 w-4 animate-spin mr-2"}):c.jsx(Rx,{className:"h-4 w-4 mr-2"}),"Simulate Impact"]})]})}),e==="supply-chain"&&a&&c.jsx("div",{className:"space-y-4 animate-in fade-in slide-in-from-bottom-2 duration-500",children:a.results.map((U,R)=>c.jsxs(ue,{className:"p-4 bg-white/10 border-white/20",children:[c.jsx("h4",{className:"font-semibold mb-3 text-white",children:U.scenarioName}),c.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-white/60",children:"Cost Impact"}),c.jsxs("p",{className:"text-lg font-semibold text-red-400",children:["+",De(U.costImpact.delta)]})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-white/60",children:"Timeline"}),c.jsxs("p",{className:"text-lg font-semibold text-orange-400",children:["+",U.timelineImpact.delayDays," days"]})]})]}),c.jsx("div",{className:"mt-2",children:c.jsxs("p",{className:"text-xs text-white/60",children:["Risk Score: ",c.jsxs("span",{className:"text-white",children:[U.riskScore,"/100"]})]})})]},R))}),e==="tariff"&&u&&c.jsxs("div",{className:"space-y-4 animate-in fade-in slide-in-from-bottom-2 duration-500",children:[c.jsxs(ue,{className:"p-4 bg-blue-900/20 border-blue-500/20",children:[c.jsx("h4",{className:"font-semibold mb-2 text-white",children:u.scenario.scenarioName}),c.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm mb-3",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-white/60",children:"Current"}),c.jsxs("p",{className:"text-xl font-bold text-white",children:[u.scenario.currentTariff,"%"]})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-white/60",children:"Proposed"}),c.jsxs("p",{className:"text-xl font-bold text-red-400",children:[u.scenario.proposedTariff,"%"]})]})]}),c.jsxs("div",{className:"text-sm",children:[c.jsx("p",{className:"text-white/60",children:"Addt. Cost"}),c.jsxs("p",{className:"text-lg font-semibold text-red-400",children:["+",De(u.impact.additionalCost)]})]})]}),u.alternativeSourcing.length>0&&c.jsxs(ue,{className:"p-4 bg-white/5 border-white/10",children:[c.jsx("h4",{className:"font-semibold mb-2 text-white text-sm",children:"Alternative Sourcing"}),c.jsx("div",{className:"space-y-2",children:u.alternativeSourcing.slice(0,2).map((U,R)=>c.jsxs("div",{className:"p-2 bg-green-500/10 rounded text-xs text-white",children:[c.jsx("div",{className:"font-medium",children:U.country}),c.jsxs("div",{className:"text-white/60",children:["Tariff: ",U.tariffRate,"%"]})]},R))})]})]})]})]})]})}const Fx={air:[{name:"DHL Express",baseRate:8.5,speedFactor:1.2,reliabilityScore:.95},{name:"FedEx International",baseRate:8.2,speedFactor:1.15,reliabilityScore:.93},{name:"UPS Worldwide",baseRate:8.3,speedFactor:1.18,reliabilityScore:.94},{name:"Emirates SkyCargo",baseRate:7.8,speedFactor:1.1,reliabilityScore:.91}],ocean:[{name:"Maersk",baseRate:2,speedFactor:.8,reliabilityScore:.88},{name:"MSC",baseRate:1.8,speedFactor:.75,reliabilityScore:.85},{name:"CMA CGM",baseRate:1.9,speedFactor:.78,reliabilityScore:.87},{name:"COSCO",baseRate:1.7,speedFactor:.72,reliabilityScore:.83}],ground:[{name:"Purolator",baseRate:3.5,speedFactor:1,reliabilityScore:.91},{name:"Canada Post",baseRate:3.2,speedFactor:.9,reliabilityScore:.88},{name:"FedEx Ground",baseRate:3.4,speedFactor:.95,reliabilityScore:.9}],express:[{name:"DHL Express",baseRate:12,speedFactor:1.5,reliabilityScore:.96},{name:"FedEx Priority",baseRate:11.5,speedFactor:1.45,reliabilityScore:.95},{name:"UPS Express",baseRate:11.8,speedFactor:1.48,reliabilityScore:.95}]};function Tz(e){const t=Fx[e.serviceType]||Fx.air,n=Jj(e.origin,e.destination),r=t.map(h=>{const f=e.weight*h.baseRate*n,m=Math.round((e.serviceType==="ocean"?28:e.serviceType==="ground"?5:3)/h.speedFactor);let g=50;if(e.preferences.prioritizeSpeed&&(g+=(h.speedFactor-.5)*30),e.preferences.prioritizeCost){const y=t.reduce((w,_)=>w+_.baseRate,0)/t.length;g+=(y-h.baseRate)/y*30}g+=h.reliabilityScore*20;const v=[];return h.reliabilityScore>.9&&v.push("Real-time tracking"),h.speedFactor>1.1&&v.push("Express delivery"),e.serviceType==="ocean"&&v.push("Door-to-door service"),v.push("Insurance included"),{carrier:h.name,service:Oz(e.serviceType,h.name),price:Math.round(f*100)/100,transitDays:m,reliability:h.reliabilityScore,features:v,restrictions:Ez(e.serviceType),score:Math.round(g)}});r.sort((h,f)=>f.score-h.score);const i=r[0],a=r.reduce((h,f)=>h+f.price,0)/r.length-i.price,l=Mz(i,e.preferences,a),u=Iz(i,r);return{request:e,rates:r,recommendation:{carrier:i.carrier,reasoning:l,savingsVsAverage:a,tradeoffs:u},timestamp:new Date().toISOString()}}function Nz(e,t,n){const r=t.toLowerCase(),i=n.toLowerCase();return(r.includes("china")||r.includes("asia"))&&(i.includes("canada")||i.includes("usa"))?e*.05:(r.includes("europe")||r.includes("uk"))&&(i.includes("canada")||i.includes("usa"))?e*.03:(r.includes("usa")||r.includes("mexico"))&&i.includes("canada")?e*.01:e*.02}function Jj(e,t){const n=e.toLowerCase(),r=t.toLowerCase();return(n.includes("china")||n.includes("asia"))&&(r.includes("canada")||r.includes("usa"))?2.5:(n.includes("europe")||n.includes("uk"))&&(r.includes("canada")||r.includes("usa"))?2:(n.includes("usa")||n.includes("mexico"))&&r.includes("canada")?1.2:1.5}function Oz(e,t){var r;return((r={air:{"DHL Express":"Express Worldwide","FedEx International":"International Priority","UPS Worldwide":"Worldwide Express","Emirates SkyCargo":"Air Freight"},ocean:{Maersk:"Ocean FCL",MSC:"Standard Ocean","CMA CGM":"Ocean Freight",COSCO:"Container Service"},ground:{Purolator:"Ground Service","Canada Post":"Expedited Parcel","FedEx Ground":"Ground Economy"},express:{"DHL Express":"Same Day","FedEx Priority":"Priority Overnight","UPS Express":"Next Day Air"}}[e])==null?void 0:r[t])||"Standard Service"}function Ez(e){const t=[];return(e==="air"||e==="express")&&(t.push("Hazmat restrictions apply"),t.push("Battery shipments require special documentation")),e==="ocean"&&(t.push("Minimum volume requirements may apply"),t.push("Port-to-port service only")),t}function Mz(e,t,n){const r=[];return t.prioritizeSpeed&&r.push(`Fastest transit time of ${e.transitDays} days`),t.prioritizeCost&&n>0&&r.push(`$${n.toFixed(2)} cheaper than average`),e.reliability>.9&&r.push(`Excellent reliability score of ${(e.reliability*100).toFixed(0)}%`),e.features.length>3&&r.push(`Comprehensive features including ${e.features.slice(0,2).join(" and ")}`),r.join(". ")+"."}function Iz(e,t){const n=[],r=t.reduce((s,a)=>a.price<s.price?a:s);r.carrier!==e.carrier&&r.price<e.price*.9&&n.push(`${r.carrier} is ${((1-r.price/e.price)*100).toFixed(0)}% cheaper but has lower reliability`);const i=t.reduce((s,a)=>a.transitDays<s.transitDays?a:s);return i.carrier!==e.carrier&&n.push(`${i.carrier} is ${e.transitDays-i.transitDays} days faster`),n}function Lz(e){const t=Jj(e.origin,e.destination),n=e.weight*4.5*t,r={defective:1,wrong_item:1,customer_return:1.2,warranty:1.1,other:1.15}[e.returnReason],i=n*r,s=Nz(e.value,e.origin,e.destination),a=25+e.value*.01,l=e.value*.005,u=i+s+a+l,h=e.weight>100?"Freight Forwarder":e.returnReason==="defective"?"UPS":"Purolator",f=e.weight>100?10:5,m=["Return shipment must reference original import documentation","Duty drawback may be available for returned goods"];e.returnReason==="defective"&&m.push("Defective goods may qualify for duty exemption");const g=["Return Merchandise Authorization (RMA)","Original commercial invoice","Packing list","Proof of defect (if applicable)"],v=['Clearly mark package as "RETURN SHIPMENT"',"Include RMA number on all shipping labels"];return e.returnReason==="defective"&&(v.push("Photograph defect before shipping"),v.push("Use original packaging if possible")),{request:e,estimatedCost:Math.round(u*100)/100,recommendedCarrier:h,transitDays:f,customsImplications:m,requiredDocuments:g,specialInstructions:v,costBreakdown:{shipping:Math.round(i*100)/100,customs:Math.round(s*100)/100,handling:Math.round(a*100)/100,insurance:Math.round(l*100)/100}}}function Dz(){const[e,t]=b.useState("forward"),[n,r]=b.useState(!1),[i,s]=b.useState(null),[a,l]=b.useState(null),[u,h]=b.useState("Shanghai"),[f,m]=b.useState("Toronto"),[g,v]=b.useState("100"),[y,w]=b.useState("air"),[_,j]=b.useState("defective"),[k,P]=b.useState("500"),C=async()=>{r(!0),await cr(1500);const T={origin:u,destination:f,weight:parseFloat(g),serviceType:y,preferences:{prioritizeSpeed:!1,prioritizeCost:!0}},M=Tz(T);s(M),r(!1)},N=async()=>{r(!0),await cr(1200);const T={origin:f,destination:u,weight:parseFloat(g),returnReason:_,value:parseFloat(k)},M=Lz(T);l(M),r(!1)};return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex gap-2 p-1 bg-white/5 rounded-lg w-fit",children:[c.jsxs(Ue,{variant:e==="forward"?"default":"ghost",size:"sm",onClick:()=>t("forward"),className:e==="forward"?"bg-glass-highlight":"",children:[c.jsx(kc,{className:"h-4 w-4 mr-2"}),"Rate Comparison"]}),c.jsxs(Ue,{variant:e==="reverse"?"default":"ghost",size:"sm",onClick:()=>t("reverse"),className:e==="reverse"?"bg-glass-highlight":"",children:[c.jsx(Mx,{className:"h-4 w-4 mr-2"}),"Reverse Logistics"]})]}),e==="forward"?c.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[c.jsx("div",{className:"md:col-span-1 space-y-4",children:c.jsxs(ue,{className:"p-6 bg-white/5 border-white/10",children:[c.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Shipment Details"}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-white/80 mb-2 block",children:"Origin"}),c.jsxs(mt,{value:u,onValueChange:h,children:[c.jsx(pt,{children:c.jsx(gt,{})}),c.jsxs(vt,{children:[c.jsx(Q,{value:"Shanghai",children:"Shanghai, China"}),c.jsx(Q,{value:"New York",children:"New York, USA"}),c.jsx(Q,{value:"London",children:"London, UK"})]})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-white/80 mb-2 block",children:"Destination"}),c.jsxs(mt,{value:f,onValueChange:m,children:[c.jsx(pt,{children:c.jsx(gt,{})}),c.jsxs(vt,{children:[c.jsx(Q,{value:"Toronto",children:"Toronto, Canada"}),c.jsx(Q,{value:"Vancouver",children:"Vancouver, Canada"}),c.jsx(Q,{value:"Montreal",children:"Montreal, Canada"})]})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-white/80 mb-2 block",children:"Weight (kg)"}),c.jsx(Vs,{type:"number",value:g,onChange:T=>v(T.target.value)})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-white/80 mb-2 block",children:"Service Type"}),c.jsxs(mt,{value:y,onValueChange:w,children:[c.jsx(pt,{children:c.jsx(gt,{})}),c.jsxs(vt,{children:[c.jsx(Q,{value:"air",children:"Air Freight"}),c.jsx(Q,{value:"ocean",children:"Ocean Freight"}),c.jsx(Q,{value:"express",children:"Express Courier"})]})]})]}),c.jsx(Ue,{onClick:C,disabled:n,className:"w-full bg-blue-600 hover:bg-blue-700",children:n?c.jsx(Wn,{className:"h-4 w-4 animate-spin mr-2"}):"Compare Rates"})]})]})}),c.jsx("div",{className:"md:col-span-2 space-y-4",children:i?c.jsxs("div",{className:"space-y-4",children:[c.jsxs(ue,{className:"p-6 border-l-4 border-l-green-500 bg-white/5 border-white/10",children:[c.jsxs("div",{className:"flex justify-between items-start mb-4",children:[c.jsxs("div",{children:[c.jsxs("h4",{className:"text-lg font-bold text-white flex items-center gap-2",children:[c.jsx(j$,{className:"h-5 w-5 text-yellow-500 fill-yellow-500"}),"AI Recommended: ",i.recommendation.carrier]}),c.jsx("p",{className:"text-sm text-white/60 mt-1",children:"Based on your preference for lowest cost and reliability."})]}),c.jsx("div",{className:"text-right",children:c.jsxs("p",{className:"text-sm text-green-400 font-medium",children:["Save ",De(i.recommendation.savingsVsAverage)," vs avg"]})})]}),c.jsxs("div",{className:"bg-white/5 p-3 rounded-lg text-sm text-white/80 mb-2",children:[c.jsx("p",{className:"font-medium mb-1",children:"Why this option?"}),c.jsx("p",{children:i.recommendation.reasoning})]})]}),c.jsx("div",{className:"space-y-3",children:i.rates.map((T,M)=>c.jsx(ue,{className:"p-4 bg-white/5 border-white/10 hover:bg-white/10 transition-colors",children:c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs("div",{children:[c.jsx("h5",{className:"font-bold text-white",children:T.carrier}),c.jsx("p",{className:"text-sm text-white/60",children:T.service}),c.jsx("div",{className:"flex gap-2 mt-2",children:T.features.slice(0,2).map((E,$)=>c.jsx("span",{className:"text-[10px] px-2 py-0.5 bg-white/10 rounded-full text-white/80",children:E},$))})]}),c.jsxs("div",{className:"text-right",children:[c.jsx("p",{className:"text-xl font-bold text-white",children:De(T.price)}),c.jsxs("p",{className:"text-sm text-white/60",children:[T.transitDays," days"]}),c.jsxs("div",{className:"flex items-center justify-end gap-1 mt-1",children:[c.jsx("div",{className:"h-1.5 w-16 bg-white/10 rounded-full overflow-hidden",children:c.jsx("div",{className:"h-full bg-green-500",style:{width:Ti(T.reliability*100)}})}),c.jsxs("span",{className:"text-xs text-white/40",children:[Math.round(T.reliability*100),"%"]})]})]})]})},M))})]}):c.jsxs("div",{className:"h-64 flex flex-col items-center justify-center text-white/40 border-2 border-dashed border-white/10 rounded-lg",children:[c.jsx(kc,{className:"h-12 w-12 mb-4 opacity-50"}),c.jsx("p",{children:"Enter shipment details and click Compare Rates"})]})})]}):c.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[c.jsxs(ue,{className:"p-6 bg-white/5 border-white/10",children:[c.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Reverse Logistics Estimator"}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-white/80 mb-2 block",children:"Return Reason"}),c.jsxs(mt,{value:_,onValueChange:j,children:[c.jsx(pt,{children:c.jsx(gt,{})}),c.jsxs(vt,{children:[c.jsx(Q,{value:"defective",children:"Defective Product"}),c.jsx(Q,{value:"wrong_item",children:"Wrong Item Sent"}),c.jsx(Q,{value:"customer_return",children:"Customer Changed Mind"})]})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-white/80 mb-2 block",children:"Product Value ($)"}),c.jsx(Vs,{type:"number",value:k,onChange:T=>P(T.target.value)})]}),c.jsx(Ue,{onClick:N,disabled:n,className:"w-full bg-orange-600 hover:bg-orange-700",children:n?c.jsx(Wn,{className:"h-4 w-4 animate-spin mr-2"}):"Estimate Return Cost"})]})]}),c.jsx("div",{className:"space-y-4",children:a?c.jsxs(ue,{className:"p-6 bg-white/5 border-white/10",children:[c.jsxs("h3",{className:"text-xl font-bold text-white mb-4 flex items-center gap-2",children:["Estimated Cost: ",De(a.estimatedCost)]}),c.jsxs("div",{className:"space-y-3 mb-6",children:[c.jsxs("div",{className:"flex justify-between text-sm",children:[c.jsx("span",{className:"text-white/60",children:"Shipping"}),c.jsx("span",{className:"text-white",children:De(a.costBreakdown.shipping)})]}),c.jsxs("div",{className:"flex justify-between text-sm",children:[c.jsx("span",{className:"text-white/60",children:"Handling"}),c.jsx("span",{className:"text-white",children:De(a.costBreakdown.handling)})]}),c.jsxs("div",{className:"flex justify-between text-sm",children:[c.jsx("span",{className:"text-white/60",children:"Insurance"}),c.jsx("span",{className:"text-white",children:De(a.costBreakdown.insurance)})]}),c.jsxs("div",{className:"pt-2 border-t border-white/10 flex justify-between font-bold",children:[c.jsx("span",{className:"text-white",children:"Total"}),c.jsx("span",{className:"text-orange-400",children:De(a.estimatedCost)})]})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-white mb-2",children:"Required Documents:"}),c.jsx("ul",{className:"text-sm text-white/60 space-y-1 list-disc pl-4",children:a.requiredDocuments.map((T,M)=>c.jsx("li",{children:T},M))})]})]}):c.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-white/40 border-2 border-dashed border-white/10 rounded-lg p-8",children:[c.jsx(Mx,{className:"h-12 w-12 mb-4 opacity-50"}),c.jsx("p",{children:"Calculate return shipping costs and requirements"})]})})]})]})}var Rz=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function Vp(e){if(typeof e!="string")return!1;var t=Rz;return t.includes(e)}var $z=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],zz=new Set($z);function Qj(e){return typeof e!="string"?!1:zz.has(e)}function eP(e){return typeof e=="string"&&e.startsWith("data-")}function Hn(e){if(typeof e!="object"||e===null)return{};var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(Qj(n)||eP(n))&&(t[n]=e[n]);return t}function $o(e){if(e==null)return null;if(b.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return Hn(t)}return typeof e=="object"&&!Array.isArray(e)?Hn(e):null}function Jt(e){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(Qj(n)||eP(n)||Vp(n))&&(t[n]=e[n]);return t}function Bz(e){return e==null?null:b.isValidElement(e)?Jt(e.props):typeof e=="object"&&!Array.isArray(e)?Jt(e):null}var Fz=["children","width","height","viewBox","className","style","title","desc"];function am(){return am=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},am.apply(null,arguments)}function Uz(e,t){if(e==null)return{};var n,r,i=Vz(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Vz(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var tP=b.forwardRef((e,t)=>{var{children:n,width:r,height:i,viewBox:s,className:a,style:l,title:u,desc:h}=e,f=Uz(e,Fz),m=s||{width:r,height:i,x:0,y:0},g=Me("recharts-surface",a);return b.createElement("svg",am({},Jt(f),{className:g,width:r,height:i,style:l,viewBox:"".concat(m.x," ").concat(m.y," ").concat(m.width," ").concat(m.height),ref:t}),b.createElement("title",null,u),b.createElement("desc",null,h),n)}),Wz=["children","className"];function om(){return om=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},om.apply(null,arguments)}function Hz(e,t){if(e==null)return{};var n,r,i=Kz(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Kz(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var kn=b.forwardRef((e,t)=>{var{children:n,className:r}=e,i=Hz(e,Wz),s=Me("recharts-layer",r);return b.createElement("g",om({className:s},Jt(i),{ref:t}),n)}),qz=b.createContext(null);function Fe(e){return function(){return e}}const nP=Math.cos,Ac=Math.sin,Gn=Math.sqrt,Cc=Math.PI,Lu=2*Cc,lm=Math.PI,cm=2*lm,Ni=1e-6,Gz=cm-Ni;function rP(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function Zz(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return rP;const n=10**t;return function(r){this._+=r[0];for(let i=1,s=r.length;i<s;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class Yz{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?rP:Zz(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,s,a){this._append`C${+t},${+n},${+r},${+i},${this._x1=+s},${this._y1=+a}`}arcTo(t,n,r,i,s){if(t=+t,n=+n,r=+r,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let a=this._x1,l=this._y1,u=r-t,h=i-n,f=a-t,m=l-n,g=f*f+m*m;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(g>Ni)if(!(Math.abs(m*u-h*f)>Ni)||!s)this._append`L${this._x1=t},${this._y1=n}`;else{let v=r-a,y=i-l,w=u*u+h*h,_=v*v+y*y,j=Math.sqrt(w),k=Math.sqrt(g),P=s*Math.tan((lm-Math.acos((w+g-_)/(2*j*k)))/2),C=P/k,N=P/j;Math.abs(C-1)>Ni&&this._append`L${t+C*f},${n+C*m}`,this._append`A${s},${s},0,0,${+(m*v>f*y)},${this._x1=t+N*u},${this._y1=n+N*h}`}}arc(t,n,r,i,s,a){if(t=+t,n=+n,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let l=r*Math.cos(i),u=r*Math.sin(i),h=t+l,f=n+u,m=1^a,g=a?i-s:s-i;this._x1===null?this._append`M${h},${f}`:(Math.abs(this._x1-h)>Ni||Math.abs(this._y1-f)>Ni)&&this._append`L${h},${f}`,r&&(g<0&&(g=g%cm+cm),g>Gz?this._append`A${r},${r},0,1,${m},${t-l},${n-u}A${r},${r},0,1,${m},${this._x1=h},${this._y1=f}`:g>Ni&&this._append`A${r},${r},0,${+(g>=lm)},${m},${this._x1=t+r*Math.cos(s)},${this._y1=n+r*Math.sin(s)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function Wp(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new Yz(t)}function Hp(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function iP(e){this._context=e}iP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Du(e){return new iP(e)}function sP(e){return e[0]}function aP(e){return e[1]}function oP(e,t){var n=Fe(!0),r=null,i=Du,s=null,a=Wp(l);e=typeof e=="function"?e:e===void 0?sP:Fe(e),t=typeof t=="function"?t:t===void 0?aP:Fe(t);function l(u){var h,f=(u=Hp(u)).length,m,g=!1,v;for(r==null&&(s=i(v=a())),h=0;h<=f;++h)!(h<f&&n(m=u[h],h,u))===g&&((g=!g)?s.lineStart():s.lineEnd()),g&&s.point(+e(m,h,u),+t(m,h,u));if(v)return s=null,v+""||null}return l.x=function(u){return arguments.length?(e=typeof u=="function"?u:Fe(+u),l):e},l.y=function(u){return arguments.length?(t=typeof u=="function"?u:Fe(+u),l):t},l.defined=function(u){return arguments.length?(n=typeof u=="function"?u:Fe(!!u),l):n},l.curve=function(u){return arguments.length?(i=u,r!=null&&(s=i(r)),l):i},l.context=function(u){return arguments.length?(u==null?r=s=null:s=i(r=u),l):r},l}function Ll(e,t,n){var r=null,i=Fe(!0),s=null,a=Du,l=null,u=Wp(h);e=typeof e=="function"?e:e===void 0?sP:Fe(+e),t=typeof t=="function"?t:Fe(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?aP:Fe(+n);function h(m){var g,v,y,w=(m=Hp(m)).length,_,j=!1,k,P=new Array(w),C=new Array(w);for(s==null&&(l=a(k=u())),g=0;g<=w;++g){if(!(g<w&&i(_=m[g],g,m))===j)if(j=!j)v=g,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),y=g-1;y>=v;--y)l.point(P[y],C[y]);l.lineEnd(),l.areaEnd()}j&&(P[g]=+e(_,g,m),C[g]=+t(_,g,m),l.point(r?+r(_,g,m):P[g],n?+n(_,g,m):C[g]))}if(k)return l=null,k+""||null}function f(){return oP().defined(i).curve(a).context(s)}return h.x=function(m){return arguments.length?(e=typeof m=="function"?m:Fe(+m),r=null,h):e},h.x0=function(m){return arguments.length?(e=typeof m=="function"?m:Fe(+m),h):e},h.x1=function(m){return arguments.length?(r=m==null?null:typeof m=="function"?m:Fe(+m),h):r},h.y=function(m){return arguments.length?(t=typeof m=="function"?m:Fe(+m),n=null,h):t},h.y0=function(m){return arguments.length?(t=typeof m=="function"?m:Fe(+m),h):t},h.y1=function(m){return arguments.length?(n=m==null?null:typeof m=="function"?m:Fe(+m),h):n},h.lineX0=h.lineY0=function(){return f().x(e).y(t)},h.lineY1=function(){return f().x(e).y(n)},h.lineX1=function(){return f().x(r).y(t)},h.defined=function(m){return arguments.length?(i=typeof m=="function"?m:Fe(!!m),h):i},h.curve=function(m){return arguments.length?(a=m,s!=null&&(l=a(s)),h):a},h.context=function(m){return arguments.length?(m==null?s=l=null:l=a(s=m),h):s},h}class lP{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function Xz(e){return new lP(e,!0)}function Jz(e){return new lP(e,!1)}const Kp={draw(e,t){const n=Gn(t/Cc);e.moveTo(n,0),e.arc(0,0,n,0,Lu)}},Qz={draw(e,t){const n=Gn(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},cP=Gn(1/3),eB=cP*2,tB={draw(e,t){const n=Gn(t/eB),r=n*cP;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},nB={draw(e,t){const n=Gn(t),r=-n/2;e.rect(r,r,n,n)}},rB=.8908130915292852,uP=Ac(Cc/10)/Ac(7*Cc/10),iB=Ac(Lu/10)*uP,sB=-nP(Lu/10)*uP,aB={draw(e,t){const n=Gn(t*rB),r=iB*n,i=sB*n;e.moveTo(0,-n),e.lineTo(r,i);for(let s=1;s<5;++s){const a=Lu*s/5,l=nP(a),u=Ac(a);e.lineTo(u*n,-l*n),e.lineTo(l*r-u*i,u*r+l*i)}e.closePath()}},Zh=Gn(3),oB={draw(e,t){const n=-Gn(t/(Zh*3));e.moveTo(0,n*2),e.lineTo(-Zh*n,-n),e.lineTo(Zh*n,-n),e.closePath()}},yn=-.5,xn=Gn(3)/2,um=1/Gn(12),lB=(um/2+1)*3,cB={draw(e,t){const n=Gn(t/lB),r=n/2,i=n*um,s=r,a=n*um+n,l=-s,u=a;e.moveTo(r,i),e.lineTo(s,a),e.lineTo(l,u),e.lineTo(yn*r-xn*i,xn*r+yn*i),e.lineTo(yn*s-xn*a,xn*s+yn*a),e.lineTo(yn*l-xn*u,xn*l+yn*u),e.lineTo(yn*r+xn*i,yn*i-xn*r),e.lineTo(yn*s+xn*a,yn*a-xn*s),e.lineTo(yn*l+xn*u,yn*u-xn*l),e.closePath()}};function uB(e,t){let n=null,r=Wp(i);e=typeof e=="function"?e:Fe(e||Kp),t=typeof t=="function"?t:Fe(t===void 0?64:+t);function i(){let s;if(n||(n=s=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),s)return n=null,s+""||null}return i.type=function(s){return arguments.length?(e=typeof s=="function"?s:Fe(s),i):e},i.size=function(s){return arguments.length?(t=typeof s=="function"?s:Fe(+s),i):t},i.context=function(s){return arguments.length?(n=s??null,i):n},i}function Tc(){}function Nc(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function dP(e){this._context=e}dP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Nc(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Nc(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function dB(e){return new dP(e)}function hP(e){this._context=e}hP.prototype={areaStart:Tc,areaEnd:Tc,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Nc(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function hB(e){return new hP(e)}function fP(e){this._context=e}fP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Nc(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function fB(e){return new fP(e)}function mP(e){this._context=e}mP.prototype={areaStart:Tc,areaEnd:Tc,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function mB(e){return new mP(e)}function Ux(e){return e<0?-1:1}function Vx(e,t,n){var r=e._x1-e._x0,i=t-e._x1,s=(e._y1-e._y0)/(r||i<0&&-0),a=(n-e._y1)/(i||r<0&&-0),l=(s*i+a*r)/(r+i);return(Ux(s)+Ux(a))*Math.min(Math.abs(s),Math.abs(a),.5*Math.abs(l))||0}function Wx(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function Yh(e,t,n){var r=e._x0,i=e._y0,s=e._x1,a=e._y1,l=(s-r)/3;e._context.bezierCurveTo(r+l,i+l*t,s-l,a-l*n,s,a)}function Oc(e){this._context=e}Oc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Yh(this,this._t0,Wx(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Yh(this,Wx(this,n=Vx(this,e,t)),n);break;default:Yh(this,this._t0,n=Vx(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function pP(e){this._context=new gP(e)}(pP.prototype=Object.create(Oc.prototype)).point=function(e,t){Oc.prototype.point.call(this,t,e)};function gP(e){this._context=e}gP.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,s){this._context.bezierCurveTo(t,e,r,n,s,i)}};function pB(e){return new Oc(e)}function gB(e){return new pP(e)}function vP(e){this._context=e}vP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=Hx(e),i=Hx(t),s=0,a=1;a<n;++s,++a)this._context.bezierCurveTo(r[0][s],i[0][s],r[1][s],i[1][s],e[a],t[a]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function Hx(e){var t,n=e.length-1,r,i=new Array(n),s=new Array(n),a=new Array(n);for(i[0]=0,s[0]=2,a[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,s[t]=4,a[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,s[n-1]=7,a[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/s[t-1],s[t]-=r,a[t]-=r*a[t-1];for(i[n-1]=a[n-1]/s[n-1],t=n-2;t>=0;--t)i[t]=(a[t]-i[t+1])/s[t];for(s[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)s[t]=2*e[t+1]-i[t+1];return[i,s]}function vB(e){return new vP(e)}function Ru(e,t){this._context=e,this._t=t}Ru.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function yB(e){return new Ru(e,.5)}function xB(e){return new Ru(e,0)}function bB(e){return new Ru(e,1)}function Ki(e,t){if((a=e.length)>1)for(var n=1,r,i,s=e[t[0]],a,l=s.length;n<a;++n)for(i=s,s=e[t[n]],r=0;r<l;++r)s[r][1]+=s[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function dm(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function wB(e,t){return e[t]}function _B(e){const t=[];return t.key=e,t}function SB(){var e=Fe([]),t=dm,n=Ki,r=wB;function i(s){var a=Array.from(e.apply(this,arguments),_B),l,u=a.length,h=-1,f;for(const m of s)for(l=0,++h;l<u;++l)(a[l][h]=[0,+r(m,a[l].key,h,s)]).data=m;for(l=0,f=Hp(t(a));l<u;++l)a[f[l]].index=l;return n(a,f),a}return i.keys=function(s){return arguments.length?(e=typeof s=="function"?s:Fe(Array.from(s)),i):e},i.value=function(s){return arguments.length?(r=typeof s=="function"?s:Fe(+s),i):r},i.order=function(s){return arguments.length?(t=s==null?dm:typeof s=="function"?s:Fe(Array.from(s)),i):t},i.offset=function(s){return arguments.length?(n=s??Ki,i):n},i}function jB(e,t){if((r=e.length)>0){for(var n,r,i=0,s=e[0].length,a;i<s;++i){for(a=n=0;n<r;++n)a+=e[n][i][1]||0;if(a)for(n=0;n<r;++n)e[n][i][1]/=a}Ki(e,t)}}function PB(e,t){if((i=e.length)>0){for(var n=0,r=e[t[0]],i,s=r.length;n<s;++n){for(var a=0,l=0;a<i;++a)l+=e[a][n][1]||0;r[n][1]+=r[n][0]=-l/2}Ki(e,t)}}function kB(e,t){if(!(!((a=e.length)>0)||!((s=(i=e[t[0]]).length)>0))){for(var n=0,r=1,i,s,a;r<s;++r){for(var l=0,u=0,h=0;l<a;++l){for(var f=e[t[l]],m=f[r][1]||0,g=f[r-1][1]||0,v=(m-g)/2,y=0;y<l;++y){var w=e[t[y]],_=w[r][1]||0,j=w[r-1][1]||0;v+=_-j}u+=m,h+=v*m}i[r-1][1]+=i[r-1][0]=n,u&&(n-=h/u)}i[r-1][1]+=i[r-1][0]=n,Ki(e,t)}}var $u={},yP={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==="__proto__"}e.isUnsafeProperty=t})(yP);var qp={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}e.isDeepKey=t})(qp);var zu={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var r;return typeof n=="string"||typeof n=="symbol"?n:Object.is((r=n==null?void 0:n.valueOf)==null?void 0:r.call(n),-0)?"-0":String(n)}e.toKey=t})(zu);var Bu={},xP={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(t).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}e.toString=t})(xP);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=xP,n=zu;function r(i){if(Array.isArray(i))return i.map(n.toKey);if(typeof i=="symbol")return[i];i=t.toString(i);const s=[],a=i.length;if(a===0)return s;let l=0,u="",h="",f=!1;for(i.charCodeAt(0)===46&&(s.push(""),l++);l<a;){const m=i[l];h?m==="\\"&&l+1<a?(l++,u+=i[l]):m===h?h="":u+=m:f?m==='"'||m==="'"?h=m:m==="]"?(f=!1,s.push(u),u=""):u+=m:m==="["?(f=!0,u&&(s.push(u),u="")):m==="."?u&&(s.push(u),u=""):u+=m,l++}return u&&s.push(u),s}e.toPath=r})(Bu);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=yP,n=qp,r=zu,i=Bu;function s(l,u,h){if(l==null)return h;switch(typeof u){case"string":{if(t.isUnsafeProperty(u))return h;const f=l[u];return f===void 0?n.isDeepKey(u)?s(l,i.toPath(u),h):h:f}case"number":case"symbol":{typeof u=="number"&&(u=r.toKey(u));const f=l[u];return f===void 0?h:f}default:{if(Array.isArray(u))return a(l,u,h);if(Object.is(u==null?void 0:u.valueOf(),-0)?u="-0":u=String(u),t.isUnsafeProperty(u))return h;const f=l[u];return f===void 0?h:f}}}function a(l,u,h){if(u.length===0)return h;let f=l;for(let m=0;m<u.length;m++){if(f==null||t.isUnsafeProperty(u[m]))return h;f=f[u[m]]}return f===void 0?h:f}e.get=s})($u);var AB=$u.get;const Hs=Rr(AB);var CB=4;function ri(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:CB,n=10**t,r=Math.round(e*n)/n;return Object.is(r,-0)?0:r}function Qe(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e.reduce((i,s,a)=>{var l=n[a-1];return typeof l=="string"?i+l+s:l!==void 0?i+ri(l)+s:i+s},"")}var sn=e=>e===0?0:e>0?1:-1,ur=e=>typeof e=="number"&&e!=+e,qi=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,ie=e=>(typeof e=="number"||e instanceof Number)&&!ur(e),dr=e=>ie(e)||typeof e=="string",TB=0,mo=e=>{var t=++TB;return"".concat(e||"").concat(t)},Kn=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ie(t)&&typeof t!="string")return r;var s;if(qi(t)){if(n==null)return r;var a=t.indexOf("%");s=n*parseFloat(t.slice(0,a))/100}else s=+t;return ur(s)&&(s=r),i&&n!=null&&s>n&&(s=n),s},bP=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++)if(!n[String(e[r])])n[String(e[r])]=!0;else return!0;return!1};function et(e,t,n){return ie(e)&&ie(t)?ri(e+n*(t-e)):t}function wP(e,t,n){if(!(!e||!e.length))return e.find(r=>r&&(typeof t=="function"?t(r):Hs(r,t))===n)}var Ze=e=>e===null||typeof e>"u",zo=e=>Ze(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function an(e){return e!=null}function es(){}var NB=["type","size","sizeType"];function hm(){return hm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},hm.apply(null,arguments)}function Kx(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function qx(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Kx(Object(n),!0).forEach(function(r){OB(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Kx(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function OB(e,t,n){return(t=EB(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function EB(e){var t=MB(e,"string");return typeof t=="symbol"?t:t+""}function MB(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function IB(e,t){if(e==null)return{};var n,r,i=LB(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function LB(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var _P={symbolCircle:Kp,symbolCross:Qz,symbolDiamond:tB,symbolSquare:nB,symbolStar:aB,symbolTriangle:oB,symbolWye:cB},DB=Math.PI/180,RB=e=>{var t="symbol".concat(zo(e));return _P[t]||Kp},$B=(e,t,n)=>{if(t==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var r=18*DB;return 1.25*e*e*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},zB=(e,t)=>{_P["symbol".concat(zo(e))]=t},SP=e=>{var{type:t="circle",size:n=64,sizeType:r="area"}=e,i=IB(e,NB),s=qx(qx({},i),{},{type:t,size:n,sizeType:r}),a="circle";typeof t=="string"&&(a=t);var l=()=>{var g=RB(a),v=uB().type(g).size($B(n,r,a)),y=v();if(y!==null)return y},{className:u,cx:h,cy:f}=s,m=Jt(s);return ie(h)&&ie(f)&&ie(n)?b.createElement("path",hm({},m,{className:Me("recharts-symbols",u),transform:"translate(".concat(h,", ").concat(f,")"),d:l()})):null};SP.registerSymbol=zB;var jP=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,Gp=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(b.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{Vp(i)&&(r[i]=s=>n[i](n,s))}),r},BB=(e,t,n)=>r=>(e(t,n,r),null),Zp=(e,t,n)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var r=null;return Object.keys(e).forEach(i=>{var s=e[i];Vp(i)&&typeof s=="function"&&(r||(r={}),r[i]=BB(s,t,n))}),r};function Gx(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function FB(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Gx(Object(n),!0).forEach(function(r){UB(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gx(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function UB(e,t,n){return(t=VB(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function VB(e){var t=WB(e,"string");return typeof t=="symbol"?t:t+""}function WB(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function en(e,t){var n=FB({},e),r=t,i=Object.keys(t),s=i.reduce((a,l)=>(a[l]===void 0&&r[l]!==void 0&&(a[l]=r[l]),a),n);return s}var PP={},kP={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){const i=new Map;for(let s=0;s<n.length;s++){const a=n[s],l=r(a,s,n);i.has(l)||i.set(l,a)}return Array.from(i.values())}e.uniqBy=t})(kP);var AP={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){return function(...i){return n.apply(this,i.slice(0,r))}}e.ary=t})(AP);var Yp={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n}e.identity=t})(Yp);var CP={},Fu={},TP={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Number.isSafeInteger(n)&&n>=0}e.isLength=t})(TP);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=TP;function n(r){return r!=null&&typeof r!="function"&&t.isLength(r.length)}e.isArrayLike=n})(Fu);var NP={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="object"&&n!==null}e.isObjectLike=t})(NP);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Fu,n=NP;function r(i){return n.isObjectLike(i)&&t.isArrayLike(i)}e.isArrayLikeObject=r})(CP);var OP={},EP={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$u;function n(r){return function(i){return t.get(i,r)}}e.property=n})(EP);var MP={},Xp={},IP={},Jp={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n!==null&&(typeof n=="object"||typeof n=="function")}e.isObject=t})(Jp);var Qp={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null||typeof n!="object"&&typeof n!="function"}e.isPrimitive=t})(Qp);var eg={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}e.isEqualsSameValueZero=t})(eg);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Jp,n=Qp,r=eg;function i(f,m,g){return typeof g!="function"?i(f,m,()=>{}):s(f,m,function v(y,w,_,j,k,P){const C=g(y,w,_,j,k,P);return C!==void 0?!!C:s(y,w,v,P)},new Map)}function s(f,m,g,v){if(m===f)return!0;switch(typeof m){case"object":return a(f,m,g,v);case"function":return Object.keys(m).length>0?s(f,{...m},g,v):r.isEqualsSameValueZero(f,m);default:return t.isObject(f)?typeof m=="string"?m==="":!0:r.isEqualsSameValueZero(f,m)}}function a(f,m,g,v){if(m==null)return!0;if(Array.isArray(m))return u(f,m,g,v);if(m instanceof Map)return l(f,m,g,v);if(m instanceof Set)return h(f,m,g,v);const y=Object.keys(m);if(f==null||n.isPrimitive(f))return y.length===0;if(y.length===0)return!0;if(v!=null&&v.has(m))return v.get(m)===f;v==null||v.set(m,f);try{for(let w=0;w<y.length;w++){const _=y[w];if(!n.isPrimitive(f)&&!(_ in f)||m[_]===void 0&&f[_]!==void 0||m[_]===null&&f[_]!==null||!g(f[_],m[_],_,f,m,v))return!1}return!0}finally{v==null||v.delete(m)}}function l(f,m,g,v){if(m.size===0)return!0;if(!(f instanceof Map))return!1;for(const[y,w]of m.entries()){const _=f.get(y);if(g(_,w,y,f,m,v)===!1)return!1}return!0}function u(f,m,g,v){if(m.length===0)return!0;if(!Array.isArray(f))return!1;const y=new Set;for(let w=0;w<m.length;w++){const _=m[w];let j=!1;for(let k=0;k<f.length;k++){if(y.has(k))continue;const P=f[k];let C=!1;if(g(P,_,w,f,m,v)&&(C=!0),C){y.add(k),j=!0;break}}if(!j)return!1}return!0}function h(f,m,g,v){return m.size===0?!0:f instanceof Set?u([...f],[...m],g,v):!1}e.isMatchWith=i,e.isSetMatch=h})(IP);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=IP;function n(r,i){return t.isMatchWith(r,i,()=>{})}e.isMatch=n})(Xp);var LP={},tg={},DP={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}e.getSymbols=t})(DP);var Uu={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}e.getTag=t})(Uu);var ng={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",s="[object Arguments]",a="[object Symbol]",l="[object Date]",u="[object Map]",h="[object Set]",f="[object Array]",m="[object Function]",g="[object ArrayBuffer]",v="[object Object]",y="[object Error]",w="[object DataView]",_="[object Uint8Array]",j="[object Uint8ClampedArray]",k="[object Uint16Array]",P="[object Uint32Array]",C="[object BigUint64Array]",N="[object Int8Array]",T="[object Int16Array]",M="[object Int32Array]",E="[object BigInt64Array]",$="[object Float32Array]",q="[object Float64Array]";e.argumentsTag=s,e.arrayBufferTag=g,e.arrayTag=f,e.bigInt64ArrayTag=E,e.bigUint64ArrayTag=C,e.booleanTag=i,e.dataViewTag=w,e.dateTag=l,e.errorTag=y,e.float32ArrayTag=$,e.float64ArrayTag=q,e.functionTag=m,e.int16ArrayTag=T,e.int32ArrayTag=M,e.int8ArrayTag=N,e.mapTag=u,e.numberTag=r,e.objectTag=v,e.regexpTag=t,e.setTag=h,e.stringTag=n,e.symbolTag=a,e.uint16ArrayTag=k,e.uint32ArrayTag=P,e.uint8ArrayTag=_,e.uint8ClampedArrayTag=j})(ng);var RP={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}e.isTypedArray=t})(RP);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=DP,n=Uu,r=ng,i=Qp,s=RP;function a(f,m){return l(f,void 0,f,new Map,m)}function l(f,m,g,v=new Map,y=void 0){const w=y==null?void 0:y(f,m,g,v);if(w!==void 0)return w;if(i.isPrimitive(f))return f;if(v.has(f))return v.get(f);if(Array.isArray(f)){const _=new Array(f.length);v.set(f,_);for(let j=0;j<f.length;j++)_[j]=l(f[j],j,g,v,y);return Object.hasOwn(f,"index")&&(_.index=f.index),Object.hasOwn(f,"input")&&(_.input=f.input),_}if(f instanceof Date)return new Date(f.getTime());if(f instanceof RegExp){const _=new RegExp(f.source,f.flags);return _.lastIndex=f.lastIndex,_}if(f instanceof Map){const _=new Map;v.set(f,_);for(const[j,k]of f)_.set(j,l(k,j,g,v,y));return _}if(f instanceof Set){const _=new Set;v.set(f,_);for(const j of f)_.add(l(j,void 0,g,v,y));return _}if(typeof Buffer<"u"&&Buffer.isBuffer(f))return f.subarray();if(s.isTypedArray(f)){const _=new(Object.getPrototypeOf(f)).constructor(f.length);v.set(f,_);for(let j=0;j<f.length;j++)_[j]=l(f[j],j,g,v,y);return _}if(f instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&f instanceof SharedArrayBuffer)return f.slice(0);if(f instanceof DataView){const _=new DataView(f.buffer.slice(0),f.byteOffset,f.byteLength);return v.set(f,_),u(_,f,g,v,y),_}if(typeof File<"u"&&f instanceof File){const _=new File([f],f.name,{type:f.type});return v.set(f,_),u(_,f,g,v,y),_}if(typeof Blob<"u"&&f instanceof Blob){const _=new Blob([f],{type:f.type});return v.set(f,_),u(_,f,g,v,y),_}if(f instanceof Error){const _=new f.constructor;return v.set(f,_),_.message=f.message,_.name=f.name,_.stack=f.stack,_.cause=f.cause,u(_,f,g,v,y),_}if(f instanceof Boolean){const _=new Boolean(f.valueOf());return v.set(f,_),u(_,f,g,v,y),_}if(f instanceof Number){const _=new Number(f.valueOf());return v.set(f,_),u(_,f,g,v,y),_}if(f instanceof String){const _=new String(f.valueOf());return v.set(f,_),u(_,f,g,v,y),_}if(typeof f=="object"&&h(f)){const _=Object.create(Object.getPrototypeOf(f));return v.set(f,_),u(_,f,g,v,y),_}return f}function u(f,m,g=f,v,y){const w=[...Object.keys(m),...t.getSymbols(m)];for(let _=0;_<w.length;_++){const j=w[_],k=Object.getOwnPropertyDescriptor(f,j);(k==null||k.writable)&&(f[j]=l(m[j],j,g,v,y))}}function h(f){switch(n.getTag(f)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=a,e.cloneDeepWithImpl=l,e.copyProperties=u})(tg);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=tg;function n(r){return t.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}e.cloneDeep=n})(LP);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Xp,n=LP;function r(i){return i=n.cloneDeep(i),s=>t.isMatch(s,i)}e.matches=r})(MP);var $P={},zP={},BP={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=tg,n=Uu,r=ng;function i(s,a){return t.cloneDeepWith(s,(l,u,h,f)=>{const m=a==null?void 0:a(l,u,h,f);if(m!==void 0)return m;if(typeof s=="object"){if(n.getTag(s)===r.objectTag&&typeof s.constructor!="function"){const g={};return f.set(s,g),t.copyProperties(g,s,h,f),g}switch(Object.prototype.toString.call(s)){case r.numberTag:case r.stringTag:case r.booleanTag:{const g=new s.constructor(s==null?void 0:s.valueOf());return t.copyProperties(g,s),g}case r.argumentsTag:{const g={};return t.copyProperties(g,s),g.length=s.length,g[Symbol.iterator]=s[Symbol.iterator],g}default:return}}})}e.cloneDeepWith=i})(BP);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=BP;function n(r){return t.cloneDeepWith(r)}e.cloneDeep=n})(zP);var FP={},rg={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return t.test(r)}}e.isIndex=n})(rg);var UP={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Uu;function n(r){return r!==null&&typeof r=="object"&&t.getTag(r)==="[object Arguments]"}e.isArguments=n})(UP);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=qp,n=rg,r=UP,i=Bu;function s(a,l){let u;if(Array.isArray(l)?u=l:typeof l=="string"&&t.isDeepKey(l)&&(a==null?void 0:a[l])==null?u=i.toPath(l):u=[l],u.length===0)return!1;let h=a;for(let f=0;f<u.length;f++){const m=u[f];if((h==null||!Object.hasOwn(h,m))&&!((Array.isArray(h)||r.isArguments(h))&&n.isIndex(m)&&m<h.length))return!1;h=h[m]}return!0}e.has=s})(FP);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Xp,n=zu,r=zP,i=$u,s=FP;function a(l,u){switch(typeof l){case"object":{Object.is(l==null?void 0:l.valueOf(),-0)&&(l="-0");break}case"number":{l=n.toKey(l);break}}return u=r.cloneDeep(u),function(h){const f=i.get(h,l);return f===void 0?s.has(h,l):u===void 0?f===void 0:t.isMatch(f,u)}}e.matchesProperty=a})($P);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Yp,n=EP,r=MP,i=$P;function s(a){if(a==null)return t.identity;switch(typeof a){case"function":return a;case"object":return Array.isArray(a)&&a.length===2?i.matchesProperty(a[0],a[1]):r.matches(a);case"string":case"symbol":case"number":return n.property(a)}}e.iteratee=s})(OP);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=kP,n=AP,r=Yp,i=CP,s=OP;function a(l,u=r.identity){return i.isArrayLikeObject(l)?t.uniqBy(Array.from(l),n.ary(s.iteratee(u),1)):[]}e.uniqBy=a})(PP);var HB=PP.uniqBy;const Zx=Rr(HB);function KB(e,t,n){return t===!0?Zx(e,n):typeof t=="function"?Zx(e,t):e}var VP={exports:{}},WP={},HP={exports:{}},KP={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ks=b;function qB(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var GB=typeof Object.is=="function"?Object.is:qB,ZB=Ks.useState,YB=Ks.useEffect,XB=Ks.useLayoutEffect,JB=Ks.useDebugValue;function QB(e,t){var n=t(),r=ZB({inst:{value:n,getSnapshot:t}}),i=r[0].inst,s=r[1];return XB(function(){i.value=n,i.getSnapshot=t,Xh(i)&&s({inst:i})},[e,n,t]),YB(function(){return Xh(i)&&s({inst:i}),e(function(){Xh(i)&&s({inst:i})})},[e]),JB(n),n}function Xh(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!GB(e,n)}catch{return!0}}function eF(e,t){return t()}var tF=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?eF:QB;KP.useSyncExternalStore=Ks.useSyncExternalStore!==void 0?Ks.useSyncExternalStore:tF;HP.exports=KP;var nF=HP.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vu=b,rF=nF;function iF(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var sF=typeof Object.is=="function"?Object.is:iF,aF=rF.useSyncExternalStore,oF=Vu.useRef,lF=Vu.useEffect,cF=Vu.useMemo,uF=Vu.useDebugValue;WP.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var s=oF(null);if(s.current===null){var a={hasValue:!1,value:null};s.current=a}else a=s.current;s=cF(function(){function u(v){if(!h){if(h=!0,f=v,v=r(v),i!==void 0&&a.hasValue){var y=a.value;if(i(y,v))return m=y}return m=v}if(y=m,sF(f,v))return y;var w=r(v);return i!==void 0&&i(y,w)?(f=v,y):(f=v,m=w)}var h=!1,f,m,g=n===void 0?null:n;return[function(){return u(t())},g===null?void 0:function(){return u(g())}]},[t,n,r,i]);var l=aF(e,s[0],s[1]);return lF(function(){a.hasValue=!0,a.value=l},[l]),uF(l),l};VP.exports=WP;var dF=VP.exports,ig=b.createContext(null),hF=e=>e,nt=()=>{var e=b.useContext(ig);return e?e.store.dispatch:hF},ac=()=>{},fF=()=>ac,mF=(e,t)=>e===t;function ce(e){var t=b.useContext(ig),n=b.useMemo(()=>t?r=>{if(r!=null)return e(r)}:ac,[t,e]);return dF.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:fF,t?t.store.getState:ac,t?t.store.getState:ac,n,mF)}function pF(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function gF(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function vF(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${t}[${n}]`)}}var Yx=e=>Array.isArray(e)?e:[e];function yF(e){const t=Array.isArray(e[0])?e[0]:e;return vF(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function xF(e,t){const n=[],{length:r}=e;for(let i=0;i<r;i++)n.push(e[i].apply(null,t));return n}var bF=class{constructor(e){this.value=e}deref(){return this.value}},wF=typeof WeakRef<"u"?WeakRef:bF,_F=0,Xx=1;function Dl(){return{s:_F,v:void 0,o:null,p:null}}function qP(e,t={}){let n=Dl();const{resultEqualityCheck:r}=t;let i,s=0;function a(){var m;let l=n;const{length:u}=arguments;for(let g=0,v=u;g<v;g++){const y=arguments[g];if(typeof y=="function"||typeof y=="object"&&y!==null){let w=l.o;w===null&&(l.o=w=new WeakMap);const _=w.get(y);_===void 0?(l=Dl(),w.set(y,l)):l=_}else{let w=l.p;w===null&&(l.p=w=new Map);const _=w.get(y);_===void 0?(l=Dl(),w.set(y,l)):l=_}}const h=l;let f;if(l.s===Xx)f=l.v;else if(f=e.apply(null,arguments),s++,r){const g=((m=i==null?void 0:i.deref)==null?void 0:m.call(i))??i;g!=null&&r(g,f)&&(f=g,s!==0&&s--),i=typeof f=="object"&&f!==null||typeof f=="function"?new wF(f):f}return h.s=Xx,h.v=f,f}return a.clearCache=()=>{n=Dl(),a.resetResultsCount()},a.resultsCount=()=>s,a.resetResultsCount=()=>{s=0},a}function SF(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,r=(...i)=>{let s=0,a=0,l,u={},h=i.pop();typeof h=="object"&&(u=h,h=i.pop()),pF(h,`createSelector expects an output function after the inputs, but received: [${typeof h}]`);const f={...n,...u},{memoize:m,memoizeOptions:g=[],argsMemoize:v=qP,argsMemoizeOptions:y=[]}=f,w=Yx(g),_=Yx(y),j=yF(i),k=m(function(){return s++,h.apply(null,arguments)},...w),P=v(function(){a++;const N=xF(j,arguments);return l=k.apply(null,N),l},..._);return Object.assign(P,{resultFunc:h,memoizedResultFunc:k,dependencies:j,dependencyRecomputations:()=>a,resetDependencyRecomputations:()=>{a=0},lastResult:()=>l,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:m,argsMemoize:v})};return Object.assign(r,{withTypes:()=>r}),r}var B=SF(qP),jF=Object.assign((e,t=B)=>{gF(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),r=n.map(s=>e[s]);return t(r,(...s)=>s.reduce((a,l,u)=>(a[n[u]]=l,a),{}))},{withTypes:()=>jF}),GP={},ZP={},YP={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,s)=>{if(r!==i){const a=t(r),l=t(i);if(a===l&&a===0){if(r<i)return s==="desc"?1:-1;if(r>i)return s==="desc"?-1:1}return s==="desc"?l-a:a-l}return 0};e.compareValues=n})(YP);var XP={},sg={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"||n instanceof Symbol}e.isSymbol=t})(sg);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=sg,n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(s,a){return Array.isArray(s)?!1:typeof s=="number"||typeof s=="boolean"||s==null||t.isSymbol(s)?!0:typeof s=="string"&&(r.test(s)||!n.test(s))||a!=null&&Object.hasOwn(a,s)}e.isKey=i})(XP);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=YP,n=XP,r=Bu;function i(s,a,l,u){if(s==null)return[];l=u?void 0:l,Array.isArray(s)||(s=Object.values(s)),Array.isArray(a)||(a=a==null?[null]:[a]),a.length===0&&(a=[null]),Array.isArray(l)||(l=l==null?[]:[l]),l=l.map(v=>String(v));const h=(v,y)=>{let w=v;for(let _=0;_<y.length&&w!=null;++_)w=w[y[_]];return w},f=(v,y)=>y==null||v==null?y:typeof v=="object"&&"key"in v?Object.hasOwn(y,v.key)?y[v.key]:h(y,v.path):typeof v=="function"?v(y):Array.isArray(v)?h(y,v):typeof y=="object"?y[v]:y,m=a.map(v=>(Array.isArray(v)&&v.length===1&&(v=v[0]),v==null||typeof v=="function"||Array.isArray(v)||n.isKey(v)?v:{key:v,path:r.toPath(v)}));return s.map(v=>({original:v,criteria:m.map(y=>f(y,v))})).slice().sort((v,y)=>{for(let w=0;w<m.length;w++){const _=t.compareValues(v.criteria[w],y.criteria[w],l[w]);if(_!==0)return _}return 0}).map(v=>v.original)}e.orderBy=i})(ZP);var JP={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r=1){const i=[],s=Math.floor(r),a=(l,u)=>{for(let h=0;h<l.length;h++){const f=l[h];Array.isArray(f)&&u<s?a(f,u+1):i.push(f)}};return a(n,0),i}e.flatten=t})(JP);var ag={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=rg,n=Fu,r=Jp,i=eg;function s(a,l,u){return r.isObject(u)&&(typeof l=="number"&&n.isArrayLike(u)&&t.isIndex(l)&&l<u.length||typeof l=="string"&&l in u)?i.isEqualsSameValueZero(u[l],a):!1}e.isIterateeCall=s})(ag);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ZP,n=JP,r=ag;function i(s,...a){const l=a.length;return l>1&&r.isIterateeCall(s,a[0],a[1])?a=[]:l>2&&r.isIterateeCall(a[0],a[1],a[2])&&(a=[a[0]]),t.orderBy(s,n.flatten(a),["asc"])}e.sortBy=i})(GP);var PF=GP.sortBy;const Wu=Rr(PF);var QP=e=>e.legend.settings,kF=e=>e.legend.size,AF=e=>e.legend.payload;B([AF,QP],(e,t)=>{var{itemSorter:n}=t,r=e.flat(1);return n?Wu(r,n):r});var Rl=1;function CF(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,n]=b.useState({height:0,left:0,top:0,width:0}),r=b.useCallback(i=>{if(i!=null){var s=i.getBoundingClientRect(),a={height:s.height,left:s.left,top:s.top,width:s.width};(Math.abs(a.height-t.height)>Rl||Math.abs(a.left-t.left)>Rl||Math.abs(a.top-t.top)>Rl||Math.abs(a.width-t.width)>Rl)&&n({height:a.height,left:a.left,top:a.top,width:a.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,r]}function Lt(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var TF=typeof Symbol=="function"&&Symbol.observable||"@@observable",Jx=TF,Jh=()=>Math.random().toString(36).substring(7).split("").join("."),NF={INIT:`@@redux/INIT${Jh()}`,REPLACE:`@@redux/REPLACE${Jh()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Jh()}`},Ec=NF;function og(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function e2(e,t,n){if(typeof e!="function")throw new Error(Lt(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Lt(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Lt(1));return n(e2)(e,t)}let r=e,i=t,s=new Map,a=s,l=0,u=!1;function h(){a===s&&(a=new Map,s.forEach((_,j)=>{a.set(j,_)}))}function f(){if(u)throw new Error(Lt(3));return i}function m(_){if(typeof _!="function")throw new Error(Lt(4));if(u)throw new Error(Lt(5));let j=!0;h();const k=l++;return a.set(k,_),function(){if(j){if(u)throw new Error(Lt(6));j=!1,h(),a.delete(k),s=null}}}function g(_){if(!og(_))throw new Error(Lt(7));if(typeof _.type>"u")throw new Error(Lt(8));if(typeof _.type!="string")throw new Error(Lt(17));if(u)throw new Error(Lt(9));try{u=!0,i=r(i,_)}finally{u=!1}return(s=a).forEach(k=>{k()}),_}function v(_){if(typeof _!="function")throw new Error(Lt(10));r=_,g({type:Ec.REPLACE})}function y(){const _=m;return{subscribe(j){if(typeof j!="object"||j===null)throw new Error(Lt(11));function k(){const C=j;C.next&&C.next(f())}return k(),{unsubscribe:_(k)}},[Jx](){return this}}}return g({type:Ec.INIT}),{dispatch:g,subscribe:m,getState:f,replaceReducer:v,[Jx]:y}}function OF(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:Ec.INIT})>"u")throw new Error(Lt(12));if(typeof n(void 0,{type:Ec.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Lt(13))})}function t2(e){const t=Object.keys(e),n={};for(let s=0;s<t.length;s++){const a=t[s];typeof e[a]=="function"&&(n[a]=e[a])}const r=Object.keys(n);let i;try{OF(n)}catch(s){i=s}return function(a={},l){if(i)throw i;let u=!1;const h={};for(let f=0;f<r.length;f++){const m=r[f],g=n[m],v=a[m],y=g(v,l);if(typeof y>"u")throw l&&l.type,new Error(Lt(14));h[m]=y,u=u||y!==v}return u=u||r.length!==Object.keys(a).length,u?h:a}}function Mc(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function EF(...e){return t=>(n,r)=>{const i=t(n,r);let s=()=>{throw new Error(Lt(15))};const a={getState:i.getState,dispatch:(u,...h)=>s(u,...h)},l=e.map(u=>u(a));return s=Mc(...l)(i.dispatch),{...i,dispatch:s}}}function n2(e){return og(e)&&"type"in e&&typeof e.type=="string"}var r2=Symbol.for("immer-nothing"),Qx=Symbol.for("immer-draftable"),Qt=Symbol.for("immer-state");function Bn(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var hn=Object,qs=hn.getPrototypeOf,Ic="constructor",Hu="prototype",fm="configurable",Lc="enumerable",oc="writable",po="value",Nr=e=>!!e&&!!e[Qt];function qn(e){var t;return e?i2(e)||qu(e)||!!e[Qx]||!!((t=e[Ic])!=null&&t[Qx])||Gu(e)||Zu(e):!1}var MF=hn[Hu][Ic].toString(),eb=new WeakMap;function i2(e){if(!e||!lg(e))return!1;const t=qs(e);if(t===null||t===hn[Hu])return!0;const n=hn.hasOwnProperty.call(t,Ic)&&t[Ic];if(n===Object)return!0;if(!Ns(n))return!1;let r=eb.get(n);return r===void 0&&(r=Function.toString.call(n),eb.set(n,r)),r===MF}function Ku(e,t,n=!0){Bo(e)===0?(n?Reflect.ownKeys(e):hn.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((r,i)=>t(i,r,e))}function Bo(e){const t=e[Qt];return t?t.type_:qu(e)?1:Gu(e)?2:Zu(e)?3:0}var tb=(e,t,n=Bo(e))=>n===2?e.has(t):hn[Hu].hasOwnProperty.call(e,t),mm=(e,t,n=Bo(e))=>n===2?e.get(t):e[t],Dc=(e,t,n,r=Bo(e))=>{r===2?e.set(t,n):r===3?e.add(n):e[t]=n};function IF(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var qu=Array.isArray,Gu=e=>e instanceof Map,Zu=e=>e instanceof Set,lg=e=>typeof e=="object",Ns=e=>typeof e=="function",Qh=e=>typeof e=="boolean";function LF(e){const t=+e;return Number.isInteger(t)&&String(t)===e}var wr=e=>e.copy_||e.base_,cg=e=>e.modified_?e.copy_:e.base_;function pm(e,t){if(Gu(e))return new Map(e);if(Zu(e))return new Set(e);if(qu(e))return Array[Hu].slice.call(e);const n=i2(e);if(t===!0||t==="class_only"&&!n){const r=hn.getOwnPropertyDescriptors(e);delete r[Qt];let i=Reflect.ownKeys(r);for(let s=0;s<i.length;s++){const a=i[s],l=r[a];l[oc]===!1&&(l[oc]=!0,l[fm]=!0),(l.get||l.set)&&(r[a]={[fm]:!0,[oc]:!0,[Lc]:l[Lc],[po]:e[a]})}return hn.create(qs(e),r)}else{const r=qs(e);if(r!==null&&n)return{...e};const i=hn.create(r);return hn.assign(i,e)}}function ug(e,t=!1){return Yu(e)||Nr(e)||!qn(e)||(Bo(e)>1&&hn.defineProperties(e,{set:$l,add:$l,clear:$l,delete:$l}),hn.freeze(e),t&&Ku(e,(n,r)=>{ug(r,!0)},!1)),e}function DF(){Bn(2)}var $l={[po]:DF};function Yu(e){return e===null||!lg(e)?!0:hn.isFrozen(e)}var Rc="MapSet",gm="Patches",nb="ArrayMethods",s2={};function Gi(e){const t=s2[e];return t||Bn(0,e),t}var rb=e=>!!s2[e],go,a2=()=>go,RF=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:rb(Rc)?Gi(Rc):void 0,arrayMethodsPlugin_:rb(nb)?Gi(nb):void 0});function ib(e,t){t&&(e.patchPlugin_=Gi(gm),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function vm(e){ym(e),e.drafts_.forEach($F),e.drafts_=null}function ym(e){e===go&&(go=e.parent_)}var sb=e=>go=RF(go,e);function $F(e){const t=e[Qt];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function ab(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];if(e!==void 0&&e!==n){n[Qt].modified_&&(vm(t),Bn(4)),qn(e)&&(e=ob(t,e));const{patchPlugin_:i}=t;i&&i.generateReplacementPatches_(n[Qt].base_,e,t)}else e=ob(t,n);return zF(t,e,!0),vm(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==r2?e:void 0}function ob(e,t){if(Yu(t))return t;const n=t[Qt];if(!n)return $c(t,e.handledSet_,e);if(!Xu(n,e))return t;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:r}=n;if(r)for(;r.length>0;)r.pop()(e);c2(n,e)}return n.copy_}function zF(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&ug(t,n)}function o2(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var Xu=(e,t)=>e.scope_===t,BF=[];function l2(e,t,n,r){const i=wr(e),s=e.type_;if(r!==void 0&&mm(i,r,s)===t){Dc(i,r,n,s);return}if(!e.draftLocations_){const l=e.draftLocations_=new Map;Ku(i,(u,h)=>{if(Nr(h)){const f=l.get(h)||[];f.push(u),l.set(h,f)}})}const a=e.draftLocations_.get(t)??BF;for(const l of a)Dc(i,l,n,s)}function FF(e,t,n){e.callbacks_.push(function(i){var l;const s=t;if(!s||!Xu(s,i))return;(l=i.mapSetPlugin_)==null||l.fixSetContents(s);const a=cg(s);l2(e,s.draft_??s,a,n),c2(s,i)})}function c2(e,t){var r;if(e.modified_&&!e.finalized_&&(e.type_===3||e.type_===1&&e.allIndicesReassigned_||(((r=e.assigned_)==null?void 0:r.size)??0)>0)){const{patchPlugin_:i}=t;if(i){const s=i.getPath(e);s&&i.generatePatches_(e,s,t)}o2(e)}}function UF(e,t,n){const{scope_:r}=e;if(Nr(n)){const i=n[Qt];Xu(i,r)&&i.callbacks_.push(function(){lc(e);const a=cg(i);l2(e,n,a,t)})}else qn(n)&&e.callbacks_.push(function(){const s=wr(e);e.type_===3?s.has(n)&&$c(n,r.handledSet_,r):mm(s,t,e.type_)===n&&r.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&$c(mm(e.copy_,t,e.type_),r.handledSet_,r)})}function $c(e,t,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||Nr(e)||t.has(e)||!qn(e)||Yu(e)||(t.add(e),Ku(e,(r,i)=>{if(Nr(i)){const s=i[Qt];if(Xu(s,n)){const a=cg(s);Dc(e,r,a,e.type_),o2(s)}}else qn(i)&&$c(i,t,n)})),e}function VF(e,t){const n=qu(e),r={type_:n?1:0,scope_:t?t.scope_:a2(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=r,s=zc;n&&(i=[r],s=vo);const{revoke:a,proxy:l}=Proxy.revocable(i,s);return r.draft_=l,r.revoke_=a,[l,r]}var zc={get(e,t){if(t===Qt)return e;let n=e.scope_.arrayMethodsPlugin_;const r=e.type_===1&&typeof t=="string";if(r&&n!=null&&n.isArrayOperationMethod(t))return n.createMethodInterceptor(e,t);const i=wr(e);if(!tb(i,t,e.type_))return WF(e,i,t);const s=i[t];if(e.finalized_||!qn(s)||r&&e.operationMethod&&(n!=null&&n.isMutatingArrayMethod(e.operationMethod))&&LF(t))return s;if(s===ef(e.base_,t)){lc(e);const a=e.type_===1?+t:t,l=bm(e.scope_,s,e,a);return e.copy_[a]=l}return s},has(e,t){return t in wr(e)},ownKeys(e){return Reflect.ownKeys(wr(e))},set(e,t,n){const r=u2(wr(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=ef(wr(e),t),s=i==null?void 0:i[Qt];if(s&&s.base_===n)return e.copy_[t]=n,e.assigned_.set(t,!1),!0;if(IF(n,i)&&(n!==void 0||tb(e.base_,t,e.type_)))return!0;lc(e),xm(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_.set(t,!0),UF(e,t,n)),!0},deleteProperty(e,t){return lc(e),ef(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),xm(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=wr(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{[oc]:!0,[fm]:e.type_!==1||t!=="length",[Lc]:r[Lc],[po]:n[t]}},defineProperty(){Bn(11)},getPrototypeOf(e){return qs(e.base_)},setPrototypeOf(){Bn(12)}},vo={};for(let e in zc){let t=zc[e];vo[e]=function(){const n=arguments;return n[0]=n[0][0],t.apply(this,n)}}vo.deleteProperty=function(e,t){return vo.set.call(this,e,t,void 0)};vo.set=function(e,t,n){return zc.set.call(this,e[0],t,n,e[0])};function ef(e,t){const n=e[Qt];return(n?wr(n):e)[t]}function WF(e,t,n){var i;const r=u2(t,n);return r?po in r?r[po]:(i=r.get)==null?void 0:i.call(e.draft_):void 0}function u2(e,t){if(!(t in e))return;let n=qs(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=qs(n)}}function xm(e){e.modified_||(e.modified_=!0,e.parent_&&xm(e.parent_))}function lc(e){e.copy_||(e.assigned_=new Map,e.copy_=pm(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var HF=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(n,r,i)=>{if(Ns(n)&&!Ns(r)){const a=r;r=n;const l=this;return function(h=a,...f){return l.produce(h,m=>r.call(this,m,...f))}}Ns(r)||Bn(6),i!==void 0&&!Ns(i)&&Bn(7);let s;if(qn(n)){const a=sb(this),l=bm(a,n,void 0);let u=!0;try{s=r(l),u=!1}finally{u?vm(a):ym(a)}return ib(a,i),ab(s,a)}else if(!n||!lg(n)){if(s=r(n),s===void 0&&(s=n),s===r2&&(s=void 0),this.autoFreeze_&&ug(s,!0),i){const a=[],l=[];Gi(gm).generateReplacementPatches_(n,s,{patches_:a,inversePatches_:l}),i(a,l)}return s}else Bn(1,n)},this.produceWithPatches=(n,r)=>{if(Ns(n))return(l,...u)=>this.produceWithPatches(l,h=>n(h,...u));let i,s;return[this.produce(n,r,(l,u)=>{i=l,s=u}),i,s]},Qh(t==null?void 0:t.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),Qh(t==null?void 0:t.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),Qh(t==null?void 0:t.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){qn(t)||Bn(8),Nr(t)&&(t=Vn(t));const n=sb(this),r=bm(n,t,void 0);return r[Qt].isManual_=!0,ym(n),r}finishDraft(t,n){const r=t&&t[Qt];(!r||!r.isManual_)&&Bn(9);const{scope_:i}=r;return ib(i,n),ab(void 0,i)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,n){let r;for(r=n.length-1;r>=0;r--){const s=n[r];if(s.path.length===0&&s.op==="replace"){t=s.value;break}}r>-1&&(n=n.slice(r+1));const i=Gi(gm).applyPatches_;return Nr(t)?i(t,n):this.produce(t,s=>i(s,n))}};function bm(e,t,n,r){const[i,s]=Gu(t)?Gi(Rc).proxyMap_(t,n):Zu(t)?Gi(Rc).proxySet_(t,n):VF(t,n);return((n==null?void 0:n.scope_)??a2()).drafts_.push(i),s.callbacks_=(n==null?void 0:n.callbacks_)??[],s.key_=r,n&&r!==void 0?FF(n,s,r):s.callbacks_.push(function(u){var f;(f=u.mapSetPlugin_)==null||f.fixSetContents(s);const{patchPlugin_:h}=u;s.modified_&&h&&h.generatePatches_(s,[],u)}),i}function Vn(e){return Nr(e)||Bn(10,e),d2(e)}function d2(e){if(!qn(e)||Yu(e))return e;const t=e[Qt];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=pm(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=pm(e,!0);return Ku(n,(i,s)=>{Dc(n,i,d2(s))},r),t&&(t.finalized_=!1),n}var KF=new HF,h2=KF.produce;function f2(e){return({dispatch:n,getState:r})=>i=>s=>typeof s=="function"?s(n,r,e):i(s)}var qF=f2(),GF=f2,ZF=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Mc:Mc.apply(null,arguments)};function An(e,t){function n(...r){if(t){let i=t(...r);if(!i)throw new Error(fn(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:r[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=r=>n2(r)&&r.type===e,n}var m2=class Ha extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Ha.prototype)}static get[Symbol.species](){return Ha}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Ha(...t[0].concat(this)):new Ha(...t.concat(this))}};function lb(e){return qn(e)?h2(e,()=>{}):e}function zl(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}function YF(e){return typeof e=="boolean"}var XF=()=>function(t){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:s=!0}=t??{};let a=new m2;return n&&(YF(n)?a.push(qF):a.push(GF(n.extraArgument))),a},p2="RTK_autoBatch",He=()=>e=>({payload:e,meta:{[p2]:!0}}),cb=e=>t=>{setTimeout(t,e)},g2=(e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let i=!0,s=!1,a=!1;const l=new Set,u=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:cb(10):e.type==="callback"?e.queueNotification:cb(e.timeout),h=()=>{a=!1,s&&(s=!1,l.forEach(f=>f()))};return Object.assign({},r,{subscribe(f){const m=()=>i&&f(),g=r.subscribe(m);return l.add(f),()=>{g(),l.delete(f)}},dispatch(f){var m;try{return i=!((m=f==null?void 0:f.meta)!=null&&m[p2]),s=!i,s&&(a||(a=!0,u(h))),r.dispatch(f)}finally{i=!0}}})},JF=e=>function(n){const{autoBatch:r=!0}=n??{};let i=new m2(e);return r&&i.push(g2(typeof r=="object"?r:void 0)),i};function QF(e){const t=XF(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:s=void 0,enhancers:a=void 0}=e||{};let l;if(typeof n=="function")l=n;else if(og(n))l=t2(n);else throw new Error(fn(1));let u;typeof r=="function"?u=r(t):u=t();let h=Mc;i&&(h=ZF({trace:!1,...typeof i=="object"&&i}));const f=EF(...u),m=JF(f);let g=typeof a=="function"?a(m):m();const v=h(...g);return e2(l,s,v)}function v2(e){const t={},n=[];let r;const i={addCase(s,a){const l=typeof s=="string"?s:s.type;if(!l)throw new Error(fn(28));if(l in t)throw new Error(fn(29));return t[l]=a,i},addAsyncThunk(s,a){return a.pending&&(t[s.pending.type]=a.pending),a.rejected&&(t[s.rejected.type]=a.rejected),a.fulfilled&&(t[s.fulfilled.type]=a.fulfilled),a.settled&&n.push({matcher:s.settled,reducer:a.settled}),i},addMatcher(s,a){return n.push({matcher:s,reducer:a}),i},addDefaultCase(s){return r=s,i}};return e(i),[t,n,r]}function e6(e){return typeof e=="function"}function t6(e,t){let[n,r,i]=v2(t),s;if(e6(e))s=()=>lb(e());else{const l=lb(e);s=()=>l}function a(l=s(),u){let h=[n[u.type],...r.filter(({matcher:f})=>f(u)).map(({reducer:f})=>f)];return h.filter(f=>!!f).length===0&&(h=[i]),h.reduce((f,m)=>{if(m)if(Nr(f)){const v=m(f,u);return v===void 0?f:v}else{if(qn(f))return h2(f,g=>m(g,u));{const g=m(f,u);if(g===void 0){if(f===null)return f;throw Error("A case reducer on a non-draftable value must not return undefined")}return g}}return f},l)}return a.getInitialState=s,a}var n6="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",r6=(e=21)=>{let t="",n=e;for(;n--;)t+=n6[Math.random()*64|0];return t},i6=Symbol.for("rtk-slice-createasyncthunk");function s6(e,t){return`${e}/${t}`}function a6({creators:e}={}){var n;const t=(n=e==null?void 0:e.asyncThunk)==null?void 0:n[i6];return function(i){const{name:s,reducerPath:a=s}=i;if(!s)throw new Error(fn(11));const l=(typeof i.reducers=="function"?i.reducers(l6()):i.reducers)||{},u=Object.keys(l),h={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},f={addCase(C,N){const T=typeof C=="string"?C:C.type;if(!T)throw new Error(fn(12));if(T in h.sliceCaseReducersByType)throw new Error(fn(13));return h.sliceCaseReducersByType[T]=N,f},addMatcher(C,N){return h.sliceMatchers.push({matcher:C,reducer:N}),f},exposeAction(C,N){return h.actionCreators[C]=N,f},exposeCaseReducer(C,N){return h.sliceCaseReducersByName[C]=N,f}};u.forEach(C=>{const N=l[C],T={reducerName:C,type:s6(s,C),createNotation:typeof i.reducers=="function"};u6(N)?h6(T,N,f,t):c6(T,N,f)});function m(){const[C={},N=[],T=void 0]=typeof i.extraReducers=="function"?v2(i.extraReducers):[i.extraReducers],M={...C,...h.sliceCaseReducersByType};return t6(i.initialState,E=>{for(let $ in M)E.addCase($,M[$]);for(let $ of h.sliceMatchers)E.addMatcher($.matcher,$.reducer);for(let $ of N)E.addMatcher($.matcher,$.reducer);T&&E.addDefaultCase(T)})}const g=C=>C,v=new Map,y=new WeakMap;let w;function _(C,N){return w||(w=m()),w(C,N)}function j(){return w||(w=m()),w.getInitialState()}function k(C,N=!1){function T(E){let $=E[C];return typeof $>"u"&&N&&($=zl(y,T,j)),$}function M(E=g){const $=zl(v,N,()=>new WeakMap);return zl($,E,()=>{const q={};for(const[U,R]of Object.entries(i.selectors??{}))q[U]=o6(R,E,()=>zl(y,E,j),N);return q})}return{reducerPath:C,getSelectors:M,get selectors(){return M(T)},selectSlice:T}}const P={name:s,reducer:_,actions:h.actionCreators,caseReducers:h.sliceCaseReducersByName,getInitialState:j,...k(a),injectInto(C,{reducerPath:N,...T}={}){const M=N??a;return C.inject({reducerPath:M,reducer:_},T),{...P,...k(M,!0)}}};return P}}function o6(e,t,n,r){function i(s,...a){let l=t(s);return typeof l>"u"&&r&&(l=n()),e(l,...a)}return i.unwrapped=e,i}var ln=a6();function l6(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function c6({type:e,reducerName:t,createNotation:n},r,i){let s,a;if("reducer"in r){if(n&&!d6(r))throw new Error(fn(17));s=r.reducer,a=r.prepare}else s=r;i.addCase(e,s).exposeCaseReducer(t,s).exposeAction(t,a?An(e,a):An(e))}function u6(e){return e._reducerDefinitionType==="asyncThunk"}function d6(e){return e._reducerDefinitionType==="reducerWithPrepare"}function h6({type:e,reducerName:t},n,r,i){if(!i)throw new Error(fn(18));const{payloadCreator:s,fulfilled:a,pending:l,rejected:u,settled:h,options:f}=n,m=i(e,s,f);r.exposeAction(t,m),a&&r.addCase(m.fulfilled,a),l&&r.addCase(m.pending,l),u&&r.addCase(m.rejected,u),h&&r.addMatcher(m.settled,h),r.exposeCaseReducer(t,{fulfilled:a||Bl,pending:l||Bl,rejected:u||Bl,settled:h||Bl})}function Bl(){}var f6="task",y2="listener",x2="completed",dg="cancelled",m6=`task-${dg}`,p6=`task-${x2}`,wm=`${y2}-${dg}`,g6=`${y2}-${x2}`,Ju=class{constructor(e){wh(this,"name","TaskAbortError");wh(this,"message");this.code=e,this.message=`${f6} ${dg} (reason: ${e})`}},hg=(e,t)=>{if(typeof e!="function")throw new TypeError(fn(32))},Bc=()=>{},b2=(e,t=Bc)=>(e.catch(t),e),w2=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),Vi=e=>{if(e.aborted)throw new Ju(e.reason)};function _2(e,t){let n=Bc;return new Promise((r,i)=>{const s=()=>i(new Ju(e.reason));if(e.aborted){s();return}n=w2(e,s),t.finally(()=>n()).then(r,i)}).finally(()=>{n=Bc})}var v6=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(n){return{status:n instanceof Ju?"cancelled":"rejected",error:n}}finally{t==null||t()}},Fc=e=>t=>b2(_2(e,t).then(n=>(Vi(e),n))),S2=e=>{const t=Fc(e);return n=>t(new Promise(r=>setTimeout(r,n)))},{assign:Bs}=Object,ub={},Qu="listenerMiddleware",y6=(e,t)=>{const n=r=>w2(e,()=>r.abort(e.reason));return(r,i)=>{hg(r);const s=new AbortController;n(s);const a=v6(async()=>{Vi(e),Vi(s.signal);const l=await r({pause:Fc(s.signal),delay:S2(s.signal),signal:s.signal});return Vi(s.signal),l},()=>s.abort(p6));return i!=null&&i.autoJoin&&t.push(a.catch(Bc)),{result:Fc(e)(a),cancel(){s.abort(m6)}}}},x6=(e,t)=>{const n=async(r,i)=>{Vi(t);let s=()=>{};const l=[new Promise((u,h)=>{let f=e({predicate:r,effect:(m,g)=>{g.unsubscribe(),u([m,g.getState(),g.getOriginalState()])}});s=()=>{f(),h()}})];i!=null&&l.push(new Promise(u=>setTimeout(u,i,null)));try{const u=await _2(t,Promise.race(l));return Vi(t),u}finally{s()}};return(r,i)=>b2(n(r,i))},j2=e=>{let{type:t,actionCreator:n,matcher:r,predicate:i,effect:s}=e;if(t)i=An(t).match;else if(n)t=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(fn(21));return hg(s),{predicate:i,type:t,effect:s}},P2=Bs(e=>{const{type:t,predicate:n,effect:r}=j2(e);return{id:r6(),effect:r,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(fn(22))}}},{withTypes:()=>P2}),db=(e,t)=>{const{type:n,effect:r,predicate:i}=j2(t);return Array.from(e.values()).find(s=>(typeof n=="string"?s.type===n:s.predicate===i)&&s.effect===r)},_m=e=>{e.pending.forEach(t=>{t.abort(wm)})},b6=(e,t)=>()=>{for(const n of t.keys())_m(n);e.clear()},hb=(e,t,n)=>{try{e(t,n)}catch(r){setTimeout(()=>{throw r},0)}},k2=Bs(An(`${Qu}/add`),{withTypes:()=>k2}),w6=An(`${Qu}/removeAll`),A2=Bs(An(`${Qu}/remove`),{withTypes:()=>A2}),_6=(...e)=>{console.error(`${Qu}/error`,...e)},Fo=(e={})=>{const t=new Map,n=new Map,r=v=>{const y=n.get(v)??0;n.set(v,y+1)},i=v=>{const y=n.get(v)??1;y===1?n.delete(v):n.set(v,y-1)},{extra:s,onError:a=_6}=e;hg(a);const l=v=>(v.unsubscribe=()=>t.delete(v.id),t.set(v.id,v),y=>{v.unsubscribe(),y!=null&&y.cancelActive&&_m(v)}),u=v=>{const y=db(t,v)??P2(v);return l(y)};Bs(u,{withTypes:()=>u});const h=v=>{const y=db(t,v);return y&&(y.unsubscribe(),v.cancelActive&&_m(y)),!!y};Bs(h,{withTypes:()=>h});const f=async(v,y,w,_)=>{const j=new AbortController,k=x6(u,j.signal),P=[];try{v.pending.add(j),r(v),await Promise.resolve(v.effect(y,Bs({},w,{getOriginalState:_,condition:(C,N)=>k(C,N).then(Boolean),take:k,delay:S2(j.signal),pause:Fc(j.signal),extra:s,signal:j.signal,fork:y6(j.signal,P),unsubscribe:v.unsubscribe,subscribe:()=>{t.set(v.id,v)},cancelActiveListeners:()=>{v.pending.forEach((C,N,T)=>{C!==j&&(C.abort(wm),T.delete(C))})},cancel:()=>{j.abort(wm),v.pending.delete(j)},throwIfCancelled:()=>{Vi(j.signal)}})))}catch(C){C instanceof Ju||hb(a,C,{raisedBy:"effect"})}finally{await Promise.all(P),j.abort(g6),i(v),v.pending.delete(j)}},m=b6(t,n);return{middleware:v=>y=>w=>{if(!n2(w))return y(w);if(k2.match(w))return u(w.payload);if(w6.match(w)){m();return}if(A2.match(w))return h(w.payload);let _=v.getState();const j=()=>{if(_===ub)throw new Error(fn(23));return _};let k;try{if(k=y(w),t.size>0){const P=v.getState(),C=Array.from(t.values());for(const N of C){let T=!1;try{T=N.predicate(w,P,_)}catch(M){T=!1,hb(a,M,{raisedBy:"predicate"})}T&&f(N,w,v,j)}}}finally{_=ub}return k},startListening:u,stopListening:h,clearListeners:m}};function fn(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var S6={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},C2=ln({name:"chartLayout",initialState:S6,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var n,r,i,s;e.margin.top=(n=t.payload.top)!==null&&n!==void 0?n:0,e.margin.right=(r=t.payload.right)!==null&&r!==void 0?r:0,e.margin.bottom=(i=t.payload.bottom)!==null&&i!==void 0?i:0,e.margin.left=(s=t.payload.left)!==null&&s!==void 0?s:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:j6,setLayout:P6,setChartSize:k6,setScale:A6}=C2.actions,C6=C2.reducer;function T2(e,t,n){return Array.isArray(e)&&e&&t+n!==0?e.slice(t,n+1):e}function Ae(e){return Number.isFinite(e)}function hr(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function fb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ds(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?fb(Object(n),!0).forEach(function(r){T6(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fb(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function T6(e,t,n){return(t=N6(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function N6(e){var t=O6(e,"string");return typeof t=="symbol"?t:t+""}function O6(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ot(e,t,n){return Ze(e)||Ze(t)?n:dr(t)?Hs(e,t,n):typeof t=="function"?t(e):n}var E6=(e,t,n)=>{if(t&&n){var{width:r,height:i}=n,{align:s,verticalAlign:a,layout:l}=t;if((l==="vertical"||l==="horizontal"&&a==="middle")&&s!=="center"&&ie(e[s]))return Ds(Ds({},e),{},{[s]:e[s]+(r||0)});if((l==="horizontal"||l==="vertical"&&s==="center")&&a!=="middle"&&ie(e[a]))return Ds(Ds({},e),{},{[a]:e[a]+(i||0)})}return e},zr=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",N2=(e,t,n,r)=>{if(r)return e.map(l=>l.coordinate);var i,s,a=e.map(l=>(l.coordinate===t&&(i=!0),l.coordinate===n&&(s=!0),l.coordinate));return i||a.push(t),s||a.push(n),a},O2=(e,t,n)=>{if(!e)return null;var{duplicateDomain:r,type:i,range:s,scale:a,realScaleType:l,isCategorical:u,categoricalDomain:h,tickCount:f,ticks:m,niceTicks:g,axisType:v}=e;if(!a)return null;var y=l==="scaleBand"&&a.bandwidth?a.bandwidth()/2:2,w=i==="category"&&a.bandwidth?a.bandwidth()/y:0;if(w=v==="angleAxis"&&s&&s.length>=2?sn(s[0]-s[1])*2*w:w,m||g){var _=(m||g||[]).map((j,k)=>{var P=r?r.indexOf(j):j,C=a.map(P);return Ae(C)?{coordinate:C+w,value:j,offset:w,index:k}:null}).filter(an);return _}return u&&h?h.map((j,k)=>{var P=a.map(j);return Ae(P)?{coordinate:P+w,value:j,index:k,offset:w}:null}).filter(an):a.ticks&&f!=null?a.ticks(f).map((j,k)=>{var P=a.map(j);return Ae(P)?{coordinate:P+w,value:j,index:k,offset:w}:null}).filter(an):a.domain().map((j,k)=>{var P=a.map(j);return Ae(P)?{coordinate:P+w,value:r?r[j]:j,index:k,offset:w}:null}).filter(an)},M6=(e,t)=>{if(!t||t.length!==2||!ie(t[0])||!ie(t[1]))return e;var n=Math.min(t[0],t[1]),r=Math.max(t[0],t[1]),i=[e[0],e[1]];return(!ie(e[0])||e[0]<n)&&(i[0]=n),(!ie(e[1])||e[1]>r)&&(i[1]=r),i[0]>r&&(i[0]=r),i[1]<n&&(i[1]=n),i},I6=e=>{var t,n=e.length;if(!(n<=0)){var r=(t=e[0])===null||t===void 0?void 0:t.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var s=0,a=0,l=0;l<n;++l){var u=e[l],h=u==null?void 0:u[i];if(h!=null){var f=h[1],m=h[0],g=ur(f)?m:f;g>=0?(h[0]=s,s+=g,h[1]=s):(h[0]=a,a+=g,h[1]=a)}}}},L6=e=>{var t,n=e.length;if(!(n<=0)){var r=(t=e[0])===null||t===void 0?void 0:t.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var s=0,a=0;a<n;++a){var l=e[a],u=l==null?void 0:l[i];if(u!=null){var h=ur(u[1])?u[0]:u[1];h>=0?(u[0]=s,s+=h,u[1]=s):(u[0]=0,u[1]=0)}}}},D6={sign:I6,expand:jB,none:Ki,silhouette:PB,wiggle:kB,positive:L6},R6=(e,t,n)=>{var r,i=(r=D6[n])!==null&&r!==void 0?r:Ki,s=SB().keys(t).value((l,u)=>Number(ot(l,u,0))).order(dm).offset(i),a=s(e);return a.forEach((l,u)=>{l.forEach((h,f)=>{var m=ot(e[f],t[u],0);Array.isArray(m)&&m.length===2&&ie(m[0])&&ie(m[1])&&(h[0]=m[0],h[1]=m[1])})}),a};function $6(e){return e==null?void 0:String(e)}function mb(e){var{axis:t,ticks:n,bandSize:r,entry:i,index:s,dataKey:a}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Ze(i[t.dataKey])){var l=wP(n,"value",i[t.dataKey]);if(l)return l.coordinate+r/2}return n!=null&&n[s]?n[s].coordinate+r/2:null}var u=ot(i,Ze(a)?t.dataKey:a),h=t.scale.map(u);return ie(h)?h:null}var pb=e=>{var{axis:t,ticks:n,offset:r,bandSize:i,entry:s,index:a}=e;if(t.type==="category")return n[a]?n[a].coordinate+r:null;var l=ot(s,t.dataKey,t.scale.domain()[a]);if(Ze(l))return null;var u=t.scale.map(l);return ie(u)?u-i/2+r:null},z6=e=>{var{numericAxis:t}=e,n=t.scale.domain();if(t.type==="number"){var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return r<=0&&i>=0?0:i<0?i:r}return n[0]},B6=e=>{var t=e.flat(2).filter(ie);return[Math.min(...t),Math.max(...t)]},F6=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],U6=(e,t,n)=>{if(e!=null)return F6(Object.keys(e).reduce((r,i)=>{var s=e[i];if(!s)return r;var{stackedData:a}=s,l=a.reduce((u,h)=>{var f=T2(h,t,n),m=B6(f);return!Ae(m[0])||!Ae(m[1])?u:[Math.min(u[0],m[0]),Math.max(u[1],m[1])]},[1/0,-1/0]);return[Math.min(l[0],r[0]),Math.max(l[1],r[1])]},[1/0,-1/0]))},gb=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,vb=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Gs=(e,t,n)=>{if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var i=Wu(t,f=>f.coordinate),s=1/0,a=1,l=i.length;a<l;a++){var u=i[a],h=i[a-1];s=Math.min(((u==null?void 0:u.coordinate)||0)-((h==null?void 0:h.coordinate)||0),s)}return s===1/0?0:s}return n?void 0:0};function yb(e){var{tooltipEntrySettings:t,dataKey:n,payload:r,value:i,name:s}=e;return Ds(Ds({},t),{},{dataKey:n,payload:r,value:i,name:s})}function ed(e,t){if(e)return String(e);if(typeof t=="string")return t}var V6=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},W6=(e,t)=>t==="centric"?e.angle:e.radius,Br=e=>e.layout.width,Fr=e=>e.layout.height,H6=e=>e.layout.scale,E2=e=>e.layout.margin,td=B(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),nd=B(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),K6="data-recharts-item-index",q6="data-recharts-item-id",Uo=60;function xb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Fl(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?xb(Object(n),!0).forEach(function(r){G6(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xb(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function G6(e,t,n){return(t=Z6(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Z6(e){var t=Y6(e,"string");return typeof t=="symbol"?t:t+""}function Y6(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var X6=e=>e.brush.height;function J6(e){var t=nd(e);return t.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:Uo;return n+i}return n},0)}function Q6(e){var t=nd(e);return t.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:Uo;return n+i}return n},0)}function e8(e){var t=td(e);return t.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function t8(e){var t=td(e);return t.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var Ct=B([Br,Fr,E2,X6,J6,Q6,e8,t8,QP,kF],(e,t,n,r,i,s,a,l,u,h)=>{var f={left:(n.left||0)+i,right:(n.right||0)+s},m={top:(n.top||0)+a,bottom:(n.bottom||0)+l},g=Fl(Fl({},m),f),v=g.bottom;g.bottom+=r,g=E6(g,u,h);var y=e-g.left-g.right,w=t-g.top-g.bottom;return Fl(Fl({brushBottom:v},g),{},{width:Math.max(y,0),height:Math.max(w,0)})}),n8=B(Ct,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),fg=B(Br,Fr,(e,t)=>({x:0,y:0,width:e,height:t})),r8=b.createContext(null),Ht=()=>b.useContext(r8)!=null,rd=e=>e.brush,id=B([rd,Ct,E2],(e,t,n)=>({height:e.height,x:ie(e.x)?e.x:t.left,y:ie(e.y)?e.y:t.top+t.height+t.brushBottom-((n==null?void 0:n.bottom)||0),width:ie(e.width)?e.width:t.width})),M2={},I2={},L2={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r,{signal:i,edges:s}={}){let a,l=null;const u=s!=null&&s.includes("leading"),h=s==null||s.includes("trailing"),f=()=>{l!==null&&(n.apply(a,l),a=void 0,l=null)},m=()=>{h&&f(),w()};let g=null;const v=()=>{g!=null&&clearTimeout(g),g=setTimeout(()=>{g=null,m()},r)},y=()=>{g!==null&&(clearTimeout(g),g=null)},w=()=>{y(),a=void 0,l=null},_=()=>{f()},j=function(...k){if(i!=null&&i.aborted)return;a=this,l=k;const P=g==null;v(),u&&P&&f()};return j.schedule=v,j.cancel=w,j.flush=_,i==null||i.addEventListener("abort",w,{once:!0}),j}e.debounce=t})(L2);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=L2;function n(r,i=0,s={}){typeof s!="object"&&(s={});const{leading:a=!1,trailing:l=!0,maxWait:u}=s,h=Array(2);a&&(h[0]="leading"),l&&(h[1]="trailing");let f,m=null;const g=t.debounce(function(...w){f=r.apply(this,w),m=null},i,{edges:h}),v=function(...w){return u!=null&&(m===null&&(m=Date.now()),Date.now()-m>=u)?(f=r.apply(this,w),m=Date.now(),g.cancel(),g.schedule(),f):(g.apply(this,w),f)},y=()=>(g.flush(),f);return v.cancel=g.cancel,v.flush=y,v}e.debounce=n})(I2);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=I2;function n(r,i=0,s={}){const{leading:a=!0,trailing:l=!0}=s;return t.debounce(r,i,{leading:a,maxWait:i,trailing:l})}e.throttle=n})(M2);var i8=M2.throttle;const s8=Rr(i8);var Uc=function(t,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];if(typeof console<"u"&&console.warn&&(n===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(n===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var a=0;console.warn(n.replace(/%s/g,()=>i[a++]))}},rr={width:"100%",height:"100%",debounce:0,minWidth:0,initialDimension:{width:-1,height:-1}},D2=(e,t,n)=>{var{width:r=rr.width,height:i=rr.height,aspect:s,maxHeight:a}=n,l=qi(r)?e:Number(r),u=qi(i)?t:Number(i);return s&&s>0&&(l?u=l/s:u&&(l=u*s),a&&u!=null&&u>a&&(u=a)),{calculatedWidth:l,calculatedHeight:u}},a8={width:0,height:0,overflow:"visible"},o8={width:0,overflowX:"visible"},l8={height:0,overflowY:"visible"},c8={},u8=e=>{var{width:t,height:n}=e,r=qi(t),i=qi(n);return r&&i?a8:r?o8:i?l8:c8};function d8(e){var{width:t,height:n,aspect:r}=e,i=t,s=n;return i===void 0&&s===void 0?(i=rr.width,s=rr.height):i===void 0?i=r&&r>0?void 0:rr.width:s===void 0&&(s=r&&r>0?void 0:rr.height),{width:i,height:s}}function Sm(){return Sm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Sm.apply(null,arguments)}function bb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function wb(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?bb(Object(n),!0).forEach(function(r){h8(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bb(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function h8(e,t,n){return(t=f8(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f8(e){var t=m8(e,"string");return typeof t=="symbol"?t:t+""}function m8(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var R2=b.createContext(rr.initialDimension);function p8(e){return hr(e.width)&&hr(e.height)}function $2(e){var{children:t,width:n,height:r}=e,i=b.useMemo(()=>({width:n,height:r}),[n,r]);return p8(i)?b.createElement(R2.Provider,{value:i},t):null}var mg=()=>b.useContext(R2),g8=b.forwardRef((e,t)=>{var{aspect:n,initialDimension:r=rr.initialDimension,width:i,height:s,minWidth:a=rr.minWidth,minHeight:l,maxHeight:u,children:h,debounce:f=rr.debounce,id:m,className:g,onResize:v,style:y={}}=e,w=b.useRef(null),_=b.useRef();_.current=v,b.useImperativeHandle(t,()=>w.current);var[j,k]=b.useState({containerWidth:r.width,containerHeight:r.height}),P=b.useCallback((E,$)=>{k(q=>{var U=Math.round(E),R=Math.round($);return q.containerWidth===U&&q.containerHeight===R?q:{containerWidth:U,containerHeight:R}})},[]);b.useEffect(()=>{if(w.current==null||typeof ResizeObserver>"u")return es;var E=R=>{var se,Y=R[0];if(Y!=null){var{width:oe,height:I}=Y.contentRect;P(oe,I),(se=_.current)===null||se===void 0||se.call(_,oe,I)}};f>0&&(E=s8(E,f,{trailing:!0,leading:!1}));var $=new ResizeObserver(E),{width:q,height:U}=w.current.getBoundingClientRect();return P(q,U),$.observe(w.current),()=>{$.disconnect()}},[P,f]);var{containerWidth:C,containerHeight:N}=j;Uc(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:T,calculatedHeight:M}=D2(C,N,{width:i,height:s,aspect:n,maxHeight:u});return Uc(T!=null&&T>0||M!=null&&M>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,T,M,i,s,a,l,n),b.createElement("div",{id:m?"".concat(m):void 0,className:Me("recharts-responsive-container",g),style:wb(wb({},y),{},{width:i,height:s,minWidth:a,minHeight:l,maxHeight:u}),ref:w},b.createElement("div",{style:u8({width:i,height:s})},b.createElement($2,{width:T,height:M},h)))}),pg=b.forwardRef((e,t)=>{var n=mg();if(hr(n.width)&&hr(n.height))return e.children;var{width:r,height:i}=d8({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:s,calculatedHeight:a}=D2(void 0,void 0,{width:r,height:i,aspect:e.aspect,maxHeight:e.maxHeight});return ie(s)&&ie(a)?b.createElement($2,{width:s,height:a},e.children):b.createElement(g8,Sm({},e,{width:r,height:i,ref:t}))});function gg(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var sd=()=>{var e,t=Ht(),n=ce(n8),r=ce(id),i=(e=ce(rd))===null||e===void 0?void 0:e.padding;return!t||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},v8={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},z2=()=>{var e;return(e=ce(Ct))!==null&&e!==void 0?e:v8},B2=()=>ce(Br),F2=()=>ce(Fr),Ie=e=>e.layout.layoutType,ts=()=>ce(Ie),U2=()=>{var e=ts();if(e==="horizontal"||e==="vertical")return e},V2=e=>{var t=e.layout.layoutType;if(t==="centric"||t==="radial")return t},y8=()=>{var e=ts();return e!==void 0},Vo=e=>{var t=nt(),n=Ht(),{width:r,height:i}=e,s=mg(),a=r,l=i;return s&&(a=s.width>0?s.width:r,l=s.height>0?s.height:i),b.useEffect(()=>{!n&&hr(a)&&hr(l)&&t(k6({width:a,height:l}))},[t,n,a,l]),null},W2=Symbol.for("immer-nothing"),_b=Symbol.for("immer-draftable"),mn=Symbol.for("immer-state");function Fn(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var yo=Object.getPrototypeOf;function Zs(e){return!!e&&!!e[mn]}function Zi(e){var t;return e?H2(e)||Array.isArray(e)||!!e[_b]||!!((t=e.constructor)!=null&&t[_b])||Wo(e)||od(e):!1}var x8=Object.prototype.constructor.toString(),Sb=new WeakMap;function H2(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=Sb.get(n);return r===void 0&&(r=Function.toString.call(n),Sb.set(n,r)),r===x8}function Vc(e,t,n=!0){ad(e)===0?(n?Reflect.ownKeys(e):Object.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((r,i)=>t(i,r,e))}function ad(e){const t=e[mn];return t?t.type_:Array.isArray(e)?1:Wo(e)?2:od(e)?3:0}function jm(e,t){return ad(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function K2(e,t,n){const r=ad(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function b8(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Wo(e){return e instanceof Map}function od(e){return e instanceof Set}function Oi(e){return e.copy_||e.base_}function Pm(e,t){if(Wo(e))return new Map(e);if(od(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=H2(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[mn];let i=Reflect.ownKeys(r);for(let s=0;s<i.length;s++){const a=i[s],l=r[a];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(r[a]={configurable:!0,writable:!0,enumerable:l.enumerable,value:e[a]})}return Object.create(yo(e),r)}else{const r=yo(e);if(r!==null&&n)return{...e};const i=Object.create(r);return Object.assign(i,e)}}function vg(e,t=!1){return ld(e)||Zs(e)||!Zi(e)||(ad(e)>1&&Object.defineProperties(e,{set:Ul,add:Ul,clear:Ul,delete:Ul}),Object.freeze(e),t&&Object.values(e).forEach(n=>vg(n,!0))),e}function w8(){Fn(2)}var Ul={value:w8};function ld(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var _8={};function Yi(e){const t=_8[e];return t||Fn(0,e),t}var xo;function q2(){return xo}function S8(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function jb(e,t){t&&(Yi("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function km(e){Am(e),e.drafts_.forEach(j8),e.drafts_=null}function Am(e){e===xo&&(xo=e.parent_)}function Pb(e){return xo=S8(xo,e)}function j8(e){const t=e[mn];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function kb(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[mn].modified_&&(km(t),Fn(4)),Zi(e)&&(e=Wc(t,e),t.parent_||Hc(t,e)),t.patches_&&Yi("Patches").generateReplacementPatches_(n[mn].base_,e,t.patches_,t.inversePatches_)):e=Wc(t,n,[]),km(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==W2?e:void 0}function Wc(e,t,n){if(ld(t))return t;const r=e.immer_.shouldUseStrictIteration(),i=t[mn];if(!i)return Vc(t,(s,a)=>Ab(e,i,t,s,a,n),r),t;if(i.scope_!==e)return t;if(!i.modified_)return Hc(e,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const s=i.copy_;let a=s,l=!1;i.type_===3&&(a=new Set(s),s.clear(),l=!0),Vc(a,(u,h)=>Ab(e,i,s,u,h,n,l),r),Hc(e,s,!1),n&&e.patches_&&Yi("Patches").generatePatches_(i,n,e.patches_,e.inversePatches_)}return i.copy_}function Ab(e,t,n,r,i,s,a){if(i==null||typeof i!="object"&&!a)return;const l=ld(i);if(!(l&&!a)){if(Zs(i)){const u=s&&t&&t.type_!==3&&!jm(t.assigned_,r)?s.concat(r):void 0,h=Wc(e,i,u);if(K2(n,r,h),Zs(h))e.canAutoFreeze_=!1;else return}else a&&n.add(i);if(Zi(i)&&!l){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[r]===i&&l)return;Wc(e,i),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&(Wo(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&Hc(e,i)}}}function Hc(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&vg(t,n)}function P8(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:q2(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,s=yg;n&&(i=[r],s=bo);const{revoke:a,proxy:l}=Proxy.revocable(i,s);return r.draft_=l,r.revoke_=a,l}var yg={get(e,t){if(t===mn)return e;const n=Oi(e);if(!jm(n,t))return k8(e,n,t);const r=n[t];return e.finalized_||!Zi(r)?r:r===tf(e.base_,t)?(nf(e),e.copy_[t]=Tm(r,e)):r},has(e,t){return t in Oi(e)},ownKeys(e){return Reflect.ownKeys(Oi(e))},set(e,t,n){const r=G2(Oi(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=tf(Oi(e),t),s=i==null?void 0:i[mn];if(s&&s.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(b8(n,i)&&(n!==void 0||jm(e.base_,t)))return!0;nf(e),Cm(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return tf(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,nf(e),Cm(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=Oi(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){Fn(11)},getPrototypeOf(e){return yo(e.base_)},setPrototypeOf(){Fn(12)}},bo={};Vc(yg,(e,t)=>{bo[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});bo.deleteProperty=function(e,t){return bo.set.call(this,e,t,void 0)};bo.set=function(e,t,n){return yg.set.call(this,e[0],t,n,e[0])};function tf(e,t){const n=e[mn];return(n?Oi(n):e)[t]}function k8(e,t,n){var i;const r=G2(t,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(e.draft_):void 0}function G2(e,t){if(!(t in e))return;let n=yo(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=yo(n)}}function Cm(e){e.modified_||(e.modified_=!0,e.parent_&&Cm(e.parent_))}function nf(e){e.copy_||(e.copy_=Pm(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var A8=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const s=n;n=t;const a=this;return function(u=s,...h){return a.produce(u,f=>n.call(this,f,...h))}}typeof n!="function"&&Fn(6),r!==void 0&&typeof r!="function"&&Fn(7);let i;if(Zi(t)){const s=Pb(this),a=Tm(t,void 0);let l=!0;try{i=n(a),l=!1}finally{l?km(s):Am(s)}return jb(s,r),kb(i,s)}else if(!t||typeof t!="object"){if(i=n(t),i===void 0&&(i=t),i===W2&&(i=void 0),this.autoFreeze_&&vg(i,!0),r){const s=[],a=[];Yi("Patches").generateReplacementPatches_(t,i,s,a),r(s,a)}return i}else Fn(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(a,...l)=>this.produceWithPatches(a,u=>t(u,...l));let r,i;return[this.produce(t,n,(a,l)=>{r=a,i=l}),r,i]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof(e==null?void 0:e.useStrictIteration)=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Zi(e)||Fn(8),Zs(e)&&(e=C8(e));const t=Pb(this),n=Tm(e,void 0);return n[mn].isManual_=!0,Am(t),n}finishDraft(e,t){const n=e&&e[mn];(!n||!n.isManual_)&&Fn(9);const{scope_:r}=n;return jb(r,t),kb(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const i=t[n];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}n>-1&&(t=t.slice(n+1));const r=Yi("Patches").applyPatches_;return Zs(e)?r(e,t):this.produce(e,i=>r(i,t))}};function Tm(e,t){const n=Wo(e)?Yi("MapSet").proxyMap_(e,t):od(e)?Yi("MapSet").proxySet_(e,t):P8(e,t);return(t?t.scope_:q2()).drafts_.push(n),n}function C8(e){return Zs(e)||Fn(10,e),Z2(e)}function Z2(e){if(!Zi(e)||ld(e))return e;const t=e[mn];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=Pm(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=Pm(e,!0);return Vc(n,(i,s)=>{K2(n,i,Z2(s))},r),t&&(t.finalized_=!1),n}var T8=new A8;T8.produce;var N8={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},Y2=ln({name:"legend",initialState:N8,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:He()},replaceLegendPayload:{reducer(e,t){var{prev:n,next:r}=t.payload,i=Vn(e).payload.indexOf(n);i>-1&&(e.payload[i]=r)},prepare:He()},removeLegendPayload:{reducer(e,t){var n=Vn(e).payload.indexOf(t.payload);n>-1&&e.payload.splice(n,1)},prepare:He()}}}),{setLegendSize:Bee,setLegendSettings:Fee,addLegendPayload:O8,replaceLegendPayload:E8,removeLegendPayload:M8}=Y2.actions,I8=Y2.reducer;function Nm(){return Nm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Nm.apply(null,arguments)}function Cb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ea(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Cb(Object(n),!0).forEach(function(r){L8(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Cb(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function L8(e,t,n){return(t=D8(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function D8(e){var t=R8(e,"string");return typeof t=="symbol"?t:t+""}function R8(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $8(e){return Array.isArray(e)&&dr(e[0])&&dr(e[1])?e.join(" ~ "):e}var _s={separator:" : ",contentStyle:{margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},itemStyle:{display:"block",paddingTop:4,paddingBottom:4,color:"#000"},labelStyle:{},accessibilityLayer:!1},z8=e=>{var{separator:t=_s.separator,contentStyle:n,itemStyle:r,labelStyle:i=_s.labelStyle,payload:s,formatter:a,itemSorter:l,wrapperClassName:u,labelClassName:h,label:f,labelFormatter:m,accessibilityLayer:g=_s.accessibilityLayer}=e,v=()=>{if(s&&s.length){var N={padding:0,margin:0},T=(l?Wu(s,l):s).map((M,E)=>{if(M.type==="none")return null;var $=M.formatter||a||$8,{value:q,name:U}=M,R=q,se=U;if($){var Y=$(q,U,M,E,s);if(Array.isArray(Y))[R,se]=Y;else if(Y!=null)R=Y;else return null}var oe=Ea(Ea({},_s.itemStyle),{},{color:M.color||_s.itemStyle.color},r);return b.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(E),style:oe},dr(se)?b.createElement("span",{className:"recharts-tooltip-item-name"},se):null,dr(se)?b.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,b.createElement("span",{className:"recharts-tooltip-item-value"},R),b.createElement("span",{className:"recharts-tooltip-item-unit"},M.unit||""))});return b.createElement("ul",{className:"recharts-tooltip-item-list",style:N},T)}return null},y=Ea(Ea({},_s.contentStyle),n),w=Ea({margin:0},i),_=!Ze(f),j=_?f:"",k=Me("recharts-default-tooltip",u),P=Me("recharts-tooltip-label",h);_&&m&&s!==void 0&&s!==null&&(j=m(f,s));var C=g?{role:"status","aria-live":"assertive"}:{};return b.createElement("div",Nm({className:k,style:y},C),b.createElement("p",{className:P,style:w},b.isValidElement(j)?j:"".concat(j)),v())},Ma="recharts-tooltip-wrapper",B8={visibility:"hidden"};function F8(e){var{coordinate:t,translateX:n,translateY:r}=e;return Me(Ma,{["".concat(Ma,"-right")]:ie(n)&&t&&ie(t.x)&&n>=t.x,["".concat(Ma,"-left")]:ie(n)&&t&&ie(t.x)&&n<t.x,["".concat(Ma,"-bottom")]:ie(r)&&t&&ie(t.y)&&r>=t.y,["".concat(Ma,"-top")]:ie(r)&&t&&ie(t.y)&&r<t.y})}function Tb(e){var{allowEscapeViewBox:t,coordinate:n,key:r,offset:i,position:s,reverseDirection:a,tooltipDimension:l,viewBox:u,viewBoxDimension:h}=e;if(s&&ie(s[r]))return s[r];var f=n[r]-l-(i>0?i:0),m=n[r]+i;if(t[r])return a[r]?f:m;var g=u[r];if(g==null)return 0;if(a[r]){var v=f,y=g;return v<y?Math.max(m,g):Math.max(f,g)}if(h==null)return 0;var w=m+l,_=g+h;return w>_?Math.max(f,g):Math.max(m,g)}function U8(e){var{translateX:t,translateY:n,useTranslate3d:r}=e;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function V8(e){var{allowEscapeViewBox:t,coordinate:n,offsetTop:r,offsetLeft:i,position:s,reverseDirection:a,tooltipBox:l,useTranslate3d:u,viewBox:h}=e,f,m,g;return l.height>0&&l.width>0&&n?(m=Tb({allowEscapeViewBox:t,coordinate:n,key:"x",offset:i,position:s,reverseDirection:a,tooltipDimension:l.width,viewBox:h,viewBoxDimension:h.width}),g=Tb({allowEscapeViewBox:t,coordinate:n,key:"y",offset:r,position:s,reverseDirection:a,tooltipDimension:l.height,viewBox:h,viewBoxDimension:h.height}),f=U8({translateX:m,translateY:g,useTranslate3d:u})):f=B8,{cssProperties:f,cssClasses:F8({translateX:m,translateY:g,coordinate:n})}}function Nb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Vl(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Nb(Object(n),!0).forEach(function(r){Om(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Nb(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Om(e,t,n){return(t=W8(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function W8(e){var t=H8(e,"string");return typeof t=="symbol"?t:t+""}function H8(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class K8 extends b.PureComponent{constructor(){super(...arguments),Om(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Om(this,"handleKeyDown",t=>{if(t.key==="Escape"){var n,r,i,s;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,n;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:s,coordinate:a,hasPayload:l,isAnimationActive:u,offset:h,position:f,reverseDirection:m,useTranslate3d:g,viewBox:v,wrapperStyle:y,lastBoundingBox:w,innerRef:_,hasPortalFromProps:j}=this.props,k=typeof h=="number"?h:h.x,P=typeof h=="number"?h:h.y,{cssClasses:C,cssProperties:N}=V8({allowEscapeViewBox:n,coordinate:a,offsetLeft:k,offsetTop:P,position:f,reverseDirection:m,tooltipBox:{height:w.height,width:w.width},useTranslate3d:g,viewBox:v}),T=j?{}:Vl(Vl({transition:u&&t?"transform ".concat(r,"ms ").concat(i):void 0},N),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&l?"visible":"hidden",position:"absolute",top:0,left:0}),M=Vl(Vl({},T),{},{visibility:!this.state.dismissed&&t&&l?"visible":"hidden"},y);return b.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:C,style:M,ref:_},s)}}var X2=()=>{var e;return(e=ce(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function Em(){return Em=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Em.apply(null,arguments)}function Ob(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Eb(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ob(Object(n),!0).forEach(function(r){q8(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ob(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function q8(e,t,n){return(t=G8(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function G8(e){var t=Z8(e,"string");return typeof t=="symbol"?t:t+""}function Z8(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Mb={curveBasisClosed:hB,curveBasisOpen:fB,curveBasis:dB,curveBumpX:Xz,curveBumpY:Jz,curveLinearClosed:mB,curveLinear:Du,curveMonotoneX:pB,curveMonotoneY:gB,curveNatural:vB,curveStep:yB,curveStepAfter:bB,curveStepBefore:xB},Kc=e=>Ae(e.x)&&Ae(e.y),Ib=e=>e.base!=null&&Kc(e.base)&&Kc(e),Ia=e=>e.x,La=e=>e.y,Y8=(e,t)=>{if(typeof e=="function")return e;var n="curve".concat(zo(e));if((n==="curveMonotone"||n==="curveBump")&&t){var r=Mb["".concat(n).concat(t==="vertical"?"Y":"X")];if(r)return r}return Mb[n]||Du},Lb={connectNulls:!1,type:"linear"},X8=e=>{var{type:t=Lb.type,points:n=[],baseLine:r,layout:i,connectNulls:s=Lb.connectNulls}=e,a=Y8(t,i),l=s?n.filter(Kc):n;if(Array.isArray(r)){var u,h=n.map((y,w)=>Eb(Eb({},y),{},{base:r[w]}));i==="vertical"?u=Ll().y(La).x1(Ia).x0(y=>y.base.x):u=Ll().x(Ia).y1(La).y0(y=>y.base.y);var f=u.defined(Ib).curve(a),m=s?h.filter(Ib):h;return f(m)}var g;i==="vertical"&&ie(r)?g=Ll().y(La).x1(Ia).x0(r):ie(r)?g=Ll().x(Ia).y1(La).y0(r):g=oP().x(Ia).y(La);var v=g.defined(Kc).curve(a);return v(l)},J2=e=>{var{className:t,points:n,path:r,pathRef:i}=e,s=ts();if((!n||!n.length)&&!r)return null;var a={type:e.type,points:e.points,baseLine:e.baseLine,layout:e.layout||s,connectNulls:e.connectNulls},l=n&&n.length?X8(a):r;return b.createElement("path",Em({},Hn(e),Gp(e),{className:Me("recharts-curve",t),d:l===null?void 0:l,ref:i}))},J8=["x","y","top","left","width","height","className"];function Mm(){return Mm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Mm.apply(null,arguments)}function Db(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Q8(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Db(Object(n),!0).forEach(function(r){eU(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Db(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function eU(e,t,n){return(t=tU(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tU(e){var t=nU(e,"string");return typeof t=="symbol"?t:t+""}function nU(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rU(e,t){if(e==null)return{};var n,r,i=iU(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function iU(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var sU=(e,t,n,r,i,s)=>"M".concat(e,",").concat(i,"v").concat(r,"M").concat(s,",").concat(t,"h").concat(n),aU=e=>{var{x:t=0,y:n=0,top:r=0,left:i=0,width:s=0,height:a=0,className:l}=e,u=rU(e,J8),h=Q8({x:t,y:n,top:r,left:i,width:s,height:a},u);return!ie(t)||!ie(n)||!ie(s)||!ie(a)||!ie(r)||!ie(i)?null:b.createElement("path",Mm({},Jt(h),{className:Me("recharts-cross",l),d:sU(t,n,s,a,r,i)}))};function oU(e,t,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-i,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function Rb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function $b(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Rb(Object(n),!0).forEach(function(r){lU(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rb(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function lU(e,t,n){return(t=cU(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cU(e){var t=uU(e,"string");return typeof t=="symbol"?t:t+""}function uU(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var dU=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),Q2=(e,t,n)=>e.map(r=>"".concat(dU(r)," ").concat(t,"ms ").concat(n)).join(","),hU=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((n,r)=>n.filter(i=>r.includes(i))),wo=(e,t)=>Object.keys(t).reduce((n,r)=>$b($b({},n),{},{[r]:e(r,t[r])}),{});function zb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ft(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?zb(Object(n),!0).forEach(function(r){fU(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zb(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function fU(e,t,n){return(t=mU(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mU(e){var t=pU(e,"string");return typeof t=="symbol"?t:t+""}function pU(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qc=(e,t,n)=>e+(t-e)*n,Im=e=>{var{from:t,to:n}=e;return t!==n},ek=(e,t,n)=>{var r=wo((i,s)=>{if(Im(s)){var[a,l]=e(s.from,s.to,s.velocity);return ft(ft({},s),{},{from:a,velocity:l})}return s},t);return n<1?wo((i,s)=>Im(s)&&r[i]!=null?ft(ft({},s),{},{velocity:qc(s.velocity,r[i].velocity,n),from:qc(s.from,r[i].from,n)}):s,t):ek(e,r,n-1)};function gU(e,t,n,r,i,s){var a,l=r.reduce((g,v)=>ft(ft({},g),{},{[v]:{from:e[v],velocity:0,to:t[v]}}),{}),u=()=>wo((g,v)=>v.from,l),h=()=>!Object.values(l).filter(Im).length,f=null,m=g=>{a||(a=g);var v=g-a,y=v/n.dt;l=ek(n,l,y),i(ft(ft(ft({},e),t),u())),a=g,h()||(f=s.setTimeout(m))};return()=>(f=s.setTimeout(m),()=>{var g;(g=f)===null||g===void 0||g()})}function vU(e,t,n,r,i,s,a){var l=null,u=i.reduce((m,g)=>{var v=e[g],y=t[g];return v==null||y==null?m:ft(ft({},m),{},{[g]:[v,y]})},{}),h,f=m=>{h||(h=m);var g=(m-h)/r,v=wo((w,_)=>qc(..._,n(g)),u);if(s(ft(ft(ft({},e),t),v)),g<1)l=a.setTimeout(f);else{var y=wo((w,_)=>qc(..._,n(1)),u);s(ft(ft(ft({},e),t),y))}};return()=>(l=a.setTimeout(f),()=>{var m;(m=l)===null||m===void 0||m()})}const yU=(e,t,n,r,i,s)=>{var a=hU(e,t);return n==null?()=>(i(ft(ft({},e),t)),()=>{}):n.isStepper===!0?gU(e,t,n,a,i,s):vU(e,t,n,r,a,i,s)};var Gc=1e-4,tk=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],nk=(e,t)=>e.map((n,r)=>n*t**r).reduce((n,r)=>n+r),Bb=(e,t)=>n=>{var r=tk(e,t);return nk(r,n)},xU=(e,t)=>n=>{var r=tk(e,t),i=[...r.map((s,a)=>s*a).slice(1),0];return nk(i,n)},bU=e=>{var t,n=e.split("(");if(n.length!==2||n[0]!=="cubic-bezier")return null;var r=(t=n[1])===null||t===void 0||(t=t.split(")")[0])===null||t===void 0?void 0:t.split(",");if(r==null||r.length!==4)return null;var i=r.map(s=>parseFloat(s));return[i[0],i[1],i[2],i[3]]},wU=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i=bU(n[0]);if(i)return i}}return n.length===4?n:[0,0,1,1]},_U=(e,t,n,r)=>{var i=Bb(e,n),s=Bb(t,r),a=xU(e,n),l=h=>h>1?1:h<0?0:h,u=h=>{for(var f=h>1?1:h,m=f,g=0;g<8;++g){var v=i(m)-f,y=a(m);if(Math.abs(v-f)<Gc||y<Gc)return s(m);m=l(m-v/y)}return s(m)};return u.isStepper=!1,u},Fb=function(){return _U(...wU(...arguments))},SU=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=t,s=(a,l,u)=>{var h=-(a-l)*n,f=u*r,m=u+(h-f)*i/1e3,g=u*i/1e3+a;return Math.abs(g-l)<Gc&&Math.abs(m)<Gc?[l,0]:[g,m]};return s.isStepper=!0,s.dt=i,s},jU=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return Fb(e);case"spring":return SU();default:if(e.split("(")[0]==="cubic-bezier")return Fb(e)}return typeof e=="function"?e:null};function PU(e){var t,n=()=>null,r=!1,i=null,s=a=>{if(!r){if(Array.isArray(a)){if(!a.length)return;var l=a,[u,...h]=l;if(typeof u=="number"){i=e.setTimeout(s.bind(null,h),u);return}s(u),i=e.setTimeout(s.bind(null,h));return}typeof a=="string"&&(t=a,n(t)),typeof a=="object"&&(t=a,n(t)),typeof a=="function"&&a()}};return{stop:()=>{r=!0},start:a=>{r=!1,i&&(i(),i=null),s(a)},subscribe:a=>(n=a,()=>{n=()=>null}),getTimeoutController:()=>e}}class kU{setTimeout(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,s=a=>{a-r>=n?t(a):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(s))};return i=requestAnimationFrame(s),()=>{i!=null&&cancelAnimationFrame(i)}}}function AU(){return PU(new kU)}var CU=b.createContext(AU);function TU(e,t){var n=b.useContext(CU);return b.useMemo(()=>t??n(e),[e,t,n])}var NU=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),cd={isSsr:NU()},OU={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},Ub={t:0},rf={t:1};function ud(e){var t=en(e,OU),{isActive:n,canBegin:r,duration:i,easing:s,begin:a,onAnimationEnd:l,onAnimationStart:u,children:h}=t,f=n==="auto"?!cd.isSsr:n,m=TU(t.animationId,t.animationManager),[g,v]=b.useState(f?Ub:rf),y=b.useRef(null);return b.useEffect(()=>{f||v(rf)},[f]),b.useEffect(()=>{if(!f||!r)return es;var w=yU(Ub,rf,jU(s),i,v,m.getTimeoutController()),_=()=>{y.current=w()};return m.start([u,a,_,i,l]),()=>{m.stop(),y.current&&y.current(),l()}},[f,r,i,s,a,u,l,m]),h(g.t)}function dd(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=b.useRef(mo(t)),r=b.useRef(e);return r.current!==e&&(n.current=mo(t),r.current=e),n.current}var EU=["radius"],MU=["radius"],Vb,Wb,Hb,Kb,qb,Gb,Zb,Yb,Xb,Jb;function Qb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ew(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Qb(Object(n),!0).forEach(function(r){IU(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qb(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function IU(e,t,n){return(t=LU(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function LU(e){var t=DU(e,"string");return typeof t=="symbol"?t:t+""}function DU(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Zc(){return Zc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Zc.apply(null,arguments)}function tw(e,t){if(e==null)return{};var n,r,i=RU(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function RU(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Qn(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var nw=(e,t,n,r,i)=>{var s=ri(n),a=ri(r),l=Math.min(Math.abs(s)/2,Math.abs(a)/2),u=a>=0?1:-1,h=s>=0?1:-1,f=a>=0&&s>=0||a<0&&s<0?1:0,m;if(l>0&&Array.isArray(i)){for(var g=[0,0,0,0],v=0,y=4;v<y;v++){var w,_=(w=i[v])!==null&&w!==void 0?w:0;g[v]=_>l?l:_}m=Qe(Vb||(Vb=Qn(["M",",",""])),e,t+u*g[0]),g[0]>0&&(m+=Qe(Wb||(Wb=Qn(["A ",",",",0,0,",",",",",""])),g[0],g[0],f,e+h*g[0],t)),m+=Qe(Hb||(Hb=Qn(["L ",",",""])),e+n-h*g[1],t),g[1]>0&&(m+=Qe(Kb||(Kb=Qn(["A ",",",",0,0,",`,
        `,",",""])),g[1],g[1],f,e+n,t+u*g[1])),m+=Qe(qb||(qb=Qn(["L ",",",""])),e+n,t+r-u*g[2]),g[2]>0&&(m+=Qe(Gb||(Gb=Qn(["A ",",",",0,0,",`,
        `,",",""])),g[2],g[2],f,e+n-h*g[2],t+r)),m+=Qe(Zb||(Zb=Qn(["L ",",",""])),e+h*g[3],t+r),g[3]>0&&(m+=Qe(Yb||(Yb=Qn(["A ",",",",0,0,",`,
        `,",",""])),g[3],g[3],f,e,t+r-u*g[3])),m+="Z"}else if(l>0&&i===+i&&i>0){var j=Math.min(l,i);m=Qe(Xb||(Xb=Qn(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),e,t+u*j,j,j,f,e+h*j,t,e+n-h*j,t,j,j,f,e+n,t+u*j,e+n,t+r-u*j,j,j,f,e+n-h*j,t+r,e+h*j,t+r,j,j,f,e,t+r-u*j)}else m=Qe(Jb||(Jb=Qn(["M ",","," h "," v "," h "," Z"])),e,t,n,r,-n);return m},rw={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},rk=e=>{var t=en(e,rw),n=b.useRef(null),[r,i]=b.useState(-1);b.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var V=n.current.getTotalLength();V&&i(V)}catch{}},[]);var{x:s,y:a,width:l,height:u,radius:h,className:f}=t,{animationEasing:m,animationDuration:g,animationBegin:v,isAnimationActive:y,isUpdateAnimationActive:w}=t,_=b.useRef(l),j=b.useRef(u),k=b.useRef(s),P=b.useRef(a),C=b.useMemo(()=>({x:s,y:a,width:l,height:u,radius:h}),[s,a,l,u,h]),N=dd(C,"rectangle-");if(s!==+s||a!==+a||l!==+l||u!==+u||l===0||u===0)return null;var T=Me("recharts-rectangle",f);if(!w){var M=Jt(t),{radius:E}=M,$=tw(M,EU);return b.createElement("path",Zc({},$,{x:ri(s),y:ri(a),width:ri(l),height:ri(u),radius:typeof h=="number"?h:void 0,className:T,d:nw(s,a,l,u,h)}))}var q=_.current,U=j.current,R=k.current,se=P.current,Y="0px ".concat(r===-1?1:r,"px"),oe="".concat(r,"px 0px"),I=Q2(["strokeDasharray"],g,typeof m=="string"?m:rw.animationEasing);return b.createElement(ud,{animationId:N,key:N,canBegin:r>0,duration:g,easing:m,isActive:w,begin:v},V=>{var z=et(q,l,V),J=et(U,u,V),G=et(R,s,V),de=et(se,a,V);n.current&&(_.current=z,j.current=J,k.current=G,P.current=de);var je;y?V>0?je={transition:I,strokeDasharray:oe}:je={strokeDasharray:Y}:je={strokeDasharray:oe};var ve=Jt(t),{radius:he}=ve,be=tw(ve,MU);return b.createElement("path",Zc({},be,{radius:typeof h=="number"?h:void 0,className:T,d:nw(G,de,z,J,h),ref:n,style:ew(ew({},je),t.style)}))})};function iw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function sw(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?iw(Object(n),!0).forEach(function(r){$U(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iw(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function $U(e,t,n){return(t=zU(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zU(e){var t=BU(e,"string");return typeof t=="symbol"?t:t+""}function BU(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Yc=Math.PI/180,FU=e=>e*180/Math.PI,$t=(e,t,n,r)=>({x:e+Math.cos(-Yc*r)*n,y:t+Math.sin(-Yc*r)*n}),UU=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},VU=(e,t)=>{var{x:n,y:r}=e,{x:i,y:s}=t;return Math.sqrt((n-i)**2+(r-s)**2)},WU=(e,t)=>{var{x:n,y:r}=e,{cx:i,cy:s}=t,a=VU({x:n,y:r},{x:i,y:s});if(a<=0)return{radius:a,angle:0};var l=(n-i)/a,u=Math.acos(l);return r>s&&(u=2*Math.PI-u),{radius:a,angle:FU(u),angleInRadian:u}},HU=e=>{var{startAngle:t,endAngle:n}=e,r=Math.floor(t/360),i=Math.floor(n/360),s=Math.min(r,i);return{startAngle:t-s*360,endAngle:n-s*360}},KU=(e,t)=>{var{startAngle:n,endAngle:r}=t,i=Math.floor(n/360),s=Math.floor(r/360),a=Math.min(i,s);return e+a*360},qU=(e,t)=>{var{chartX:n,chartY:r}=e,{radius:i,angle:s}=WU({x:n,y:r},t),{innerRadius:a,outerRadius:l}=t;if(i<a||i>l||i===0)return null;var{startAngle:u,endAngle:h}=HU(t),f=s,m;if(u<=h){for(;f>h;)f-=360;for(;f<u;)f+=360;m=f>=u&&f<=h}else{for(;f>u;)f-=360;for(;f<h;)f+=360;m=f>=h&&f<=u}return m?sw(sw({},t),{},{radius:i,angle:KU(f,t)}):null};function ik(e){var{cx:t,cy:n,radius:r,startAngle:i,endAngle:s}=e,a=$t(t,n,r,i),l=$t(t,n,r,s);return{points:[a,l],cx:t,cy:n,radius:r,startAngle:i,endAngle:s}}var aw,ow,lw,cw,uw,dw,hw;function Lm(){return Lm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Lm.apply(null,arguments)}function $i(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var GU=(e,t)=>{var n=sn(t-e),r=Math.min(Math.abs(t-e),359.999);return n*r},Wl=e=>{var{cx:t,cy:n,radius:r,angle:i,sign:s,isExternal:a,cornerRadius:l,cornerIsExternal:u}=e,h=l*(a?1:-1)+r,f=Math.asin(l/h)/Yc,m=u?i:i+s*f,g=$t(t,n,h,m),v=$t(t,n,r,m),y=u?i-s*f:i,w=$t(t,n,h*Math.cos(f*Yc),y);return{center:g,circleTangency:v,lineTangency:w,theta:f}},sk=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:s,endAngle:a}=e,l=GU(s,a),u=s+l,h=$t(t,n,i,s),f=$t(t,n,i,u),m=Qe(aw||(aw=$i(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),h.x,h.y,i,i,+(Math.abs(l)>180),+(s>u),f.x,f.y);if(r>0){var g=$t(t,n,r,s),v=$t(t,n,r,u);m+=Qe(ow||(ow=$i(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),v.x,v.y,r,r,+(Math.abs(l)>180),+(s<=u),g.x,g.y)}else m+=Qe(lw||(lw=$i(["L ",","," Z"])),t,n);return m},ZU=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,cornerRadius:s,forceCornerRadius:a,cornerIsExternal:l,startAngle:u,endAngle:h}=e,f=sn(h-u),{circleTangency:m,lineTangency:g,theta:v}=Wl({cx:t,cy:n,radius:i,angle:u,sign:f,cornerRadius:s,cornerIsExternal:l}),{circleTangency:y,lineTangency:w,theta:_}=Wl({cx:t,cy:n,radius:i,angle:h,sign:-f,cornerRadius:s,cornerIsExternal:l}),j=l?Math.abs(u-h):Math.abs(u-h)-v-_;if(j<0)return a?Qe(cw||(cw=$i(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),g.x,g.y,s,s,s*2,s,s,-s*2):sk({cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:u,endAngle:h});var k=Qe(uw||(uw=$i(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),g.x,g.y,s,s,+(f<0),m.x,m.y,i,i,+(j>180),+(f<0),y.x,y.y,s,s,+(f<0),w.x,w.y);if(r>0){var{circleTangency:P,lineTangency:C,theta:N}=Wl({cx:t,cy:n,radius:r,angle:u,sign:f,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),{circleTangency:T,lineTangency:M,theta:E}=Wl({cx:t,cy:n,radius:r,angle:h,sign:-f,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),$=l?Math.abs(u-h):Math.abs(u-h)-N-E;if($<0&&s===0)return"".concat(k,"L").concat(t,",").concat(n,"Z");k+=Qe(dw||(dw=$i(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),M.x,M.y,s,s,+(f<0),T.x,T.y,r,r,+($>180),+(f>0),P.x,P.y,s,s,+(f<0),C.x,C.y)}else k+=Qe(hw||(hw=$i(["L",",","Z"])),t,n);return k},YU={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},ak=e=>{var t=en(e,YU),{cx:n,cy:r,innerRadius:i,outerRadius:s,cornerRadius:a,forceCornerRadius:l,cornerIsExternal:u,startAngle:h,endAngle:f,className:m}=t;if(s<i||h===f)return null;var g=Me("recharts-sector",m),v=s-i,y=Kn(a,v,0,!0),w;return y>0&&Math.abs(h-f)<360?w=ZU({cx:n,cy:r,innerRadius:i,outerRadius:s,cornerRadius:Math.min(y,v/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:h,endAngle:f}):w=sk({cx:n,cy:r,innerRadius:i,outerRadius:s,startAngle:h,endAngle:f}),b.createElement("path",Lm({},Jt(t),{className:g,d:w}))};function XU(e,t,n){if(e==="horizontal")return[{x:t.x,y:n.top},{x:t.x,y:n.top+n.height}];if(e==="vertical")return[{x:n.left,y:t.y},{x:n.left+n.width,y:t.y}];if(jP(t)){if(e==="centric"){var{cx:r,cy:i,innerRadius:s,outerRadius:a,angle:l}=t,u=$t(r,i,s,l),h=$t(r,i,a,l);return[{x:u.x,y:u.y},{x:h.x,y:h.y}]}return ik(t)}}var ok={},lk={},ck={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=sg;function n(r){return t.isSymbol(r)?NaN:Number(r)}e.toNumber=n})(ck);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ck;function n(r){return r?(r=t.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}e.toFinite=n})(lk);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ag,n=lk;function r(i,s,a){a&&typeof a!="number"&&t.isIterateeCall(i,s,a)&&(s=a=void 0),i=n.toFinite(i),s===void 0?(s=i,i=0):s=n.toFinite(s),a=a===void 0?i<s?1:-1:n.toFinite(a);const l=Math.max(Math.ceil((s-i)/(a||1)),0),u=new Array(l);for(let h=0;h<l;h++)u[h]=i,i+=a;return u}e.range=r})(ok);var JU=ok.range;const uk=Rr(JU);function ii(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function QU(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function xg(e){let t,n,r;e.length!==2?(t=ii,n=(l,u)=>ii(e(l),u),r=(l,u)=>e(l)-u):(t=e===ii||e===QU?e:eV,n=e,r=e);function i(l,u,h=0,f=l.length){if(h<f){if(t(u,u)!==0)return f;do{const m=h+f>>>1;n(l[m],u)<0?h=m+1:f=m}while(h<f)}return h}function s(l,u,h=0,f=l.length){if(h<f){if(t(u,u)!==0)return f;do{const m=h+f>>>1;n(l[m],u)<=0?h=m+1:f=m}while(h<f)}return h}function a(l,u,h=0,f=l.length){const m=i(l,u,h,f-1);return m>h&&r(l[m-1],u)>-r(l[m],u)?m-1:m}return{left:i,center:a,right:s}}function eV(){return 0}function dk(e){return e===null?NaN:+e}function*tV(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const nV=xg(ii),Ho=nV.right;xg(dk).center;class fw extends Map{constructor(t,n=sV){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(mw(this,t))}has(t){return super.has(mw(this,t))}set(t,n){return super.set(rV(this,t),n)}delete(t){return super.delete(iV(this,t))}}function mw({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function rV({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function iV({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function sV(e){return e!==null&&typeof e=="object"?e.valueOf():e}function aV(e=ii){if(e===ii)return hk;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function hk(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const oV=Math.sqrt(50),lV=Math.sqrt(10),cV=Math.sqrt(2);function Xc(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),s=r/Math.pow(10,i),a=s>=oV?10:s>=lV?5:s>=cV?2:1;let l,u,h;return i<0?(h=Math.pow(10,-i)/a,l=Math.round(e*h),u=Math.round(t*h),l/h<e&&++l,u/h>t&&--u,h=-h):(h=Math.pow(10,i)*a,l=Math.round(e/h),u=Math.round(t/h),l*h<e&&++l,u*h>t&&--u),u<l&&.5<=n&&n<2?Xc(e,t,n*2):[l,u,h]}function Dm(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,s,a]=r?Xc(t,e,n):Xc(e,t,n);if(!(s>=i))return[];const l=s-i+1,u=new Array(l);if(r)if(a<0)for(let h=0;h<l;++h)u[h]=(s-h)/-a;else for(let h=0;h<l;++h)u[h]=(s-h)*a;else if(a<0)for(let h=0;h<l;++h)u[h]=(i+h)/-a;else for(let h=0;h<l;++h)u[h]=(i+h)*a;return u}function Rm(e,t,n){return t=+t,e=+e,n=+n,Xc(e,t,n)[2]}function $m(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?Rm(t,e,n):Rm(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function pw(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function gw(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function fk(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?hk:aV(i);r>n;){if(r-n>600){const u=r-n+1,h=t-n+1,f=Math.log(u),m=.5*Math.exp(2*f/3),g=.5*Math.sqrt(f*m*(u-m)/u)*(h-u/2<0?-1:1),v=Math.max(n,Math.floor(t-h*m/u+g)),y=Math.min(r,Math.floor(t+(u-h)*m/u+g));fk(e,t,v,y,i)}const s=e[t];let a=n,l=r;for(Da(e,n,t),i(e[r],s)>0&&Da(e,n,r);a<l;){for(Da(e,a,l),++a,--l;i(e[a],s)<0;)++a;for(;i(e[l],s)>0;)--l}i(e[n],s)===0?Da(e,n,l):(++l,Da(e,l,r)),l<=t&&(n=l+1),t<=l&&(r=l-1)}return e}function Da(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function uV(e,t,n){if(e=Float64Array.from(tV(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return gw(e);if(t>=1)return pw(e);var r,i=(r-1)*t,s=Math.floor(i),a=pw(fk(e,s).subarray(0,s+1)),l=gw(e.subarray(s+1));return a+(l-a)*(i-s)}}function dV(e,t,n=dk){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,s=Math.floor(i),a=+n(e[s],s,e),l=+n(e[s+1],s+1,e);return a+(l-a)*(i-s)}}function hV(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,s=new Array(i);++r<i;)s[r]=e+r*n;return s}function Tn(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Ur(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const zm=Symbol("implicit");function bg(){var e=new fw,t=[],n=[],r=zm;function i(s){let a=e.get(s);if(a===void 0){if(r!==zm)return r;e.set(s,a=t.push(s)-1)}return n[a%n.length]}return i.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new fw;for(const a of s)e.has(a)||e.set(a,t.push(a)-1);return i},i.range=function(s){return arguments.length?(n=Array.from(s),i):n.slice()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return bg(t,n).unknown(r)},Tn.apply(i,arguments),i}function wg(){var e=bg().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,s,a,l=!1,u=0,h=0,f=.5;delete e.unknown;function m(){var g=t().length,v=i<r,y=v?i:r,w=v?r:i;s=(w-y)/Math.max(1,g-u+h*2),l&&(s=Math.floor(s)),y+=(w-y-s*(g-u))*f,a=s*(1-u),l&&(y=Math.round(y),a=Math.round(a));var _=hV(g).map(function(j){return y+s*j});return n(v?_.reverse():_)}return e.domain=function(g){return arguments.length?(t(g),m()):t()},e.range=function(g){return arguments.length?([r,i]=g,r=+r,i=+i,m()):[r,i]},e.rangeRound=function(g){return[r,i]=g,r=+r,i=+i,l=!0,m()},e.bandwidth=function(){return a},e.step=function(){return s},e.round=function(g){return arguments.length?(l=!!g,m()):l},e.padding=function(g){return arguments.length?(u=Math.min(1,h=+g),m()):u},e.paddingInner=function(g){return arguments.length?(u=Math.min(1,g),m()):u},e.paddingOuter=function(g){return arguments.length?(h=+g,m()):h},e.align=function(g){return arguments.length?(f=Math.max(0,Math.min(1,g)),m()):f},e.copy=function(){return wg(t(),[r,i]).round(l).paddingInner(u).paddingOuter(h).align(f)},Tn.apply(m(),arguments)}function mk(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return mk(t())},e}function fV(){return mk(wg.apply(null,arguments).paddingInner(1))}function _g(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function pk(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Ko(){}var _o=.7,Jc=1/_o,Fs="\\s*([+-]?\\d+)\\s*",So="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",or="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",mV=/^#([0-9a-f]{3,8})$/,pV=new RegExp(`^rgb\\(${Fs},${Fs},${Fs}\\)$`),gV=new RegExp(`^rgb\\(${or},${or},${or}\\)$`),vV=new RegExp(`^rgba\\(${Fs},${Fs},${Fs},${So}\\)$`),yV=new RegExp(`^rgba\\(${or},${or},${or},${So}\\)$`),xV=new RegExp(`^hsl\\(${So},${or},${or}\\)$`),bV=new RegExp(`^hsla\\(${So},${or},${or},${So}\\)$`),vw={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};_g(Ko,jo,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:yw,formatHex:yw,formatHex8:wV,formatHsl:_V,formatRgb:xw,toString:xw});function yw(){return this.rgb().formatHex()}function wV(){return this.rgb().formatHex8()}function _V(){return gk(this).formatHsl()}function xw(){return this.rgb().formatRgb()}function jo(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=mV.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?bw(t):n===3?new on(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Hl(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Hl(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=pV.exec(e))?new on(t[1],t[2],t[3],1):(t=gV.exec(e))?new on(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=vV.exec(e))?Hl(t[1],t[2],t[3],t[4]):(t=yV.exec(e))?Hl(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=xV.exec(e))?Sw(t[1],t[2]/100,t[3]/100,1):(t=bV.exec(e))?Sw(t[1],t[2]/100,t[3]/100,t[4]):vw.hasOwnProperty(e)?bw(vw[e]):e==="transparent"?new on(NaN,NaN,NaN,0):null}function bw(e){return new on(e>>16&255,e>>8&255,e&255,1)}function Hl(e,t,n,r){return r<=0&&(e=t=n=NaN),new on(e,t,n,r)}function SV(e){return e instanceof Ko||(e=jo(e)),e?(e=e.rgb(),new on(e.r,e.g,e.b,e.opacity)):new on}function Bm(e,t,n,r){return arguments.length===1?SV(e):new on(e,t,n,r??1)}function on(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}_g(on,Bm,pk(Ko,{brighter(e){return e=e==null?Jc:Math.pow(Jc,e),new on(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?_o:Math.pow(_o,e),new on(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new on(Wi(this.r),Wi(this.g),Wi(this.b),Qc(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:ww,formatHex:ww,formatHex8:jV,formatRgb:_w,toString:_w}));function ww(){return`#${zi(this.r)}${zi(this.g)}${zi(this.b)}`}function jV(){return`#${zi(this.r)}${zi(this.g)}${zi(this.b)}${zi((isNaN(this.opacity)?1:this.opacity)*255)}`}function _w(){const e=Qc(this.opacity);return`${e===1?"rgb(":"rgba("}${Wi(this.r)}, ${Wi(this.g)}, ${Wi(this.b)}${e===1?")":`, ${e})`}`}function Qc(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Wi(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function zi(e){return e=Wi(e),(e<16?"0":"")+e.toString(16)}function Sw(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Un(e,t,n,r)}function gk(e){if(e instanceof Un)return new Un(e.h,e.s,e.l,e.opacity);if(e instanceof Ko||(e=jo(e)),!e)return new Un;if(e instanceof Un)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),s=Math.max(t,n,r),a=NaN,l=s-i,u=(s+i)/2;return l?(t===s?a=(n-r)/l+(n<r)*6:n===s?a=(r-t)/l+2:a=(t-n)/l+4,l/=u<.5?s+i:2-s-i,a*=60):l=u>0&&u<1?0:a,new Un(a,l,u,e.opacity)}function PV(e,t,n,r){return arguments.length===1?gk(e):new Un(e,t,n,r??1)}function Un(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}_g(Un,PV,pk(Ko,{brighter(e){return e=e==null?Jc:Math.pow(Jc,e),new Un(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?_o:Math.pow(_o,e),new Un(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new on(sf(e>=240?e-240:e+120,i,r),sf(e,i,r),sf(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new Un(jw(this.h),Kl(this.s),Kl(this.l),Qc(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Qc(this.opacity);return`${e===1?"hsl(":"hsla("}${jw(this.h)}, ${Kl(this.s)*100}%, ${Kl(this.l)*100}%${e===1?")":`, ${e})`}`}}));function jw(e){return e=(e||0)%360,e<0?e+360:e}function Kl(e){return Math.max(0,Math.min(1,e||0))}function sf(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const Sg=e=>()=>e;function kV(e,t){return function(n){return e+n*t}}function AV(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function CV(e){return(e=+e)==1?vk:function(t,n){return n-t?AV(t,n,e):Sg(isNaN(t)?n:t)}}function vk(e,t){var n=t-e;return n?kV(e,n):Sg(isNaN(e)?t:e)}const Pw=function e(t){var n=CV(t);function r(i,s){var a=n((i=Bm(i)).r,(s=Bm(s)).r),l=n(i.g,s.g),u=n(i.b,s.b),h=vk(i.opacity,s.opacity);return function(f){return i.r=a(f),i.g=l(f),i.b=u(f),i.opacity=h(f),i+""}}return r.gamma=e,r}(1);function TV(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(s){for(i=0;i<n;++i)r[i]=e[i]*(1-s)+t[i]*s;return r}}function NV(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function OV(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),s=new Array(n),a;for(a=0;a<r;++a)i[a]=aa(e[a],t[a]);for(;a<n;++a)s[a]=t[a];return function(l){for(a=0;a<r;++a)s[a]=i[a](l);return s}}function EV(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function eu(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function MV(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=aa(e[i],t[i]):r[i]=t[i];return function(s){for(i in n)r[i]=n[i](s);return r}}var Fm=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,af=new RegExp(Fm.source,"g");function IV(e){return function(){return e}}function LV(e){return function(t){return e(t)+""}}function DV(e,t){var n=Fm.lastIndex=af.lastIndex=0,r,i,s,a=-1,l=[],u=[];for(e=e+"",t=t+"";(r=Fm.exec(e))&&(i=af.exec(t));)(s=i.index)>n&&(s=t.slice(n,s),l[a]?l[a]+=s:l[++a]=s),(r=r[0])===(i=i[0])?l[a]?l[a]+=i:l[++a]=i:(l[++a]=null,u.push({i:a,x:eu(r,i)})),n=af.lastIndex;return n<t.length&&(s=t.slice(n),l[a]?l[a]+=s:l[++a]=s),l.length<2?u[0]?LV(u[0].x):IV(t):(t=u.length,function(h){for(var f=0,m;f<t;++f)l[(m=u[f]).i]=m.x(h);return l.join("")})}function aa(e,t){var n=typeof t,r;return t==null||n==="boolean"?Sg(t):(n==="number"?eu:n==="string"?(r=jo(t))?(t=r,Pw):DV:t instanceof jo?Pw:t instanceof Date?EV:NV(t)?TV:Array.isArray(t)?OV:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?MV:eu)(e,t)}function jg(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function RV(e,t){t===void 0&&(t=e,e=aa);for(var n=0,r=t.length-1,i=t[0],s=new Array(r<0?0:r);n<r;)s[n]=e(i,i=t[++n]);return function(a){var l=Math.max(0,Math.min(r-1,Math.floor(a*=r)));return s[l](a-l)}}function $V(e){return function(){return e}}function tu(e){return+e}var kw=[0,1];function Yt(e){return e}function Um(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:$V(isNaN(t)?NaN:.5)}function zV(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function BV(e,t,n){var r=e[0],i=e[1],s=t[0],a=t[1];return i<r?(r=Um(i,r),s=n(a,s)):(r=Um(r,i),s=n(s,a)),function(l){return s(r(l))}}function FV(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),s=new Array(r),a=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++a<r;)i[a]=Um(e[a],e[a+1]),s[a]=n(t[a],t[a+1]);return function(l){var u=Ho(e,l,1,r)-1;return s[u](i[u](l))}}function qo(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function hd(){var e=kw,t=kw,n=aa,r,i,s,a=Yt,l,u,h;function f(){var g=Math.min(e.length,t.length);return a!==Yt&&(a=zV(e[0],e[g-1])),l=g>2?FV:BV,u=h=null,m}function m(g){return g==null||isNaN(g=+g)?s:(u||(u=l(e.map(r),t,n)))(r(a(g)))}return m.invert=function(g){return a(i((h||(h=l(t,e.map(r),eu)))(g)))},m.domain=function(g){return arguments.length?(e=Array.from(g,tu),f()):e.slice()},m.range=function(g){return arguments.length?(t=Array.from(g),f()):t.slice()},m.rangeRound=function(g){return t=Array.from(g),n=jg,f()},m.clamp=function(g){return arguments.length?(a=g?!0:Yt,f()):a!==Yt},m.interpolate=function(g){return arguments.length?(n=g,f()):n},m.unknown=function(g){return arguments.length?(s=g,m):s},function(g,v){return r=g,i=v,f()}}function Pg(){return hd()(Yt,Yt)}function UV(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function nu(e,t){if(!isFinite(e)||e===0)return null;var n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"),r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Ys(e){return e=nu(Math.abs(e)),e?e[1]:NaN}function VV(e,t){return function(n,r){for(var i=n.length,s=[],a=0,l=e[0],u=0;i>0&&l>0&&(u+l+1>r&&(l=Math.max(1,r-u)),s.push(n.substring(i-=l,i+l)),!((u+=l+1)>r));)l=e[a=(a+1)%e.length];return s.reverse().join(t)}}function WV(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var HV=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Po(e){if(!(t=HV.exec(e)))throw new Error("invalid format: "+e);var t;return new kg({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Po.prototype=kg.prototype;function kg(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}kg.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function KV(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var ru;function qV(e,t){var n=nu(e,t);if(!n)return ru=void 0,e.toPrecision(t);var r=n[0],i=n[1],s=i-(ru=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return s===a?r:s>a?r+new Array(s-a+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+nu(e,Math.max(0,t+s-1))[0]}function Aw(e,t){var n=nu(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const Cw={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:UV,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Aw(e*100,t),r:Aw,s:qV,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Tw(e){return e}var Nw=Array.prototype.map,Ow=["y","z","a","f","p","n","Âµ","m","","k","M","G","T","P","E","Z","Y"];function GV(e){var t=e.grouping===void 0||e.thousands===void 0?Tw:VV(Nw.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?Tw:WV(Nw.call(e.numerals,String)),a=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"âˆ’":e.minus+"",u=e.nan===void 0?"NaN":e.nan+"";function h(m,g){m=Po(m);var v=m.fill,y=m.align,w=m.sign,_=m.symbol,j=m.zero,k=m.width,P=m.comma,C=m.precision,N=m.trim,T=m.type;T==="n"?(P=!0,T="g"):Cw[T]||(C===void 0&&(C=12),N=!0,T="g"),(j||v==="0"&&y==="=")&&(j=!0,v="0",y="=");var M=(g&&g.prefix!==void 0?g.prefix:"")+(_==="$"?n:_==="#"&&/[boxX]/.test(T)?"0"+T.toLowerCase():""),E=(_==="$"?r:/[%p]/.test(T)?a:"")+(g&&g.suffix!==void 0?g.suffix:""),$=Cw[T],q=/[defgprs%]/.test(T);C=C===void 0?6:/[gprs]/.test(T)?Math.max(1,Math.min(21,C)):Math.max(0,Math.min(20,C));function U(R){var se=M,Y=E,oe,I,V;if(T==="c")Y=$(R)+Y,R="";else{R=+R;var z=R<0||1/R<0;if(R=isNaN(R)?u:$(Math.abs(R),C),N&&(R=KV(R)),z&&+R==0&&w!=="+"&&(z=!1),se=(z?w==="("?w:l:w==="-"||w==="("?"":w)+se,Y=(T==="s"&&!isNaN(R)&&ru!==void 0?Ow[8+ru/3]:"")+Y+(z&&w==="("?")":""),q){for(oe=-1,I=R.length;++oe<I;)if(V=R.charCodeAt(oe),48>V||V>57){Y=(V===46?i+R.slice(oe+1):R.slice(oe))+Y,R=R.slice(0,oe);break}}}P&&!j&&(R=t(R,1/0));var J=se.length+R.length+Y.length,G=J<k?new Array(k-J+1).join(v):"";switch(P&&j&&(R=t(G+R,G.length?k-Y.length:1/0),G=""),y){case"<":R=se+R+Y+G;break;case"=":R=se+G+R+Y;break;case"^":R=G.slice(0,J=G.length>>1)+se+R+Y+G.slice(J);break;default:R=G+se+R+Y;break}return s(R)}return U.toString=function(){return m+""},U}function f(m,g){var v=Math.max(-8,Math.min(8,Math.floor(Ys(g)/3)))*3,y=Math.pow(10,-v),w=h((m=Po(m),m.type="f",m),{suffix:Ow[8+v/3]});return function(_){return w(y*_)}}return{format:h,formatPrefix:f}}var ql,Ag,yk;ZV({thousands:",",grouping:[3],currency:["$",""]});function ZV(e){return ql=GV(e),Ag=ql.format,yk=ql.formatPrefix,ql}function YV(e){return Math.max(0,-Ys(Math.abs(e)))}function XV(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Ys(t)/3)))*3-Ys(Math.abs(e)))}function JV(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Ys(t)-Ys(e))+1}function xk(e,t,n,r){var i=$m(e,t,n),s;switch(r=Po(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(s=XV(i,a))&&(r.precision=s),yk(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=JV(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=YV(i))&&(r.precision=s-(r.type==="%")*2);break}}return Ag(r)}function hi(e){var t=e.domain;return e.ticks=function(n){var r=t();return Dm(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return xk(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,s=r.length-1,a=r[i],l=r[s],u,h,f=10;for(l<a&&(h=a,a=l,l=h,h=i,i=s,s=h);f-- >0;){if(h=Rm(a,l,n),h===u)return r[i]=a,r[s]=l,t(r);if(h>0)a=Math.floor(a/h)*h,l=Math.ceil(l/h)*h;else if(h<0)a=Math.ceil(a*h)/h,l=Math.floor(l*h)/h;else break;u=h}return e},e}function bk(){var e=Pg();return e.copy=function(){return qo(e,bk())},Tn.apply(e,arguments),hi(e)}function wk(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,tu),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return wk(e).unknown(t)},e=arguments.length?Array.from(e,tu):[0,1],hi(n)}function _k(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],s=e[r],a;return s<i&&(a=n,n=r,r=a,a=i,i=s,s=a),e[n]=t.floor(i),e[r]=t.ceil(s),e}function Ew(e){return Math.log(e)}function Mw(e){return Math.exp(e)}function QV(e){return-Math.log(-e)}function eW(e){return-Math.exp(-e)}function tW(e){return isFinite(e)?+("1e"+e):e<0?0:e}function nW(e){return e===10?tW:e===Math.E?Math.exp:t=>Math.pow(e,t)}function rW(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function Iw(e){return(t,n)=>-e(-t,n)}function Cg(e){const t=e(Ew,Mw),n=t.domain;let r=10,i,s;function a(){return i=rW(r),s=nW(r),n()[0]<0?(i=Iw(i),s=Iw(s),e(QV,eW)):e(Ew,Mw),t}return t.base=function(l){return arguments.length?(r=+l,a()):r},t.domain=function(l){return arguments.length?(n(l),a()):n()},t.ticks=l=>{const u=n();let h=u[0],f=u[u.length-1];const m=f<h;m&&([h,f]=[f,h]);let g=i(h),v=i(f),y,w;const _=l==null?10:+l;let j=[];if(!(r%1)&&v-g<_){if(g=Math.floor(g),v=Math.ceil(v),h>0){for(;g<=v;++g)for(y=1;y<r;++y)if(w=g<0?y/s(-g):y*s(g),!(w<h)){if(w>f)break;j.push(w)}}else for(;g<=v;++g)for(y=r-1;y>=1;--y)if(w=g>0?y/s(-g):y*s(g),!(w<h)){if(w>f)break;j.push(w)}j.length*2<_&&(j=Dm(h,f,_))}else j=Dm(g,v,Math.min(v-g,_)).map(s);return m?j.reverse():j},t.tickFormat=(l,u)=>{if(l==null&&(l=10),u==null&&(u=r===10?"s":","),typeof u!="function"&&(!(r%1)&&(u=Po(u)).precision==null&&(u.trim=!0),u=Ag(u)),l===1/0)return u;const h=Math.max(1,r*l/t.ticks().length);return f=>{let m=f/s(Math.round(i(f)));return m*r<r-.5&&(m*=r),m<=h?u(f):""}},t.nice=()=>n(_k(n(),{floor:l=>s(Math.floor(i(l))),ceil:l=>s(Math.ceil(i(l)))})),t}function Sk(){const e=Cg(hd()).domain([1,10]);return e.copy=()=>qo(e,Sk()).base(e.base()),Tn.apply(e,arguments),e}function Lw(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function Dw(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Tg(e){var t=1,n=e(Lw(t),Dw(t));return n.constant=function(r){return arguments.length?e(Lw(t=+r),Dw(t)):t},hi(n)}function jk(){var e=Tg(hd());return e.copy=function(){return qo(e,jk()).constant(e.constant())},Tn.apply(e,arguments)}function Rw(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function iW(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function sW(e){return e<0?-e*e:e*e}function Ng(e){var t=e(Yt,Yt),n=1;function r(){return n===1?e(Yt,Yt):n===.5?e(iW,sW):e(Rw(n),Rw(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},hi(t)}function Og(){var e=Ng(hd());return e.copy=function(){return qo(e,Og()).exponent(e.exponent())},Tn.apply(e,arguments),e}function aW(){return Og.apply(null,arguments).exponent(.5)}function $w(e){return Math.sign(e)*e*e}function oW(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function Pk(){var e=Pg(),t=[0,1],n=!1,r;function i(s){var a=oW(e(s));return isNaN(a)?r:n?Math.round(a):a}return i.invert=function(s){return e.invert($w(s))},i.domain=function(s){return arguments.length?(e.domain(s),i):e.domain()},i.range=function(s){return arguments.length?(e.range((t=Array.from(s,tu)).map($w)),i):t.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(n=!!s,i):n},i.clamp=function(s){return arguments.length?(e.clamp(s),i):e.clamp()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return Pk(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},Tn.apply(i,arguments),hi(i)}function kk(){var e=[],t=[],n=[],r;function i(){var a=0,l=Math.max(1,t.length);for(n=new Array(l-1);++a<l;)n[a-1]=dV(e,a/l);return s}function s(a){return a==null||isNaN(a=+a)?r:t[Ho(n,a)]}return s.invertExtent=function(a){var l=t.indexOf(a);return l<0?[NaN,NaN]:[l>0?n[l-1]:e[0],l<n.length?n[l]:e[e.length-1]]},s.domain=function(a){if(!arguments.length)return e.slice();e=[];for(let l of a)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(ii),i()},s.range=function(a){return arguments.length?(t=Array.from(a),i()):t.slice()},s.unknown=function(a){return arguments.length?(r=a,s):r},s.quantiles=function(){return n.slice()},s.copy=function(){return kk().domain(e).range(t).unknown(r)},Tn.apply(s,arguments)}function Ak(){var e=0,t=1,n=1,r=[.5],i=[0,1],s;function a(u){return u!=null&&u<=u?i[Ho(r,u,0,n)]:s}function l(){var u=-1;for(r=new Array(n);++u<n;)r[u]=((u+1)*t-(u-n)*e)/(n+1);return a}return a.domain=function(u){return arguments.length?([e,t]=u,e=+e,t=+t,l()):[e,t]},a.range=function(u){return arguments.length?(n=(i=Array.from(u)).length-1,l()):i.slice()},a.invertExtent=function(u){var h=i.indexOf(u);return h<0?[NaN,NaN]:h<1?[e,r[0]]:h>=n?[r[n-1],t]:[r[h-1],r[h]]},a.unknown=function(u){return arguments.length&&(s=u),a},a.thresholds=function(){return r.slice()},a.copy=function(){return Ak().domain([e,t]).range(i).unknown(s)},Tn.apply(hi(a),arguments)}function Ck(){var e=[.5],t=[0,1],n,r=1;function i(s){return s!=null&&s<=s?t[Ho(e,s,0,r)]:n}return i.domain=function(s){return arguments.length?(e=Array.from(s),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(s){return arguments.length?(t=Array.from(s),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(s){var a=t.indexOf(s);return[e[a-1],e[a]]},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return Ck().domain(e).range(t).unknown(n)},Tn.apply(i,arguments)}const of=new Date,lf=new Date;function xt(e,t,n,r){function i(s){return e(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(e(s=new Date(+s)),s),i.ceil=s=>(e(s=new Date(s-1)),t(s,1),e(s),s),i.round=s=>{const a=i(s),l=i.ceil(s);return s-a<l-s?a:l},i.offset=(s,a)=>(t(s=new Date(+s),a==null?1:Math.floor(a)),s),i.range=(s,a,l)=>{const u=[];if(s=i.ceil(s),l=l==null?1:Math.floor(l),!(s<a)||!(l>0))return u;let h;do u.push(h=new Date(+s)),t(s,l),e(s);while(h<s&&s<a);return u},i.filter=s=>xt(a=>{if(a>=a)for(;e(a),!s(a);)a.setTime(a-1)},(a,l)=>{if(a>=a)if(l<0)for(;++l<=0;)for(;t(a,-1),!s(a););else for(;--l>=0;)for(;t(a,1),!s(a););}),n&&(i.count=(s,a)=>(of.setTime(+s),lf.setTime(+a),e(of),e(lf),Math.floor(n(of,lf))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(r?a=>r(a)%s===0:a=>i.count(0,a)%s===0):i)),i}const iu=xt(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);iu.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?xt(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):iu);iu.range;const Sr=1e3,Sn=Sr*60,jr=Sn*60,Or=jr*24,Eg=Or*7,zw=Or*30,cf=Or*365,Bi=xt(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Sr)},(e,t)=>(t-e)/Sr,e=>e.getUTCSeconds());Bi.range;const Mg=xt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Sr)},(e,t)=>{e.setTime(+e+t*Sn)},(e,t)=>(t-e)/Sn,e=>e.getMinutes());Mg.range;const Ig=xt(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Sn)},(e,t)=>(t-e)/Sn,e=>e.getUTCMinutes());Ig.range;const Lg=xt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Sr-e.getMinutes()*Sn)},(e,t)=>{e.setTime(+e+t*jr)},(e,t)=>(t-e)/jr,e=>e.getHours());Lg.range;const Dg=xt(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*jr)},(e,t)=>(t-e)/jr,e=>e.getUTCHours());Dg.range;const Go=xt(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Sn)/Or,e=>e.getDate()-1);Go.range;const fd=xt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Or,e=>e.getUTCDate()-1);fd.range;const Tk=xt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Or,e=>Math.floor(e/Or));Tk.range;function ns(e){return xt(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Sn)/Eg)}const md=ns(0),su=ns(1),lW=ns(2),cW=ns(3),Xs=ns(4),uW=ns(5),dW=ns(6);md.range;su.range;lW.range;cW.range;Xs.range;uW.range;dW.range;function rs(e){return xt(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/Eg)}const pd=rs(0),au=rs(1),hW=rs(2),fW=rs(3),Js=rs(4),mW=rs(5),pW=rs(6);pd.range;au.range;hW.range;fW.range;Js.range;mW.range;pW.range;const Rg=xt(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Rg.range;const $g=xt(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());$g.range;const Er=xt(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Er.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:xt(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});Er.range;const Mr=xt(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Mr.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:xt(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});Mr.range;function Nk(e,t,n,r,i,s){const a=[[Bi,1,Sr],[Bi,5,5*Sr],[Bi,15,15*Sr],[Bi,30,30*Sr],[s,1,Sn],[s,5,5*Sn],[s,15,15*Sn],[s,30,30*Sn],[i,1,jr],[i,3,3*jr],[i,6,6*jr],[i,12,12*jr],[r,1,Or],[r,2,2*Or],[n,1,Eg],[t,1,zw],[t,3,3*zw],[e,1,cf]];function l(h,f,m){const g=f<h;g&&([h,f]=[f,h]);const v=m&&typeof m.range=="function"?m:u(h,f,m),y=v?v.range(h,+f+1):[];return g?y.reverse():y}function u(h,f,m){const g=Math.abs(f-h)/m,v=xg(([,,_])=>_).right(a,g);if(v===a.length)return e.every($m(h/cf,f/cf,m));if(v===0)return iu.every(Math.max($m(h,f,m),1));const[y,w]=a[g/a[v-1][2]<a[v][2]/g?v-1:v];return y.every(w)}return[l,u]}const[gW,vW]=Nk(Mr,$g,pd,Tk,Dg,Ig),[yW,xW]=Nk(Er,Rg,md,Go,Lg,Mg);function uf(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function df(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Ra(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function bW(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,s=e.days,a=e.shortDays,l=e.months,u=e.shortMonths,h=$a(i),f=za(i),m=$a(s),g=za(s),v=$a(a),y=za(a),w=$a(l),_=za(l),j=$a(u),k=za(u),P={a:V,A:z,b:J,B:G,c:null,d:Hw,e:Hw,f:VW,g:QW,G:t7,H:BW,I:FW,j:UW,L:Ok,m:WW,M:HW,p:de,q:je,Q:Gw,s:Zw,S:KW,u:qW,U:GW,V:ZW,w:YW,W:XW,x:null,X:null,y:JW,Y:e7,Z:n7,"%":qw},C={a:ve,A:he,b:be,B:ge,c:null,d:Kw,e:Kw,f:a7,g:g7,G:y7,H:r7,I:i7,j:s7,L:Mk,m:o7,M:l7,p:ye,q:ct,Q:Gw,s:Zw,S:c7,u:u7,U:d7,V:h7,w:f7,W:m7,x:null,X:null,y:p7,Y:v7,Z:x7,"%":qw},N={a:q,A:U,b:R,B:se,c:Y,d:Vw,e:Vw,f:DW,g:Uw,G:Fw,H:Ww,I:Ww,j:EW,L:LW,m:OW,M:MW,p:$,q:NW,Q:$W,s:zW,S:IW,u:PW,U:kW,V:AW,w:jW,W:CW,x:oe,X:I,y:Uw,Y:Fw,Z:TW,"%":RW};P.x=T(n,P),P.X=T(r,P),P.c=T(t,P),C.x=T(n,C),C.X=T(r,C),C.c=T(t,C);function T(W,xe){return function(_e){var K=[],wt=-1,Le=0,zt=W.length,Bt,En,mi;for(_e instanceof Date||(_e=new Date(+_e));++wt<zt;)W.charCodeAt(wt)===37&&(K.push(W.slice(Le,wt)),(En=Bw[Bt=W.charAt(++wt)])!=null?Bt=W.charAt(++wt):En=Bt==="e"?" ":"0",(mi=xe[Bt])&&(Bt=mi(_e,En)),K.push(Bt),Le=wt+1);return K.push(W.slice(Le,wt)),K.join("")}}function M(W,xe){return function(_e){var K=Ra(1900,void 0,1),wt=E(K,W,_e+="",0),Le,zt;if(wt!=_e.length)return null;if("Q"in K)return new Date(K.Q);if("s"in K)return new Date(K.s*1e3+("L"in K?K.L:0));if(xe&&!("Z"in K)&&(K.Z=0),"p"in K&&(K.H=K.H%12+K.p*12),K.m===void 0&&(K.m="q"in K?K.q:0),"V"in K){if(K.V<1||K.V>53)return null;"w"in K||(K.w=1),"Z"in K?(Le=df(Ra(K.y,0,1)),zt=Le.getUTCDay(),Le=zt>4||zt===0?au.ceil(Le):au(Le),Le=fd.offset(Le,(K.V-1)*7),K.y=Le.getUTCFullYear(),K.m=Le.getUTCMonth(),K.d=Le.getUTCDate()+(K.w+6)%7):(Le=uf(Ra(K.y,0,1)),zt=Le.getDay(),Le=zt>4||zt===0?su.ceil(Le):su(Le),Le=Go.offset(Le,(K.V-1)*7),K.y=Le.getFullYear(),K.m=Le.getMonth(),K.d=Le.getDate()+(K.w+6)%7)}else("W"in K||"U"in K)&&("w"in K||(K.w="u"in K?K.u%7:"W"in K?1:0),zt="Z"in K?df(Ra(K.y,0,1)).getUTCDay():uf(Ra(K.y,0,1)).getDay(),K.m=0,K.d="W"in K?(K.w+6)%7+K.W*7-(zt+5)%7:K.w+K.U*7-(zt+6)%7);return"Z"in K?(K.H+=K.Z/100|0,K.M+=K.Z%100,df(K)):uf(K)}}function E(W,xe,_e,K){for(var wt=0,Le=xe.length,zt=_e.length,Bt,En;wt<Le;){if(K>=zt)return-1;if(Bt=xe.charCodeAt(wt++),Bt===37){if(Bt=xe.charAt(wt++),En=N[Bt in Bw?xe.charAt(wt++):Bt],!En||(K=En(W,_e,K))<0)return-1}else if(Bt!=_e.charCodeAt(K++))return-1}return K}function $(W,xe,_e){var K=h.exec(xe.slice(_e));return K?(W.p=f.get(K[0].toLowerCase()),_e+K[0].length):-1}function q(W,xe,_e){var K=v.exec(xe.slice(_e));return K?(W.w=y.get(K[0].toLowerCase()),_e+K[0].length):-1}function U(W,xe,_e){var K=m.exec(xe.slice(_e));return K?(W.w=g.get(K[0].toLowerCase()),_e+K[0].length):-1}function R(W,xe,_e){var K=j.exec(xe.slice(_e));return K?(W.m=k.get(K[0].toLowerCase()),_e+K[0].length):-1}function se(W,xe,_e){var K=w.exec(xe.slice(_e));return K?(W.m=_.get(K[0].toLowerCase()),_e+K[0].length):-1}function Y(W,xe,_e){return E(W,t,xe,_e)}function oe(W,xe,_e){return E(W,n,xe,_e)}function I(W,xe,_e){return E(W,r,xe,_e)}function V(W){return a[W.getDay()]}function z(W){return s[W.getDay()]}function J(W){return u[W.getMonth()]}function G(W){return l[W.getMonth()]}function de(W){return i[+(W.getHours()>=12)]}function je(W){return 1+~~(W.getMonth()/3)}function ve(W){return a[W.getUTCDay()]}function he(W){return s[W.getUTCDay()]}function be(W){return u[W.getUTCMonth()]}function ge(W){return l[W.getUTCMonth()]}function ye(W){return i[+(W.getUTCHours()>=12)]}function ct(W){return 1+~~(W.getUTCMonth()/3)}return{format:function(W){var xe=T(W+="",P);return xe.toString=function(){return W},xe},parse:function(W){var xe=M(W+="",!1);return xe.toString=function(){return W},xe},utcFormat:function(W){var xe=T(W+="",C);return xe.toString=function(){return W},xe},utcParse:function(W){var xe=M(W+="",!0);return xe.toString=function(){return W},xe}}}var Bw={"-":"",_:" ",0:"0"},Tt=/^\s*\d+/,wW=/^%/,_W=/[\\^$*+?|[\]().{}]/g;function Oe(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",s=i.length;return r+(s<n?new Array(n-s+1).join(t)+i:i)}function SW(e){return e.replace(_W,"\\$&")}function $a(e){return new RegExp("^(?:"+e.map(SW).join("|")+")","i")}function za(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function jW(e,t,n){var r=Tt.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function PW(e,t,n){var r=Tt.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function kW(e,t,n){var r=Tt.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function AW(e,t,n){var r=Tt.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function CW(e,t,n){var r=Tt.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function Fw(e,t,n){var r=Tt.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function Uw(e,t,n){var r=Tt.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function TW(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function NW(e,t,n){var r=Tt.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function OW(e,t,n){var r=Tt.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function Vw(e,t,n){var r=Tt.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function EW(e,t,n){var r=Tt.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function Ww(e,t,n){var r=Tt.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function MW(e,t,n){var r=Tt.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function IW(e,t,n){var r=Tt.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function LW(e,t,n){var r=Tt.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function DW(e,t,n){var r=Tt.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function RW(e,t,n){var r=wW.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function $W(e,t,n){var r=Tt.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function zW(e,t,n){var r=Tt.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function Hw(e,t){return Oe(e.getDate(),t,2)}function BW(e,t){return Oe(e.getHours(),t,2)}function FW(e,t){return Oe(e.getHours()%12||12,t,2)}function UW(e,t){return Oe(1+Go.count(Er(e),e),t,3)}function Ok(e,t){return Oe(e.getMilliseconds(),t,3)}function VW(e,t){return Ok(e,t)+"000"}function WW(e,t){return Oe(e.getMonth()+1,t,2)}function HW(e,t){return Oe(e.getMinutes(),t,2)}function KW(e,t){return Oe(e.getSeconds(),t,2)}function qW(e){var t=e.getDay();return t===0?7:t}function GW(e,t){return Oe(md.count(Er(e)-1,e),t,2)}function Ek(e){var t=e.getDay();return t>=4||t===0?Xs(e):Xs.ceil(e)}function ZW(e,t){return e=Ek(e),Oe(Xs.count(Er(e),e)+(Er(e).getDay()===4),t,2)}function YW(e){return e.getDay()}function XW(e,t){return Oe(su.count(Er(e)-1,e),t,2)}function JW(e,t){return Oe(e.getFullYear()%100,t,2)}function QW(e,t){return e=Ek(e),Oe(e.getFullYear()%100,t,2)}function e7(e,t){return Oe(e.getFullYear()%1e4,t,4)}function t7(e,t){var n=e.getDay();return e=n>=4||n===0?Xs(e):Xs.ceil(e),Oe(e.getFullYear()%1e4,t,4)}function n7(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Oe(t/60|0,"0",2)+Oe(t%60,"0",2)}function Kw(e,t){return Oe(e.getUTCDate(),t,2)}function r7(e,t){return Oe(e.getUTCHours(),t,2)}function i7(e,t){return Oe(e.getUTCHours()%12||12,t,2)}function s7(e,t){return Oe(1+fd.count(Mr(e),e),t,3)}function Mk(e,t){return Oe(e.getUTCMilliseconds(),t,3)}function a7(e,t){return Mk(e,t)+"000"}function o7(e,t){return Oe(e.getUTCMonth()+1,t,2)}function l7(e,t){return Oe(e.getUTCMinutes(),t,2)}function c7(e,t){return Oe(e.getUTCSeconds(),t,2)}function u7(e){var t=e.getUTCDay();return t===0?7:t}function d7(e,t){return Oe(pd.count(Mr(e)-1,e),t,2)}function Ik(e){var t=e.getUTCDay();return t>=4||t===0?Js(e):Js.ceil(e)}function h7(e,t){return e=Ik(e),Oe(Js.count(Mr(e),e)+(Mr(e).getUTCDay()===4),t,2)}function f7(e){return e.getUTCDay()}function m7(e,t){return Oe(au.count(Mr(e)-1,e),t,2)}function p7(e,t){return Oe(e.getUTCFullYear()%100,t,2)}function g7(e,t){return e=Ik(e),Oe(e.getUTCFullYear()%100,t,2)}function v7(e,t){return Oe(e.getUTCFullYear()%1e4,t,4)}function y7(e,t){var n=e.getUTCDay();return e=n>=4||n===0?Js(e):Js.ceil(e),Oe(e.getUTCFullYear()%1e4,t,4)}function x7(){return"+0000"}function qw(){return"%"}function Gw(e){return+e}function Zw(e){return Math.floor(+e/1e3)}var Ss,Lk,Dk;b7({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function b7(e){return Ss=bW(e),Lk=Ss.format,Ss.parse,Dk=Ss.utcFormat,Ss.utcParse,Ss}function w7(e){return new Date(e)}function _7(e){return e instanceof Date?+e:+new Date(+e)}function zg(e,t,n,r,i,s,a,l,u,h){var f=Pg(),m=f.invert,g=f.domain,v=h(".%L"),y=h(":%S"),w=h("%I:%M"),_=h("%I %p"),j=h("%a %d"),k=h("%b %d"),P=h("%B"),C=h("%Y");function N(T){return(u(T)<T?v:l(T)<T?y:a(T)<T?w:s(T)<T?_:r(T)<T?i(T)<T?j:k:n(T)<T?P:C)(T)}return f.invert=function(T){return new Date(m(T))},f.domain=function(T){return arguments.length?g(Array.from(T,_7)):g().map(w7)},f.ticks=function(T){var M=g();return e(M[0],M[M.length-1],T??10)},f.tickFormat=function(T,M){return M==null?N:h(M)},f.nice=function(T){var M=g();return(!T||typeof T.range!="function")&&(T=t(M[0],M[M.length-1],T??10)),T?g(_k(M,T)):f},f.copy=function(){return qo(f,zg(e,t,n,r,i,s,a,l,u,h))},f}function S7(){return Tn.apply(zg(yW,xW,Er,Rg,md,Go,Lg,Mg,Bi,Lk).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function j7(){return Tn.apply(zg(gW,vW,Mr,$g,pd,fd,Dg,Ig,Bi,Dk).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function gd(){var e=0,t=1,n,r,i,s,a=Yt,l=!1,u;function h(m){return m==null||isNaN(m=+m)?u:a(i===0?.5:(m=(s(m)-n)*i,l?Math.max(0,Math.min(1,m)):m))}h.domain=function(m){return arguments.length?([e,t]=m,n=s(e=+e),r=s(t=+t),i=n===r?0:1/(r-n),h):[e,t]},h.clamp=function(m){return arguments.length?(l=!!m,h):l},h.interpolator=function(m){return arguments.length?(a=m,h):a};function f(m){return function(g){var v,y;return arguments.length?([v,y]=g,a=m(v,y),h):[a(0),a(1)]}}return h.range=f(aa),h.rangeRound=f(jg),h.unknown=function(m){return arguments.length?(u=m,h):u},function(m){return s=m,n=m(e),r=m(t),i=n===r?0:1/(r-n),h}}function fi(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function Rk(){var e=hi(gd()(Yt));return e.copy=function(){return fi(e,Rk())},Ur.apply(e,arguments)}function $k(){var e=Cg(gd()).domain([1,10]);return e.copy=function(){return fi(e,$k()).base(e.base())},Ur.apply(e,arguments)}function zk(){var e=Tg(gd());return e.copy=function(){return fi(e,zk()).constant(e.constant())},Ur.apply(e,arguments)}function Bg(){var e=Ng(gd());return e.copy=function(){return fi(e,Bg()).exponent(e.exponent())},Ur.apply(e,arguments)}function P7(){return Bg.apply(null,arguments).exponent(.5)}function Bk(){var e=[],t=Yt;function n(r){if(r!=null&&!isNaN(r=+r))return t((Ho(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let i of r)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(ii),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,i)=>t(i/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,s)=>uV(e,s/r))},n.copy=function(){return Bk(t).domain(e)},Ur.apply(n,arguments)}function vd(){var e=0,t=.5,n=1,r=1,i,s,a,l,u,h=Yt,f,m=!1,g;function v(w){return isNaN(w=+w)?g:(w=.5+((w=+f(w))-s)*(r*w<r*s?l:u),h(m?Math.max(0,Math.min(1,w)):w))}v.domain=function(w){return arguments.length?([e,t,n]=w,i=f(e=+e),s=f(t=+t),a=f(n=+n),l=i===s?0:.5/(s-i),u=s===a?0:.5/(a-s),r=s<i?-1:1,v):[e,t,n]},v.clamp=function(w){return arguments.length?(m=!!w,v):m},v.interpolator=function(w){return arguments.length?(h=w,v):h};function y(w){return function(_){var j,k,P;return arguments.length?([j,k,P]=_,h=RV(w,[j,k,P]),v):[h(0),h(.5),h(1)]}}return v.range=y(aa),v.rangeRound=y(jg),v.unknown=function(w){return arguments.length?(g=w,v):g},function(w){return f=w,i=w(e),s=w(t),a=w(n),l=i===s?0:.5/(s-i),u=s===a?0:.5/(a-s),r=s<i?-1:1,v}}function Fk(){var e=hi(vd()(Yt));return e.copy=function(){return fi(e,Fk())},Ur.apply(e,arguments)}function Uk(){var e=Cg(vd()).domain([.1,1,10]);return e.copy=function(){return fi(e,Uk()).base(e.base())},Ur.apply(e,arguments)}function Vk(){var e=Tg(vd());return e.copy=function(){return fi(e,Vk()).constant(e.constant())},Ur.apply(e,arguments)}function Fg(){var e=Ng(vd());return e.copy=function(){return fi(e,Fg()).exponent(e.exponent())},Ur.apply(e,arguments)}function k7(){return Fg.apply(null,arguments).exponent(.5)}const Ka=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:wg,scaleDiverging:Fk,scaleDivergingLog:Uk,scaleDivergingPow:Fg,scaleDivergingSqrt:k7,scaleDivergingSymlog:Vk,scaleIdentity:wk,scaleImplicit:zm,scaleLinear:bk,scaleLog:Sk,scaleOrdinal:bg,scalePoint:fV,scalePow:Og,scaleQuantile:kk,scaleQuantize:Ak,scaleRadial:Pk,scaleSequential:Rk,scaleSequentialLog:$k,scaleSequentialPow:Bg,scaleSequentialQuantile:Bk,scaleSequentialSqrt:P7,scaleSequentialSymlog:zk,scaleSqrt:aW,scaleSymlog:jk,scaleThreshold:Ck,scaleTime:S7,scaleUtc:j7,tickFormat:xk},Symbol.toStringTag,{value:"Module"}));var Vr=e=>e.chartData,Wk=B([Vr],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),Ug=(e,t,n,r)=>r?Wk(e):Vr(e),A7=(e,t,n)=>n?Wk(e):Vr(e);function Ir(e){if(Array.isArray(e)&&e.length===2){var[t,n]=e;if(Ae(t)&&Ae(n))return!0}return!1}function Yw(e,t,n){return n?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function Hk(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[n,r]=e,i,s;if(Ae(n))i=n;else if(typeof n=="function")return;if(Ae(r))s=r;else if(typeof r=="function")return;var a=[i,s];if(Ir(a))return a}}function C7(e,t,n){if(!(!n&&t==null)){if(typeof e=="function"&&t!=null)try{var r=e(t,n);if(Ir(r))return Yw(r,t,n)}catch{}if(Array.isArray(e)&&e.length===2){var[i,s]=e,a,l;if(i==="auto")t!=null&&(a=Math.min(...t));else if(ie(i))a=i;else if(typeof i=="function")try{t!=null&&(a=i(t==null?void 0:t[0]))}catch{}else if(typeof i=="string"&&gb.test(i)){var u=gb.exec(i);if(u==null||u[1]==null||t==null)a=void 0;else{var h=+u[1];a=t[0]-h}}else a=t==null?void 0:t[0];if(s==="auto")t!=null&&(l=Math.max(...t));else if(ie(s))l=s;else if(typeof s=="function")try{t!=null&&(l=s(t==null?void 0:t[1]))}catch{}else if(typeof s=="string"&&vb.test(s)){var f=vb.exec(s);if(f==null||f[1]==null||t==null)l=void 0;else{var m=+f[1];l=t[1]+m}}else l=t==null?void 0:t[1];var g=[a,l];if(Ir(g))return t==null?g:Yw(g,t,n)}}}var oa=1e9,T7={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Wg,Ke=!0,Cn="[DecimalError] ",Hi=Cn+"Invalid argument: ",Vg=Cn+"Exponent out of range: ",la=Math.floor,Ei=Math.pow,N7=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,dn,kt=1e7,Ve=7,Kk=9007199254740991,ou=la(Kk/Ve),ee={};ee.absoluteValue=ee.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};ee.comparedTo=ee.cmp=function(e){var t,n,r,i,s=this;if(e=new s.constructor(e),s.s!==e.s)return s.s||-e.s;if(s.e!==e.e)return s.e>e.e^s.s<0?1:-1;for(r=s.d.length,i=e.d.length,t=0,n=r<i?r:i;t<n;++t)if(s.d[t]!==e.d[t])return s.d[t]>e.d[t]^s.s<0?1:-1;return r===i?0:r>i^s.s<0?1:-1};ee.decimalPlaces=ee.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*Ve;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};ee.dividedBy=ee.div=function(e){return Ar(this,new this.constructor(e))};ee.dividedToIntegerBy=ee.idiv=function(e){var t=this,n=t.constructor;return Re(Ar(t,new n(e),0,1),n.precision)};ee.equals=ee.eq=function(e){return!this.cmp(e)};ee.exponent=function(){return lt(this)};ee.greaterThan=ee.gt=function(e){return this.cmp(e)>0};ee.greaterThanOrEqualTo=ee.gte=function(e){return this.cmp(e)>=0};ee.isInteger=ee.isint=function(){return this.e>this.d.length-2};ee.isNegative=ee.isneg=function(){return this.s<0};ee.isPositive=ee.ispos=function(){return this.s>0};ee.isZero=function(){return this.s===0};ee.lessThan=ee.lt=function(e){return this.cmp(e)<0};ee.lessThanOrEqualTo=ee.lte=function(e){return this.cmp(e)<1};ee.logarithm=ee.log=function(e){var t,n=this,r=n.constructor,i=r.precision,s=i+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(dn))throw Error(Cn+"NaN");if(n.s<1)throw Error(Cn+(n.s?"NaN":"-Infinity"));return n.eq(dn)?new r(0):(Ke=!1,t=Ar(ko(n,s),ko(e,s),s),Ke=!0,Re(t,i))};ee.minus=ee.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?Zk(t,e):qk(t,(e.s=-e.s,e))};ee.modulo=ee.mod=function(e){var t,n=this,r=n.constructor,i=r.precision;if(e=new r(e),!e.s)throw Error(Cn+"NaN");return n.s?(Ke=!1,t=Ar(n,e,0,1).times(e),Ke=!0,n.minus(t)):Re(new r(n),i)};ee.naturalExponential=ee.exp=function(){return Gk(this)};ee.naturalLogarithm=ee.ln=function(){return ko(this)};ee.negated=ee.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};ee.plus=ee.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?qk(t,e):Zk(t,(e.s=-e.s,e))};ee.precision=ee.sd=function(e){var t,n,r,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Hi+e);if(t=lt(i)+1,r=i.d.length-1,n=r*Ve+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};ee.squareRoot=ee.sqrt=function(){var e,t,n,r,i,s,a,l=this,u=l.constructor;if(l.s<1){if(!l.s)return new u(0);throw Error(Cn+"NaN")}for(e=lt(l),Ke=!1,i=Math.sqrt(+l),i==0||i==1/0?(t=ir(l.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=la((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new u(t)):r=new u(i.toString()),n=u.precision,i=a=n+3;;)if(s=r,r=s.plus(Ar(l,s,a+2)).times(.5),ir(s.d).slice(0,a)===(t=ir(r.d)).slice(0,a)){if(t=t.slice(a-3,a+1),i==a&&t=="4999"){if(Re(s,n+1,0),s.times(s).eq(l)){r=s;break}}else if(t!="9999")break;a+=4}return Ke=!0,Re(r,n)};ee.times=ee.mul=function(e){var t,n,r,i,s,a,l,u,h,f=this,m=f.constructor,g=f.d,v=(e=new m(e)).d;if(!f.s||!e.s)return new m(0);for(e.s*=f.s,n=f.e+e.e,u=g.length,h=v.length,u<h&&(s=g,g=v,v=s,a=u,u=h,h=a),s=[],a=u+h,r=a;r--;)s.push(0);for(r=h;--r>=0;){for(t=0,i=u+r;i>r;)l=s[i]+v[r]*g[i-r-1]+t,s[i--]=l%kt|0,t=l/kt|0;s[i]=(s[i]+t)%kt|0}for(;!s[--a];)s.pop();return t?++n:s.shift(),e.d=s,e.e=n,Ke?Re(e,m.precision):e};ee.toDecimalPlaces=ee.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(fr(e,0,oa),t===void 0?t=r.rounding:fr(t,0,8),Re(n,e+lt(n)+1,t))};ee.toExponential=function(e,t){var n,r=this,i=r.constructor;return e===void 0?n=Xi(r,!0):(fr(e,0,oa),t===void 0?t=i.rounding:fr(t,0,8),r=Re(new i(r),e+1,t),n=Xi(r,!0,e+1)),n};ee.toFixed=function(e,t){var n,r,i=this,s=i.constructor;return e===void 0?Xi(i):(fr(e,0,oa),t===void 0?t=s.rounding:fr(t,0,8),r=Re(new s(i),e+lt(i)+1,t),n=Xi(r.abs(),!1,e+lt(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};ee.toInteger=ee.toint=function(){var e=this,t=e.constructor;return Re(new t(e),lt(e)+1,t.rounding)};ee.toNumber=function(){return+this};ee.toPower=ee.pow=function(e){var t,n,r,i,s,a,l=this,u=l.constructor,h=12,f=+(e=new u(e));if(!e.s)return new u(dn);if(l=new u(l),!l.s){if(e.s<1)throw Error(Cn+"Infinity");return l}if(l.eq(dn))return l;if(r=u.precision,e.eq(dn))return Re(l,r);if(t=e.e,n=e.d.length-1,a=t>=n,s=l.s,a){if((n=f<0?-f:f)<=Kk){for(i=new u(dn),t=Math.ceil(r/Ve+4),Ke=!1;n%2&&(i=i.times(l),Jw(i.d,t)),n=la(n/2),n!==0;)l=l.times(l),Jw(l.d,t);return Ke=!0,e.s<0?new u(dn).div(i):Re(i,r)}}else if(s<0)throw Error(Cn+"NaN");return s=s<0&&e.d[Math.max(t,n)]&1?-1:1,l.s=1,Ke=!1,i=e.times(ko(l,r+h)),Ke=!0,i=Gk(i),i.s=s,i};ee.toPrecision=function(e,t){var n,r,i=this,s=i.constructor;return e===void 0?(n=lt(i),r=Xi(i,n<=s.toExpNeg||n>=s.toExpPos)):(fr(e,1,oa),t===void 0?t=s.rounding:fr(t,0,8),i=Re(new s(i),e,t),n=lt(i),r=Xi(i,e<=n||n<=s.toExpNeg,e)),r};ee.toSignificantDigits=ee.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(fr(e,1,oa),t===void 0?t=r.rounding:fr(t,0,8)),Re(new r(n),e,t)};ee.toString=ee.valueOf=ee.val=ee.toJSON=ee[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=lt(e),n=e.constructor;return Xi(e,t<=n.toExpNeg||t>=n.toExpPos)};function qk(e,t){var n,r,i,s,a,l,u,h,f=e.constructor,m=f.precision;if(!e.s||!t.s)return t.s||(t=new f(e)),Ke?Re(t,m):t;if(u=e.d,h=t.d,a=e.e,i=t.e,u=u.slice(),s=a-i,s){for(s<0?(r=u,s=-s,l=h.length):(r=h,i=a,l=u.length),a=Math.ceil(m/Ve),l=a>l?a+1:l+1,s>l&&(s=l,r.length=1),r.reverse();s--;)r.push(0);r.reverse()}for(l=u.length,s=h.length,l-s<0&&(s=l,r=h,h=u,u=r),n=0;s;)n=(u[--s]=u[s]+h[s]+n)/kt|0,u[s]%=kt;for(n&&(u.unshift(n),++i),l=u.length;u[--l]==0;)u.pop();return t.d=u,t.e=i,Ke?Re(t,m):t}function fr(e,t,n){if(e!==~~e||e<t||e>n)throw Error(Hi+e)}function ir(e){var t,n,r,i=e.length-1,s="",a=e[0];if(i>0){for(s+=a,t=1;t<i;t++)r=e[t]+"",n=Ve-r.length,n&&(s+=Jr(n)),s+=r;a=e[t],r=a+"",n=Ve-r.length,n&&(s+=Jr(n))}else if(a===0)return"0";for(;a%10===0;)a/=10;return s+a}var Ar=function(){function e(r,i){var s,a=0,l=r.length;for(r=r.slice();l--;)s=r[l]*i+a,r[l]=s%kt|0,a=s/kt|0;return a&&r.unshift(a),r}function t(r,i,s,a){var l,u;if(s!=a)u=s>a?1:-1;else for(l=u=0;l<s;l++)if(r[l]!=i[l]){u=r[l]>i[l]?1:-1;break}return u}function n(r,i,s){for(var a=0;s--;)r[s]-=a,a=r[s]<i[s]?1:0,r[s]=a*kt+r[s]-i[s];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,s,a){var l,u,h,f,m,g,v,y,w,_,j,k,P,C,N,T,M,E,$=r.constructor,q=r.s==i.s?1:-1,U=r.d,R=i.d;if(!r.s)return new $(r);if(!i.s)throw Error(Cn+"Division by zero");for(u=r.e-i.e,M=R.length,N=U.length,v=new $(q),y=v.d=[],h=0;R[h]==(U[h]||0);)++h;if(R[h]>(U[h]||0)&&--u,s==null?k=s=$.precision:a?k=s+(lt(r)-lt(i))+1:k=s,k<0)return new $(0);if(k=k/Ve+2|0,h=0,M==1)for(f=0,R=R[0],k++;(h<N||f)&&k--;h++)P=f*kt+(U[h]||0),y[h]=P/R|0,f=P%R|0;else{for(f=kt/(R[0]+1)|0,f>1&&(R=e(R,f),U=e(U,f),M=R.length,N=U.length),C=M,w=U.slice(0,M),_=w.length;_<M;)w[_++]=0;E=R.slice(),E.unshift(0),T=R[0],R[1]>=kt/2&&++T;do f=0,l=t(R,w,M,_),l<0?(j=w[0],M!=_&&(j=j*kt+(w[1]||0)),f=j/T|0,f>1?(f>=kt&&(f=kt-1),m=e(R,f),g=m.length,_=w.length,l=t(m,w,g,_),l==1&&(f--,n(m,M<g?E:R,g))):(f==0&&(l=f=1),m=R.slice()),g=m.length,g<_&&m.unshift(0),n(w,m,_),l==-1&&(_=w.length,l=t(R,w,M,_),l<1&&(f++,n(w,M<_?E:R,_))),_=w.length):l===0&&(f++,w=[0]),y[h++]=f,l&&w[0]?w[_++]=U[C]||0:(w=[U[C]],_=1);while((C++<N||w[0]!==void 0)&&k--)}return y[0]||y.shift(),v.e=u,Re(v,a?s+lt(v)+1:s)}}();function Gk(e,t){var n,r,i,s,a,l,u=0,h=0,f=e.constructor,m=f.precision;if(lt(e)>16)throw Error(Vg+lt(e));if(!e.s)return new f(dn);for(Ke=!1,l=m,a=new f(.03125);e.abs().gte(.1);)e=e.times(a),h+=5;for(r=Math.log(Ei(2,h))/Math.LN10*2+5|0,l+=r,n=i=s=new f(dn),f.precision=l;;){if(i=Re(i.times(e),l),n=n.times(++u),a=s.plus(Ar(i,n,l)),ir(a.d).slice(0,l)===ir(s.d).slice(0,l)){for(;h--;)s=Re(s.times(s),l);return f.precision=m,t==null?(Ke=!0,Re(s,m)):s}s=a}}function lt(e){for(var t=e.e*Ve,n=e.d[0];n>=10;n/=10)t++;return t}function hf(e,t,n){if(t>e.LN10.sd())throw Ke=!0,n&&(e.precision=n),Error(Cn+"LN10 precision limit exceeded");return Re(new e(e.LN10),t)}function Jr(e){for(var t="";e--;)t+="0";return t}function ko(e,t){var n,r,i,s,a,l,u,h,f,m=1,g=10,v=e,y=v.d,w=v.constructor,_=w.precision;if(v.s<1)throw Error(Cn+(v.s?"NaN":"-Infinity"));if(v.eq(dn))return new w(0);if(t==null?(Ke=!1,h=_):h=t,v.eq(10))return t==null&&(Ke=!0),hf(w,h);if(h+=g,w.precision=h,n=ir(y),r=n.charAt(0),s=lt(v),Math.abs(s)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)v=v.times(e),n=ir(v.d),r=n.charAt(0),m++;s=lt(v),r>1?(v=new w("0."+n),s++):v=new w(r+"."+n.slice(1))}else return u=hf(w,h+2,_).times(s+""),v=ko(new w(r+"."+n.slice(1)),h-g).plus(u),w.precision=_,t==null?(Ke=!0,Re(v,_)):v;for(l=a=v=Ar(v.minus(dn),v.plus(dn),h),f=Re(v.times(v),h),i=3;;){if(a=Re(a.times(f),h),u=l.plus(Ar(a,new w(i),h)),ir(u.d).slice(0,h)===ir(l.d).slice(0,h))return l=l.times(2),s!==0&&(l=l.plus(hf(w,h+2,_).times(s+""))),l=Ar(l,new w(m),h),w.precision=_,t==null?(Ke=!0,Re(l,_)):l;l=u,i+=2}}function Xw(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(r,i),t){if(i-=r,n=n-r-1,e.e=la(n/Ve),e.d=[],r=(n+1)%Ve,n<0&&(r+=Ve),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=Ve;r<i;)e.d.push(+t.slice(r,r+=Ve));t=t.slice(r),r=Ve-t.length}else r-=i;for(;r--;)t+="0";if(e.d.push(+t),Ke&&(e.e>ou||e.e<-ou))throw Error(Vg+n)}else e.s=0,e.e=0,e.d=[0];return e}function Re(e,t,n){var r,i,s,a,l,u,h,f,m=e.d;for(a=1,s=m[0];s>=10;s/=10)a++;if(r=t-a,r<0)r+=Ve,i=t,h=m[f=0];else{if(f=Math.ceil((r+1)/Ve),s=m.length,f>=s)return e;for(h=s=m[f],a=1;s>=10;s/=10)a++;r%=Ve,i=r-Ve+a}if(n!==void 0&&(s=Ei(10,a-i-1),l=h/s%10|0,u=t<0||m[f+1]!==void 0||h%s,u=n<4?(l||u)&&(n==0||n==(e.s<0?3:2)):l>5||l==5&&(n==4||u||n==6&&(r>0?i>0?h/Ei(10,a-i):0:m[f-1])%10&1||n==(e.s<0?8:7))),t<1||!m[0])return u?(s=lt(e),m.length=1,t=t-s-1,m[0]=Ei(10,(Ve-t%Ve)%Ve),e.e=la(-t/Ve)||0):(m.length=1,m[0]=e.e=e.s=0),e;if(r==0?(m.length=f,s=1,f--):(m.length=f+1,s=Ei(10,Ve-r),m[f]=i>0?(h/Ei(10,a-i)%Ei(10,i)|0)*s:0),u)for(;;)if(f==0){(m[0]+=s)==kt&&(m[0]=1,++e.e);break}else{if(m[f]+=s,m[f]!=kt)break;m[f--]=0,s=1}for(r=m.length;m[--r]===0;)m.pop();if(Ke&&(e.e>ou||e.e<-ou))throw Error(Vg+lt(e));return e}function Zk(e,t){var n,r,i,s,a,l,u,h,f,m,g=e.constructor,v=g.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new g(e),Ke?Re(t,v):t;if(u=e.d,m=t.d,r=t.e,h=e.e,u=u.slice(),a=h-r,a){for(f=a<0,f?(n=u,a=-a,l=m.length):(n=m,r=h,l=u.length),i=Math.max(Math.ceil(v/Ve),l)+2,a>i&&(a=i,n.length=1),n.reverse(),i=a;i--;)n.push(0);n.reverse()}else{for(i=u.length,l=m.length,f=i<l,f&&(l=i),i=0;i<l;i++)if(u[i]!=m[i]){f=u[i]<m[i];break}a=0}for(f&&(n=u,u=m,m=n,t.s=-t.s),l=u.length,i=m.length-l;i>0;--i)u[l++]=0;for(i=m.length;i>a;){if(u[--i]<m[i]){for(s=i;s&&u[--s]===0;)u[s]=kt-1;--u[s],u[i]+=kt}u[i]-=m[i]}for(;u[--l]===0;)u.pop();for(;u[0]===0;u.shift())--r;return u[0]?(t.d=u,t.e=r,Ke?Re(t,v):t):new g(0)}function Xi(e,t,n){var r,i=lt(e),s=ir(e.d),a=s.length;return t?(n&&(r=n-a)>0?s=s.charAt(0)+"."+s.slice(1)+Jr(r):a>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+Jr(-i-1)+s,n&&(r=n-a)>0&&(s+=Jr(r))):i>=a?(s+=Jr(i+1-a),n&&(r=n-i-1)>0&&(s=s+"."+Jr(r))):((r=i+1)<a&&(s=s.slice(0,r)+"."+s.slice(r)),n&&(r=n-a)>0&&(i+1===a&&(s+="."),s+=Jr(r))),e.s<0?"-"+s:s}function Jw(e,t){if(e.length>t)return e.length=t,!0}function Yk(e){var t,n,r;function i(s){var a=this;if(!(a instanceof i))return new i(s);if(a.constructor=i,s instanceof i){a.s=s.s,a.e=s.e,a.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(Hi+s);if(s>0)a.s=1;else if(s<0)s=-s,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(s===~~s&&s<1e7){a.e=0,a.d=[s];return}return Xw(a,s.toString())}else if(typeof s!="string")throw Error(Hi+s);if(s.charCodeAt(0)===45?(s=s.slice(1),a.s=-1):a.s=1,N7.test(s))Xw(a,s);else throw Error(Hi+s)}if(i.prototype=ee,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=Yk,i.config=i.set=O7,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return i.config(e),i}function O7(e){if(!e||typeof e!="object")throw Error(Cn+"Object expected");var t,n,r,i=["precision",1,oa,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((r=e[n=i[t]])!==void 0)if(la(r)===r&&r>=i[t+1]&&r<=i[t+2])this[n]=r;else throw Error(Hi+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Hi+n+": "+r);return this}var Wg=Yk(T7);dn=new Wg(1);const Ee=Wg;function Xk(e){var t;return e===0?t=1:t=Math.floor(new Ee(e).abs().log(10).toNumber())+1,t}function Jk(e,t,n){for(var r=new Ee(e),i=0,s=[];r.lt(t)&&i<1e5;)s.push(r.toNumber()),r=r.add(n),i++;return s}var Qk=e=>{var[t,n]=e,[r,i]=[t,n];return t>n&&([r,i]=[n,t]),[r,i]},eA=(e,t,n)=>{if(e.lte(0))return new Ee(0);var r=Xk(e.toNumber()),i=new Ee(10).pow(r),s=e.div(i),a=r!==1?.05:.1,l=new Ee(Math.ceil(s.div(a).toNumber())).add(n).mul(a),u=l.mul(i);return t?new Ee(u.toNumber()):new Ee(Math.ceil(u.toNumber()))},E7=(e,t,n)=>{var r=new Ee(1),i=new Ee(e);if(!i.isint()&&n){var s=Math.abs(e);s<1?(r=new Ee(10).pow(Xk(e)-1),i=new Ee(Math.floor(i.div(r).toNumber())).mul(r)):s>1&&(i=new Ee(Math.floor(e)))}else e===0?i=new Ee(Math.floor((t-1)/2)):n||(i=new Ee(Math.floor(e)));for(var a=Math.floor((t-1)/2),l=[],u=0;u<t;u++)l.push(i.add(new Ee(u-a).mul(r)).toNumber());return l},tA=function(t,n,r,i){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-t)/(r-1)))return{step:new Ee(0),tickMin:new Ee(0),tickMax:new Ee(0)};var a=eA(new Ee(n).sub(t).div(r-1),i,s),l;t<=0&&n>=0?l=new Ee(0):(l=new Ee(t).add(n).div(2),l=l.sub(new Ee(l).mod(a)));var u=Math.ceil(l.sub(t).div(a).toNumber()),h=Math.ceil(new Ee(n).sub(l).div(a).toNumber()),f=u+h+1;return f>r?tA(t,n,r,i,s+1):(f<r&&(h=n>0?h+(r-f):h,u=n>0?u:u+(r-f)),{step:a,tickMin:l.sub(new Ee(u).mul(a)),tickMax:l.add(new Ee(h).mul(a))})},M7=function(t){var[n,r]=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(i,2),[l,u]=Qk([n,r]);if(l===-1/0||u===1/0){var h=u===1/0?[l,...Array(i-1).fill(1/0)]:[...Array(i-1).fill(-1/0),u];return n>r?h.reverse():h}if(l===u)return E7(l,i,s);var{step:f,tickMin:m,tickMax:g}=tA(l,u,a,s,0),v=Jk(m,g.add(new Ee(.1).mul(f)),f);return n>r?v.reverse():v},I7=function(t,n){var[r,i]=t,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[a,l]=Qk([r,i]);if(a===-1/0||l===1/0)return[r,i];if(a===l)return[a];var u=Math.max(n,2),h=eA(new Ee(l).sub(a).div(u-1),s,0),f=[...Jk(new Ee(a),new Ee(l),h),l];return s===!1&&(f=f.map(m=>Math.round(m))),r>i?f.reverse():f},nA=e=>e.rootProps.maxBarSize,L7=e=>e.rootProps.barGap,rA=e=>e.rootProps.barCategoryGap,D7=e=>e.rootProps.barSize,yd=e=>e.rootProps.stackOffset,iA=e=>e.rootProps.reverseStackOrder,Hg=e=>e.options.chartName,Kg=e=>e.rootProps.syncId,sA=e=>e.rootProps.syncMethod,qg=e=>e.options.eventEmitter,At={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},ji={allowDecimals:!1,allowDataOverflow:!1,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"auto"},er={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!0,includeHidden:!1,radiusAxisId:0,reversed:!1,scale:"auto",tick:!0,tickCount:5,type:"auto"},xd=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t};function bd(e,t,n){if(n!=="auto")return n;if(e!=null)return zr(e,t)?"category":"number"}function Qw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function lu(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Qw(Object(n),!0).forEach(function(r){R7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qw(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function R7(e,t,n){return(t=$7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $7(e){var t=z7(e,"string");return typeof t=="symbol"?t:t+""}function z7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var e_={allowDataOverflow:ji.allowDataOverflow,allowDecimals:ji.allowDecimals,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:ji.angleAxisId,includeHidden:!1,name:void 0,reversed:ji.reversed,scale:ji.scale,tick:ji.tick,tickCount:void 0,ticks:void 0,type:ji.type,unit:void 0},t_={allowDataOverflow:er.allowDataOverflow,allowDecimals:er.allowDecimals,allowDuplicatedCategory:er.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:er.radiusAxisId,includeHidden:er.includeHidden,name:void 0,reversed:er.reversed,scale:er.scale,tick:er.tick,tickCount:er.tickCount,ticks:void 0,type:er.type,unit:void 0},B7=(e,t)=>{if(t!=null)return e.polarAxis.angleAxis[t]},Gg=B([B7,V2],(e,t)=>{var n;if(e!=null)return e;var r=(n=bd(t,"angleAxis",e_.type))!==null&&n!==void 0?n:"category";return lu(lu({},e_),{},{type:r})}),F7=(e,t)=>e.polarAxis.radiusAxis[t],Zg=B([F7,V2],(e,t)=>{var n;if(e!=null)return e;var r=(n=bd(t,"radiusAxis",t_.type))!==null&&n!==void 0?n:"category";return lu(lu({},t_),{},{type:r})}),wd=e=>e.polarOptions,Yg=B([Br,Fr,Ct],UU),aA=B([wd,Yg],(e,t)=>{if(e!=null)return Kn(e.innerRadius,t,0)}),oA=B([wd,Yg],(e,t)=>{if(e!=null)return Kn(e.outerRadius,t,t*.8)}),U7=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:n}=e;return[t,n]},lA=B([wd],U7);B([Gg,lA],xd);var cA=B([Yg,aA,oA],(e,t,n)=>{if(!(e==null||t==null||n==null))return[t,n]});B([Zg,cA],xd);var uA=B([Ie,wd,aA,oA,Br,Fr],(e,t,n,r,i,s)=>{if(!(e!=="centric"&&e!=="radial"||t==null||n==null||r==null)){var{cx:a,cy:l,startAngle:u,endAngle:h}=t;return{cx:Kn(a,i,i/2),cy:Kn(l,s,s/2),innerRadius:n,outerRadius:r,startAngle:u,endAngle:h,clockWise:!1}}}),Nt=(e,t)=>t,_d=(e,t,n)=>n;function Xg(e){return e==null?void 0:e.id}function dA(e,t,n){var{chartData:r=[]}=t,{allowDuplicatedCategory:i,dataKey:s}=n,a=new Map;return e.forEach(l=>{var u,h=(u=l.data)!==null&&u!==void 0?u:r;if(!(h==null||h.length===0)){var f=Xg(l);h.forEach((m,g)=>{var v=s==null||i?g:String(ot(m,s,null)),y=ot(m,l.dataKey,0),w;a.has(v)?w=a.get(v):w={},Object.assign(w,{[f]:y}),a.set(v,w)})}}),Array.from(a.values())}function Sd(e){return"stackId"in e&&e.stackId!=null&&e.dataKey!=null}var jd=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function Pd(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function V7(e,t){if(e.length===t.length){for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return!1}var Ot=e=>{var t=Ie(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},ca=e=>e.tooltip.settings.axisId;function W7(e){if(e in Ka)return Ka[e]();var t="scale".concat(zo(e));if(t in Ka)return Ka[t]()}function n_(e){var t=e.ticks,n=e.bandwidth,r=e.range(),i=[Math.min(...r),Math.max(...r)];return{domain:()=>e.domain(),range:function(s){function a(){return s.apply(this,arguments)}return a.toString=function(){return s.toString()},a}(()=>i),rangeMin:()=>i[0],rangeMax:()=>i[1],isInRange(s){var a=i[0],l=i[1];return a<=l?s>=a&&s<=l:s>=l&&s<=a},bandwidth:n?()=>n.call(e):void 0,ticks:t?s=>t.call(e,s):void 0,map:(s,a)=>{var l=e(s);if(l!=null){if(e.bandwidth&&a!==null&&a!==void 0&&a.position){var u=e.bandwidth();switch(a.position){case"middle":l+=u/2;break;case"end":l+=u;break}}return l}}}}function r_(e,t,n){if(typeof e=="function")return n_(e.copy().domain(t).range(n));if(e!=null){var r=W7(e);if(r!=null)return r.domain(t).range(n),n_(r)}}var H7=(e,t)=>{if(t!=null)switch(e){case"linear":{if(!Ir(t)){for(var n,r,i=0;i<t.length;i++){var s=t[i];Ae(s)&&((n===void 0||s<n)&&(n=s),(r===void 0||s>r)&&(r=s))}return n!==void 0&&r!==void 0?[n,r]:void 0}return t}default:return t}};function i_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function cu(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?i_(Object(n),!0).forEach(function(r){K7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function K7(e,t,n){return(t=q7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function q7(e){var t=G7(e,"string");return typeof t=="symbol"?t:t+""}function G7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Vm=[0,"auto"],St={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},hA=(e,t)=>e.cartesianAxis.xAxis[t],Wr=(e,t)=>{var n=hA(e,t);return n??St},jt={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:Vm,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Uo},fA=(e,t)=>e.cartesianAxis.yAxis[t],Hr=(e,t)=>{var n=fA(e,t);return n??jt},Z7={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},Jg=(e,t)=>{var n=e.cartesianAxis.zAxis[t];return n??Z7},tn=(e,t,n)=>{switch(t){case"xAxis":return Wr(e,n);case"yAxis":return Hr(e,n);case"zAxis":return Jg(e,n);case"angleAxis":return Gg(e,n);case"radiusAxis":return Zg(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},Y7=(e,t,n)=>{switch(t){case"xAxis":return Wr(e,n);case"yAxis":return Hr(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},Zo=(e,t,n)=>{switch(t){case"xAxis":return Wr(e,n);case"yAxis":return Hr(e,n);case"angleAxis":return Gg(e,n);case"radiusAxis":return Zg(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},mA=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function pA(e,t){return n=>{switch(e){case"xAxis":return"xAxisId"in n&&n.xAxisId===t;case"yAxis":return"yAxisId"in n&&n.yAxisId===t;case"zAxis":return"zAxisId"in n&&n.zAxisId===t;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===t;default:return!1}}}var kd=e=>e.graphicalItems.cartesianItems,X7=B([Nt,_d],pA),gA=(e,t,n)=>e.filter(n).filter(r=>(t==null?void 0:t.includeHidden)===!0?!0:!r.hide),Yo=B([kd,tn,X7],gA,{memoizeOptions:{resultEqualityCheck:Pd}}),vA=B([Yo],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(Sd)),yA=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),J7=B([Yo],yA),xA=e=>e.map(t=>t.data).filter(Boolean).flat(1),Q7=B([Yo],xA,{memoizeOptions:{resultEqualityCheck:Pd}}),bA=(e,t)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=t;return e.length>0?e:n.slice(r,i+1)},Qg=B([Q7,Ug],bA),wA=(e,t,n)=>(t==null?void 0:t.dataKey)!=null?e.map(r=>({value:ot(r,t.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>e.map(i=>({value:ot(i,r)}))):e.map(r=>({value:r})),Ad=B([Qg,tn,Yo],wA);function _A(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function cc(e){if(dr(e)||e instanceof Date){var t=Number(e);if(Ae(t))return t}}function s_(e){if(Array.isArray(e)){var t=[cc(e[0]),cc(e[1])];return Ir(t)?t:void 0}var n=cc(e);if(n!=null)return[n,n]}function Lr(e){return e.map(cc).filter(an)}function e9(e,t,n){return!n||typeof t!="number"||ur(t)?[]:n.length?Lr(n.flatMap(r=>{var i=ot(e,r.dataKey),s,a;if(Array.isArray(i)?[s,a]=i:s=a=i,!(!Ae(s)||!Ae(a)))return[t-s,t+a]})):[]}var bt=e=>{var t=Ot(e),n=ca(e);return Zo(e,t,n)},Xo=B([bt],e=>e==null?void 0:e.dataKey),t9=B([vA,Ug,bt],dA),SA=(e,t,n,r)=>{var i={},s=t.reduce((a,l)=>{if(l.stackId==null)return a;var u=a[l.stackId];return u==null&&(u=[]),u.push(l),a[l.stackId]=u,a},i);return Object.fromEntries(Object.entries(s).map(a=>{var[l,u]=a,h=r?[...u].reverse():u,f=h.map(Xg);return[l,{stackedData:R6(e,f,n),graphicalItems:h}]}))},Wm=B([t9,vA,yd,iA],SA),jA=(e,t,n,r)=>{var{dataStartIndex:i,dataEndIndex:s}=t;if(r==null&&n!=="zAxis"){var a=U6(e,i,s);if(!(a!=null&&a[0]===0&&a[1]===0))return a}},n9=B([tn],e=>e.allowDataOverflow),ev=e=>{var t;if(e==null||!("domain"in e))return Vm;if(e.domain!=null)return e.domain;if("ticks"in e&&e.ticks!=null){if(e.type==="number"){var n=Lr(e.ticks);return[Math.min(...n),Math.max(...n)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:Vm},PA=B([tn],ev),kA=B([PA,n9],Hk),r9=B([Wm,Vr,Nt,kA],jA,{memoizeOptions:{resultEqualityCheck:jd}}),tv=e=>e.errorBars,i9=(e,t,n)=>e.flatMap(r=>t[r.id]).filter(Boolean).filter(r=>_A(n,r)),uu=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var s=i.flat(),a=Math.min(...s),l=Math.max(...s);return[a,l]}},AA=(e,t,n,r,i)=>{var s,a;if(n.length>0&&e.forEach(l=>{n.forEach(u=>{var h,f,m=(h=r[u.id])===null||h===void 0?void 0:h.filter(j=>_A(i,j)),g=ot(l,(f=t.dataKey)!==null&&f!==void 0?f:u.dataKey),v=e9(l,g,m);if(v.length>=2){var y=Math.min(...v),w=Math.max(...v);(s==null||y<s)&&(s=y),(a==null||w>a)&&(a=w)}var _=s_(g);_!=null&&(s=s==null?_[0]:Math.min(s,_[0]),a=a==null?_[1]:Math.max(a,_[1]))})}),(t==null?void 0:t.dataKey)!=null&&e.forEach(l=>{var u=s_(ot(l,t.dataKey));u!=null&&(s=s==null?u[0]:Math.min(s,u[0]),a=a==null?u[1]:Math.max(a,u[1]))}),Ae(s)&&Ae(a))return[s,a]},s9=B([Qg,tn,J7,tv,Nt],AA,{memoizeOptions:{resultEqualityCheck:jd}});function a9(e){var{value:t}=e;if(dr(t)||t instanceof Date)return t}var o9=(e,t,n)=>{var r=e.map(a9).filter(i=>i!=null);return n&&(t.dataKey==null||t.allowDuplicatedCategory&&bP(r))?uk(0,e.length):t.allowDuplicatedCategory?r:Array.from(new Set(r))},CA=e=>e.referenceElements.dots,ua=(e,t,n)=>e.filter(r=>r.ifOverflow==="extendDomain").filter(r=>t==="xAxis"?r.xAxisId===n:r.yAxisId===n),l9=B([CA,Nt,_d],ua),TA=e=>e.referenceElements.areas,c9=B([TA,Nt,_d],ua),NA=e=>e.referenceElements.lines,u9=B([NA,Nt,_d],ua),OA=(e,t)=>{if(e!=null){var n=Lr(e.map(r=>t==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},d9=B(l9,Nt,OA),EA=(e,t)=>{if(e!=null){var n=Lr(e.flatMap(r=>[t==="xAxis"?r.x1:r.y1,t==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},h9=B([c9,Nt],EA);function f9(e){var t;if(e.x!=null)return Lr([e.x]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.x);return n==null||n.length===0?[]:Lr(n)}function m9(e){var t;if(e.y!=null)return Lr([e.y]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.y);return n==null||n.length===0?[]:Lr(n)}var MA=(e,t)=>{if(e!=null){var n=e.flatMap(r=>t==="xAxis"?f9(r):m9(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},p9=B([u9,Nt],MA),g9=B(d9,p9,h9,(e,t,n)=>uu(e,n,t)),IA=(e,t,n,r,i,s,a,l)=>{if(n!=null)return n;var u=a==="vertical"&&l==="xAxis"||a==="horizontal"&&l==="yAxis",h=u?uu(r,s,i):uu(s,i);return C7(t,h,e.allowDataOverflow)},v9=B([tn,PA,kA,r9,s9,g9,Ie,Nt],IA,{memoizeOptions:{resultEqualityCheck:jd}}),y9=[0,1],LA=(e,t,n,r,i,s,a)=>{if(!((e==null||n==null||n.length===0)&&a===void 0)){var{dataKey:l,type:u}=e,h=zr(t,s);if(h&&l==null){var f;return uk(0,(f=n==null?void 0:n.length)!==null&&f!==void 0?f:0)}return u==="category"?o9(r,e,h):i==="expand"?y9:a}},nv=B([tn,Ie,Qg,Ad,yd,Nt,v9],LA);function x9(e){return e in Ka}var DA=(e,t,n)=>{if(e!=null){var{scale:r,type:i}=e;if(r==="auto")return i==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!t)?"point":i==="category"?"band":"linear";if(typeof r=="string"){var s="scale".concat(zo(r));return x9(s)?s:"point"}}},da=B([tn,mA,Hg],DA);function rv(e,t,n,r){if(!(n==null||r==null))return typeof e.scale=="function"?r_(e.scale,n,r):r_(t,n,r)}var RA=(e,t,n)=>{var r=ev(t);if(!(n!=="auto"&&n!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&Ir(e))return M7(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&Ir(e))return I7(e,t.tickCount,t.allowDecimals)}},iv=B([nv,Zo,da],RA),$A=(e,t,n,r)=>{if(r!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&Ir(t)&&Array.isArray(n)&&n.length>0){var i,s,a=t[0],l=(i=n[0])!==null&&i!==void 0?i:0,u=t[1],h=(s=n[n.length-1])!==null&&s!==void 0?s:0;return[Math.min(a,l),Math.max(u,h)]}return t},b9=B([tn,nv,iv,Nt],$A),w9=B(Ad,tn,(e,t)=>{if(!(!t||t.type!=="number")){var n=1/0,r=Array.from(Lr(e.map(m=>m.value))).sort((m,g)=>m-g),i=r[0],s=r[r.length-1];if(i==null||s==null)return 1/0;var a=s-i;if(a===0)return 1/0;for(var l=0;l<r.length-1;l++){var u=r[l],h=r[l+1];if(!(u==null||h==null)){var f=h-u;n=Math.min(n,f)}}return n/a}}),zA=B(w9,Ie,rA,Ct,(e,t,n,r,i)=>i,(e,t,n,r,i)=>{if(!Ae(e))return 0;var s=t==="vertical"?r.height:r.width;if(i==="gap")return e*s/2;if(i==="no-gap"){var a=Kn(n,e*s),l=e*s/2;return l-a-(l-a)/s*a}return 0}),_9=(e,t,n)=>{var r=Wr(e,t);return r==null||typeof r.padding!="string"?0:zA(e,"xAxis",t,n,r.padding)},S9=(e,t,n)=>{var r=Hr(e,t);return r==null||typeof r.padding!="string"?0:zA(e,"yAxis",t,n,r.padding)},j9=B(Wr,_9,(e,t)=>{var n,r;if(e==null)return{left:0,right:0};var{padding:i}=e;return typeof i=="string"?{left:t,right:t}:{left:((n=i.left)!==null&&n!==void 0?n:0)+t,right:((r=i.right)!==null&&r!==void 0?r:0)+t}}),P9=B(Hr,S9,(e,t)=>{var n,r;if(e==null)return{top:0,bottom:0};var{padding:i}=e;return typeof i=="string"?{top:t,bottom:t}:{top:((n=i.top)!==null&&n!==void 0?n:0)+t,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+t}}),k9=B([Ct,j9,id,rd,(e,t,n)=>n],(e,t,n,r,i)=>{var{padding:s}=r;return i?[s.left,n.width-s.right]:[e.left+t.left,e.left+e.width-t.right]}),A9=B([Ct,Ie,P9,id,rd,(e,t,n)=>n],(e,t,n,r,i,s)=>{var{padding:a}=i;return s?[r.height-a.bottom,a.top]:t==="horizontal"?[e.top+e.height-n.bottom,e.top+n.top]:[e.top+n.top,e.top+e.height-n.bottom]}),Jo=(e,t,n,r)=>{var i;switch(t){case"xAxis":return k9(e,n,r);case"yAxis":return A9(e,n,r);case"zAxis":return(i=Jg(e,n))===null||i===void 0?void 0:i.range;case"angleAxis":return lA(e);case"radiusAxis":return cA(e,n);default:return}},BA=B([tn,Jo],xd),C9=B([da,b9],H7),Cd=B([tn,da,C9,BA],rv);B([Yo,tv,Nt],i9);function FA(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var Td=(e,t)=>t,Nd=(e,t,n)=>n,T9=B(td,Td,Nd,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(FA)),N9=B(nd,Td,Nd,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(FA)),UA=(e,t)=>({width:e.width,height:t.height}),O9=(e,t)=>{var n=typeof t.width=="number"?t.width:Uo;return{width:n,height:e.height}},VA=B(Ct,Wr,UA),E9=(e,t,n)=>{switch(t){case"top":return e.top;case"bottom":return n-e.bottom;default:return 0}},M9=(e,t,n)=>{switch(t){case"left":return e.left;case"right":return n-e.right;default:return 0}},I9=B(Fr,Ct,T9,Td,Nd,(e,t,n,r,i)=>{var s={},a;return n.forEach(l=>{var u=UA(t,l);a==null&&(a=E9(t,r,e));var h=r==="top"&&!i||r==="bottom"&&i;s[l.id]=a-Number(h)*u.height,a+=(h?-1:1)*u.height}),s}),L9=B(Br,Ct,N9,Td,Nd,(e,t,n,r,i)=>{var s={},a;return n.forEach(l=>{var u=O9(t,l);a==null&&(a=M9(t,r,e));var h=r==="left"&&!i||r==="right"&&i;s[l.id]=a-Number(h)*u.width,a+=(h?-1:1)*u.width}),s}),D9=(e,t)=>{var n=Wr(e,t);if(n!=null)return I9(e,n.orientation,n.mirror)},R9=B([Ct,Wr,D9,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n==null?void 0:n[r];return i==null?{x:e.left,y:0}:{x:e.left,y:i}}}),$9=(e,t)=>{var n=Hr(e,t);if(n!=null)return L9(e,n.orientation,n.mirror)},z9=B([Ct,Hr,$9,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n==null?void 0:n[r];return i==null?{x:0,y:e.top}:{x:i,y:e.top}}}),WA=B(Ct,Hr,(e,t)=>{var n=typeof t.width=="number"?t.width:Uo;return{width:n,height:e.height}}),a_=(e,t,n)=>{switch(t){case"xAxis":return VA(e,n).width;case"yAxis":return WA(e,n).height;default:return}},HA=(e,t,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:s,dataKey:a}=n,l=zr(e,r),u=t.map(h=>h.value);if(a&&l&&s==="category"&&i&&bP(u))return u}},sv=B([Ie,Ad,tn,Nt],HA),KA=(e,t,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:s}=n,a=zr(e,r);if(a&&(i==="number"||s!=="auto"))return t.map(l=>l.value)}},av=B([Ie,Ad,Zo,Nt],KA),o_=B([Ie,Y7,da,Cd,sv,av,Jo,iv,Nt],(e,t,n,r,i,s,a,l,u)=>{if(t!=null){var h=zr(e,u);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:u,categoricalDomain:s,duplicateDomain:i,isCategorical:h,niceTicks:l,range:a,realScaleType:n,scale:r}}}),B9=(e,t,n,r,i,s,a,l,u)=>{if(!(t==null||r==null)){var h=zr(e,u),{type:f,ticks:m,tickCount:g}=t,v=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,y=f==="category"&&r.bandwidth?r.bandwidth()/v:0;y=u==="angleAxis"&&s!=null&&s.length>=2?sn(s[0]-s[1])*2*y:y;var w=m||i;return w?w.map((_,j)=>{var k=a?a.indexOf(_):_,P=r.map(k);return Ae(P)?{index:j,coordinate:P+y,value:_,offset:y}:null}).filter(an):h&&l?l.map((_,j)=>{var k=r.map(_);return Ae(k)?{coordinate:k+y,value:_,index:j,offset:y}:null}).filter(an):r.ticks?r.ticks(g).map((_,j)=>{var k=r.map(_);return Ae(k)?{coordinate:k+y,value:_,index:j,offset:y}:null}).filter(an):r.domain().map((_,j)=>{var k=r.map(_);return Ae(k)?{coordinate:k+y,value:a?a[_]:_,index:j,offset:y}:null}).filter(an)}},qA=B([Ie,Zo,da,Cd,iv,Jo,sv,av,Nt],B9),F9=(e,t,n,r,i,s,a)=>{if(!(t==null||n==null||r==null||r[0]===r[1])){var l=zr(e,a),{tickCount:u}=t,h=0;return h=a==="angleAxis"&&(r==null?void 0:r.length)>=2?sn(r[0]-r[1])*2*h:h,l&&s?s.map((f,m)=>{var g=n.map(f);return Ae(g)?{coordinate:g+h,value:f,index:m,offset:h}:null}).filter(an):n.ticks?n.ticks(u).map((f,m)=>{var g=n.map(f);return Ae(g)?{coordinate:g+h,value:f,index:m,offset:h}:null}).filter(an):n.domain().map((f,m)=>{var g=n.map(f);return Ae(g)?{coordinate:g+h,value:i?i[f]:f,index:m,offset:h}:null}).filter(an)}},ci=B([Ie,Zo,Cd,Jo,sv,av,Nt],F9),ui=B(tn,Cd,(e,t)=>{if(!(e==null||t==null))return cu(cu({},e),{},{scale:t})}),U9=B([tn,da,nv,BA],rv);B((e,t,n)=>Jg(e,n),U9,(e,t)=>{if(!(e==null||t==null))return cu(cu({},e),{},{scale:t})});var V9=B([Ie,td,nd],(e,t,n)=>{switch(e){case"horizontal":return t.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),GA=e=>e.options.defaultTooltipEventType,ZA=e=>e.options.validateTooltipEventTypes;function YA(e,t,n){if(e==null)return t;var r=e?"axis":"item";return n==null?t:n.includes(r)?r:t}function ov(e,t){var n=GA(e),r=ZA(e);return YA(t,n,r)}function W9(e){return ce(t=>ov(t,e))}var XA=(e,t)=>{var n,r=Number(t);if(!(ur(r)||t==null))return r>=0?e==null||(n=e[r])===null||n===void 0?void 0:n.value:void 0},H9=e=>e.tooltip.settings,ti={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},K9={itemInteraction:{click:ti,hover:ti},axisInteraction:{click:ti,hover:ti},keyboardInteraction:ti,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},JA=ln({name:"tooltip",initialState:K9,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:He()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:n,next:r}=t.payload,i=Vn(e).tooltipItemPayloads.indexOf(n);i>-1&&(e.tooltipItemPayloads[i]=r)},prepare:He()},removeTooltipEntrySettings:{reducer(e,t){var n=Vn(e).tooltipItemPayloads.indexOf(t.payload);n>-1&&e.tooltipItemPayloads.splice(n,1)},prepare:He()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate}}}),{addTooltipEntrySettings:q9,replaceTooltipEntrySettings:G9,removeTooltipEntrySettings:Z9,setTooltipSettingsState:Y9,setActiveMouseOverItemIndex:QA,mouseLeaveItem:X9,mouseLeaveChart:eC,setActiveClickItemIndex:J9,setMouseOverAxisIndex:tC,setMouseClickAxisIndex:Q9,setSyncInteraction:Hm,setKeyboardInteraction:Km}=JA.actions,eH=JA.reducer;function l_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Gl(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?l_(Object(n),!0).forEach(function(r){tH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function tH(e,t,n){return(t=nH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nH(e){var t=rH(e,"string");return typeof t=="symbol"?t:t+""}function rH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function iH(e,t,n){return t==="axis"?n==="click"?e.axisInteraction.click:e.axisInteraction.hover:n==="click"?e.itemInteraction.click:e.itemInteraction.hover}function sH(e){return e.index!=null}var nC=(e,t,n,r)=>{if(t==null)return ti;var i=iH(e,t,n);if(i==null)return ti;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var s=e.settings.active===!0;if(sH(i)){if(s)return Gl(Gl({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r,graphicalItemId:void 0};return Gl(Gl({},ti),{},{coordinate:i.coordinate})};function aH(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var n=Number(e);return Number.isFinite(n)?n:void 0}function oH(e,t){var n=aH(e),r=t[0],i=t[1];if(n===void 0)return!1;var s=Math.min(r,i),a=Math.max(r,i);return n>=s&&n<=a}function lH(e,t,n){if(n==null||t==null)return!0;var r=ot(e,t);return r==null||!Ir(n)?!0:oH(r,n)}var lv=(e,t,n,r)=>{var i=e==null?void 0:e.index;if(i==null)return null;var s=Number(i);if(!Ae(s))return i;var a=0,l=1/0;t.length>0&&(l=t.length-1);var u=Math.max(a,Math.min(s,l)),h=t[u];return h==null||lH(h,n,r)?String(u):null},rC=(e,t,n,r,i,s,a)=>{if(s!=null){var l=a[0],u=l==null?void 0:l.getPosition(s);if(u!=null)return u;var h=i==null?void 0:i[Number(s)];if(h)switch(n){case"horizontal":return{x:h.coordinate,y:(r.top+t)/2};default:return{x:(r.left+e)/2,y:h.coordinate}}}},iC=(e,t,n,r)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var i;if(n==="hover"?i=e.itemInteraction.hover.graphicalItemId:i=e.itemInteraction.click.graphicalItemId,i==null&&r!=null){var s=e.tooltipItemPayloads[0];return s!=null?[s]:[]}return e.tooltipItemPayloads.filter(a=>{var l;return((l=a.settings)===null||l===void 0?void 0:l.graphicalItemId)===i})},sC=e=>e.options.tooltipPayloadSearcher,ha=e=>e.tooltip;function c_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function u_(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?c_(Object(n),!0).forEach(function(r){cH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function cH(e,t,n){return(t=uH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uH(e){var t=dH(e,"string");return typeof t=="symbol"?t:t+""}function dH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hH(e,t){return e??t}var aC=(e,t,n,r,i,s,a)=>{if(!(t==null||s==null)){var{chartData:l,computedData:u,dataStartIndex:h,dataEndIndex:f}=n,m=[];return e.reduce((g,v)=>{var y,{dataDefinedOnItem:w,settings:_}=v,j=hH(w,l),k=Array.isArray(j)?T2(j,h,f):j,P=(y=_==null?void 0:_.dataKey)!==null&&y!==void 0?y:r,C=_==null?void 0:_.nameKey,N;if(r&&Array.isArray(k)&&!Array.isArray(k[0])&&a==="axis"?N=wP(k,r,i):N=s(k,t,u,C),Array.isArray(N))N.forEach(M=>{var E=u_(u_({},_),{},{name:M.name,unit:M.unit,color:void 0,fill:void 0});g.push(yb({tooltipEntrySettings:E,dataKey:M.dataKey,payload:M.payload,value:ot(M.payload,M.dataKey),name:M.name}))});else{var T;g.push(yb({tooltipEntrySettings:_,dataKey:P,payload:N,value:ot(N,P),name:(T=ot(N,C))!==null&&T!==void 0?T:_==null?void 0:_.name}))}return g},m)}},cv=B([bt,mA,Hg],DA),fH=B([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),mH=B([Ot,ca],pA),fa=B([fH,bt,mH],gA,{memoizeOptions:{resultEqualityCheck:Pd}}),pH=B([fa],e=>e.filter(Sd)),gH=B([fa],xA,{memoizeOptions:{resultEqualityCheck:Pd}}),ma=B([gH,Vr],bA),vH=B([pH,Vr,bt],dA),uv=B([ma,bt,fa],wA),oC=B([bt],ev),yH=B([bt],e=>e.allowDataOverflow),lC=B([oC,yH],Hk),xH=B([fa],e=>e.filter(Sd)),bH=B([vH,xH,yd,iA],SA),wH=B([bH,Vr,Ot,lC],jA),_H=B([fa],yA),SH=B([ma,bt,_H,tv,Ot],AA,{memoizeOptions:{resultEqualityCheck:jd}}),jH=B([CA,Ot,ca],ua),PH=B([jH,Ot],OA),kH=B([TA,Ot,ca],ua),AH=B([kH,Ot],EA),CH=B([NA,Ot,ca],ua),TH=B([CH,Ot],MA),NH=B([PH,TH,AH],uu),OH=B([bt,oC,lC,wH,SH,NH,Ie,Ot],IA),Qo=B([bt,Ie,ma,uv,yd,Ot,OH],LA),EH=B([Qo,bt,cv],RA),MH=B([bt,Qo,EH,Ot],$A),cC=e=>{var t=Ot(e),n=ca(e),r=!1;return Jo(e,t,n,r)},uC=B([bt,cC],xd),dC=B([bt,cv,MH,uC],rv),IH=B([Ie,uv,bt,Ot],HA),LH=B([Ie,uv,bt,Ot],KA),DH=(e,t,n,r,i,s,a,l)=>{if(t){var{type:u}=t,h=zr(e,l);if(r){var f=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,m=u==="category"&&r.bandwidth?r.bandwidth()/f:0;return m=l==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?sn(i[0]-i[1])*2*m:m,h&&a?a.map((g,v)=>{var y=r.map(g);return Ae(y)?{coordinate:y+m,value:g,index:v,offset:m}:null}).filter(an):r.domain().map((g,v)=>{var y=r.map(g);return Ae(y)?{coordinate:y+m,value:s?s[g]:g,index:v,offset:m}:null}).filter(an)}}},Kr=B([Ie,bt,cv,dC,cC,IH,LH,Ot],DH),dv=B([GA,ZA,H9],(e,t,n)=>YA(n.shared,e,t)),hC=e=>e.tooltip.settings.trigger,hv=e=>e.tooltip.settings.defaultIndex,el=B([ha,dv,hC,hv],nC),Ji=B([el,ma,Xo,Qo],lv),fC=B([Kr,Ji],XA),mC=B([el],e=>{if(e)return e.dataKey});B([el],e=>{if(e)return e.graphicalItemId});var pC=B([ha,dv,hC,hv],iC),RH=B([Br,Fr,Ie,Ct,Kr,hv,pC],rC),$H=B([el,RH],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),zH=B([el],e=>{var t;return(t=e==null?void 0:e.active)!==null&&t!==void 0?t:!1}),BH=B([pC,Ji,Vr,Xo,fC,sC,dv],aC),FH=B([BH],e=>{if(e!=null){var t=e.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(t))}});function d_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function h_(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?d_(Object(n),!0).forEach(function(r){UH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function UH(e,t,n){return(t=VH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function VH(e){var t=WH(e,"string");return typeof t=="symbol"?t:t+""}function WH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var HH=()=>ce(bt),KH=()=>{var e=HH(),t=ce(Kr),n=ce(dC);return Gs(!e||!n?void 0:h_(h_({},e),{},{scale:n}),t)};function f_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function js(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?f_(Object(n),!0).forEach(function(r){qH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function qH(e,t,n){return(t=GH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function GH(e){var t=ZH(e,"string");return typeof t=="symbol"?t:t+""}function ZH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var YH=(e,t,n,r)=>{var i=t.find(s=>s&&s.index===n);if(i){if(e==="horizontal")return{x:i.coordinate,y:r.chartY};if(e==="vertical")return{x:r.chartX,y:i.coordinate}}return{x:0,y:0}},XH=(e,t,n,r)=>{var i=t.find(h=>h&&h.index===n);if(i){if(e==="centric"){var s=i.coordinate,{radius:a}=r;return js(js(js({},r),$t(r.cx,r.cy,a,s)),{},{angle:s,radius:a})}var l=i.coordinate,{angle:u}=r;return js(js(js({},r),$t(r.cx,r.cy,l,u)),{},{angle:u,radius:l})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function JH(e,t){var{chartX:n,chartY:r}=e;return n>=t.left&&n<=t.left+t.width&&r>=t.top&&r<=t.top+t.height}var gC=(e,t,n,r,i)=>{var s,a=(s=t==null?void 0:t.length)!==null&&s!==void 0?s:0;if(a<=1||e==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var l=0;l<a;l++){var u,h,f,m,g,v=l>0?(u=n[l-1])===null||u===void 0?void 0:u.coordinate:(h=n[a-1])===null||h===void 0?void 0:h.coordinate,y=(f=n[l])===null||f===void 0?void 0:f.coordinate,w=l>=a-1?(m=n[0])===null||m===void 0?void 0:m.coordinate:(g=n[l+1])===null||g===void 0?void 0:g.coordinate,_=void 0;if(!(v==null||y==null||w==null))if(sn(y-v)!==sn(w-y)){var j=[];if(sn(w-y)===sn(i[1]-i[0])){_=w;var k=y+i[1]-i[0];j[0]=Math.min(k,(k+v)/2),j[1]=Math.max(k,(k+v)/2)}else{_=v;var P=w+i[1]-i[0];j[0]=Math.min(y,(P+y)/2),j[1]=Math.max(y,(P+y)/2)}var C=[Math.min(y,(_+y)/2),Math.max(y,(_+y)/2)];if(e>C[0]&&e<=C[1]||e>=j[0]&&e<=j[1]){var N;return(N=n[l])===null||N===void 0?void 0:N.index}}else{var T=Math.min(v,w),M=Math.max(v,w);if(e>(T+y)/2&&e<=(M+y)/2){var E;return(E=n[l])===null||E===void 0?void 0:E.index}}}else if(t)for(var $=0;$<a;$++){var q=t[$];if(q!=null){var U=t[$+1],R=t[$-1];if($===0&&U!=null&&e<=(q.coordinate+U.coordinate)/2||$===a-1&&R!=null&&e>(q.coordinate+R.coordinate)/2||$>0&&$<a-1&&R!=null&&U!=null&&e>(q.coordinate+R.coordinate)/2&&e<=(q.coordinate+U.coordinate)/2)return q.index}}return-1},QH=()=>ce(Hg),fv=(e,t)=>t,vC=(e,t,n)=>n,mv=(e,t,n,r)=>r,eK=B(Kr,e=>Wu(e,t=>t.coordinate)),pv=B([ha,fv,vC,mv],nC),gv=B([pv,ma,Xo,Qo],lv),tK=(e,t,n)=>{if(t!=null){var r=ha(e);return t==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},yC=B([ha,fv,vC,mv],iC),du=B([Br,Fr,Ie,Ct,Kr,mv,yC],rC),nK=B([pv,du],(e,t)=>{var n;return(n=e.coordinate)!==null&&n!==void 0?n:t}),xC=B([Kr,gv],XA),rK=B([yC,gv,Vr,Xo,xC,sC,fv],aC),iK=B([pv,gv],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),sK=(e,t,n,r,i,s,a)=>{if(!(!e||!n||!r||!i)&&JH(e,a)){var l=V6(e,t),u=gC(l,s,i,n,r),h=YH(t,i,u,e);return{activeIndex:String(u),activeCoordinate:h}}},aK=(e,t,n,r,i,s,a)=>{if(!(!e||!r||!i||!s||!n)){var l=qU(e,n);if(l){var u=W6(l,t),h=gC(u,a,s,r,i),f=XH(t,s,h,l);return{activeIndex:String(h),activeCoordinate:f}}}},oK=(e,t,n,r,i,s,a,l)=>{if(!(!e||!t||!r||!i||!s))return t==="horizontal"||t==="vertical"?sK(e,t,r,i,s,a,l):aK(e,t,n,r,i,s,a)},lK=B(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,n)=>n,(e,t,n)=>{if(t!=null){var r=e[t];if(r!=null)return n?r.panoramaElement:r.element}}),cK=B(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(r=>parseInt(r,10)).concat(Object.values(At)),n=Array.from(new Set(t));return n.sort((r,i)=>r-i)},{memoizeOptions:{resultEqualityCheck:V7}});function m_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function p_(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?m_(Object(n),!0).forEach(function(r){uK(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function uK(e,t,n){return(t=dK(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dK(e){var t=hK(e,"string");return typeof t=="symbol"?t:t+""}function hK(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var fK={},mK={zIndexMap:Object.values(At).reduce((e,t)=>p_(p_({},e),{},{[t]:{element:void 0,panoramaElement:void 0,consumers:0}}),fK)},pK=new Set(Object.values(At));function gK(e){return pK.has(e)}var bC=ln({name:"zIndex",initialState:mK,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]?e.zIndexMap[n].consumers+=1:e.zIndexMap[n]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:He()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(e.zIndexMap[n].consumers-=1,e.zIndexMap[n].consumers<=0&&!gK(n)&&delete e.zIndexMap[n])},prepare:He()},registerZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:n,element:r,isPanorama:i}=t.payload;e.zIndexMap[n]?i?e.zIndexMap[n].panoramaElement=r:e.zIndexMap[n].element=r:e.zIndexMap[n]={consumers:0,element:i?void 0:r,panoramaElement:i?r:void 0}},prepare:He()},unregisterZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(t.payload.isPanorama?e.zIndexMap[n].panoramaElement=void 0:e.zIndexMap[n].element=void 0)},prepare:He()}}}),{registerZIndexPortal:vK,unregisterZIndexPortal:yK,registerZIndexPortalElement:xK,unregisterZIndexPortalElement:bK}=bC.actions,wK=bC.reducer;function Nn(e){var{zIndex:t,children:n}=e,r=y8(),i=r&&t!==void 0&&t!==0,s=Ht(),a=nt();b.useLayoutEffect(()=>i?(a(vK({zIndex:t})),()=>{a(yK({zIndex:t}))}):es,[a,t,i]);var l=ce(u=>lK(u,t,s));return i?l?Su.createPortal(n,l):null:n}function qm(){return qm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qm.apply(null,arguments)}function g_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Zl(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?g_(Object(n),!0).forEach(function(r){_K(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function _K(e,t,n){return(t=SK(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function SK(e){var t=jK(e,"string");return typeof t=="symbol"?t:t+""}function jK(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function PK(e){var{cursor:t,cursorComp:n,cursorProps:r}=e;return b.isValidElement(t)?b.cloneElement(t,r):b.createElement(n,r)}function kK(e){var t,{coordinate:n,payload:r,index:i,offset:s,tooltipAxisBandSize:a,layout:l,cursor:u,tooltipEventType:h,chartName:f}=e,m=n,g=r,v=i;if(!u||!m||f!=="ScatterChart"&&h!=="axis")return null;var y,w,_;if(f==="ScatterChart")y=m,w=aU,_=At.cursorLine;else if(f==="BarChart")y=oU(l,m,s,a),w=rk,_=At.cursorRectangle;else if(l==="radial"&&jP(m)){var{cx:j,cy:k,radius:P,startAngle:C,endAngle:N}=ik(m);y={cx:j,cy:k,startAngle:C,endAngle:N,innerRadius:P,outerRadius:P},w=ak,_=At.cursorLine}else y={points:XU(l,m,s)},w=J2,_=At.cursorLine;var T=typeof u=="object"&&"className"in u?u.className:void 0,M=Zl(Zl(Zl(Zl({stroke:"#ccc",pointerEvents:"none"},s),y),$o(u)),{},{payload:g,payloadIndex:v,className:Me("recharts-tooltip-cursor",T)});return b.createElement(Nn,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:_},b.createElement(PK,{cursor:u,cursorComp:w,cursorProps:M}))}function AK(e){var t=KH(),n=z2(),r=ts(),i=QH();return t==null||n==null||r==null||i==null?null:b.createElement(kK,qm({},e,{offset:n,layout:r,tooltipAxisBandSize:t,chartName:i}))}var wC=b.createContext(null),CK=()=>b.useContext(wC),_C={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(u,h,f){this.fn=u,this.context=h,this.once=f||!1}function s(u,h,f,m,g){if(typeof f!="function")throw new TypeError("The listener must be a function");var v=new i(f,m||u,g),y=n?n+h:h;return u._events[y]?u._events[y].fn?u._events[y]=[u._events[y],v]:u._events[y].push(v):(u._events[y]=v,u._eventsCount++),u}function a(u,h){--u._eventsCount===0?u._events=new r:delete u._events[h]}function l(){this._events=new r,this._eventsCount=0}l.prototype.eventNames=function(){var h=[],f,m;if(this._eventsCount===0)return h;for(m in f=this._events)t.call(f,m)&&h.push(n?m.slice(1):m);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(f)):h},l.prototype.listeners=function(h){var f=n?n+h:h,m=this._events[f];if(!m)return[];if(m.fn)return[m.fn];for(var g=0,v=m.length,y=new Array(v);g<v;g++)y[g]=m[g].fn;return y},l.prototype.listenerCount=function(h){var f=n?n+h:h,m=this._events[f];return m?m.fn?1:m.length:0},l.prototype.emit=function(h,f,m,g,v,y){var w=n?n+h:h;if(!this._events[w])return!1;var _=this._events[w],j=arguments.length,k,P;if(_.fn){switch(_.once&&this.removeListener(h,_.fn,void 0,!0),j){case 1:return _.fn.call(_.context),!0;case 2:return _.fn.call(_.context,f),!0;case 3:return _.fn.call(_.context,f,m),!0;case 4:return _.fn.call(_.context,f,m,g),!0;case 5:return _.fn.call(_.context,f,m,g,v),!0;case 6:return _.fn.call(_.context,f,m,g,v,y),!0}for(P=1,k=new Array(j-1);P<j;P++)k[P-1]=arguments[P];_.fn.apply(_.context,k)}else{var C=_.length,N;for(P=0;P<C;P++)switch(_[P].once&&this.removeListener(h,_[P].fn,void 0,!0),j){case 1:_[P].fn.call(_[P].context);break;case 2:_[P].fn.call(_[P].context,f);break;case 3:_[P].fn.call(_[P].context,f,m);break;case 4:_[P].fn.call(_[P].context,f,m,g);break;default:if(!k)for(N=1,k=new Array(j-1);N<j;N++)k[N-1]=arguments[N];_[P].fn.apply(_[P].context,k)}}return!0},l.prototype.on=function(h,f,m){return s(this,h,f,m,!1)},l.prototype.once=function(h,f,m){return s(this,h,f,m,!0)},l.prototype.removeListener=function(h,f,m,g){var v=n?n+h:h;if(!this._events[v])return this;if(!f)return a(this,v),this;var y=this._events[v];if(y.fn)y.fn===f&&(!g||y.once)&&(!m||y.context===m)&&a(this,v);else{for(var w=0,_=[],j=y.length;w<j;w++)(y[w].fn!==f||g&&!y[w].once||m&&y[w].context!==m)&&_.push(y[w]);_.length?this._events[v]=_.length===1?_[0]:_:a(this,v)}return this},l.prototype.removeAllListeners=function(h){var f;return h?(f=n?n+h:h,this._events[f]&&a(this,f)):(this._events=new r,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=n,l.EventEmitter=l,e.exports=l})(_C);var TK=_C.exports;const NK=Rr(TK);var Ao=new NK,Gm="recharts.syncEvent.tooltip",v_="recharts.syncEvent.brush",SC=(e,t)=>{if(t&&Array.isArray(e)){var n=Number.parseInt(t,10);if(!ur(n))return e[n]}},OK={chartName:"",tooltipPayloadSearcher:()=>{},eventEmitter:void 0,defaultTooltipEventType:"axis"},jC=ln({name:"options",initialState:OK,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),EK=jC.reducer,{createEventEmitter:MK}=jC.actions;function IK(e){return e.tooltip.syncInteraction}var LK={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},PC=ln({name:"chartData",initialState:LK,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:n,endIndex:r}=t.payload;n!=null&&(e.dataStartIndex=n),r!=null&&(e.dataEndIndex=r)}}}),{setChartData:y_,setDataStartEndIndexes:DK,setComputedData:Uee}=PC.actions,RK=PC.reducer,$K=["x","y"];function x_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ps(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?x_(Object(n),!0).forEach(function(r){zK(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function zK(e,t,n){return(t=BK(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function BK(e){var t=FK(e,"string");return typeof t=="symbol"?t:t+""}function FK(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function UK(e,t){if(e==null)return{};var n,r,i=VK(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function VK(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function WK(){var e=ce(Kg),t=ce(qg),n=nt(),r=ce(sA),i=ce(Kr),s=ts(),a=sd(),l=ce(u=>u.rootProps.className);b.useEffect(()=>{if(e==null)return es;var u=(h,f,m)=>{if(t!==m&&e===h){if(r==="index"){var g;if(a&&f!==null&&f!==void 0&&(g=f.payload)!==null&&g!==void 0&&g.coordinate&&f.payload.sourceViewBox){var v=f.payload.coordinate,{x:y,y:w}=v,_=UK(v,$K),{x:j,y:k,width:P,height:C}=f.payload.sourceViewBox,N=Ps(Ps({},_),{},{x:a.x+(P?(y-j)/P:0)*a.width,y:a.y+(C?(w-k)/C:0)*a.height});n(Ps(Ps({},f),{},{payload:Ps(Ps({},f.payload),{},{coordinate:N})}))}else n(f);return}if(i!=null){var T;if(typeof r=="function"){var M={activeTooltipIndex:f.payload.index==null?void 0:Number(f.payload.index),isTooltipActive:f.payload.active,activeIndex:f.payload.index==null?void 0:Number(f.payload.index),activeLabel:f.payload.label,activeDataKey:f.payload.dataKey,activeCoordinate:f.payload.coordinate},E=r(i,M);T=i[E]}else r==="value"&&(T=i.find(I=>String(I.value)===f.payload.label));var{coordinate:$}=f.payload;if(T==null||f.payload.active===!1||$==null||a==null){n(Hm({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:q,y:U}=$,R=Math.min(q,a.x+a.width),se=Math.min(U,a.y+a.height),Y={x:s==="horizontal"?T.coordinate:R,y:s==="horizontal"?se:T.coordinate},oe=Hm({active:f.payload.active,coordinate:Y,dataKey:f.payload.dataKey,index:String(T.index),label:f.payload.label,sourceViewBox:f.payload.sourceViewBox,graphicalItemId:f.payload.graphicalItemId});n(oe)}}};return Ao.on(Gm,u),()=>{Ao.off(Gm,u)}},[l,n,t,e,r,i,s,a])}function HK(){var e=ce(Kg),t=ce(qg),n=nt();b.useEffect(()=>{if(e==null)return es;var r=(i,s,a)=>{t!==a&&e===i&&n(DK(s))};return Ao.on(v_,r),()=>{Ao.off(v_,r)}},[n,t,e])}function KK(){var e=nt();b.useEffect(()=>{e(MK())},[e]),WK(),HK()}function qK(e,t,n,r,i,s){var a=ce(v=>tK(v,e,t)),l=ce(qg),u=ce(Kg),h=ce(sA),f=ce(IK),m=f==null?void 0:f.active,g=sd();b.useEffect(()=>{if(!m&&u!=null&&l!=null){var v=Hm({active:s,coordinate:n,dataKey:a,index:i,label:typeof r=="number"?String(r):r,sourceViewBox:g,graphicalItemId:void 0});Ao.emit(Gm,u,v,l)}},[m,n,a,i,r,l,u,h,s,g])}function b_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function w_(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?b_(Object(n),!0).forEach(function(r){GK(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function GK(e,t,n){return(t=ZK(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ZK(e){var t=YK(e,"string");return typeof t=="symbol"?t:t+""}function YK(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function XK(e){return e.dataKey}function JK(e,t){return b.isValidElement(e)?b.cloneElement(e,t):typeof e=="function"?b.createElement(e,t):b.createElement(z8,t)}var __=[],QK={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function vv(e){var t,n,r=en(e,QK),{active:i,allowEscapeViewBox:s,animationDuration:a,animationEasing:l,content:u,filterNull:h,isAnimationActive:f,offset:m,payloadUniqBy:g,position:v,reverseDirection:y,useTranslate3d:w,wrapperStyle:_,cursor:j,shared:k,trigger:P,defaultIndex:C,portal:N,axisId:T}=r,M=nt(),E=typeof C=="number"?String(C):C;b.useEffect(()=>{M(Y9({shared:k,trigger:P,axisId:T,active:i,defaultIndex:E}))},[M,k,P,T,i,E]);var $=sd(),q=X2(),U=W9(k),{activeIndex:R,isActive:se}=(t=ce(ye=>iK(ye,U,P,E)))!==null&&t!==void 0?t:{},Y=ce(ye=>rK(ye,U,P,E)),oe=ce(ye=>xC(ye,U,P,E)),I=ce(ye=>nK(ye,U,P,E)),V=Y,z=CK(),J=(n=i??se)!==null&&n!==void 0?n:!1,[G,de]=CF([V,J]),je=U==="axis"?oe:void 0;qK(U,P,I,je,R,J);var ve=N??z;if(ve==null||$==null||U==null)return null;var he=V??__;J||(he=__),h&&he.length&&(he=KB(he.filter(ye=>ye.value!=null&&(ye.hide!==!0||r.includeHidden)),g,XK));var be=he.length>0,ge=b.createElement(K8,{allowEscapeViewBox:s,animationDuration:a,animationEasing:l,isAnimationActive:f,active:J,coordinate:I,hasPayload:be,offset:m,position:v,reverseDirection:y,useTranslate3d:w,viewBox:$,wrapperStyle:_,lastBoundingBox:G,innerRef:de,hasPortalFromProps:!!N},JK(u,w_(w_({},r),{},{payload:he,label:je,active:J,activeIndex:R,coordinate:I,accessibilityLayer:q})));return b.createElement(b.Fragment,null,Su.createPortal(ge,ve),J&&b.createElement(AK,{cursor:j,tooltipEventType:U,coordinate:I,payload:he,index:R}))}var yv=e=>null;yv.displayName="Cell";function eq(e,t,n){return(t=tq(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tq(e){var t=nq(e,"string");return typeof t=="symbol"?t:t+""}function nq(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class rq{constructor(t){eq(this,"cache",new Map),this.maxSize=t}get(t){var n=this.cache.get(t);return n!==void 0&&(this.cache.delete(t),this.cache.set(t,n)),n}set(t,n){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(t,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function S_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function iq(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?S_(Object(n),!0).forEach(function(r){sq(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function sq(e,t,n){return(t=aq(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function aq(e){var t=oq(e,"string");return typeof t=="symbol"?t:t+""}function oq(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var lq={cacheSize:2e3,enableCache:!0},kC=iq({},lq),j_=new rq(kC.cacheSize),cq={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},P_="recharts_measurement_span";function uq(e,t){var n=t.fontSize||"",r=t.fontFamily||"",i=t.fontWeight||"",s=t.fontStyle||"",a=t.letterSpacing||"",l=t.textTransform||"";return"".concat(e,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(s,"|").concat(a,"|").concat(l)}var k_=(e,t)=>{try{var n=document.getElementById(P_);n||(n=document.createElement("span"),n.setAttribute("id",P_),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,cq,t),n.textContent="".concat(e);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},eo=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||cd.isSsr)return{width:0,height:0};if(!kC.enableCache)return k_(t,n);var r=uq(t,n),i=j_.get(r);if(i)return i;var s=k_(t,n);return j_.set(r,s),s},AC;function dq(e,t,n){return(t=hq(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hq(e){var t=fq(e,"string");return typeof t=="symbol"?t:t+""}function fq(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var A_=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,C_=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,mq=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,pq=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,gq={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},vq=["cm","mm","pt","pc","in","Q","px"];function yq(e){return vq.includes(e)}var Rs="NaN";function xq(e,t){return e*gq[t]}class Rt{static parse(t){var n,[,r,i]=(n=pq.exec(t))!==null&&n!==void 0?n:[];return r==null?Rt.NaN:new Rt(parseFloat(r),i??"")}constructor(t,n){this.num=t,this.unit=n,this.num=t,this.unit=n,ur(t)&&(this.unit=""),n!==""&&!mq.test(n)&&(this.num=NaN,this.unit=""),yq(n)&&(this.num=xq(t,n),this.unit="px")}add(t){return this.unit!==t.unit?new Rt(NaN,""):new Rt(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new Rt(NaN,""):new Rt(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Rt(NaN,""):new Rt(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Rt(NaN,""):new Rt(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return ur(this.num)}}AC=Rt;dq(Rt,"NaN",new AC(NaN,""));function CC(e){if(e==null||e.includes(Rs))return Rs;for(var t=e;t.includes("*")||t.includes("/");){var n,[,r,i,s]=(n=A_.exec(t))!==null&&n!==void 0?n:[],a=Rt.parse(r??""),l=Rt.parse(s??""),u=i==="*"?a.multiply(l):a.divide(l);if(u.isNaN())return Rs;t=t.replace(A_,u.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var h,[,f,m,g]=(h=C_.exec(t))!==null&&h!==void 0?h:[],v=Rt.parse(f??""),y=Rt.parse(g??""),w=m==="+"?v.add(y):v.subtract(y);if(w.isNaN())return Rs;t=t.replace(C_,w.toString())}return t}var T_=/\(([^()]*)\)/;function bq(e){for(var t=e,n;(n=T_.exec(t))!=null;){var[,r]=n;t=t.replace(T_,CC(r))}return t}function wq(e){var t=e.replace(/\s+/g,"");return t=bq(t),t=CC(t),t}function _q(e){try{return wq(e)}catch{return Rs}}function ff(e){var t=_q(e.slice(5,-1));return t===Rs?"":t}var Sq=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],jq=["dx","dy","angle","className","breakAll"];function Zm(){return Zm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Zm.apply(null,arguments)}function N_(e,t){if(e==null)return{};var n,r,i=Pq(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Pq(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var TC=/[ \f\n\r\t\v\u2028\u2029]+/,NC=e=>{var{children:t,breakAll:n,style:r}=e;try{var i=[];Ze(t)||(n?i=t.toString().split(""):i=t.toString().split(TC));var s=i.map(l=>({word:l,width:eo(l,r).width})),a=n?0:eo("Â ",r).width;return{wordsWithComputedWidth:s,spaceWidth:a}}catch{return null}};function kq(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var OC=(e,t,n,r)=>e.reduce((i,s)=>{var{word:a,width:l}=s,u=i[i.length-1];if(u&&l!=null&&(t==null||r||u.width+l+n<Number(t)))u.words.push(a),u.width+=l+n;else{var h={words:[a],width:l};i.push(h)}return i},[]),EC=e=>e.reduce((t,n)=>t.width>n.width?t:n),Aq="â€¦",O_=(e,t,n,r,i,s,a,l)=>{var u=e.slice(0,t),h=NC({breakAll:n,style:r,children:u+Aq});if(!h)return[!1,[]];var f=OC(h.wordsWithComputedWidth,s,a,l),m=f.length>i||EC(f).width>Number(s);return[m,f]},Cq=(e,t,n,r,i)=>{var{maxLines:s,children:a,style:l,breakAll:u}=e,h=ie(s),f=String(a),m=OC(t,r,n,i);if(!h||i)return m;var g=m.length>s||EC(m).width>Number(r);if(!g)return m;for(var v=0,y=f.length-1,w=0,_;v<=y&&w<=f.length-1;){var j=Math.floor((v+y)/2),k=j-1,[P,C]=O_(f,k,u,l,s,r,n,i),[N]=O_(f,j,u,l,s,r,n,i);if(!P&&!N&&(v=j+1),P&&N&&(y=j-1),!P&&N){_=C;break}w++}return _||m},E_=e=>{var t=Ze(e)?[]:e.toString().split(TC);return[{words:t,width:void 0}]},Tq=e=>{var{width:t,scaleToFit:n,children:r,style:i,breakAll:s,maxLines:a}=e;if((t||n)&&!cd.isSsr){var l,u,h=NC({breakAll:s,children:r,style:i});if(h){var{wordsWithComputedWidth:f,spaceWidth:m}=h;l=f,u=m}else return E_(r);return Cq({breakAll:s,children:r,maxLines:a,style:i},l,u,t,!!n)}return E_(r)},MC="#808080",Nq={angle:0,breakAll:!1,capHeight:"0.71em",fill:MC,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},xv=b.forwardRef((e,t)=>{var n=en(e,Nq),{x:r,y:i,lineHeight:s,capHeight:a,fill:l,scaleToFit:u,textAnchor:h,verticalAnchor:f}=n,m=N_(n,Sq),g=b.useMemo(()=>Tq({breakAll:m.breakAll,children:m.children,maxLines:m.maxLines,scaleToFit:u,style:m.style,width:m.width}),[m.breakAll,m.children,m.maxLines,u,m.style,m.width]),{dx:v,dy:y,angle:w,className:_,breakAll:j}=m,k=N_(m,jq);if(!dr(r)||!dr(i)||g.length===0)return null;var P=Number(r)+(ie(v)?v:0),C=Number(i)+(ie(y)?y:0);if(!Ae(P)||!Ae(C))return null;var N;switch(f){case"start":N=ff("calc(".concat(a,")"));break;case"middle":N=ff("calc(".concat((g.length-1)/2," * -").concat(s," + (").concat(a," / 2))"));break;default:N=ff("calc(".concat(g.length-1," * -").concat(s,")"));break}var T=[],M=g[0];if(u&&M!=null){var E=M.width,{width:$}=m;T.push("scale(".concat(ie($)&&ie(E)?$/E:1,")"))}return w&&T.push("rotate(".concat(w,", ").concat(P,", ").concat(C,")")),T.length&&(k.transform=T.join(" ")),b.createElement("text",Zm({},Jt(k),{ref:t,x:P,y:C,className:Me("recharts-text",_),textAnchor:h,fill:l.includes("url")?MC:l}),g.map((q,U)=>{var R=q.words.join(j?"":" ");return b.createElement("tspan",{x:P,dy:U===0?N:s,key:"".concat(R,"-").concat(U)},R)}))});xv.displayName="Text";function M_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function tr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?M_(Object(n),!0).forEach(function(r){Oq(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Oq(e,t,n){return(t=Eq(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Eq(e){var t=Mq(e,"string");return typeof t=="symbol"?t:t+""}function Mq(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Iq=e=>{var{viewBox:t,position:n,offset:r=0,parentViewBox:i}=e,{x:s,y:a,height:l,upperWidth:u,lowerWidth:h}=gg(t),f=s,m=s+(u-h)/2,g=(f+m)/2,v=(u+h)/2,y=f+u/2,w=l>=0?1:-1,_=w*r,j=w>0?"end":"start",k=w>0?"start":"end",P=u>=0?1:-1,C=P*r,N=P>0?"end":"start",T=P>0?"start":"end",M=i;if(n==="top"){var E={x:f+u/2,y:a-_,horizontalAnchor:"middle",verticalAnchor:j};return M&&(E.height=Math.max(a-M.y,0),E.width=u),E}if(n==="bottom"){var $={x:m+h/2,y:a+l+_,horizontalAnchor:"middle",verticalAnchor:k};return M&&($.height=Math.max(M.y+M.height-(a+l),0),$.width=h),$}if(n==="left"){var q={x:g-C,y:a+l/2,horizontalAnchor:N,verticalAnchor:"middle"};return M&&(q.width=Math.max(q.x-M.x,0),q.height=l),q}if(n==="right"){var U={x:g+v+C,y:a+l/2,horizontalAnchor:T,verticalAnchor:"middle"};return M&&(U.width=Math.max(M.x+M.width-U.x,0),U.height=l),U}var R=M?{width:v,height:l}:{};return n==="insideLeft"?tr({x:g+C,y:a+l/2,horizontalAnchor:T,verticalAnchor:"middle"},R):n==="insideRight"?tr({x:g+v-C,y:a+l/2,horizontalAnchor:N,verticalAnchor:"middle"},R):n==="insideTop"?tr({x:f+u/2,y:a+_,horizontalAnchor:"middle",verticalAnchor:k},R):n==="insideBottom"?tr({x:m+h/2,y:a+l-_,horizontalAnchor:"middle",verticalAnchor:j},R):n==="insideTopLeft"?tr({x:f+C,y:a+_,horizontalAnchor:T,verticalAnchor:k},R):n==="insideTopRight"?tr({x:f+u-C,y:a+_,horizontalAnchor:N,verticalAnchor:k},R):n==="insideBottomLeft"?tr({x:m+C,y:a+l-_,horizontalAnchor:T,verticalAnchor:j},R):n==="insideBottomRight"?tr({x:m+h-C,y:a+l-_,horizontalAnchor:N,verticalAnchor:j},R):n&&typeof n=="object"&&(ie(n.x)||qi(n.x))&&(ie(n.y)||qi(n.y))?tr({x:s+Kn(n.x,v),y:a+Kn(n.y,l),horizontalAnchor:"end",verticalAnchor:"end"},R):tr({x:y,y:a+l/2,horizontalAnchor:"middle",verticalAnchor:"middle"},R)},Lq=["labelRef"],Dq=["content"];function I_(e,t){if(e==null)return{};var n,r,i=Rq(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Rq(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function L_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function qa(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?L_(Object(n),!0).forEach(function(r){$q(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function $q(e,t,n){return(t=zq(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zq(e){var t=Bq(e,"string");return typeof t=="symbol"?t:t+""}function Bq(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _r(){return _r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_r.apply(null,arguments)}var IC=b.createContext(null),Fq=e=>{var{x:t,y:n,upperWidth:r,lowerWidth:i,width:s,height:a,children:l}=e,u=b.useMemo(()=>({x:t,y:n,upperWidth:r,lowerWidth:i,width:s,height:a}),[t,n,r,i,s,a]);return b.createElement(IC.Provider,{value:u},l)},LC=()=>{var e=b.useContext(IC),t=sd();return e||(t?gg(t):void 0)},Uq=b.createContext(null),Vq=()=>{var e=b.useContext(Uq),t=ce(uA);return e||t},Wq=e=>{var{value:t,formatter:n}=e,r=Ze(e.children)?t:e.children;return typeof n=="function"?n(r):r},bv=e=>e!=null&&typeof e=="function",Hq=(e,t)=>{var n=sn(t-e),r=Math.min(Math.abs(t-e),360);return n*r},Kq=(e,t,n,r,i)=>{var{offset:s,className:a}=e,{cx:l,cy:u,innerRadius:h,outerRadius:f,startAngle:m,endAngle:g,clockWise:v}=i,y=(h+f)/2,w=Hq(m,g),_=w>=0?1:-1,j,k;switch(t){case"insideStart":j=m+_*s,k=v;break;case"insideEnd":j=g-_*s,k=!v;break;case"end":j=g+_*s,k=v;break;default:throw new Error("Unsupported position ".concat(t))}k=w<=0?k:!k;var P=$t(l,u,y,j),C=$t(l,u,y,j+(k?1:-1)*359),N="M".concat(P.x,",").concat(P.y,`
    A`).concat(y,",").concat(y,",0,1,").concat(k?0:1,`,
    `).concat(C.x,",").concat(C.y),T=Ze(e.id)?mo("recharts-radial-line-"):e.id;return b.createElement("text",_r({},r,{dominantBaseline:"central",className:Me("recharts-radial-bar-label",a)}),b.createElement("defs",null,b.createElement("path",{id:T,d:N})),b.createElement("textPath",{xlinkHref:"#".concat(T)},n))},qq=(e,t,n)=>{var{cx:r,cy:i,innerRadius:s,outerRadius:a,startAngle:l,endAngle:u}=e,h=(l+u)/2;if(n==="outside"){var{x:f,y:m}=$t(r,i,a+t,h);return{x:f,y:m,textAnchor:f>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var g=(s+a)/2,{x:v,y}=$t(r,i,g,h);return{x:v,y,textAnchor:"middle",verticalAnchor:"middle"}},uc=e=>e!=null&&"cx"in e&&ie(e.cx),Gq={angle:0,offset:5,zIndex:At.label,position:"middle",textBreakAll:!1};function Zq(e){if(!uc(e))return e;var{cx:t,cy:n,outerRadius:r}=e,i=r*2;return{x:t-r,y:n-r,width:i,upperWidth:i,lowerWidth:i,height:i}}function Qr(e){var t=en(e,Gq),{viewBox:n,parentViewBox:r,position:i,value:s,children:a,content:l,className:u="",textBreakAll:h,labelRef:f}=t,m=Vq(),g=LC(),v=i==="center"?g:m??g,y,w,_;n==null?y=v:uc(n)?y=n:y=gg(n);var j=Zq(y);if(!y||Ze(s)&&Ze(a)&&!b.isValidElement(l)&&typeof l!="function")return null;var k=qa(qa({},t),{},{viewBox:y});if(b.isValidElement(l)){var{labelRef:P}=k,C=I_(k,Lq);return b.cloneElement(l,C)}if(typeof l=="function"){var{content:N}=k,T=I_(k,Dq);if(w=b.createElement(l,T),b.isValidElement(w))return w}else w=Wq(t);var M=Jt(t);if(uc(y)){if(i==="insideStart"||i==="insideEnd"||i==="end")return Kq(t,i,w,M,y);_=qq(y,t.offset,t.position)}else{if(!j)return null;var E=Iq({viewBox:j,position:i,offset:t.offset,parentViewBox:uc(r)?void 0:r});_=qa(qa({x:E.x,y:E.y,textAnchor:E.horizontalAnchor,verticalAnchor:E.verticalAnchor},E.width!==void 0?{width:E.width}:{}),E.height!==void 0?{height:E.height}:{})}return b.createElement(Nn,{zIndex:t.zIndex},b.createElement(xv,_r({ref:f,className:Me("recharts-label",u)},M,_,{textAnchor:kq(M.textAnchor)?M.textAnchor:_.textAnchor,breakAll:h}),w))}Qr.displayName="Label";var Yq=(e,t,n)=>{if(!e)return null;var r={viewBox:t,labelRef:n};return e===!0?b.createElement(Qr,_r({key:"label-implicit"},r)):dr(e)?b.createElement(Qr,_r({key:"label-implicit",value:e},r)):b.isValidElement(e)?e.type===Qr?b.cloneElement(e,qa({key:"label-implicit"},r)):b.createElement(Qr,_r({key:"label-implicit",content:e},r)):bv(e)?b.createElement(Qr,_r({key:"label-implicit",content:e},r)):e&&typeof e=="object"?b.createElement(Qr,_r({},e,{key:"label-implicit"},r)):null};function Xq(e){var{label:t,labelRef:n}=e,r=LC();return Yq(t,r,n)||null}var DC={},RC={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n[n.length-1]}e.last=t})(RC);var $C={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Array.isArray(n)?n:Array.from(n)}e.toArray=t})($C);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=RC,n=$C,r=Fu;function i(s){if(r.isArrayLike(s))return t.last(n.toArray(s))}e.last=i})(DC);var Jq=DC.last;const Qq=Rr(Jq);var eG=["valueAccessor"],tG=["dataKey","clockWise","id","textBreakAll","zIndex"];function hu(){return hu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},hu.apply(null,arguments)}function D_(e,t){if(e==null)return{};var n,r,i=nG(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function nG(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var rG=e=>Array.isArray(e.value)?Qq(e.value):e.value,zC=b.createContext(void 0),BC=zC.Provider,FC=b.createContext(void 0);FC.Provider;function iG(){return b.useContext(zC)}function sG(){return b.useContext(FC)}function dc(e){var{valueAccessor:t=rG}=e,n=D_(e,eG),{dataKey:r,clockWise:i,id:s,textBreakAll:a,zIndex:l}=n,u=D_(n,tG),h=iG(),f=sG(),m=h||f;return!m||!m.length?null:b.createElement(Nn,{zIndex:l??At.label},b.createElement(kn,{className:"recharts-label-list"},m.map((g,v)=>{var y,w=Ze(r)?t(g,v):ot(g.payload,r),_=Ze(s)?{}:{id:"".concat(s,"-").concat(v)};return b.createElement(Qr,hu({key:"label-".concat(v)},Jt(g),u,_,{fill:(y=n.fill)!==null&&y!==void 0?y:g.fill,parentViewBox:g.parentViewBox,value:w,textBreakAll:a,viewBox:g.viewBox,index:v,zIndex:0}))})))}dc.displayName="LabelList";function UC(e){var{label:t}=e;return t?t===!0?b.createElement(dc,{key:"labelList-implicit"}):b.isValidElement(t)||bv(t)?b.createElement(dc,{key:"labelList-implicit",content:t}):typeof t=="object"?b.createElement(dc,hu({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function Ym(){return Ym=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ym.apply(null,arguments)}var VC=e=>{var{cx:t,cy:n,r,className:i}=e,s=Me("recharts-dot",i);return ie(t)&&ie(n)&&ie(r)?b.createElement("circle",Ym({},Hn(e),Gp(e),{className:s,cx:t,cy:n,r})):null},aG={radiusAxis:{},angleAxis:{}},WC=ln({name:"polarAxis",initialState:aG,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:Vee,removeRadiusAxis:Wee,addAngleAxis:Hee,removeAngleAxis:Kee}=WC.actions,oG=WC.reducer;function lG(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var HC={exports:{}},$e={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wv=Symbol.for("react.transitional.element"),_v=Symbol.for("react.portal"),Od=Symbol.for("react.fragment"),Ed=Symbol.for("react.strict_mode"),Md=Symbol.for("react.profiler"),Id=Symbol.for("react.consumer"),Ld=Symbol.for("react.context"),Dd=Symbol.for("react.forward_ref"),Rd=Symbol.for("react.suspense"),$d=Symbol.for("react.suspense_list"),zd=Symbol.for("react.memo"),Bd=Symbol.for("react.lazy"),cG=Symbol.for("react.view_transition"),uG=Symbol.for("react.client.reference");function On(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case wv:switch(e=e.type,e){case Od:case Md:case Ed:case Rd:case $d:case cG:return e;default:switch(e=e&&e.$$typeof,e){case Ld:case Dd:case Bd:case zd:return e;case Id:return e;default:return t}}case _v:return t}}}$e.ContextConsumer=Id;$e.ContextProvider=Ld;$e.Element=wv;$e.ForwardRef=Dd;$e.Fragment=Od;$e.Lazy=Bd;$e.Memo=zd;$e.Portal=_v;$e.Profiler=Md;$e.StrictMode=Ed;$e.Suspense=Rd;$e.SuspenseList=$d;$e.isContextConsumer=function(e){return On(e)===Id};$e.isContextProvider=function(e){return On(e)===Ld};$e.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===wv};$e.isForwardRef=function(e){return On(e)===Dd};$e.isFragment=function(e){return On(e)===Od};$e.isLazy=function(e){return On(e)===Bd};$e.isMemo=function(e){return On(e)===zd};$e.isPortal=function(e){return On(e)===_v};$e.isProfiler=function(e){return On(e)===Md};$e.isStrictMode=function(e){return On(e)===Ed};$e.isSuspense=function(e){return On(e)===Rd};$e.isSuspenseList=function(e){return On(e)===$d};$e.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Od||e===Md||e===Ed||e===Rd||e===$d||typeof e=="object"&&e!==null&&(e.$$typeof===Bd||e.$$typeof===zd||e.$$typeof===Ld||e.$$typeof===Id||e.$$typeof===Dd||e.$$typeof===uG||e.getModuleId!==void 0)};$e.typeOf=On;HC.exports=$e;var dG=HC.exports,R_=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",$_=null,mf=null,KC=e=>{if(e===$_&&Array.isArray(mf))return mf;var t=[];return b.Children.forEach(e,n=>{Ze(n)||(dG.isFragment(n)?t=t.concat(KC(n.props.children)):t.push(n))}),mf=t,$_=e,t};function hG(e,t){var n=[],r=[];return Array.isArray(t)?r=t.map(i=>R_(i)):r=[R_(t)],KC(e).forEach(i=>{var s=Hs(i,"type.displayName")||Hs(i,"type.name");s&&r.indexOf(s)!==-1&&n.push(i)}),n}var qC=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,GC={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var i;if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const s=n[Symbol.toStringTag];return s==null||!((i=Object.getOwnPropertyDescriptor(n,Symbol.toStringTag))!=null&&i.writable)?!1:n.toString()===`[object ${s}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}e.isPlainObject=t})(GC);var fG=GC.isPlainObject;const mG=Rr(fG);var z_,B_,F_,U_,V_;function W_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function H_(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?W_(Object(n),!0).forEach(function(r){pG(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function pG(e,t,n){return(t=gG(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gG(e){var t=vG(e,"string");return typeof t=="symbol"?t:t+""}function vG(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fu(){return fu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fu.apply(null,arguments)}function Ba(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var K_=(e,t,n,r,i)=>{var s=n-r,a;return a=Qe(z_||(z_=Ba(["M ",",",""])),e,t),a+=Qe(B_||(B_=Ba(["L ",",",""])),e+n,t),a+=Qe(F_||(F_=Ba(["L ",",",""])),e+n-s/2,t+i),a+=Qe(U_||(U_=Ba(["L ",",",""])),e+n-s/2-r,t+i),a+=Qe(V_||(V_=Ba(["L ",","," Z"])),e,t),a},yG={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},xG=e=>{var t=en(e,yG),{x:n,y:r,upperWidth:i,lowerWidth:s,height:a,className:l}=t,{animationEasing:u,animationDuration:h,animationBegin:f,isUpdateAnimationActive:m}=t,g=b.useRef(null),[v,y]=b.useState(-1),w=b.useRef(i),_=b.useRef(s),j=b.useRef(a),k=b.useRef(n),P=b.useRef(r),C=dd(e,"trapezoid-");if(b.useEffect(()=>{if(g.current&&g.current.getTotalLength)try{var Y=g.current.getTotalLength();Y&&y(Y)}catch{}},[]),n!==+n||r!==+r||i!==+i||s!==+s||a!==+a||i===0&&s===0||a===0)return null;var N=Me("recharts-trapezoid",l);if(!m)return b.createElement("g",null,b.createElement("path",fu({},Jt(t),{className:N,d:K_(n,r,i,s,a)})));var T=w.current,M=_.current,E=j.current,$=k.current,q=P.current,U="0px ".concat(v===-1?1:v,"px"),R="".concat(v,"px 0px"),se=Q2(["strokeDasharray"],h,u);return b.createElement(ud,{animationId:C,key:C,canBegin:v>0,duration:h,easing:u,isActive:m,begin:f},Y=>{var oe=et(T,i,Y),I=et(M,s,Y),V=et(E,a,Y),z=et($,n,Y),J=et(q,r,Y);g.current&&(w.current=oe,_.current=I,j.current=V,k.current=z,P.current=J);var G=Y>0?{transition:se,strokeDasharray:R}:{strokeDasharray:U};return b.createElement("path",fu({},Jt(t),{className:N,d:K_(z,J,oe,I,V),ref:g,style:H_(H_({},G),t.style)}))})},bG=["option","shapeType","activeClassName"];function wG(e,t){if(e==null)return{};var n,r,i=_G(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function _G(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function q_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function mu(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?q_(Object(n),!0).forEach(function(r){SG(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function SG(e,t,n){return(t=jG(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jG(e){var t=PG(e,"string");return typeof t=="symbol"?t:t+""}function PG(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kG(e,t){return mu(mu({},t),e)}function AG(e,t){return e==="symbols"}function G_(e){var{shapeType:t,elementProps:n}=e;switch(t){case"rectangle":return b.createElement(rk,n);case"trapezoid":return b.createElement(xG,n);case"sector":return b.createElement(ak,n);case"symbols":if(AG(t))return b.createElement(SP,n);break;case"curve":return b.createElement(J2,n);default:return null}}function CG(e){return b.isValidElement(e)?e.props:e}function ZC(e){var{option:t,shapeType:n,activeClassName:r="recharts-active-shape"}=e,i=wG(e,bG),s;if(b.isValidElement(t))s=b.cloneElement(t,mu(mu({},i),CG(t)));else if(typeof t=="function")s=t(i,i.index);else if(mG(t)&&typeof t!="boolean"){var a=kG(t,i);s=b.createElement(G_,{shapeType:n,elementProps:a})}else{var l=i;s=b.createElement(G_,{shapeType:n,elementProps:l})}return i.isActive?b.createElement(kn,{className:r},s):s}var YC=(e,t,n)=>{var r=nt();return(i,s)=>a=>{e==null||e(i,s,a),r(QA({activeIndex:String(s),activeDataKey:t,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}},XC=e=>{var t=nt();return(n,r)=>i=>{e==null||e(n,r,i),t(X9())}},JC=(e,t,n)=>{var r=nt();return(i,s)=>a=>{e==null||e(i,s,a),r(J9({activeIndex:String(s),activeDataKey:t,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}};function QC(e){var{tooltipEntrySettings:t}=e,n=nt(),r=Ht(),i=b.useRef(null);return b.useLayoutEffect(()=>{r||(i.current===null?n(q9(t)):i.current!==t&&n(G9({prev:i.current,next:t})),i.current=t)},[t,n,r]),b.useLayoutEffect(()=>()=>{i.current&&(n(Z9(i.current)),i.current=null)},[n]),null}function eT(e){var{legendPayload:t}=e,n=nt(),r=Ht(),i=b.useRef(null);return b.useLayoutEffect(()=>{r||(i.current===null?n(O8(t)):i.current!==t&&n(E8({prev:i.current,next:t})),i.current=t)},[n,r,t]),b.useLayoutEffect(()=>()=>{i.current&&(n(M8(i.current)),i.current=null)},[n]),null}var pf,TG=()=>{var[e]=b.useState(()=>mo("uid-"));return e},NG=(pf=vO.useId)!==null&&pf!==void 0?pf:TG;function OG(e,t){var n=NG();return t||(e?"".concat(e,"-").concat(n):n)}var EG=b.createContext(void 0),tT=e=>{var{id:t,type:n,children:r}=e,i=OG("recharts-".concat(n),t);return b.createElement(EG.Provider,{value:i},r(i))},MG={cartesianItems:[],polarItems:[]},nT=ln({name:"graphicalItems",initialState:MG,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:He()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:n,next:r}=t.payload,i=Vn(e).cartesianItems.indexOf(n);i>-1&&(e.cartesianItems[i]=r)},prepare:He()},removeCartesianGraphicalItem:{reducer(e,t){var n=Vn(e).cartesianItems.indexOf(t.payload);n>-1&&e.cartesianItems.splice(n,1)},prepare:He()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:He()},removePolarGraphicalItem:{reducer(e,t){var n=Vn(e).polarItems.indexOf(t.payload);n>-1&&e.polarItems.splice(n,1)},prepare:He()}}}),{addCartesianGraphicalItem:IG,replaceCartesianGraphicalItem:LG,removeCartesianGraphicalItem:DG,addPolarGraphicalItem:qee,removePolarGraphicalItem:Gee}=nT.actions,RG=nT.reducer,$G=e=>{var t=nt(),n=b.useRef(null);return b.useLayoutEffect(()=>{n.current===null?t(IG(e)):n.current!==e&&t(LG({prev:n.current,next:e})),n.current=e},[t,e]),b.useLayoutEffect(()=>()=>{n.current&&(t(DG(n.current)),n.current=null)},[t]),null},rT=b.memo($G),zG=["points"];function Z_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function gf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Z_(Object(n),!0).forEach(function(r){BG(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Z_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function BG(e,t,n){return(t=FG(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function FG(e){var t=UG(e,"string");return typeof t=="symbol"?t:t+""}function UG(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pu(){return pu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pu.apply(null,arguments)}function VG(e,t){if(e==null)return{};var n,r,i=WG(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function WG(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function HG(e){var{option:t,dotProps:n,className:r}=e;if(b.isValidElement(t))return b.cloneElement(t,n);if(typeof t=="function")return t(n);var i=Me(r,typeof t!="boolean"?t.className:""),s=n??{},{points:a}=s,l=VG(s,zG);return b.createElement(VC,pu({},l,{className:i}))}function KG(e,t){return e==null?!1:t?!0:e.length===1}function qG(e){var{points:t,dot:n,className:r,dotClassName:i,dataKey:s,baseProps:a,needClip:l,clipPathId:u,zIndex:h=At.scatter}=e;if(!KG(t,n))return null;var f=qC(n),m=Bz(n),g=t.map((y,w)=>{var _,j,k=gf(gf(gf({r:3},a),m),{},{index:w,cx:(_=y.x)!==null&&_!==void 0?_:void 0,cy:(j=y.y)!==null&&j!==void 0?j:void 0,dataKey:s,value:y.value,payload:y.payload,points:t});return b.createElement(HG,{key:"dot-".concat(w),option:n,dotProps:k,className:i})}),v={};return l&&u!=null&&(v.clipPath="url(#clipPath-".concat(f?"":"dots-").concat(u,")")),b.createElement(Nn,{zIndex:h},b.createElement(kn,pu({className:r},v),g))}function Y_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function X_(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Y_(Object(n),!0).forEach(function(r){GG(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function GG(e,t,n){return(t=ZG(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ZG(e){var t=YG(e,"string");return typeof t=="symbol"?t:t+""}function YG(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var iT=0,XG={xAxis:{},yAxis:{},zAxis:{}},sT=ln({name:"cartesianAxis",initialState:XG,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:He()},replaceXAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.xAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.xAxis[n.id],e.xAxis[r.id]=r)},prepare:He()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:He()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:He()},replaceYAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.yAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.yAxis[n.id],e.yAxis[r.id]=r)},prepare:He()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:He()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:He()},replaceZAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.zAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.zAxis[n.id],e.zAxis[r.id]=r)},prepare:He()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:He()},updateYAxisWidth(e,t){var{id:n,width:r}=t.payload,i=e.yAxis[n];if(i){var s,a=i.widthHistory||[];if(a.length===3&&a[0]===a[2]&&r===a[1]&&r!==i.width&&Math.abs(r-((s=a[0])!==null&&s!==void 0?s:0))<=1)return;var l=[...a,r].slice(-3);e.yAxis[n]=X_(X_({},i),{},{width:r,widthHistory:l})}}}}),{addXAxis:JG,replaceXAxis:QG,removeXAxis:eZ,addYAxis:tZ,replaceYAxis:nZ,removeYAxis:rZ,addZAxis:Zee,replaceZAxis:Yee,removeZAxis:Xee,updateYAxisWidth:iZ}=sT.actions,sZ=sT.reducer,aZ=B([Ct],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),oZ=B([aZ,Br,Fr],(e,t,n)=>{if(!(!e||t==null||n==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,n-e.top-e.bottom)}}),Sv=()=>ce(oZ),lZ=()=>ce(FH);function J_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function vf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?J_(Object(n),!0).forEach(function(r){cZ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function cZ(e,t,n){return(t=uZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uZ(e){var t=dZ(e,"string");return typeof t=="symbol"?t:t+""}function dZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var hZ=e=>{var{point:t,childIndex:n,mainColor:r,activeDot:i,dataKey:s,clipPath:a}=e;if(i===!1||t.x==null||t.y==null)return null;var l={index:n,dataKey:s,cx:t.x,cy:t.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},u=vf(vf(vf({},l),$o(i)),Gp(i)),h;return b.isValidElement(i)?h=b.cloneElement(i,u):typeof i=="function"?h=i(u):h=b.createElement(VC,u),b.createElement(kn,{className:"recharts-active-dot",clipPath:a},h)};function fZ(e){var{points:t,mainColor:n,activeDot:r,itemDataKey:i,clipPath:s,zIndex:a=At.activeDot}=e,l=ce(Ji),u=lZ();if(t==null||u==null)return null;var h=t.find(f=>u.includes(f.payload));return Ze(h)?null:b.createElement(Nn,{zIndex:a},b.createElement(hZ,{point:h,childIndex:Number(l),mainColor:n,dataKey:i,activeDot:r,clipPath:s}))}var Q_=(e,t,n)=>{var r=n??e;if(!Ze(r))return Kn(r,t,0)},mZ=(e,t,n)=>{var r={},i=e.filter(Sd),s=e.filter(h=>h.stackId==null),a=i.reduce((h,f)=>{var m=h[f.stackId];return m==null&&(m=[]),m.push(f),h[f.stackId]=m,h},r),l=Object.entries(a).map(h=>{var f,[m,g]=h,v=g.map(w=>w.dataKey),y=Q_(t,n,(f=g[0])===null||f===void 0?void 0:f.barSize);return{stackId:m,dataKeys:v,barSize:y}}),u=s.map(h=>{var f=[h.dataKey].filter(g=>g!=null),m=Q_(t,n,h.barSize);return{stackId:void 0,dataKeys:f,barSize:m}});return[...l,...u]};function e1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Yl(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?e1(Object(n),!0).forEach(function(r){pZ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):e1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function pZ(e,t,n){return(t=gZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gZ(e){var t=vZ(e,"string");return typeof t=="symbol"?t:t+""}function vZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yZ(e,t,n,r,i){var s,a=r.length;if(!(a<1)){var l=Kn(e,n,0,!0),u,h=[];if(Ae((s=r[0])===null||s===void 0?void 0:s.barSize)){var f=!1,m=n/a,g=r.reduce((k,P)=>k+(P.barSize||0),0);g+=(a-1)*l,g>=n&&(g-=(a-1)*l,l=0),g>=n&&m>0&&(f=!0,m*=.9,g=a*m);var v=(n-g)/2>>0,y={offset:v-l,size:0};u=r.reduce((k,P)=>{var C,N={stackId:P.stackId,dataKeys:P.dataKeys,position:{offset:y.offset+y.size+l,size:f?m:(C=P.barSize)!==null&&C!==void 0?C:0}},T=[...k,N];return y=N.position,T},h)}else{var w=Kn(t,n,0,!0);n-2*w-(a-1)*l<=0&&(l=0);var _=(n-2*w-(a-1)*l)/a;_>1&&(_>>=0);var j=Ae(i)?Math.min(_,i):_;u=r.reduce((k,P,C)=>[...k,{stackId:P.stackId,dataKeys:P.dataKeys,position:{offset:w+(_+l)*C+(_-j)/2,size:j}}],h)}return u}}var xZ=(e,t,n,r,i,s,a)=>{var l=Ze(a)?t:a,u=yZ(n,r,i!==s?i:s,e,l);return i!==s&&u!=null&&(u=u.map(h=>Yl(Yl({},h),{},{position:Yl(Yl({},h.position),{},{offset:h.position.offset-i/2})}))),u},bZ=(e,t)=>{var n=Xg(t);if(!(!e||n==null||t==null)){var{stackId:r}=t;if(r!=null){var i=e[r];if(i){var{stackedData:s}=i;if(s)return s.find(a=>a.key===n)}}}},wZ=(e,t)=>{if(!(e==null||t==null)){var n=e.find(r=>r.stackId===t.stackId&&t.dataKey!=null&&r.dataKeys.includes(t.dataKey));if(n!=null)return n.position}};function _Z(e,t){return e&&typeof e=="object"&&"zIndex"in e&&typeof e.zIndex=="number"&&Ae(e.zIndex)?e.zIndex:t}var SZ=e=>{var{chartData:t}=e,n=nt(),r=Ht();return b.useEffect(()=>r?()=>{}:(n(y_(t)),()=>{n(y_(void 0))}),[t,n,r]),null},t1={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},aT=ln({name:"brush",initialState:t1,reducers:{setBrushSettings(e,t){return t.payload==null?t1:t.payload}}}),{setBrushSettings:Jee}=aT.actions,jZ=aT.reducer;function PZ(e){return(e%180+180)%180}var kZ=function(t){var{width:n,height:r}=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=PZ(i),a=s*Math.PI/180,l=Math.atan(r/n),u=a>l&&a<Math.PI-l?r/Math.sin(a):n/Math.cos(a);return Math.abs(u)},AZ={dots:[],areas:[],lines:[]},oT=ln({name:"referenceElements",initialState:AZ,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var n=Vn(e).dots.findIndex(r=>r===t.payload);n!==-1&&e.dots.splice(n,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var n=Vn(e).areas.findIndex(r=>r===t.payload);n!==-1&&e.areas.splice(n,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var n=Vn(e).lines.findIndex(r=>r===t.payload);n!==-1&&e.lines.splice(n,1)}}}),{addDot:Qee,removeDot:ete,addArea:tte,removeArea:nte,addLine:rte,removeLine:ite}=oT.actions,CZ=oT.reducer,TZ=b.createContext(void 0),NZ=e=>{var{children:t}=e,[n]=b.useState("".concat(mo("recharts"),"-clip")),r=Sv();if(r==null)return null;var{x:i,y:s,width:a,height:l}=r;return b.createElement(TZ.Provider,{value:n},b.createElement("defs",null,b.createElement("clipPath",{id:n},b.createElement("rect",{x:i,y:s,height:l,width:a}))),t)};function lT(e,t){if(t<1)return[];if(t===1)return e;for(var n=[],r=0;r<e.length;r+=t){var i=e[r];i!==void 0&&n.push(i)}return n}function OZ(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return kZ(r,n)}function EZ(e,t,n){var r=n==="width",{x:i,y:s,width:a,height:l}=e;return t===1?{start:r?i:s,end:r?i+a:s+l}:{start:r?i+a:s+l,end:r?i:s}}function Co(e,t,n,r,i){if(e*t<e*r||e*t>e*i)return!1;var s=n();return e*(t-e*s/2-r)>=0&&e*(t+e*s/2-i)<=0}function MZ(e,t){return lT(e,t+1)}function IZ(e,t,n,r,i){for(var s=(r||[]).slice(),{start:a,end:l}=t,u=0,h=1,f=a,m=function(){var y=r==null?void 0:r[u];if(y===void 0)return{v:lT(r,h)};var w=u,_,j=()=>(_===void 0&&(_=n(y,w)),_),k=y.coordinate,P=u===0||Co(e,k,j,f,l);P||(u=0,f=a,h+=1),P&&(f=k+e*(j()/2+i),u+=h)},g;h<=s.length;)if(g=m(),g)return g.v;return[]}function LZ(e,t,n,r,i){var s=(r||[]).slice(),a=s.length;if(a===0)return[];for(var{start:l,end:u}=t,h=1;h<=a;h++){for(var f=(a-1)%h,m=l,g=!0,v=function(){var C=r[w];if(C==null)return 0;var N=w,T,M=()=>(T===void 0&&(T=n(C,N)),T),E=C.coordinate,$=w===f||Co(e,E,M,m,u);if(!$)return g=!1,1;$&&(m=E+e*(M()/2+i))},y,w=f;w<a&&(y=v(),!(y!==0&&y===1));w+=h);if(g){for(var _=[],j=f;j<a;j+=h){var k=r[j];k!=null&&_.push(k)}return _}}return[]}function n1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ft(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?n1(Object(n),!0).forEach(function(r){DZ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):n1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function DZ(e,t,n){return(t=RZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function RZ(e){var t=$Z(e,"string");return typeof t=="symbol"?t:t+""}function $Z(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zZ(e,t,n,r,i){for(var s=(r||[]).slice(),a=s.length,{start:l}=t,{end:u}=t,h=function(g){var v=s[g];if(v==null)return 1;var y=v,w,_=()=>(w===void 0&&(w=n(v,g)),w);if(g===a-1){var j=e*(y.coordinate+e*_()/2-u);s[g]=y=Ft(Ft({},y),{},{tickCoord:j>0?y.coordinate-j*e:y.coordinate})}else s[g]=y=Ft(Ft({},y),{},{tickCoord:y.coordinate});if(y.tickCoord!=null){var k=Co(e,y.tickCoord,_,l,u);k&&(u=y.tickCoord-e*(_()/2+i),s[g]=Ft(Ft({},y),{},{isShow:!0}))}},f=a-1;f>=0;f--)h(f);return s}function BZ(e,t,n,r,i,s){var a=(r||[]).slice(),l=a.length,{start:u,end:h}=t;if(s){var f=r[l-1];if(f!=null){var m=n(f,l-1),g=e*(f.coordinate+e*m/2-h);if(a[l-1]=f=Ft(Ft({},f),{},{tickCoord:g>0?f.coordinate-g*e:f.coordinate}),f.tickCoord!=null){var v=Co(e,f.tickCoord,()=>m,u,h);v&&(h=f.tickCoord-e*(m/2+i),a[l-1]=Ft(Ft({},f),{},{isShow:!0}))}}}for(var y=s?l-1:l,w=function(k){var P=a[k];if(P==null)return 1;var C=P,N,T=()=>(N===void 0&&(N=n(P,k)),N);if(k===0){var M=e*(C.coordinate-e*T()/2-u);a[k]=C=Ft(Ft({},C),{},{tickCoord:M<0?C.coordinate-M*e:C.coordinate})}else a[k]=C=Ft(Ft({},C),{},{tickCoord:C.coordinate});if(C.tickCoord!=null){var E=Co(e,C.tickCoord,T,u,h);E&&(u=C.tickCoord+e*(T()/2+i),a[k]=Ft(Ft({},C),{},{isShow:!0}))}},_=0;_<y;_++)w(_);return a}function jv(e,t,n){var{tick:r,ticks:i,viewBox:s,minTickGap:a,orientation:l,interval:u,tickFormatter:h,unit:f,angle:m}=e;if(!i||!i.length||!r)return[];if(ie(u)||cd.isSsr){var g;return(g=MZ(i,ie(u)?u:0))!==null&&g!==void 0?g:[]}var v=[],y=l==="top"||l==="bottom"?"width":"height",w=f&&y==="width"?eo(f,{fontSize:t,letterSpacing:n}):{width:0,height:0},_=(N,T)=>{var M=typeof h=="function"?h(N.value,T):N.value;return y==="width"?OZ(eo(M,{fontSize:t,letterSpacing:n}),w,m):eo(M,{fontSize:t,letterSpacing:n})[y]},j=i[0],k=i[1],P=i.length>=2&&j!=null&&k!=null?sn(k.coordinate-j.coordinate):1,C=EZ(s,P,y);return u==="equidistantPreserveStart"?IZ(P,C,_,i,a):u==="equidistantPreserveEnd"?LZ(P,C,_,i,a):(u==="preserveStart"||u==="preserveStartEnd"?v=BZ(P,C,_,i,a,u==="preserveStartEnd"):v=zZ(P,C,_,i,a),v.filter(N=>N.isShow))}var FZ=e=>{var{ticks:t,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:s=0}=e,a=0;if(t){Array.from(t).forEach(f=>{if(f){var m=f.getBoundingClientRect();m.width>a&&(a=m.width)}});var l=n?n.getBoundingClientRect().width:0,u=i+s,h=a+u+l+(n?r:0);return Math.round(h)}return 0},UZ=["axisLine","width","height","className","hide","ticks","axisType"];function VZ(e,t){if(e==null)return{};var n,r,i=WZ(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function WZ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Qi(){return Qi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Qi.apply(null,arguments)}function r1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Xe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?r1(Object(n),!0).forEach(function(r){HZ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function HZ(e,t,n){return(t=KZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function KZ(e){var t=qZ(e,"string");return typeof t=="symbol"?t:t+""}function qZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Cr={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:At.axis};function GZ(e){var{x:t,y:n,width:r,height:i,orientation:s,mirror:a,axisLine:l,otherSvgProps:u}=e;if(!l)return null;var h=Xe(Xe(Xe({},u),Hn(l)),{},{fill:"none"});if(s==="top"||s==="bottom"){var f=+(s==="top"&&!a||s==="bottom"&&a);h=Xe(Xe({},h),{},{x1:t,y1:n+f*i,x2:t+r,y2:n+f*i})}else{var m=+(s==="left"&&!a||s==="right"&&a);h=Xe(Xe({},h),{},{x1:t+m*r,y1:n,x2:t+m*r,y2:n+i})}return b.createElement("line",Qi({},h,{className:Me("recharts-cartesian-axis-line",Hs(l,"className"))}))}function ZZ(e,t,n,r,i,s,a,l,u){var h,f,m,g,v,y,w=l?-1:1,_=e.tickSize||a,j=ie(e.tickCoord)?e.tickCoord:e.coordinate;switch(s){case"top":h=f=e.coordinate,g=n+ +!l*i,m=g-w*_,y=m-w*u,v=j;break;case"left":m=g=e.coordinate,f=t+ +!l*r,h=f-w*_,v=h-w*u,y=j;break;case"right":m=g=e.coordinate,f=t+ +l*r,h=f+w*_,v=h+w*u,y=j;break;default:h=f=e.coordinate,g=n+ +l*i,m=g+w*_,y=m+w*u,v=j;break}return{line:{x1:h,y1:m,x2:f,y2:g},tick:{x:v,y}}}function YZ(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function XZ(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function JZ(e){var{option:t,tickProps:n,value:r}=e,i,s=Me(n.className,"recharts-cartesian-axis-tick-value");if(b.isValidElement(t))i=b.cloneElement(t,Xe(Xe({},n),{},{className:s}));else if(typeof t=="function")i=t(Xe(Xe({},n),{},{className:s}));else{var a="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(a=Me(a,lG(t))),i=b.createElement(xv,Qi({},n,{className:a}),r)}return i}var QZ=b.forwardRef((e,t)=>{var{ticks:n=[],tick:r,tickLine:i,stroke:s,tickFormatter:a,unit:l,padding:u,tickTextProps:h,orientation:f,mirror:m,x:g,y:v,width:y,height:w,tickSize:_,tickMargin:j,fontSize:k,letterSpacing:P,getTicksConfig:C,events:N,axisType:T}=e,M=jv(Xe(Xe({},C),{},{ticks:n}),k,P),E=YZ(f,m),$=XZ(f,m),q=Hn(C),U=$o(r),R={};typeof i=="object"&&(R=i);var se=Xe(Xe({},q),{},{fill:"none"},R),Y=M.map(V=>Xe({entry:V},ZZ(V,g,v,y,w,f,_,m,j))),oe=Y.map(V=>{var{entry:z,line:J}=V;return b.createElement(kn,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(z.value,"-").concat(z.coordinate,"-").concat(z.tickCoord)},i&&b.createElement("line",Qi({},se,J,{className:Me("recharts-cartesian-axis-tick-line",Hs(i,"className"))})))}),I=Y.map((V,z)=>{var J,G,{entry:de,tick:je}=V,ve=Xe(Xe(Xe(Xe({verticalAnchor:$},q),{},{textAnchor:E,stroke:"none",fill:s},je),{},{index:z,payload:de,visibleTicksCount:M.length,tickFormatter:a,padding:u},h),{},{angle:(J=(G=h==null?void 0:h.angle)!==null&&G!==void 0?G:q.angle)!==null&&J!==void 0?J:0}),he=Xe(Xe({},ve),U);return b.createElement(kn,Qi({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(de.value,"-").concat(de.coordinate,"-").concat(de.tickCoord)},Zp(N,de,z)),r&&b.createElement(JZ,{option:r,tickProps:he,value:"".concat(typeof a=="function"?a(de.value,z):de.value).concat(l||"")}))});return b.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(T,"-ticks")},I.length>0&&b.createElement(Nn,{zIndex:At.label},b.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(T,"-tick-labels"),ref:t},I)),oe.length>0&&b.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(T,"-tick-lines")},oe))}),eY=b.forwardRef((e,t)=>{var{axisLine:n,width:r,height:i,className:s,hide:a,ticks:l,axisType:u}=e,h=VZ(e,UZ),[f,m]=b.useState(""),[g,v]=b.useState(""),y=b.useRef(null);b.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var _;return FZ({ticks:y.current,label:(_=e.labelRef)===null||_===void 0?void 0:_.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var w=b.useCallback(_=>{if(_){var j=_.getElementsByClassName("recharts-cartesian-axis-tick-value");y.current=j;var k=j[0];if(k){var P=window.getComputedStyle(k),C=P.fontSize,N=P.letterSpacing;(C!==f||N!==g)&&(m(C),v(N))}}},[f,g]);return a||r!=null&&r<=0||i!=null&&i<=0?null:b.createElement(Nn,{zIndex:e.zIndex},b.createElement(kn,{className:Me("recharts-cartesian-axis",s)},b.createElement(GZ,{x:e.x,y:e.y,width:r,height:i,orientation:e.orientation,mirror:e.mirror,axisLine:n,otherSvgProps:Hn(e)}),b.createElement(QZ,{ref:w,axisType:u,events:h,fontSize:f,getTicksConfig:e,height:e.height,letterSpacing:g,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:l,unit:e.unit,width:e.width,x:e.x,y:e.y}),b.createElement(Fq,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},b.createElement(Xq,{label:e.label,labelRef:e.labelRef}),e.children)))}),Pv=b.forwardRef((e,t)=>{var n=en(e,Cr);return b.createElement(eY,Qi({},n,{ref:t}))});Pv.displayName="CartesianAxis";var tY=["x1","y1","x2","y2","key"],nY=["offset"],rY=["xAxisId","yAxisId"],iY=["xAxisId","yAxisId"];function i1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ut(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?i1(Object(n),!0).forEach(function(r){sY(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function sY(e,t,n){return(t=aY(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function aY(e){var t=oY(e,"string");return typeof t=="symbol"?t:t+""}function oY(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Fi(){return Fi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Fi.apply(null,arguments)}function gu(e,t){if(e==null)return{};var n,r,i=lY(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function lY(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var cY=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:n,x:r,y:i,width:s,height:a,ry:l}=e;return b.createElement("rect",{x:r,y:i,ry:l,width:s,height:a,stroke:"none",fill:t,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function cT(e){var{option:t,lineItemProps:n}=e,r;if(b.isValidElement(t))r=b.cloneElement(t,n);else if(typeof t=="function")r=t(n);else{var i,{x1:s,y1:a,x2:l,y2:u,key:h}=n,f=gu(n,tY),m=(i=Hn(f))!==null&&i!==void 0?i:{},{offset:g}=m,v=gu(m,nY);r=b.createElement("line",Fi({},v,{x1:s,y1:a,x2:l,y2:u,fill:"none",key:h}))}return r}function uY(e){var{x:t,width:n,horizontal:r=!0,horizontalPoints:i}=e;if(!r||!i||!i.length)return null;var{xAxisId:s,yAxisId:a}=e,l=gu(e,rY),u=i.map((h,f)=>{var m=Ut(Ut({},l),{},{x1:t,y1:h,x2:t+n,y2:h,key:"line-".concat(f),index:f});return b.createElement(cT,{key:"line-".concat(f),option:r,lineItemProps:m})});return b.createElement("g",{className:"recharts-cartesian-grid-horizontal"},u)}function dY(e){var{y:t,height:n,vertical:r=!0,verticalPoints:i}=e;if(!r||!i||!i.length)return null;var{xAxisId:s,yAxisId:a}=e,l=gu(e,iY),u=i.map((h,f)=>{var m=Ut(Ut({},l),{},{x1:h,y1:t,x2:h,y2:t+n,key:"line-".concat(f),index:f});return b.createElement(cT,{option:r,lineItemProps:m,key:"line-".concat(f)})});return b.createElement("g",{className:"recharts-cartesian-grid-vertical"},u)}function hY(e){var{horizontalFill:t,fillOpacity:n,x:r,y:i,width:s,height:a,horizontalPoints:l,horizontal:u=!0}=e;if(!u||!t||!t.length||l==null)return null;var h=l.map(m=>Math.round(m+i-i)).sort((m,g)=>m-g);i!==h[0]&&h.unshift(0);var f=h.map((m,g)=>{var v=h[g+1],y=v==null,w=y?i+a-m:v-m;if(w<=0)return null;var _=g%t.length;return b.createElement("rect",{key:"react-".concat(g),y:m,x:r,height:w,width:s,stroke:"none",fill:t[_],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return b.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function fY(e){var{vertical:t=!0,verticalFill:n,fillOpacity:r,x:i,y:s,width:a,height:l,verticalPoints:u}=e;if(!t||!n||!n.length)return null;var h=u.map(m=>Math.round(m+i-i)).sort((m,g)=>m-g);i!==h[0]&&h.unshift(0);var f=h.map((m,g)=>{var v=h[g+1],y=v==null,w=y?i+a-m:v-m;if(w<=0)return null;var _=g%n.length;return b.createElement("rect",{key:"react-".concat(g),x:m,y:s,width:w,height:l,stroke:"none",fill:n[_],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return b.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var mY=(e,t)=>{var{xAxis:n,width:r,height:i,offset:s}=e;return N2(jv(Ut(Ut(Ut({},Cr),n),{},{ticks:O2(n),viewBox:{x:0,y:0,width:r,height:i}})),s.left,s.left+s.width,t)},pY=(e,t)=>{var{yAxis:n,width:r,height:i,offset:s}=e;return N2(jv(Ut(Ut(Ut({},Cr),n),{},{ticks:O2(n),viewBox:{x:0,y:0,width:r,height:i}})),s.top,s.top+s.height,t)},gY={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:At.grid};function kv(e){var t=B2(),n=F2(),r=z2(),i=Ut(Ut({},en(e,gY)),{},{x:ie(e.x)?e.x:r.left,y:ie(e.y)?e.y:r.top,width:ie(e.width)?e.width:r.width,height:ie(e.height)?e.height:r.height}),{xAxisId:s,yAxisId:a,x:l,y:u,width:h,height:f,syncWithTicks:m,horizontalValues:g,verticalValues:v}=i,y=Ht(),w=ce($=>o_($,"xAxis",s,y)),_=ce($=>o_($,"yAxis",a,y));if(!hr(h)||!hr(f)||!ie(l)||!ie(u))return null;var j=i.verticalCoordinatesGenerator||mY,k=i.horizontalCoordinatesGenerator||pY,{horizontalPoints:P,verticalPoints:C}=i;if((!P||!P.length)&&typeof k=="function"){var N=g&&g.length,T=k({yAxis:_?Ut(Ut({},_),{},{ticks:N?g:_.ticks}):void 0,width:t??h,height:n??f,offset:r},N?!0:m);Uc(Array.isArray(T),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof T,"]")),Array.isArray(T)&&(P=T)}if((!C||!C.length)&&typeof j=="function"){var M=v&&v.length,E=j({xAxis:w?Ut(Ut({},w),{},{ticks:M?v:w.ticks}):void 0,width:t??h,height:n??f,offset:r},M?!0:m);Uc(Array.isArray(E),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof E,"]")),Array.isArray(E)&&(C=E)}return b.createElement(Nn,{zIndex:i.zIndex},b.createElement("g",{className:"recharts-cartesian-grid"},b.createElement(cY,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),b.createElement(hY,Fi({},i,{horizontalPoints:P})),b.createElement(fY,Fi({},i,{verticalPoints:C})),b.createElement(uY,Fi({},i,{offset:r,horizontalPoints:P,xAxis:w,yAxis:_})),b.createElement(dY,Fi({},i,{offset:r,verticalPoints:C,xAxis:w,yAxis:_}))))}kv.displayName="CartesianGrid";var vY={},uT=ln({name:"errorBars",initialState:vY,reducers:{addErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]||(e[n]=[]),e[n].push(r)},replaceErrorBar:(e,t)=>{var{itemId:n,prev:r,next:i}=t.payload;e[n]&&(e[n]=e[n].map(s=>s.dataKey===r.dataKey&&s.direction===r.direction?i:s))},removeErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]&&(e[n]=e[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:ste,replaceErrorBar:ate,removeErrorBar:ote}=uT.actions,yY=uT.reducer,xY=["children"];function bY(e,t){if(e==null)return{};var n,r,i=wY(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function wY(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var _Y={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},SY=b.createContext(_Y);function dT(e){var{children:t}=e,n=bY(e,xY);return b.createElement(SY.Provider,{value:n},t)}function Av(e,t){var n,r,i=ce(h=>Wr(h,e)),s=ce(h=>Hr(h,t)),a=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:St.allowDataOverflow,l=(r=s==null?void 0:s.allowDataOverflow)!==null&&r!==void 0?r:jt.allowDataOverflow,u=a||l;return{needClip:u,needClipX:a,needClipY:l}}function hT(e){var{xAxisId:t,yAxisId:n,clipPathId:r}=e,i=Sv(),{needClipX:s,needClipY:a,needClip:l}=Av(t,n);if(!l||!i)return null;var{x:u,y:h,width:f,height:m}=i;return b.createElement("clipPath",{id:"clipPath-".concat(r)},b.createElement("rect",{x:s?u:u-f/2,y:a?h:h-m/2,width:s?f:f*2,height:a?m:m*2}))}var fT=(e,t,n,r)=>ui(e,"xAxis",t,r),mT=(e,t,n,r)=>ci(e,"xAxis",t,r),pT=(e,t,n,r)=>ui(e,"yAxis",n,r),gT=(e,t,n,r)=>ci(e,"yAxis",n,r),jY=B([Ie,fT,pT,mT,gT],(e,t,n,r,i)=>zr(e,"xAxis")?Gs(t,r,!1):Gs(n,i,!1)),PY=(e,t,n,r,i)=>i;function kY(e){return e.type==="line"}var AY=B([kd,PY],(e,t)=>e.filter(kY).find(n=>n.id===t)),CY=B([Ie,fT,pT,mT,gT,AY,jY,Ug],(e,t,n,r,i,s,a,l)=>{var{chartData:u,dataStartIndex:h,dataEndIndex:f}=l;if(!(s==null||t==null||n==null||r==null||i==null||r.length===0||i.length===0||a==null||e!=="horizontal"&&e!=="vertical")){var{dataKey:m,data:g}=s,v;if(g!=null&&g.length>0?v=g:v=u==null?void 0:u.slice(h,f+1),v!=null)return xX({layout:e,xAxis:t,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataKey:m,bandSize:a,displayedData:v})}});function TY(e){var t=$o(e),n=3,r=2;if(t!=null){var{r:i,strokeWidth:s}=t,a=Number(i),l=Number(s);return(Number.isNaN(a)||a<0)&&(a=n),(Number.isNaN(l)||l<0)&&(l=r),{r:a,strokeWidth:l}}return{r:n,strokeWidth:r}}var NY={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tl=b;function OY(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var EY=typeof Object.is=="function"?Object.is:OY,MY=tl.useSyncExternalStore,IY=tl.useRef,LY=tl.useEffect,DY=tl.useMemo,RY=tl.useDebugValue;NY.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var s=IY(null);if(s.current===null){var a={hasValue:!1,value:null};s.current=a}else a=s.current;s=DY(function(){function u(v){if(!h){if(h=!0,f=v,v=r(v),i!==void 0&&a.hasValue){var y=a.value;if(i(y,v))return m=y}return m=v}if(y=m,EY(f,v))return y;var w=r(v);return i!==void 0&&i(y,w)?(f=v,y):(f=v,m=w)}var h=!1,f,m,g=n===void 0?null:n;return[function(){return u(t())},g===null?void 0:function(){return u(g())}]},[t,n,r,i]);var l=MY(e,s[0],s[1]);return LY(function(){a.hasValue=!0,a.value=l},[l]),RY(l),l};function $Y(e){e()}function zY(){let e=null,t=null;return{clear(){e=null,t=null},notify(){$Y(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=t={callback:n,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!r||e===null||(r=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var s1={notify(){},get:()=>[]};function BY(e,t){let n,r=s1,i=0,s=!1;function a(w){f();const _=r.subscribe(w);let j=!1;return()=>{j||(j=!0,_(),m())}}function l(){r.notify()}function u(){y.onStateChange&&y.onStateChange()}function h(){return s}function f(){i++,n||(n=e.subscribe(u),r=zY())}function m(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=s1)}function g(){s||(s=!0,f())}function v(){s&&(s=!1,m())}const y={addNestedSub:a,notifyNestedSubs:l,handleChangeWrapper:u,isSubscribed:h,trySubscribe:g,tryUnsubscribe:v,getListeners:()=>r};return y}var FY=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",UY=FY(),VY=()=>typeof navigator<"u"&&navigator.product==="ReactNative",WY=VY(),HY=()=>UY||WY?b.useLayoutEffect:b.useEffect,KY=HY();function a1(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function qY(e,t){if(a1(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(t,n[i])||!a1(e[n[i]],t[n[i]]))return!1;return!0}var yf=Symbol.for("react-redux-context"),xf=typeof globalThis<"u"?globalThis:{};function GY(){if(!b.createContext)return{};const e=xf[yf]??(xf[yf]=new Map);let t=e.get(b.createContext);return t||(t=b.createContext(null),e.set(b.createContext,t)),t}var ZY=GY();function YY(e){const{children:t,context:n,serverState:r,store:i}=e,s=b.useMemo(()=>{const u=BY(i);return{store:i,subscription:u,getServerState:r?()=>r:void 0}},[i,r]),a=b.useMemo(()=>i.getState(),[i]);KY(()=>{const{subscription:u}=s;return u.onStateChange=u.notifyNestedSubs,u.trySubscribe(),a!==i.getState()&&u.notifyNestedSubs(),()=>{u.tryUnsubscribe(),u.onStateChange=void 0}},[s,a]);const l=n||ZY;return b.createElement(l.Provider,{value:s},t)}var XY=YY,JY=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function QY(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function Fd(e,t){var n=new Set([...Object.keys(e),...Object.keys(t)]);for(var r of n)if(JY.has(r)){if(e[r]==null&&t[r]==null)continue;if(!qY(e[r],t[r]))return!1}else if(!QY(e[r],t[r]))return!1;return!0}var eX=["id"],tX=["type","layout","connectNulls","needClip","shape"],nX=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function To(){return To=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},To.apply(null,arguments)}function o1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function nr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?o1(Object(n),!0).forEach(function(r){rX(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function rX(e,t,n){return(t=iX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function iX(e){var t=sX(e,"string");return typeof t=="symbol"?t:t+""}function sX(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Cv(e,t){if(e==null)return{};var n,r,i=aX(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function aX(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var oX=e=>{var{dataKey:t,name:n,stroke:r,legendType:i,hide:s}=e;return[{inactive:s,dataKey:t,type:i,color:r,value:ed(n,t),payload:e}]},lX=b.memo(e=>{var{dataKey:t,data:n,stroke:r,strokeWidth:i,fill:s,name:a,hide:l,unit:u,tooltipType:h,id:f}=e,m={dataDefinedOnItem:n,getPosition:es,settings:{stroke:r,strokeWidth:i,fill:s,dataKey:t,nameKey:void 0,name:ed(a,t),hide:l,type:h,color:r,unit:u,graphicalItemId:f}};return b.createElement(QC,{tooltipEntrySettings:m})}),vT=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function cX(e,t){for(var n=e.length%2!==0?[...e,0]:e,r=[],i=0;i<t;++i)r=[...r,...n];return r}var uX=(e,t,n)=>{var r=n.reduce((v,y)=>v+y);if(!r)return vT(t,e);for(var i=Math.floor(e/r),s=e%r,a=t-e,l=[],u=0,h=0;u<n.length;h+=(f=n[u])!==null&&f!==void 0?f:0,++u){var f,m=n[u];if(m!=null&&h+m>s){l=[...n.slice(0,u),s-h];break}}var g=l.length%2===0?[0,a]:[a];return[...cX(n,i),...l,...g].map(v=>"".concat(v,"px")).join(", ")};function dX(e){var{clipPathId:t,points:n,props:r}=e,{dot:i,dataKey:s,needClip:a}=r,{id:l}=r,u=Cv(r,eX),h=Hn(u);return b.createElement(qG,{points:n,dot:i,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:s,baseProps:h,needClip:a,clipPathId:t})}function hX(e){var{showLabels:t,children:n,points:r}=e,i=b.useMemo(()=>r==null?void 0:r.map(s=>{var a,l,u={x:(a=s.x)!==null&&a!==void 0?a:0,y:(l=s.y)!==null&&l!==void 0?l:0,width:0,lowerWidth:0,upperWidth:0,height:0};return nr(nr({},u),{},{value:s.value,payload:s.payload,viewBox:u,parentViewBox:void 0,fill:void 0})}),[r]);return b.createElement(BC,{value:t?i:void 0},n)}function l1(e){var{clipPathId:t,pathRef:n,points:r,strokeDasharray:i,props:s}=e,{type:a,layout:l,connectNulls:u,needClip:h,shape:f}=s,m=Cv(s,tX),g=nr(nr({},Jt(m)),{},{fill:"none",className:"recharts-line-curve",clipPath:h?"url(#clipPath-".concat(t,")"):void 0,points:r,type:a,layout:l,connectNulls:u,strokeDasharray:i??s.strokeDasharray});return b.createElement(b.Fragment,null,(r==null?void 0:r.length)>1&&b.createElement(ZC,To({shapeType:"curve",option:f},g,{pathRef:n})),b.createElement(dX,{points:r,clipPathId:t,props:s}))}function fX(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function mX(e){var{clipPathId:t,props:n,pathRef:r,previousPointsRef:i,longestAnimatedLengthRef:s}=e,{points:a,strokeDasharray:l,isAnimationActive:u,animationBegin:h,animationDuration:f,animationEasing:m,animateNewValues:g,width:v,height:y,onAnimationEnd:w,onAnimationStart:_}=n,j=i.current,k=dd(a,"recharts-line-"),P=b.useRef(k),[C,N]=b.useState(!1),T=!C,M=b.useCallback(()=>{typeof w=="function"&&w(),N(!1)},[w]),E=b.useCallback(()=>{typeof _=="function"&&_(),N(!0)},[_]),$=fX(r.current),q=b.useRef(0);P.current!==k&&(q.current=s.current,P.current=k);var U=q.current;return b.createElement(hX,{points:a,showLabels:T},n.children,b.createElement(ud,{animationId:k,begin:h,duration:f,isActive:u,easing:m,onAnimationEnd:M,onAnimationStart:E,key:k},R=>{var se=et(U,$+U,R),Y=Math.min(se,$),oe;if(u)if(l){var I="".concat(l).split(/[,\s]+/gim).map(J=>parseFloat(J));oe=uX(Y,$,I)}else oe=vT($,Y);else oe=l==null?void 0:String(l);if(R>0&&$>0&&(i.current=a,s.current=Math.max(s.current,Y)),j){var V=j.length/a.length,z=R===1?a:a.map((J,G)=>{var de=Math.floor(G*V);if(j[de]){var je=j[de];return nr(nr({},J),{},{x:et(je.x,J.x,R),y:et(je.y,J.y,R)})}return g?nr(nr({},J),{},{x:et(v*2,J.x,R),y:et(y/2,J.y,R)}):nr(nr({},J),{},{x:J.x,y:J.y})});return i.current=z,b.createElement(l1,{props:n,points:z,clipPathId:t,pathRef:r,strokeDasharray:oe})}return b.createElement(l1,{props:n,points:a,clipPathId:t,pathRef:r,strokeDasharray:oe})}),b.createElement(UC,{label:n.label}))}function pX(e){var{clipPathId:t,props:n}=e,r=b.useRef(null),i=b.useRef(0),s=b.useRef(null);return b.createElement(mX,{props:n,clipPathId:t,previousPointsRef:r,longestAnimatedLengthRef:i,pathRef:s})}var gX=(e,t)=>{var n,r;return{x:(n=e.x)!==null&&n!==void 0?n:void 0,y:(r=e.y)!==null&&r!==void 0?r:void 0,value:e.value,errorVal:ot(e.payload,t)}};class vX extends b.Component{render(){var{hide:t,dot:n,points:r,className:i,xAxisId:s,yAxisId:a,top:l,left:u,width:h,height:f,id:m,needClip:g,zIndex:v}=this.props;if(t)return null;var y=Me("recharts-line",i),w=m,{r:_,strokeWidth:j}=TY(n),k=qC(n),P=_*2+j,C=g?"url(#clipPath-".concat(k?"":"dots-").concat(w,")"):void 0;return b.createElement(Nn,{zIndex:v},b.createElement(kn,{className:y},g&&b.createElement("defs",null,b.createElement(hT,{clipPathId:w,xAxisId:s,yAxisId:a}),!k&&b.createElement("clipPath",{id:"clipPath-dots-".concat(w)},b.createElement("rect",{x:u-P/2,y:l-P/2,width:h+P,height:f+P}))),b.createElement(dT,{xAxisId:s,yAxisId:a,data:r,dataPointFormatter:gX,errorBarOffset:0},b.createElement(pX,{props:this.props,clipPathId:w}))),b.createElement(fZ,{activeDot:this.props.activeDot,points:r,mainColor:this.props.stroke,itemDataKey:this.props.dataKey,clipPath:C}))}}var yT={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:"auto",label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:At.line,type:"linear"};function yX(e){var t=en(e,yT),{activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:s,animationEasing:a,connectNulls:l,dot:u,hide:h,isAnimationActive:f,label:m,legendType:g,xAxisId:v,yAxisId:y,id:w}=t,_=Cv(t,nX),{needClip:j}=Av(v,y),k=Sv(),P=ts(),C=Ht(),N=ce(q=>CY(q,v,y,C,w));if(P!=="horizontal"&&P!=="vertical"||N==null||k==null)return null;var{height:T,width:M,x:E,y:$}=k;return b.createElement(vX,To({},_,{id:w,connectNulls:l,dot:u,activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:s,animationEasing:a,isAnimationActive:f,hide:h,label:m,legendType:g,xAxisId:v,yAxisId:y,points:N,layout:P,height:T,width:M,left:E,top:$,needClip:j}))}function xX(e){var{layout:t,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:s,dataKey:a,bandSize:l,displayedData:u}=e;return u.map((h,f)=>{var m=ot(h,a);if(t==="horizontal"){var g=mb({axis:n,ticks:i,bandSize:l,entry:h,index:f}),v=Ze(m)?null:r.scale.map(m);return{x:g,y:v??null,value:m,payload:h}}var y=Ze(m)?null:n.scale.map(m),w=mb({axis:r,ticks:s,bandSize:l,entry:h,index:f});return y==null||w==null?null:{x:y,y:w,value:m,payload:h}}).filter(Boolean)}function bX(e){var t=en(e,yT),n=Ht();return b.createElement(tT,{id:t.id,type:"line"},r=>b.createElement(b.Fragment,null,b.createElement(eT,{legendPayload:oX(t)}),b.createElement(lX,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:r}),b.createElement(rT,{type:"line",id:r,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:n}),b.createElement(yX,To({},t,{id:r}))))}var vu=b.memo(bX,Fd);vu.displayName="Line";function is(e,t){var n,r;return(n=(r=e.graphicalItems.cartesianItems.find(i=>i.id===t))===null||r===void 0?void 0:r.xAxisId)!==null&&n!==void 0?n:iT}function ss(e,t){var n,r;return(n=(r=e.graphicalItems.cartesianItems.find(i=>i.id===t))===null||r===void 0?void 0:r.yAxisId)!==null&&n!==void 0?n:iT}var wX="Invariant failed";function _X(e,t){throw new Error(wX)}function Xm(){return Xm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Xm.apply(null,arguments)}function yu(e){return b.createElement(ZC,Xm({shapeType:"rectangle",activeClassName:"recharts-active-bar"},e))}var SX=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,i)=>{if(ie(t))return t;var s=ie(r)||Ze(r);return s?t(r,i):(s||_X(),n)}},jX=(e,t,n)=>n,PX=(e,t)=>t,nl=B([kd,PX],(e,t)=>e.filter(n=>n.type==="bar").find(n=>n.id===t)),kX=B([nl],e=>e==null?void 0:e.maxBarSize),AX=(e,t,n,r)=>r,CX=B([Ie,kd,is,ss,jX],(e,t,n,r,i)=>t.filter(s=>e==="horizontal"?s.xAxisId===n:s.yAxisId===r).filter(s=>s.isPanorama===i).filter(s=>s.hide===!1).filter(s=>s.type==="bar")),TX=(e,t,n)=>{var r=Ie(e),i=is(e,t),s=ss(e,t);if(!(i==null||s==null))return r==="horizontal"?Wm(e,"yAxis",s,n):Wm(e,"xAxis",i,n)},NX=(e,t)=>{var n=Ie(e),r=is(e,t),i=ss(e,t);if(!(r==null||i==null))return n==="horizontal"?a_(e,"xAxis",r):a_(e,"yAxis",i)},OX=B([CX,D7,NX],mZ),EX=(e,t,n)=>{var r,i,s=nl(e,t);if(s==null)return 0;var a=is(e,t),l=ss(e,t);if(a==null||l==null)return 0;var u=Ie(e),h=nA(e),{maxBarSize:f}=s,m=Ze(f)?h:f,g,v;return u==="horizontal"?(g=ui(e,"xAxis",a,n),v=ci(e,"xAxis",a,n)):(g=ui(e,"yAxis",l,n),v=ci(e,"yAxis",l,n)),(r=(i=Gs(g,v,!0))!==null&&i!==void 0?i:m)!==null&&r!==void 0?r:0},xT=(e,t,n)=>{var r=Ie(e),i=is(e,t),s=ss(e,t);if(!(i==null||s==null)){var a,l;return r==="horizontal"?(a=ui(e,"xAxis",i,n),l=ci(e,"xAxis",i,n)):(a=ui(e,"yAxis",s,n),l=ci(e,"yAxis",s,n)),Gs(a,l)}},MX=B([OX,nA,L7,rA,EX,xT,kX],xZ),IX=(e,t,n)=>{var r=is(e,t);if(r!=null)return ui(e,"xAxis",r,n)},LX=(e,t,n)=>{var r=ss(e,t);if(r!=null)return ui(e,"yAxis",r,n)},DX=(e,t,n)=>{var r=is(e,t);if(r!=null)return ci(e,"xAxis",r,n)},RX=(e,t,n)=>{var r=ss(e,t);if(r!=null)return ci(e,"yAxis",r,n)},$X=B([MX,nl],wZ),zX=B([TX,nl],bZ),BX=B([Ct,fg,IX,LX,DX,RX,$X,Ie,A7,xT,zX,nl,AX],(e,t,n,r,i,s,a,l,u,h,f,m,g)=>{var{chartData:v,dataStartIndex:y,dataEndIndex:w}=u;if(!(m==null||a==null||t==null||l!=="horizontal"&&l!=="vertical"||n==null||r==null||i==null||s==null||h==null)){var{data:_}=m,j;if(_!=null&&_.length>0?j=_:j=v==null?void 0:v.slice(y,w+1),j!=null)return mJ({layout:l,barSettings:m,pos:a,parentViewBox:t,bandSize:h,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:s,stackedData:f,displayedData:j,offset:e,cells:g,dataStartIndex:y})}}),FX=["index"];function Jm(){return Jm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Jm.apply(null,arguments)}function UX(e,t){if(e==null)return{};var n,r,i=VX(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function VX(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var bT=b.createContext(void 0),WX=e=>{var t=b.useContext(bT);if(t!=null)return t.stackId;if(e!=null)return $6(e)},HX=(e,t)=>"recharts-bar-stack-clip-path-".concat(e,"-").concat(t),KX=e=>{var t=b.useContext(bT);if(t!=null){var{stackId:n}=t;return"url(#".concat(HX(n,e),")")}},wT=e=>{var{index:t}=e,n=UX(e,FX),r=KX(t);return b.createElement(kn,Jm({className:"recharts-bar-stack-layer",clipPath:r},n))},qX=["onMouseEnter","onMouseLeave","onClick"],GX=["value","background","tooltipPosition"],ZX=["id"],YX=["onMouseEnter","onClick","onMouseLeave"];function Dr(){return Dr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Dr.apply(null,arguments)}function c1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function qt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?c1(Object(n),!0).forEach(function(r){XX(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function XX(e,t,n){return(t=JX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function JX(e){var t=QX(e,"string");return typeof t=="symbol"?t:t+""}function QX(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xu(e,t){if(e==null)return{};var n,r,i=eJ(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function eJ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var tJ=e=>{var{dataKey:t,name:n,fill:r,legendType:i,hide:s}=e;return[{inactive:s,dataKey:t,type:i,color:r,value:ed(n,t),payload:e}]},nJ=b.memo(e=>{var{dataKey:t,stroke:n,strokeWidth:r,fill:i,name:s,hide:a,unit:l,tooltipType:u,id:h}=e,f={dataDefinedOnItem:void 0,getPosition:es,settings:{stroke:n,strokeWidth:r,fill:i,dataKey:t,nameKey:void 0,name:ed(s,t),hide:a,type:u,color:i,unit:l,graphicalItemId:h}};return b.createElement(QC,{tooltipEntrySettings:f})});function rJ(e){var t=ce(Ji),{data:n,dataKey:r,background:i,allOtherBarProps:s}=e,{onMouseEnter:a,onMouseLeave:l,onClick:u}=s,h=xu(s,qX),f=YC(a,r,s.id),m=XC(l),g=JC(u,r,s.id);if(!i||n==null)return null;var v=$o(i);return b.createElement(Nn,{zIndex:_Z(i,At.barBackground)},n.map((y,w)=>{var{value:_,background:j,tooltipPosition:k}=y,P=xu(y,GX);if(!j)return null;var C=f(y,w),N=m(y,w),T=g(y,w),M=qt(qt(qt(qt(qt({option:i,isActive:String(w)===t},P),{},{fill:"#eee"},j),v),Zp(h,y,w)),{},{onMouseEnter:C,onMouseLeave:N,onClick:T,dataKey:r,index:w,className:"recharts-bar-background-rectangle"});return b.createElement(yu,Dr({key:"background-bar-".concat(w)},M))}))}function iJ(e){var{showLabels:t,children:n,rects:r}=e,i=r==null?void 0:r.map(s=>{var a={x:s.x,y:s.y,width:s.width,lowerWidth:s.width,upperWidth:s.width,height:s.height};return qt(qt({},a),{},{value:s.value,payload:s.payload,parentViewBox:s.parentViewBox,viewBox:a,fill:s.fill})});return b.createElement(BC,{value:t?i:void 0},n)}function sJ(e){var{shape:t,activeBar:n,baseProps:r,entry:i,index:s,dataKey:a}=e,l=ce(Ji),u=ce(mC),h=n&&String(s)===l&&(u==null||a===u),f=h?n:t;return h?b.createElement(Nn,{zIndex:At.activeBar},b.createElement(wT,{index:s},b.createElement(yu,Dr({},r,{name:String(r.name)},i,{isActive:h,option:f,index:s,dataKey:a})))):b.createElement(yu,Dr({},r,{name:String(r.name)},i,{isActive:h,option:f,index:s,dataKey:a}))}function aJ(e){var{shape:t,baseProps:n,entry:r,index:i,dataKey:s}=e;return b.createElement(yu,Dr({},n,{name:String(n.name)},r,{isActive:!1,option:t,index:i,dataKey:s}))}function oJ(e){var t,{data:n,props:r}=e,i=(t=Hn(r))!==null&&t!==void 0?t:{},{id:s}=i,a=xu(i,ZX),{shape:l,dataKey:u,activeBar:h}=r,{onMouseEnter:f,onClick:m,onMouseLeave:g}=r,v=xu(r,YX),y=YC(f,u,s),w=XC(g),_=JC(m,u,s);return n?b.createElement(b.Fragment,null,n.map((j,k)=>b.createElement(wT,Dr({index:k,key:"rectangle-".concat(j==null?void 0:j.x,"-").concat(j==null?void 0:j.y,"-").concat(j==null?void 0:j.value,"-").concat(k),className:"recharts-bar-rectangle"},Zp(v,j,k),{onMouseEnter:y(j,k),onMouseLeave:w(j,k),onClick:_(j,k)}),h?b.createElement(sJ,{shape:l,activeBar:h,baseProps:a,entry:j,index:k,dataKey:u}):b.createElement(aJ,{shape:l,baseProps:a,entry:j,index:k,dataKey:u})))):null}function lJ(e){var{props:t,previousRectanglesRef:n}=e,{data:r,layout:i,isAnimationActive:s,animationBegin:a,animationDuration:l,animationEasing:u,onAnimationEnd:h,onAnimationStart:f}=t,m=n.current,g=dd(t,"recharts-bar-"),[v,y]=b.useState(!1),w=!v,_=b.useCallback(()=>{typeof h=="function"&&h(),y(!1)},[h]),j=b.useCallback(()=>{typeof f=="function"&&f(),y(!0)},[f]);return b.createElement(iJ,{showLabels:w,rects:r},b.createElement(ud,{animationId:g,begin:a,duration:l,isActive:s,easing:u,onAnimationEnd:_,onAnimationStart:j,key:g},k=>{var P=k===1?r:r==null?void 0:r.map((C,N)=>{var T=m&&m[N];if(T)return qt(qt({},C),{},{x:et(T.x,C.x,k),y:et(T.y,C.y,k),width:et(T.width,C.width,k),height:et(T.height,C.height,k)});if(i==="horizontal"){var M=et(0,C.height,k),E=et(C.stackedBarStart,C.y,k);return qt(qt({},C),{},{y:E,height:M})}var $=et(0,C.width,k),q=et(C.stackedBarStart,C.x,k);return qt(qt({},C),{},{width:$,x:q})});return k>0&&(n.current=P??null),P==null?null:b.createElement(kn,null,b.createElement(oJ,{props:t,data:P}))}),b.createElement(UC,{label:t.label}),t.children)}function cJ(e){var t=b.useRef(null);return b.createElement(lJ,{previousRectanglesRef:t,props:e})}var _T=0,uJ=(e,t)=>{var n=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:n,errorVal:ot(e,t)}};class dJ extends b.PureComponent{render(){var{hide:t,data:n,dataKey:r,className:i,xAxisId:s,yAxisId:a,needClip:l,background:u,id:h}=this.props;if(t||n==null)return null;var f=Me("recharts-bar",i),m=h;return b.createElement(kn,{className:f,id:h},l&&b.createElement("defs",null,b.createElement(hT,{clipPathId:m,xAxisId:s,yAxisId:a})),b.createElement(kn,{className:"recharts-bar-rectangles",clipPath:l?"url(#clipPath-".concat(m,")"):void 0},b.createElement(rJ,{data:n,dataKey:r,background:u,allOtherBarProps:this.props}),b.createElement(cJ,this.props)))}}var hJ={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:_T,xAxisId:0,yAxisId:0,zIndex:At.bar};function fJ(e){var{xAxisId:t,yAxisId:n,hide:r,legendType:i,minPointSize:s,activeBar:a,animationBegin:l,animationDuration:u,animationEasing:h,isAnimationActive:f}=e,{needClip:m}=Av(t,n),g=ts(),v=Ht(),y=hG(e.children,yv),w=ce(k=>BX(k,e.id,v,y));if(g!=="vertical"&&g!=="horizontal")return null;var _,j=w==null?void 0:w[0];return j==null||j.height==null||j.width==null?_=0:_=g==="vertical"?j.height/2:j.width/2,b.createElement(dT,{xAxisId:t,yAxisId:n,data:w,dataPointFormatter:uJ,errorBarOffset:_},b.createElement(dJ,Dr({},e,{layout:g,needClip:m,data:w,xAxisId:t,yAxisId:n,hide:r,legendType:i,minPointSize:s,activeBar:a,animationBegin:l,animationDuration:u,animationEasing:h,isAnimationActive:f})))}function mJ(e){var{layout:t,barSettings:{dataKey:n,minPointSize:r},pos:i,bandSize:s,xAxis:a,yAxis:l,xAxisTicks:u,yAxisTicks:h,stackedData:f,displayedData:m,offset:g,cells:v,parentViewBox:y,dataStartIndex:w}=e,_=t==="horizontal"?l:a,j=f?_.scale.domain():null,k=z6({numericAxis:_}),P=_.scale.map(k);return m.map((C,N)=>{var T,M,E,$,q,U;if(f){var R=f[N+w];if(R==null)return null;T=M6(R,j)}else T=ot(C,n),Array.isArray(T)||(T=[k,T]);var se=SX(r,_T)(T[1],N);if(t==="horizontal"){var Y,oe=l.scale.map(T[0]),I=l.scale.map(T[1]);if(oe==null||I==null)return null;M=pb({axis:a,ticks:u,bandSize:s,offset:i.offset,entry:C,index:N}),E=(Y=I??oe)!==null&&Y!==void 0?Y:void 0,$=i.size;var V=oe-I;if(q=ur(V)?0:V,U={x:M,y:g.top,width:$,height:g.height},Math.abs(se)>0&&Math.abs(q)<Math.abs(se)){var z=sn(q||se)*(Math.abs(se)-Math.abs(q));E-=z,q+=z}}else{var J=a.scale.map(T[0]),G=a.scale.map(T[1]);if(J==null||G==null)return null;if(M=J,E=pb({axis:l,ticks:h,bandSize:s,offset:i.offset,entry:C,index:N}),$=G-J,q=i.size,U={x:g.left,y:E,width:g.width,height:q},Math.abs(se)>0&&Math.abs($)<Math.abs(se)){var de=sn($||se)*(Math.abs(se)-Math.abs($));$+=de}}if(M==null||E==null||$==null||q==null)return null;var je=qt(qt({},C),{},{stackedBarStart:P,x:M,y:E,width:$,height:q,value:f?T:T[1],payload:C,background:U,tooltipPosition:{x:M+$/2,y:E+q/2},parentViewBox:y},v&&v[N]&&v[N].props);return je}).filter(Boolean)}function pJ(e){var t=en(e,hJ),n=WX(t.stackId),r=Ht();return b.createElement(tT,{id:t.id,type:"bar"},i=>b.createElement(b.Fragment,null,b.createElement(eT,{legendPayload:tJ(t)}),b.createElement(nJ,{dataKey:t.dataKey,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:i}),b.createElement(rT,{type:"bar",id:i,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:n,hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:r}),b.createElement(Nn,{zIndex:t.zIndex},b.createElement(fJ,Dr({},t,{id:i})))))}var ST=b.memo(pJ,Fd);ST.displayName="Bar";var gJ=["domain","range"],vJ=["domain","range"];function u1(e,t){if(e==null)return{};var n,r,i=yJ(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function yJ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function d1(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function jT(e,t){if(e===t)return!0;var{domain:n,range:r}=e,i=u1(e,gJ),{domain:s,range:a}=t,l=u1(t,vJ);return!d1(n,s)||!d1(r,a)?!1:Fd(i,l)}var xJ=["type"],bJ=["dangerouslySetInnerHTML","ticks","scale"],wJ=["id","scale"];function Qm(){return Qm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Qm.apply(null,arguments)}function h1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function f1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?h1(Object(n),!0).forEach(function(r){_J(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function _J(e,t,n){return(t=SJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function SJ(e){var t=jJ(e,"string");return typeof t=="symbol"?t:t+""}function jJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ep(e,t){if(e==null)return{};var n,r,i=PJ(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function PJ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function kJ(e){var t=nt(),n=b.useRef(null),r=U2(),{type:i}=e,s=ep(e,xJ),a=bd(r,"xAxis",i),l=b.useMemo(()=>{if(a!=null)return f1(f1({},s),{},{type:a})},[s,a]);return b.useLayoutEffect(()=>{l!=null&&(n.current===null?t(JG(l)):n.current!==l&&t(QG({prev:n.current,next:l})),n.current=l)},[l,t]),b.useLayoutEffect(()=>()=>{n.current&&(t(eZ(n.current)),n.current=null)},[t]),null}var AJ=e=>{var{xAxisId:t,className:n}=e,r=ce(fg),i=Ht(),s="xAxis",a=ce(j=>qA(j,s,t,i)),l=ce(j=>VA(j,t)),u=ce(j=>R9(j,t)),h=ce(j=>hA(j,t));if(l==null||u==null||h==null)return null;var{dangerouslySetInnerHTML:f,ticks:m,scale:g}=e,v=ep(e,bJ),{id:y,scale:w}=h,_=ep(h,wJ);return b.createElement(Pv,Qm({},v,_,{x:u.x,y:u.y,width:l.width,height:l.height,className:Me("recharts-".concat(s," ").concat(s),n),viewBox:r,ticks:a,axisType:s}))},CJ={allowDataOverflow:St.allowDataOverflow,allowDecimals:St.allowDecimals,allowDuplicatedCategory:St.allowDuplicatedCategory,angle:St.angle,axisLine:Cr.axisLine,height:St.height,hide:!1,includeHidden:St.includeHidden,interval:St.interval,label:!1,minTickGap:St.minTickGap,mirror:St.mirror,orientation:St.orientation,padding:St.padding,reversed:St.reversed,scale:St.scale,tick:St.tick,tickCount:St.tickCount,tickLine:Cr.tickLine,tickSize:Cr.tickSize,type:St.type,xAxisId:0},TJ=e=>{var t=en(e,CJ);return b.createElement(b.Fragment,null,b.createElement(kJ,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),b.createElement(AJ,t))},Tv=b.memo(TJ,jT);Tv.displayName="XAxis";var NJ=["type"],OJ=["dangerouslySetInnerHTML","ticks","scale"],EJ=["id","scale"];function tp(){return tp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},tp.apply(null,arguments)}function m1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function p1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?m1(Object(n),!0).forEach(function(r){MJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function MJ(e,t,n){return(t=IJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function IJ(e){var t=LJ(e,"string");return typeof t=="symbol"?t:t+""}function LJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function np(e,t){if(e==null)return{};var n,r,i=DJ(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function DJ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function RJ(e){var t=nt(),n=b.useRef(null),r=U2(),{type:i}=e,s=np(e,NJ),a=bd(r,"yAxis",i),l=b.useMemo(()=>{if(a!=null)return p1(p1({},s),{},{type:a})},[a,s]);return b.useLayoutEffect(()=>{l!=null&&(n.current===null?t(tZ(l)):n.current!==l&&t(nZ({prev:n.current,next:l})),n.current=l)},[l,t]),b.useLayoutEffect(()=>()=>{n.current&&(t(rZ(n.current)),n.current=null)},[t]),null}function $J(e){var{yAxisId:t,className:n,width:r,label:i}=e,s=b.useRef(null),a=b.useRef(null),l=ce(fg),u=Ht(),h=nt(),f="yAxis",m=ce(T=>WA(T,t)),g=ce(T=>z9(T,t)),v=ce(T=>qA(T,f,t,u)),y=ce(T=>fA(T,t));if(b.useLayoutEffect(()=>{if(!(r!=="auto"||!m||bv(i)||b.isValidElement(i)||y==null)){var T=s.current;if(T){var M=T.getCalculatedWidth();Math.round(m.width)!==Math.round(M)&&h(iZ({id:t,width:M}))}}},[v,m,h,i,t,r,y]),m==null||g==null||y==null)return null;var{dangerouslySetInnerHTML:w,ticks:_,scale:j}=e,k=np(e,OJ),{id:P,scale:C}=y,N=np(y,EJ);return b.createElement(Pv,tp({},k,N,{ref:s,labelRef:a,x:g.x,y:g.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:m.width,height:m.height,className:Me("recharts-".concat(f," ").concat(f),n),viewBox:l,ticks:v,axisType:f}))}var zJ={allowDataOverflow:jt.allowDataOverflow,allowDecimals:jt.allowDecimals,allowDuplicatedCategory:jt.allowDuplicatedCategory,angle:jt.angle,axisLine:Cr.axisLine,hide:!1,includeHidden:jt.includeHidden,interval:jt.interval,label:!1,minTickGap:jt.minTickGap,mirror:jt.mirror,orientation:jt.orientation,padding:jt.padding,reversed:jt.reversed,scale:jt.scale,tick:jt.tick,tickCount:jt.tickCount,tickLine:Cr.tickLine,tickSize:Cr.tickSize,type:jt.type,width:jt.width,yAxisId:0},BJ=e=>{var t=en(e,zJ);return b.createElement(b.Fragment,null,b.createElement(RJ,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),b.createElement($J,t))},Nv=b.memo(BJ,jT);Nv.displayName="YAxis";var FJ=(e,t)=>t,Ov=B([FJ,Ie,uA,Ot,uC,Kr,eK,Ct],oK),Ev=e=>{var t=e.currentTarget.getBoundingClientRect(),n=t.width/e.currentTarget.offsetWidth,r=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/n),chartY:Math.round((e.clientY-t.top)/r)}},PT=An("mouseClick"),kT=Fo();kT.startListening({actionCreator:PT,effect:(e,t)=>{var n=e.payload,r=Ov(t.getState(),Ev(n));(r==null?void 0:r.activeIndex)!=null&&t.dispatch(Q9({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var rp=An("mouseMove"),AT=Fo(),Xl=null;AT.startListening({actionCreator:rp,effect:(e,t)=>{var n=e.payload;Xl!==null&&cancelAnimationFrame(Xl);var r=Ev(n);Xl=requestAnimationFrame(()=>{var i=t.getState(),s=ov(i,i.tooltip.settings.shared);if(s==="axis"){var a=Ov(i,r);(a==null?void 0:a.activeIndex)!=null?t.dispatch(tC({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate})):t.dispatch(eC())}Xl=null})}});function UJ(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":e==="children"&&typeof t=="object"&&t!==null?"<<CHILDREN>>":t}var g1={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},CT=ln({name:"rootProps",initialState:g1,reducers:{updateOptions:(e,t)=>{var n;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(n=t.payload.barGap)!==null&&n!==void 0?n:g1.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),VJ=CT.reducer,{updateOptions:WJ}=CT.actions,HJ=null,KJ={updatePolarOptions:(e,t)=>t.payload},TT=ln({name:"polarOptions",initialState:HJ,reducers:KJ}),{updatePolarOptions:lte}=TT.actions,qJ=TT.reducer,NT=An("keyDown"),OT=An("focus"),Mv=Fo();Mv.startListening({actionCreator:NT,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,s=e.payload;if(!(s!=="ArrowRight"&&s!=="ArrowLeft"&&s!=="Enter")){var a=lv(i,ma(n),Xo(n),Qo(n)),l=a==null?-1:Number(a);if(!(!Number.isFinite(l)||l<0)){var u=Kr(n);if(s==="Enter"){var h=du(n,"axis","hover",String(i.index));t.dispatch(Km({active:!i.active,activeIndex:i.index,activeCoordinate:h}));return}var f=V9(n),m=f==="left-to-right"?1:-1,g=s==="ArrowRight"?1:-1,v=l+g*m;if(!(u==null||v>=u.length||v<0)){var y=du(n,"axis","hover",String(v));t.dispatch(Km({active:!0,activeIndex:v.toString(),activeCoordinate:y}))}}}}}});Mv.startListening({actionCreator:OT,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var s="0",a=du(n,"axis","hover",String(s));t.dispatch(Km({active:!0,activeIndex:s,activeCoordinate:a}))}}}});var bn=An("externalEvent"),ET=Fo(),bf=new Map;ET.startListening({actionCreator:bn,effect:(e,t)=>{var{handler:n,reactEvent:r}=e.payload;if(n!=null){r.persist();var i=r.type,s=bf.get(i);s!==void 0&&cancelAnimationFrame(s);var a=requestAnimationFrame(()=>{try{var l=t.getState(),u={activeCoordinate:$H(l),activeDataKey:mC(l),activeIndex:Ji(l),activeLabel:fC(l),activeTooltipIndex:Ji(l),isTooltipActive:zH(l)};n(u,r)}finally{bf.delete(i)}});bf.set(i,a)}}});var GJ=B([ha],e=>e.tooltipItemPayloads),ZJ=B([GJ,(e,t)=>t,(e,t,n)=>n],(e,t,n)=>{if(t!=null){var r=e.find(s=>s.settings.graphicalItemId===n);if(r!=null){var{getPosition:i}=r;if(i!=null)return i(t)}}}),MT=An("touchMove"),IT=Fo();IT.startListening({actionCreator:MT,effect:(e,t)=>{var n=e.payload;if(!(n.touches==null||n.touches.length===0)){var r=t.getState(),i=ov(r,r.tooltip.settings.shared);if(i==="axis"){var s=n.touches[0];if(s==null)return;var a=Ov(r,Ev({clientX:s.clientX,clientY:s.clientY,currentTarget:n.currentTarget}));(a==null?void 0:a.activeIndex)!=null&&t.dispatch(tC({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}else if(i==="item"){var l,u=n.touches[0];if(document.elementFromPoint==null||u==null)return;var h=document.elementFromPoint(u.clientX,u.clientY);if(!h||!h.getAttribute)return;var f=h.getAttribute(K6),m=(l=h.getAttribute(q6))!==null&&l!==void 0?l:void 0,g=fa(r).find(w=>w.id===m);if(f==null||g==null||m==null)return;var{dataKey:v}=g,y=ZJ(r,f,m);t.dispatch(QA({activeDataKey:v,activeIndex:f,activeCoordinate:y,activeGraphicalItemId:m}))}}}});var YJ=t2({brush:jZ,cartesianAxis:sZ,chartData:RK,errorBars:yY,graphicalItems:RG,layout:C6,legend:I8,options:EK,polarAxis:oG,polarOptions:qJ,referenceElements:CZ,rootProps:VJ,tooltip:eH,zIndex:wK}),XJ=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return QF({reducer:YJ,preloadedState:t,middleware:r=>{var i;return r({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((i="es6")!==null&&i!==void 0?i:"")}).concat([kT.middleware,AT.middleware,Mv.middleware,ET.middleware,IT.middleware])},enhancers:r=>{var i=r;return typeof r=="function"&&(i=r()),i.concat(g2({type:"raf"}))},devTools:{serialize:{replacer:UJ},name:"recharts-".concat(n)}})};function JJ(e){var{preloadedState:t,children:n,reduxStoreName:r}=e,i=Ht(),s=b.useRef(null);if(i)return n;s.current==null&&(s.current=XJ(t,r));var a=ig;return b.createElement(XY,{context:a,store:s.current},n)}function QJ(e){var{layout:t,margin:n}=e,r=nt(),i=Ht();return b.useEffect(()=>{i||(r(P6(t)),r(j6(n)))},[r,i,t,n]),null}var eQ=b.memo(QJ,Fd);function tQ(e){var t=nt();return b.useEffect(()=>{t(WJ(e))},[t,e]),null}function v1(e){var{zIndex:t,isPanorama:n}=e,r=b.useRef(null),i=nt();return b.useLayoutEffect(()=>(r.current&&i(xK({zIndex:t,element:r.current,isPanorama:n})),()=>{i(bK({zIndex:t,isPanorama:n}))}),[i,t,n]),b.createElement("g",{tabIndex:-1,ref:r})}function y1(e){var{children:t,isPanorama:n}=e,r=ce(cK);if(!r||r.length===0)return t;var i=r.filter(a=>a<0),s=r.filter(a=>a>0);return b.createElement(b.Fragment,null,i.map(a=>b.createElement(v1,{key:a,zIndex:a,isPanorama:n})),t,s.map(a=>b.createElement(v1,{key:a,zIndex:a,isPanorama:n})))}var nQ=["children"];function rQ(e,t){if(e==null)return{};var n,r,i=iQ(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function iQ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function bu(){return bu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bu.apply(null,arguments)}var sQ={width:"100%",height:"100%",display:"block"},aQ=b.forwardRef((e,t)=>{var n=B2(),r=F2(),i=X2();if(!hr(n)||!hr(r))return null;var{children:s,otherAttributes:a,title:l,desc:u}=e,h,f;return a!=null&&(typeof a.tabIndex=="number"?h=a.tabIndex:h=i?0:void 0,typeof a.role=="string"?f=a.role:f=i?"application":void 0),b.createElement(tP,bu({},a,{title:l,desc:u,role:f,tabIndex:h,width:n,height:r,style:sQ,ref:t}),s)}),oQ=e=>{var{children:t}=e,n=ce(id);if(!n)return null;var{width:r,height:i,y:s,x:a}=n;return b.createElement(tP,{width:r,height:i,x:a,y:s},t)},x1=b.forwardRef((e,t)=>{var{children:n}=e,r=rQ(e,nQ),i=Ht();return i?b.createElement(oQ,null,b.createElement(y1,{isPanorama:!0},n)):b.createElement(aQ,bu({ref:t},r),b.createElement(y1,{isPanorama:!1},n))});function lQ(){var e=nt(),[t,n]=b.useState(null),r=ce(H6);return b.useEffect(()=>{if(t!=null){var i=t.getBoundingClientRect(),s=i.width/t.offsetWidth;Ae(s)&&s!==r&&e(A6(s))}},[t,e,r]),n}function b1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function cQ(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?b1(Object(n),!0).forEach(function(r){uQ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function uQ(e,t,n){return(t=dQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dQ(e){var t=hQ(e,"string");return typeof t=="symbol"?t:t+""}function hQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function si(){return si=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},si.apply(null,arguments)}var fQ=()=>(KK(),null);function wu(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var mQ=b.forwardRef((e,t)=>{var n,r,i=b.useRef(null),[s,a]=b.useState({containerWidth:wu((n=e.style)===null||n===void 0?void 0:n.width),containerHeight:wu((r=e.style)===null||r===void 0?void 0:r.height)}),l=b.useCallback((h,f)=>{a(m=>{var g=Math.round(h),v=Math.round(f);return m.containerWidth===g&&m.containerHeight===v?m:{containerWidth:g,containerHeight:v}})},[]),u=b.useCallback(h=>{if(typeof t=="function"&&t(h),h!=null&&typeof ResizeObserver<"u"){var{width:f,height:m}=h.getBoundingClientRect();l(f,m);var g=y=>{var w=y[0];if(w!=null){var{width:_,height:j}=w.contentRect;l(_,j)}},v=new ResizeObserver(g);v.observe(h),i.current=v}},[t,l]);return b.useEffect(()=>()=>{var h=i.current;h!=null&&h.disconnect()},[l]),b.createElement(b.Fragment,null,b.createElement(Vo,{width:s.containerWidth,height:s.containerHeight}),b.createElement("div",si({ref:u},e)))}),pQ=b.forwardRef((e,t)=>{var{width:n,height:r}=e,[i,s]=b.useState({containerWidth:wu(n),containerHeight:wu(r)}),a=b.useCallback((u,h)=>{s(f=>{var m=Math.round(u),g=Math.round(h);return f.containerWidth===m&&f.containerHeight===g?f:{containerWidth:m,containerHeight:g}})},[]),l=b.useCallback(u=>{if(typeof t=="function"&&t(u),u!=null){var{width:h,height:f}=u.getBoundingClientRect();a(h,f)}},[t,a]);return b.createElement(b.Fragment,null,b.createElement(Vo,{width:i.containerWidth,height:i.containerHeight}),b.createElement("div",si({ref:l},e)))}),gQ=b.forwardRef((e,t)=>{var{width:n,height:r}=e;return b.createElement(b.Fragment,null,b.createElement(Vo,{width:n,height:r}),b.createElement("div",si({ref:t},e)))}),vQ=b.forwardRef((e,t)=>{var{width:n,height:r}=e;return typeof n=="string"||typeof r=="string"?b.createElement(pQ,si({},e,{ref:t})):typeof n=="number"&&typeof r=="number"?b.createElement(gQ,si({},e,{width:n,height:r,ref:t})):b.createElement(b.Fragment,null,b.createElement(Vo,{width:n,height:r}),b.createElement("div",si({ref:t},e)))});function yQ(e){return e?mQ:vQ}var xQ=b.forwardRef((e,t)=>{var{children:n,className:r,height:i,onClick:s,onContextMenu:a,onDoubleClick:l,onMouseDown:u,onMouseEnter:h,onMouseLeave:f,onMouseMove:m,onMouseUp:g,onTouchEnd:v,onTouchMove:y,onTouchStart:w,style:_,width:j,responsive:k,dispatchTouchEvents:P=!0}=e,C=b.useRef(null),N=nt(),[T,M]=b.useState(null),[E,$]=b.useState(null),q=lQ(),U=mg(),R=(U==null?void 0:U.width)>0?U.width:j,se=(U==null?void 0:U.height)>0?U.height:i,Y=b.useCallback(W=>{q(W),typeof t=="function"&&t(W),M(W),$(W),W!=null&&(C.current=W)},[q,t,M,$]),oe=b.useCallback(W=>{N(PT(W)),N(bn({handler:s,reactEvent:W}))},[N,s]),I=b.useCallback(W=>{N(rp(W)),N(bn({handler:h,reactEvent:W}))},[N,h]),V=b.useCallback(W=>{N(eC()),N(bn({handler:f,reactEvent:W}))},[N,f]),z=b.useCallback(W=>{N(rp(W)),N(bn({handler:m,reactEvent:W}))},[N,m]),J=b.useCallback(()=>{N(OT())},[N]),G=b.useCallback(W=>{N(NT(W.key))},[N]),de=b.useCallback(W=>{N(bn({handler:a,reactEvent:W}))},[N,a]),je=b.useCallback(W=>{N(bn({handler:l,reactEvent:W}))},[N,l]),ve=b.useCallback(W=>{N(bn({handler:u,reactEvent:W}))},[N,u]),he=b.useCallback(W=>{N(bn({handler:g,reactEvent:W}))},[N,g]),be=b.useCallback(W=>{N(bn({handler:w,reactEvent:W}))},[N,w]),ge=b.useCallback(W=>{P&&N(MT(W)),N(bn({handler:y,reactEvent:W}))},[N,P,y]),ye=b.useCallback(W=>{N(bn({handler:v,reactEvent:W}))},[N,v]),ct=yQ(k);return b.createElement(wC.Provider,{value:T},b.createElement(qz.Provider,{value:E},b.createElement(ct,{width:R??(_==null?void 0:_.width),height:se??(_==null?void 0:_.height),className:Me("recharts-wrapper",r),style:cQ({position:"relative",cursor:"default",width:R,height:se},_),onClick:oe,onContextMenu:de,onDoubleClick:je,onFocus:J,onKeyDown:G,onMouseDown:ve,onMouseEnter:I,onMouseLeave:V,onMouseMove:z,onMouseUp:he,onTouchEnd:ye,onTouchMove:ge,onTouchStart:be,ref:Y},b.createElement(fQ,null),n)))}),bQ=["width","height","responsive","children","className","style","compact","title","desc"];function wQ(e,t){if(e==null)return{};var n,r,i=_Q(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function _Q(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var SQ=b.forwardRef((e,t)=>{var{width:n,height:r,responsive:i,children:s,className:a,style:l,compact:u,title:h,desc:f}=e,m=wQ(e,bQ),g=Hn(m);return u?b.createElement(b.Fragment,null,b.createElement(Vo,{width:n,height:r}),b.createElement(x1,{otherAttributes:g,title:h,desc:f},s)):b.createElement(xQ,{className:a,style:l,width:n,height:r,responsive:i??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},b.createElement(x1,{otherAttributes:g,title:h,desc:f,ref:t},b.createElement(NZ,null,s)))});function ip(){return ip=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ip.apply(null,arguments)}var jQ={top:5,right:5,bottom:5,left:5},PQ={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:jQ,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},LT=b.forwardRef(function(t,n){var r,i=en(t.categoricalChartProps,PQ),{chartName:s,defaultTooltipEventType:a,validateTooltipEventTypes:l,tooltipPayloadSearcher:u,categoricalChartProps:h}=t,f={chartName:s,defaultTooltipEventType:a,validateTooltipEventTypes:l,tooltipPayloadSearcher:u,eventEmitter:void 0};return b.createElement(JJ,{preloadedState:{options:f},reduxStoreName:(r=h.id)!==null&&r!==void 0?r:s},b.createElement(SZ,{chartData:h.data}),b.createElement(eQ,{layout:i.layout,margin:i.margin}),b.createElement(tQ,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),b.createElement(SQ,ip({},i,{ref:n})))}),kQ=["axis"],DT=b.forwardRef((e,t)=>b.createElement(LT,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:kQ,tooltipPayloadSearcher:SC,categoricalChartProps:e,ref:t})),AQ=["axis","item"],CQ=b.forwardRef((e,t)=>b.createElement(LT,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:AQ,tooltipPayloadSearcher:SC,categoricalChartProps:e,ref:t}));function TQ(e){const t={freight:2500,duties:650,taxes:325,fees:150,total:3625},n={freight:1+(Math.random()*.2-.05),duties:1+(Math.random()*.1-.02),fees:1+Math.random()*.3},r={freight:Math.round(t.freight*n.freight),duties:Math.round(t.duties*n.duties),taxes:t.taxes,fees:Math.round(t.fees*n.fees),total:0};r.total=r.freight+r.duties+r.taxes+r.fees;const i={freight:r.freight-t.freight,duties:r.duties-t.duties,taxes:r.taxes-t.taxes,fees:r.fees-t.fees,total:r.total-t.total,percentage:(r.total-t.total)/t.total*100},s=8e3,a={revenue:s,totalCost:r.total,profit:s-r.total,margin:(s-r.total)/s*100};return{shipmentId:e,quoted:t,actual:r,variance:i,profitability:a}}function NQ(e,t,n,r){const i={vendorId:e,vendorName:t,vendorType:n,metrics:{onTimePercentage:85+Math.random()*12,costVariance:-5+Math.random()*15,delayFrequency:Math.random()*20,averageDelayDays:2+Math.random()*3,reliabilityScore:75+Math.random()*20,qualityScore:80+Math.random()*15},shipmentCount:Math.floor(50+Math.random()*150),totalValue:Math.floor(1e5+Math.random()*4e5),period:"2024 Q1"},s=Math.floor(Math.random()*10)+1,a=25,l=[],u=[];i.metrics.onTimePercentage>90?l.push("Excellent on-time delivery performance"):i.metrics.onTimePercentage<80&&u.push("Below-average on-time delivery rate"),i.metrics.costVariance<5?l.push("Consistent pricing with minimal overcharges"):i.metrics.costVariance>10&&u.push("High cost variance, frequent unexpected charges"),i.metrics.reliabilityScore>85?l.push("High reliability score"):i.metrics.reliabilityScore<75&&u.push("Reliability concerns");const h=[];i.metrics.onTimePercentage<85&&h.push("Consider implementing service level agreements with penalties"),i.metrics.costVariance>8&&h.push("Request detailed cost breakdowns and negotiate fixed pricing"),i.metrics.delayFrequency>15&&h.push("Diversify vendor base to reduce dependency");const f=[];return(i.metrics.reliabilityScore<80||i.metrics.onTimePercentage<85)&&f.push({vendorName:"Alternative Carrier A",reason:"Better on-time performance (92%) and lower cost variance",estimatedSavings:15e3},{vendorName:"Alternative Carrier B",reason:"Competitive pricing with similar service levels",estimatedSavings:8e3}),{vendor:i,ranking:s,totalVendors:a,strengths:l,weaknesses:u,recommendations:h,alternatives:f.length>0?f:void 0}}function Fa(e){const t=new Date(Date.now()-Math.random()*7*24*60*60*1e3),n=Math.random()>.3,r=n&&Math.random()>.5,i=r&&Math.random()>.6,s=OQ(n,r,i,t);let a="sent";return i||r?a="engaged":n&&(a="opened"),{quoteId:e,customerEmail:"customer@example.com",customerName:"ABC Trading Co.",quotedAmount:5e3+Math.random()*1e4,sentAt:t.toISOString(),opened:n,openedAt:n?new Date(t.getTime()+Math.random()*2*24*60*60*1e3).toISOString():void 0,clicked:r,clickedAt:r?new Date(t.getTime()+Math.random()*3*24*60*60*1e3).toISOString():void 0,replied:i,repliedAt:i?new Date(t.getTime()+Math.random()*4*24*60*60*1e3).toISOString():void 0,leadScore:s,status:a}}function OQ(e,t,n,r){let i=20;e&&(i+=20),t&&(i+=30),n&&(i+=30);const s=(Date.now()-r.getTime())/(1e3*60*60*24);return s<2?i+=10:s>7&&(i-=10),Math.min(100,Math.max(0,i))}function EQ(e){const t=e.length,n=e.filter(h=>h.opened).length,r=e.filter(h=>h.clicked).length,i=e.filter(h=>h.replied).length,s=e.filter(h=>h.status==="won").length,a=e.filter(h=>h.status==="won"),l=a.length>0?a.reduce((h,f)=>{const m=new Date(f.sentAt).getTime(),g=f.repliedAt?new Date(f.repliedAt).getTime():m;return h+(g-m)/(1e3*60*60*24)},0)/a.length:0,u=e.reduce((h,f)=>h+f.quotedAmount,0)/t;return{totalQuotes:t,openRate:n/t*100,clickRate:r/t*100,replyRate:i/t*100,conversionRate:s/t*100,averageTimeToConversion:l,averageQuoteValue:u}}function MQ(){const[e,t]=b.useState("profitability"),[n,r]=b.useState("SHP-2024-001"),[i,s]=b.useState("DHL"),a=TQ(n),l=NQ("vendor-1",i,"carrier"),u=Fa("quote-1"),h=EQ([u,Fa("quote-2"),Fa("quote-3")]),f=[{month:"Jan",quoted:3500,actual:3650},{month:"Feb",quoted:3600,actual:3820},{month:"Mar",quoted:3550,actual:3700},{month:"Apr",quoted:3700,actual:3950}];return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex gap-2 p-1 bg-white/5 rounded-lg w-fit",children:[c.jsx("button",{className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${e==="profitability"?"bg-glass-highlight text-white":"text-white/60 hover:text-white hover:bg-white/5"}`,onClick:()=>t("profitability"),children:"Profitability"}),c.jsx("button",{className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${e==="performance"?"bg-glass-highlight text-white":"text-white/60 hover:text-white hover:bg-white/5"}`,onClick:()=>t("performance"),children:"Performance"}),c.jsx("button",{className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${e==="quotes"?"bg-glass-highlight text-white":"text-white/60 hover:text-white hover:bg-white/5"}`,onClick:()=>t("quotes"),children:"Quote Tracker"})]}),e==="profitability"&&c.jsxs("div",{className:"space-y-4",children:[c.jsxs(ue,{className:"p-6 bg-white/5 border-white/10",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("h3",{className:"text-xl font-semibold text-white",children:"Shipment Cost Analysis"}),c.jsx("div",{className:"w-48",children:c.jsxs(mt,{value:n,onValueChange:r,children:[c.jsx(pt,{children:c.jsx(gt,{})}),c.jsxs(vt,{children:[c.jsx(Q,{value:"SHP-2024-001",children:"SHP-2024-001"}),c.jsx(Q,{value:"SHP-2024-002",children:"SHP-2024-002"}),c.jsx(Q,{value:"SHP-2024-003",children:"SHP-2024-003"})]})]})})]}),c.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[c.jsxs("div",{className:"p-4 bg-blue-500/10 rounded-lg",children:[c.jsx("p",{className:"text-sm text-blue-200",children:"Quoted Total"}),c.jsx("p",{className:"text-2xl font-bold text-white",children:De(a.quoted.total)})]}),c.jsxs("div",{className:"p-4 bg-orange-500/10 rounded-lg",children:[c.jsx("p",{className:"text-sm text-orange-200",children:"Actual Total"}),c.jsx("p",{className:"text-2xl font-bold text-white",children:De(a.actual.total)})]}),c.jsxs("div",{className:`p-4 rounded-lg ${a.variance.total>0?"bg-red-500/10":"bg-green-500/10"}`,children:[c.jsx("p",{className:"text-sm text-white/60",children:"Variance"}),c.jsxs("p",{className:`text-2xl font-bold flex items-center gap-1 ${a.variance.total>0?"text-red-400":"text-green-400"}`,children:[a.variance.total>0?c.jsx(Pn,{className:"h-5 w-5"}):c.jsx(fo,{className:"h-5 w-5"}),De(Math.abs(a.variance.total))]})]}),c.jsxs("div",{className:"p-4 bg-green-500/10 rounded-lg",children:[c.jsx("p",{className:"text-sm text-green-200",children:"Profit Margin"}),c.jsx("p",{className:"text-2xl font-bold text-white",children:Ti(a.profitability.margin)})]})]}),c.jsxs("div",{className:"space-y-3",children:[c.jsx("h4",{className:"font-semibold text-white",children:"Cost Breakdown"}),["freight","duties","taxes","fees"].map(m=>c.jsxs("div",{className:"flex items-center justify-between p-3 bg-white/5 rounded border border-white/5 hover:bg-white/10 transition-colors",children:[c.jsx("span",{className:"capitalize font-medium text-white",children:m}),c.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[c.jsxs("span",{className:"text-white/60",children:["Quoted: ",De(a.quoted[m])]}),c.jsxs("span",{className:"font-medium text-white",children:["Actual: ",De(a.actual[m])]}),c.jsxs("span",{className:a.variance[m]>0?"text-red-400":"text-green-400",children:[a.variance[m]>0?"+":"",De(a.variance[m])]})]})]},m))]})]}),c.jsxs(ue,{className:"p-6 bg-white/5 border-white/10",children:[c.jsx("h4",{className:"font-semibold mb-4 text-white",children:"Cost Trend Analysis"}),c.jsx("div",{className:"h-[300px] w-full",children:c.jsx(pg,{width:"100%",height:"100%",children:c.jsxs(DT,{data:f,children:[c.jsx(kv,{strokeDasharray:"3 3",stroke:"rgba(255,255,255,0.1)"}),c.jsx(Tv,{dataKey:"month",stroke:"rgba(255,255,255,0.5)"}),c.jsx(Nv,{stroke:"rgba(255,255,255,0.5)"}),c.jsx(vv,{contentStyle:{backgroundColor:"rgba(23, 23, 23, 0.9)",border:"1px solid rgba(255,255,255,0.1)",borderRadius:"8px",color:"#fff"}}),c.jsx(vu,{type:"monotone",dataKey:"quoted",stroke:"#3b82f6",name:"Quoted"}),c.jsx(vu,{type:"monotone",dataKey:"actual",stroke:"#f97316",name:"Actual"})]})})})]})]}),e==="performance"&&c.jsx("div",{className:"space-y-4",children:c.jsxs(ue,{className:"p-6 bg-white/5 border-white/10",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("h3",{className:"text-xl font-semibold text-white",children:"Vendor Performance Scorecard"}),c.jsx("div",{className:"w-48",children:c.jsxs(mt,{value:i,onValueChange:s,children:[c.jsx(pt,{children:c.jsx(gt,{})}),c.jsxs(vt,{children:[c.jsx(Q,{value:"DHL",children:"DHL Express"}),c.jsx(Q,{value:"FedEx",children:"FedEx"}),c.jsx(Q,{value:"Maersk",children:"Maersk"}),c.jsx(Q,{value:"UPS",children:"UPS"})]})]})})]}),c.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 mb-6",children:[c.jsxs("div",{className:"p-4 bg-white/5 rounded-lg border border-white/5",children:[c.jsx("p",{className:"text-sm text-white/60",children:"On-Time %"}),c.jsx("p",{className:"text-3xl font-bold text-white",children:Ti(l.vendor.metrics.onTimePercentage)})]}),c.jsxs("div",{className:"p-4 bg-white/5 rounded-lg border border-white/5",children:[c.jsx("p",{className:"text-sm text-white/60",children:"Reliability Score"}),c.jsxs("p",{className:"text-3xl font-bold text-white",children:[l.vendor.metrics.reliabilityScore.toFixed(0),"/100"]})]}),c.jsxs("div",{className:"p-4 bg-white/5 rounded-lg border border-white/5",children:[c.jsx("p",{className:"text-sm text-white/60",children:"Ranking"}),c.jsxs("p",{className:"text-3xl font-bold text-white",children:["#",l.ranking," of ",l.totalVendors]})]})]}),c.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[c.jsxs(ue,{className:"p-4 bg-green-500/10 border-green-500/20",children:[c.jsxs("h4",{className:"font-semibold mb-2 flex items-center gap-2 text-green-400",children:[c.jsx(Pn,{className:"h-4 w-4"}),"Strengths"]}),c.jsx("ul",{className:"text-sm space-y-1",children:l.strengths.map((m,g)=>c.jsxs("li",{className:"flex items-start gap-2 text-white/80",children:[c.jsx("span",{className:"text-green-400",children:"âœ“"}),c.jsx("span",{children:m})]},g))})]}),c.jsxs(ue,{className:"p-4 bg-orange-500/10 border-orange-500/20",children:[c.jsxs("h4",{className:"font-semibold mb-2 flex items-center gap-2 text-orange-400",children:[c.jsx(Ws,{className:"h-4 w-4"}),"Areas for Improvement"]}),c.jsx("ul",{className:"text-sm space-y-1",children:l.weaknesses.map((m,g)=>c.jsxs("li",{className:"flex items-start gap-2 text-white/80",children:[c.jsx("span",{className:"text-orange-400",children:"!"}),c.jsx("span",{children:m})]},g))})]})]}),l.alternatives&&c.jsxs(ue,{className:"p-4 mt-4 bg-white/5 border-white/10",children:[c.jsx("h4",{className:"font-semibold mb-3 text-white",children:"Alternative Vendors"}),c.jsx("div",{className:"space-y-2",children:l.alternatives.map((m,g)=>c.jsxs("div",{className:"p-3 bg-blue-500/10 rounded border border-blue-500/20",children:[c.jsx("p",{className:"font-medium text-white",children:m.vendorName}),c.jsx("p",{className:"text-sm text-white/60",children:m.reason}),m.estimatedSavings&&c.jsxs("p",{className:"text-sm text-green-400 mt-1",children:["Potential savings: ",De(m.estimatedSavings)]})]},g))})]})]})}),e==="quotes"&&c.jsx("div",{className:"space-y-4",children:c.jsxs(ue,{className:"p-6 bg-white/5 border-white/10",children:[c.jsx("h3",{className:"text-xl font-semibold mb-4 text-white",children:"Quote Follow-Up Tracker"}),c.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[c.jsxs("div",{className:"p-4 bg-white/5 rounded-lg border border-white/5",children:[c.jsx("p",{className:"text-sm text-white/60",children:"Open Rate"}),c.jsx("p",{className:"text-2xl font-bold text-white",children:Ti(h.openRate)})]}),c.jsxs("div",{className:"p-4 bg-white/5 rounded-lg border border-white/5",children:[c.jsx("p",{className:"text-sm text-white/60",children:"Click Rate"}),c.jsx("p",{className:"text-2xl font-bold text-white",children:Ti(h.clickRate)})]}),c.jsxs("div",{className:"p-4 bg-white/5 rounded-lg border border-white/5",children:[c.jsx("p",{className:"text-sm text-white/60",children:"Reply Rate"}),c.jsx("p",{className:"text-2xl font-bold text-white",children:Ti(h.replyRate)})]}),c.jsxs("div",{className:"p-4 bg-green-500/10 rounded-lg border border-green-500/20",children:[c.jsx("p",{className:"text-sm text-green-200",children:"Conversion Rate"}),c.jsx("p",{className:"text-2xl font-bold text-white",children:Ti(h.conversionRate)})]})]}),c.jsxs("div",{className:"space-y-3",children:[c.jsx("h4",{className:"font-semibold text-white",children:"Recent Quotes"}),[u,Fa("quote-2"),Fa("quote-3")].map((m,g)=>c.jsxs(ue,{className:"p-4 bg-white/5 border-white/10",children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsxs("div",{children:[c.jsx("p",{className:"font-medium text-white",children:m.customerName}),c.jsx("p",{className:"text-sm text-white/60",children:m.quoteId})]}),c.jsxs("div",{className:"text-right",children:[c.jsx("p",{className:"text-lg font-bold text-white",children:De(m.quotedAmount)}),c.jsx("span",{className:`text-xs px-2 py-1 rounded ${m.status==="engaged"?"bg-green-500/20 text-green-300":m.status==="opened"?"bg-blue-500/20 text-blue-300":"bg-white/10 text-white/60"}`,children:m.status.toUpperCase()})]})]}),c.jsxs("div",{className:"flex items-center gap-4 text-sm text-white/60",children:[c.jsxs("span",{children:["Opened: ",m.opened?"âœ“":"âœ—"]}),c.jsxs("span",{children:["Clicked: ",m.clicked?"âœ“":"âœ—"]}),c.jsxs("span",{children:["Replied: ",m.replied?"âœ“":"âœ—"]}),c.jsxs("span",{className:"ml-auto",children:["Lead Score: ",m.leadScore,"/100"]})]})]},g))]})]})})]})}const wf={cbam:{questionId:"cbam",answer:`The EU Carbon Border Adjustment Mechanism (CBAM) is a carbon tariff on imports of carbon-intensive goods. Starting January 1, 2026, importers must purchase CBAM certificates corresponding to the embedded carbon emissions in their products.

Key points:
â€¢ Applies to: cement, iron & steel, aluminum, fertilizers, electricity, and hydrogen
â€¢ Importers must report embedded emissions quarterly
â€¢ CBAM certificates price matches EU ETS carbon price
â€¢ Exemptions for goods from countries with equivalent carbon pricing
â€¢ Transitional period: 2023-2025 (reporting only, no financial adjustment)`,citations:[{source:"European Commission - CBAM Regulation",url:"https://taxation-customs.ec.europa.eu/carbon-border-adjustment-mechanism_en",lastUpdated:"2025-12-15"},{source:"EU Regulation 2023/956",lastUpdated:"2023-05-16"}],relatedRegulations:["EU Emissions Trading System (ETS)","Product Environmental Footprint (PEF)","Deforestation Regulation (EUDR)"],confidence:.95,warnings:["CBAM requirements are complex and vary by product category","Consult with a customs specialist for specific product classifications"]},usmca:{questionId:"usmca",answer:`The United States-Mexico-Canada Agreement (USMCA) replaced NAFTA in 2020, providing preferential tariff treatment for qualifying goods traded between the three countries.

Key requirements for duty-free treatment:
â€¢ Products must meet Rules of Origin (ROO) criteria
â€¢ Certificate of Origin required (USMCA Certificate)
â€¢ Regional Value Content (RVC) thresholds vary by product
â€¢ Labor Value Content (LVC) requirements for automotive
â€¢ Self-certification system (no government certification needed)

Common ROO methods:
â€¢ Tariff shift: Product classified under different HS code than inputs
â€¢ Regional value content: Minimum % of value from USMCA countries
â€¢ Specific process: Undergoes specific manufacturing process`,citations:[{source:"USTR - USMCA Text",url:"https://ustr.gov/trade-agreements/free-trade-agreements/united-states-mexico-canada-agreement",lastUpdated:"2020-07-01"}],relatedRegulations:["Automotive Rules of Origin","Textile and Apparel ROO","Steel and Aluminum Provisions"],confidence:.92},sanctions:{questionId:"sanctions",answer:`Trade sanctions are restrictions imposed by governments to limit trade with specific countries, entities, or individuals for foreign policy or national security reasons.

Current major sanctions programs (as of 2026):
â€¢ Russia/Belarus: Comprehensive sanctions on most goods, services, and financial transactions
â€¢ Iran: Sanctions on petroleum, financial services, and most trade
â€¢ North Korea: Comprehensive trade embargo
â€¢ Syria: Sanctions on petroleum and luxury goods
â€¢ Venezuela: Targeted sanctions on government officials and oil sector

Compliance requirements:
â€¢ Screen all parties against OFAC SDN List, UN Consolidated List, EU Sanctions List
â€¢ Implement "Know Your Customer" (KYC) procedures
â€¢ Maintain records of screening for 5+ years
â€¢ Report suspicious activities to authorities
â€¢ Obtain licenses for authorized transactions in sanctioned jurisdictions`,citations:[{source:"OFAC Sanctions Programs",url:"https://ofac.treasury.gov/sanctions-programs-and-country-information",lastUpdated:"2026-01-15"},{source:"UN Security Council Sanctions",url:"https://www.un.org/securitycouncil/sanctions",lastUpdated:"2026-01-10"}],relatedRegulations:["Export Administration Regulations (EAR)","International Traffic in Arms Regulations (ITAR)"],confidence:.9,warnings:["Sanctions change frequently - always verify current status","Penalties for violations can be severe, including criminal charges"]}};function IQ(e){const t=e.toLowerCase();return t.includes("cbam")||t.includes("carbon border")||t.includes("carbon tariff")?wf.cbam:t.includes("usmca")||t.includes("nafta")||t.includes("rules of origin")?wf.usmca:t.includes("sanction")||t.includes("embargo")||t.includes("restricted")?wf.sanctions:{questionId:Pt(),answer:`I don't have specific information on that topic in my current knowledge base. However, I recommend consulting the following resources:

â€¢ Your country's customs authority website
â€¢ World Trade Organization (WTO) resources
â€¢ International Chamber of Commerce (ICC) guidelines
â€¢ A licensed customs broker or trade compliance consultant

For specific product classifications or complex regulatory questions, professional consultation is always recommended.`,citations:[{source:"WTO Trade Topics",url:"https://www.wto.org/english/tratop_e/tratop_e.htm",lastUpdated:"2026-01-01"}],relatedRegulations:[],confidence:.5,warnings:["This is a general response - specific guidance may vary by jurisdiction"]}}function LQ(){return[{id:Pt(),title:"EU CBAM Enters Full Implementation Phase",summary:"The Carbon Border Adjustment Mechanism transitions from reporting-only to full financial adjustment. Importers must now purchase CBAM certificates.",effectiveDate:"2026-01-01",affectedCountries:["EU Member States"],affectedCommodities:["Steel","Aluminum","Cement","Fertilizers","Electricity"],source:"European Commission",severity:"Critical"},{id:Pt(),title:"US Increases Tariffs on Chinese EVs to 100%",summary:"New tariff rate applies to electric vehicles imported from China, effective immediately.",effectiveDate:"2026-02-01",affectedCountries:["USA"],affectedCommodities:["Electric Vehicles","EV Batteries"],source:"USTR",severity:"Critical"},{id:Pt(),title:"Canada Updates Food Labeling Requirements",summary:"New bilingual labeling requirements for imported food products include enhanced allergen warnings.",effectiveDate:"2026-03-15",affectedCountries:["Canada"],affectedCommodities:["Food Products","Beverages"],source:"CFIA",severity:"Important"},{id:Pt(),title:"UK Post-Brexit Border Controls Phase 3",summary:"Full customs declarations now required for all EU goods entering UK. Simplified procedures end.",effectiveDate:"2026-04-01",affectedCountries:["United Kingdom"],affectedCommodities:["All Goods from EU"],source:"HMRC",severity:"Important"}]}function DQ(e){return{shipmentId:"SHP-2024-"+Math.floor(Math.random()*1e3).toString().padStart(3,"0"),deliveryDate:new Date(Date.now()-Math.random()*7*24*60*60*1e3).toISOString(),recipientName:"John Smith",recipientSignature:Math.random()>.2,condition:Math.random()>.8?"damaged":Math.random()>.95?"partial":"good",notes:Math.random()>.7?"Package delivered to front desk":void 0,extractedFrom:e}}function RQ(e,t){const n=[];return e.recipientSignature||n.push({type:"missing_signature",severity:"High",description:"Proof of delivery lacks recipient signature",recommendedAction:"Contact recipient to obtain signature or photo confirmation"}),e.condition==="damaged"&&n.push({type:"damage_noted",severity:"High",description:"Damage noted on delivery receipt",recommendedAction:"File insurance claim immediately and document damage with photos"}),e.condition==="partial"&&n.push({type:"quantity_mismatch",severity:"High",description:"Partial delivery - not all items received",recommendedAction:"Contact carrier to locate missing items and file claim if necessary"}),n}function $Q(e,t){const n=e.some(h=>h.type==="damage_noted"),r=e.some(h=>h.type==="quantity_mismatch"),i=e.some(h=>h.type==="late_delivery");let s="General Claim",a=0;n?(s="Damage Claim",a=500):r?(s="Loss/Shortage Claim",a=750):i&&(s="Service Failure Claim",a=100);const l=["Proof of Delivery (POD)","Commercial Invoice","Bill of Lading / Air Waybill"];n&&l.push("Photos of damaged goods","Inspection report"),r&&l.push("Packing list","Inventory count sheet");const u=`FREIGHT CLAIM NOTICE

Claim Type: ${s}
Shipment ID: ${t.shipmentId}
Delivery Date: ${new Date(t.deliveryDate).toLocaleDateString()}

DESCRIPTION OF CLAIM:
${e.map(h=>`â€¢ ${h.description}`).join(`
`)}

CLAIM AMOUNT: $${a.toFixed(2)}

SUPPORTING DOCUMENTATION:
${l.map((h,f)=>`${f+1}. ${h}`).join(`
`)}

REQUESTED RESOLUTION:
${n?"Full reimbursement for damaged goods":r?"Reimbursement for missing items":"Service credit for late delivery"}

Please process this claim within 30 days as per the carrier's terms and conditions.

Claimant Information:
[Your Company Name]
[Contact Information]
[Date]`;return{claimType:s,claimAmount:a,description:e.map(h=>h.description).join("; "),supportingDocuments:l,submissionInstructions:"Submit claim to carrier within 9 months of delivery date. Include all supporting documentation.",template:u}}function zQ(e,t){const n=RQ(e),r=n.some(s=>s.severity==="High"),i=r?$Q(n,e):void 0;return{pod:e,discrepancies:n,claimRecommended:r,claimTemplate:i}}function BQ(){const[e,t]=b.useState("qa"),[n,r]=b.useState(""),[i,s]=b.useState(!1),[a,l]=b.useState(null),[u,h]=b.useState(null),f=LQ(),m=["What are the latest EU CBAM rules for steel imports?","What documents do I need for USMCA certification?","How do I screen for sanctions compliance?","What are the import restrictions for food products to Canada?"],g=async()=>{if(!n.trim())return;s(!0),await cr(800);const y=IQ(n);l(y),s(!1)},v=async()=>{s(!0),await cr(1e3);const y=DQ("mock-pod-document.pdf"),w=zQ(y);h(w),s(!1)};return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex gap-2 p-1 bg-white/5 rounded-lg w-fit",children:[c.jsx(Ue,{variant:e==="qa"?"default":"ghost",size:"sm",onClick:()=>t("qa"),className:e==="qa"?"bg-glass-highlight":"",children:"Compliance Q&A"}),c.jsx(Ue,{variant:e==="pod"?"default":"ghost",size:"sm",onClick:()=>t("pod"),className:e==="pod"?"bg-glass-highlight":"",children:"POD & Claims Assistant"})]}),e==="qa"?c.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[c.jsxs("div",{className:"md:col-span-2 space-y-4",children:[c.jsxs(ue,{className:"p-6 bg-white/5 border-white/10",children:[c.jsx("h3",{className:"text-xl font-semibold mb-4 text-white",children:"Ask a Compliance Question"}),c.jsxs("div",{className:"space-y-4",children:[c.jsx("div",{children:c.jsx(Up,{value:n,onChange:y=>r(y.target.value),placeholder:"Ask about regulations, compliance requirements, tariffs, or trade agreements...",className:"min-h-[100px] bg-white/5 text-white placeholder:text-white/40 border-white/10 focus:border-white/30",onKeyDown:y=>{y.key==="Enter"&&!y.shiftKey&&(y.preventDefault(),g())}})}),c.jsxs(Ue,{onClick:g,disabled:i||!n.trim(),className:"w-full bg-blue-600 hover:bg-blue-700",children:[i?c.jsx(Wn,{className:"h-4 w-4 animate-spin mr-2"}):c.jsx(Hj,{className:"h-4 w-4 mr-2"}),"Ask Question"]}),c.jsxs("div",{className:"pt-4 border-t border-white/10",children:[c.jsx("p",{className:"text-sm font-medium mb-2 text-white/80",children:"Suggested Questions:"}),c.jsx("div",{className:"space-y-2",children:m.map((y,w)=>c.jsx("button",{onClick:()=>r(y),className:"w-full text-left text-sm p-2 rounded hover:bg-white/10 transition-colors text-blue-300",children:y},w))})]})]})]}),a&&c.jsx(ue,{className:"p-6 bg-white/10 border-white/20 animate-in fade-in slide-in-from-bottom-2 duration-500",children:c.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[c.jsx(Fp,{className:"h-5 w-5 text-blue-400 mt-1"}),c.jsxs("div",{className:"flex-1",children:[c.jsx("h4",{className:"font-semibold mb-2 text-white",children:"Answer"}),c.jsx("div",{className:"prose prose-sm prose-invert max-w-none",children:c.jsx("p",{className:"whitespace-pre-wrap text-white/90",children:a.answer})}),a.warnings&&a.warnings.length>0&&c.jsx("div",{className:"mt-4 p-3 bg-orange-500/20 rounded-lg border border-orange-500/30",children:c.jsxs("div",{className:"flex items-start gap-2",children:[c.jsx(Ws,{className:"h-4 w-4 text-orange-400 mt-0.5"}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium mb-1 text-orange-200",children:"Important Warnings:"}),c.jsx("ul",{className:"text-sm space-y-1 text-orange-100",children:a.warnings.map((y,w)=>c.jsxs("li",{children:["â€¢ ",y]},w))})]})]})}),c.jsxs("div",{className:"mt-4 pt-4 border-t border-white/10",children:[c.jsx("p",{className:"text-sm font-medium mb-2 text-white/80",children:"Sources:"}),c.jsx("ul",{className:"text-sm space-y-1",children:a.citations.map((y,w)=>c.jsxs("li",{className:"text-white/60",children:["â€¢ ",y.source," (Updated: ",new Date(y.lastUpdated).toLocaleDateString(),")"]},w))})]}),a.relatedRegulations.length>0&&c.jsxs("div",{className:"mt-4 pt-4 border-t border-white/10",children:[c.jsx("p",{className:"text-sm font-medium mb-2 text-white/80",children:"Related Regulations:"}),c.jsx("div",{className:"flex flex-wrap gap-2",children:a.relatedRegulations.map((y,w)=>c.jsx("span",{className:"text-xs px-2 py-1 bg-blue-500/20 rounded text-blue-200",children:y},w))})]})]})]})})]}),c.jsx("div",{className:"space-y-4",children:c.jsxs(ue,{className:"p-4 bg-white/5 border-white/10",children:[c.jsx("h4",{className:"font-semibold mb-3 text-white",children:"Recent Regulation Updates"}),c.jsx("div",{className:"space-y-3",children:f.map(y=>c.jsxs("div",{className:"p-3 bg-white/5 rounded-lg hover:bg-white/10 transition-colors",children:[c.jsx("div",{className:"flex items-start gap-2 mb-1",children:c.jsx("span",{className:`text-xs px-2 py-0.5 rounded ${y.severity==="Critical"?"bg-red-500/20 text-red-300":y.severity==="Important"?"bg-orange-500/20 text-orange-300":"bg-blue-500/20 text-blue-300"}`,children:y.severity})}),c.jsx("p",{className:"font-medium text-sm mb-1 text-white",children:y.title}),c.jsx("p",{className:"text-xs text-white/60 mb-2",children:y.summary}),c.jsxs("p",{className:"text-xs text-white/40",children:["Effective: ",new Date(y.effectiveDate).toLocaleDateString()]})]},y.id))})]})})]}):c.jsx("div",{className:"space-y-4",children:c.jsxs(ue,{className:"p-6 bg-white/5 border-white/10",children:[c.jsx("h3",{className:"text-xl font-semibold mb-4 text-white",children:"Proof of Delivery & Claims Assistant"}),c.jsxs("div",{className:"border-2 border-dashed border-white/10 rounded-lg p-8 text-center mb-6 hover:border-white/20 transition-colors",children:[c.jsx(M$,{className:"h-12 w-12 mx-auto mb-4 text-white/40"}),c.jsx("p",{className:"text-sm text-white/60 mb-4",children:"Upload POD document (PDF, JPG, PNG)"}),c.jsxs(Ue,{onClick:v,disabled:i,variant:"outline",className:"border-white/20 hover:bg-white/10",children:[i?c.jsx(Wn,{className:"h-4 w-4 animate-spin mr-2"}):null,"Process Sample POD"]})]}),u&&c.jsxs("div",{className:"space-y-4 animate-in fade-in slide-in-from-bottom-2 duration-500",children:[c.jsxs(ue,{className:"p-4 bg-white/5 border-white/10",children:[c.jsx("h4",{className:"font-semibold mb-3 text-white",children:"Extracted Data"}),c.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-white/60",children:"Shipment ID"}),c.jsx("p",{className:"font-medium text-white",children:u.pod.shipmentId})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-white/60",children:"Delivery Date"}),c.jsx("p",{className:"font-medium text-white",children:new Date(u.pod.deliveryDate).toLocaleDateString()})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-white/60",children:"Recipient"}),c.jsx("p",{className:"font-medium text-white",children:u.pod.recipientName})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-white/60",children:"Condition"}),c.jsx("p",{className:`font-medium ${u.pod.condition==="good"?"text-green-400":u.pod.condition==="damaged"?"text-red-400":"text-orange-400"}`,children:u.pod.condition.toUpperCase()})]})]})]}),u.discrepancies.length>0&&c.jsxs(ue,{className:"p-4 bg-orange-500/10 border-orange-500/20",children:[c.jsxs("h4",{className:"font-semibold mb-3 flex items-center gap-2 text-orange-400",children:[c.jsx(Ws,{className:"h-4 w-4"}),"Discrepancies Detected (",u.discrepancies.length,")"]}),c.jsx("div",{className:"space-y-3",children:u.discrepancies.map((y,w)=>c.jsxs("div",{className:"p-3 bg-black/20 rounded border border-orange-500/10",children:[c.jsxs("div",{className:"flex items-center justify-between mb-1",children:[c.jsx("p",{className:"font-medium text-sm text-white",children:y.type.replace(/_/g," ").toUpperCase()}),c.jsx("span",{className:`text-xs px-2 py-0.5 rounded ${y.severity==="High"?"bg-red-500/20 text-red-300":y.severity==="Medium"?"bg-orange-500/20 text-orange-300":"bg-yellow-500/20 text-yellow-300"}`,children:y.severity})]}),c.jsx("p",{className:"text-sm text-white/80 mb-2",children:y.description}),c.jsxs("p",{className:"text-sm text-white",children:[c.jsx("span",{className:"font-medium text-orange-300",children:"Action:"})," ",y.recommendedAction]})]},w))})]}),u.claimTemplate&&c.jsxs(ue,{className:"p-4 bg-white/5 border-white/10",children:[c.jsx("h4",{className:"font-semibold mb-3 text-white",children:"Generated Claim Template"}),c.jsx("div",{className:"p-4 bg-black/30 rounded font-mono text-xs whitespace-pre-wrap text-white/80",children:u.claimTemplate.template}),c.jsxs("div",{className:"mt-4 flex gap-2",children:[c.jsx(Ue,{variant:"outline",size:"sm",className:"border-white/20 hover:bg-white/10 text-white",children:"Download Template"}),c.jsx(Ue,{variant:"outline",size:"sm",className:"border-white/20 hover:bg-white/10 text-white",children:"Email to Carrier"})]})]})]})]})})]})}function FQ(e){const t={invoice:"COMMERCIAL INVOICE",packing_list:"PACKING LIST",origin_certificate:"CERTIFICATE OF ORIGIN",bill_of_lading:"BILL OF LADING"},n=[{heading:"Shipper / Exporter",content:`Global Trade Co.
123 Export Blvd
Shanghai, China 200000`},{heading:"Consignee",content:`North American Imports Ltd.
456 Import Dr
Toronto, ON M5V 2H1
Canada`},{heading:"Shipment Details",content:{"Invoice No":`INV-${new Date().getFullYear()}-${Math.floor(Math.random()*1e3)}`,Date:new Date().toLocaleDateString(),"Transport Mode":"Air Freight","Port of Loading":"Shanghai Pudong (PVG)","Port of Discharge":"Toronto Pearson (YYZ)"}},{heading:"Line Items",content:e.template==="compact"?"1. Wireless Bluetooth Speakers (HS 8518.21) - 500 Units - $12,500.00":`Item 1: Wireless Bluetooth Speakers
HS Code: 8518.21.00
Qty: 500 Units
Unit Price: $25.00
Total Value: $12,500.00
Country of Origin: China`}];return n.push({heading:"Authorization",content:`Signed by: [Authorized Signature]
Date: `+new Date().toLocaleDateString()}),{id:Pt(),type:e.documentTypes[0],dateCreated:new Date().toISOString(),status:"generated",content:{title:t[e.documentTypes[0]]||"TRADE DOCUMENT",sections:n},metadata:{shipmentId:e.shipmentId,version:1,generatedBy:"AI Document Generator"}}}function UQ(){const[e,t]=b.useState("invoice"),[n,r]=b.useState("standard"),[i,s]=b.useState(!1),[a,l]=b.useState(null),u=async()=>{s(!0),await cr(1500);const h=FQ({shipmentId:"SHP-2024-001",documentTypes:[e],template:n});l(h),s(!1)};return c.jsx("div",{className:"space-y-6",children:c.jsxs(ue,{className:"p-6 bg-white/5 border-white/10",children:[c.jsx("h3",{className:"text-xl font-semibold mb-4 text-white",children:"AI Document Generator"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-white/80 mb-2 block",children:"Document Type"}),c.jsxs(mt,{value:e,onValueChange:t,children:[c.jsx(pt,{children:c.jsx(gt,{})}),c.jsxs(vt,{children:[c.jsx(Q,{value:"invoice",children:"Commercial Invoice"}),c.jsx(Q,{value:"packing_list",children:"Packing List"}),c.jsx(Q,{value:"origin_certificate",children:"Certificate of Origin"}),c.jsx(Q,{value:"bill_of_lading",children:"Bill of Lading"})]})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-white/80 mb-2 block",children:"Template Style"}),c.jsxs(mt,{value:n,onValueChange:r,children:[c.jsx(pt,{children:c.jsx(gt,{})}),c.jsxs(vt,{children:[c.jsx(Q,{value:"standard",children:"Standard"}),c.jsx(Q,{value:"formal",children:"Formal"}),c.jsx(Q,{value:"compact",children:"Compact"})]})]})]}),c.jsx("div",{className:"flex items-end",children:c.jsxs(Ue,{onClick:u,disabled:i,className:"w-full bg-indigo-600 hover:bg-indigo-700",children:[i?c.jsx(Wn,{className:"h-4 w-4 animate-spin mr-2"}):c.jsx(Fp,{className:"h-4 w-4 mr-2"}),"Generate Document"]})})]}),a&&c.jsxs("div",{className:"animate-in fade-in slide-in-from-bottom-2 duration-500",children:[c.jsxs("div",{className:"border border-white/10 rounded-lg p-6 bg-white shadow-lg text-slate-900 mb-4 min-h-[500px]",children:[c.jsxs("div",{className:"flex justify-between items-start border-b border-slate-200 pb-4 mb-4",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-bold uppercase text-slate-800",children:a.content.title}),c.jsxs("p",{className:"text-sm text-slate-500",children:["Generated on ",new Date(a.dateCreated).toLocaleDateString()]})]}),c.jsx("div",{className:"text-right",children:c.jsxs("p",{className:"font-mono text-sm text-slate-400",children:["ID: ",a.id]})})]}),c.jsx("div",{className:"space-y-6",children:a.content.sections.map((h,f)=>c.jsxs("div",{children:[c.jsx("h4",{className:"text-sm font-semibold text-slate-500 uppercase mb-1",children:h.heading}),typeof h.content=="string"?c.jsx("pre",{className:"text-sm font-sans whitespace-pre-wrap bg-slate-50 text-slate-700 p-3 rounded border border-slate-100",children:h.content}):c.jsx("div",{className:"grid grid-cols-2 gap-2 text-sm bg-slate-50 p-3 rounded border border-slate-100",children:Object.entries(h.content).map(([m,g])=>c.jsxs("div",{children:[c.jsxs("span",{className:"font-medium text-slate-700",children:[m,":"]})," ",c.jsx("span",{className:"text-slate-600",children:String(g)})]},m))})]},f))})]}),c.jsxs("div",{className:"flex justify-end gap-2",children:[c.jsxs(Ue,{variant:"outline",className:"text-green-400 border-green-500/20 bg-green-500/10 hover:bg-green-500/20",children:[c.jsx(o3,{className:"h-4 w-4 mr-2"})," Verified by AI"]}),c.jsxs(Ue,{className:"bg-white/10 hover:bg-white/20",children:[c.jsx(w3,{className:"h-4 w-4 mr-2"})," Download PDF"]})]})]})]})})}function VQ(e,t,n){var u,h;const i={air:.5,ocean:.01,rail:.05},s=[{routeId:"air-express",origin:e,destination:t,distanceKm:12e3,mode:"air",intensityFactor:i.air,co2eKg:n/1e3*12e3*i.air},{routeId:"ocean-freight",origin:e,destination:t,distanceKm:12e3,mode:"ocean",intensityFactor:i.ocean,co2eKg:n/1e3*12e3*i.ocean}],a=((u=s.find(f=>f.mode==="air"))==null?void 0:u.co2eKg)||0,l=((h=s.find(f=>f.mode==="ocean"))==null?void 0:h.co2eKg)||0;return{totalEmissions:a,breakdownByMode:{"Air Freight":a,"Ocean Freight":l,Rail:n/1e3*12e3*i.rail},timelineData:[{period:"Jan",emissions:4500},{period:"Feb",emissions:4200},{period:"Mar",emissions:3800},{period:"Apr",emissions:4100}],recommendations:[{type:"mode_shift",description:"Switching from Air to Ocean saves 98% of carbon emissions for this route.",potentialSavingsKg:a-l},{type:"consolidation",description:"Consolidating shipments to reduce frequency by 20% can save ~500kg CO2e annually.",potentialSavingsKg:500}],offsetOptions:[{provider:"Reforestation Pro",costPerTon:15,projectType:"Tree Planting",totalCost:a/1e3*15},{provider:"Clean Energy Fund",costPerTon:22,projectType:"Wind Farm Development",totalCost:a/1e3*22}]}}function WQ(){const[e,t]=b.useState("Shanghai"),[n,r]=b.useState("Toronto"),[i,s]=b.useState("5000"),[a,l]=b.useState(!1),[u,h]=b.useState(null),f=async()=>{l(!0),await cr(1e3);const m=VQ(e,n,parseFloat(i));h(m),l(!1)};return c.jsx("div",{className:"space-y-6",children:c.jsxs(ue,{className:"p-6 bg-white/5 border-white/10",children:[c.jsxs("h3",{className:"text-xl font-semibold mb-4 flex items-center gap-2 text-white",children:[c.jsx(im,{className:"h-5 w-5 text-green-400"}),"Carbon Footprint Optimizer"]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-white/80 mb-2 block",children:"Origin"}),c.jsxs(mt,{value:e,onValueChange:t,children:[c.jsx(pt,{children:c.jsx(gt,{})}),c.jsxs(vt,{children:[c.jsx(Q,{value:"Shanghai",children:"Shanghai, China"}),c.jsx(Q,{value:"Mumbai",children:"Mumbai, India"}),c.jsx(Q,{value:"Hamburg",children:"Hamburg, Germany"})]})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-white/80 mb-2 block",children:"Destination"}),c.jsxs(mt,{value:n,onValueChange:r,children:[c.jsx(pt,{children:c.jsx(gt,{})}),c.jsxs(vt,{children:[c.jsx(Q,{value:"Toronto",children:"Toronto, Canada"}),c.jsx(Q,{value:"Vancouver",children:"Vancouver, Canada"}),c.jsx(Q,{value:"New York",children:"New York, USA"})]})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-white/80 mb-2 block",children:"Weight (kg)"}),c.jsxs(mt,{value:i,onValueChange:s,children:[c.jsx(pt,{children:c.jsx(gt,{})}),c.jsxs(vt,{children:[c.jsx(Q,{value:"100",children:"100 kg"}),c.jsx(Q,{value:"500",children:"500 kg"}),c.jsx(Q,{value:"1000",children:"1,000 kg"}),c.jsx(Q,{value:"5000",children:"5,000 kg"})]})]})]}),c.jsx("div",{className:"flex items-end",children:c.jsx(Ue,{onClick:f,disabled:a,className:"w-full bg-green-600 hover:bg-green-700",children:a?c.jsx(Wn,{className:"h-4 w-4 animate-spin mr-2"}):"Calculate Footprint"})})]}),u&&c.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-2 duration-500",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[c.jsxs(ue,{className:"p-4 bg-white/5 border-white/10",children:[c.jsx("p",{className:"text-sm text-white/60",children:"Total Emissions (Air)"}),c.jsxs("p",{className:"text-3xl font-bold text-white",children:[Math.round(u.totalEmissions).toLocaleString()," ",c.jsx("span",{className:"text-sm font-normal text-white/40",children:"kg CO2e"})]})]}),c.jsxs(ue,{className:"p-4 bg-green-500/10 border-green-500/20",children:[c.jsx("p",{className:"text-sm text-green-300",children:"Potential Savings (Switch to Ocean)"}),c.jsxs("p",{className:"text-3xl font-bold text-green-300",children:["-",Math.round(u.breakdownByMode["Air Freight"]-u.breakdownByMode["Ocean Freight"]).toLocaleString()," ",c.jsx("span",{className:"text-sm font-normal",children:"kg"})]})]}),c.jsxs(ue,{className:"p-4 bg-blue-500/10 border-blue-500/20",children:[c.jsx("p",{className:"text-sm text-blue-300",children:"Offset Cost"}),c.jsx("p",{className:"text-3xl font-bold text-blue-300",children:De(u.offsetOptions[0].totalCost)})]})]}),c.jsxs("div",{className:"h-[300px] w-full",children:[c.jsx("h4",{className:"text-sm font-medium mb-4 text-white",children:"Emission Intensity by Mode (kg CO2e)"}),c.jsx(pg,{width:"100%",height:"100%",children:c.jsxs(CQ,{data:Object.entries(u.breakdownByMode).map(([m,g])=>({name:m,value:g})),children:[c.jsx(kv,{strokeDasharray:"3 3",vertical:!1,stroke:"rgba(255,255,255,0.1)"}),c.jsx(Tv,{dataKey:"name",stroke:"rgba(255,255,255,0.5)"}),c.jsx(Nv,{stroke:"rgba(255,255,255,0.5)"}),c.jsx(vv,{formatter:m=>[`${Math.round(m)} kg`,"CO2e"],contentStyle:{backgroundColor:"rgba(23, 23, 23, 0.9)",border:"1px solid rgba(255,255,255,0.1)",borderRadius:"8px",color:"#fff"}}),c.jsx(ST,{dataKey:"value",radius:[4,4,0,0],children:Object.entries(u.breakdownByMode).map((m,g)=>c.jsx(yv,{fill:g===0?"#ef4444":g===1?"#22c55e":"#3b82f6"},`cell-${g}`))})]})})]}),c.jsxs("div",{children:[c.jsx("h4",{className:"font-semibold mb-3 text-white",children:"AI Recommendations for Sustainability"}),c.jsx("div",{className:"grid gap-3 p-3 bg-white/5 rounded-lg border border-white/10",children:u.recommendations.map((m,g)=>c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx("div",{className:"mt-1 bg-green-500/20 p-1 rounded-full",children:c.jsx(im,{className:"h-4 w-4 text-green-400"})}),c.jsxs("div",{children:[c.jsx("p",{className:"font-medium text-sm text-white",children:m.type==="mode_shift"?"Switch Transport Mode":"Consolidate Shipments"}),c.jsx("p",{className:"text-sm text-white/60",children:m.description})]}),c.jsxs("div",{className:"ml-auto text-green-400 font-medium text-sm",children:["-",Math.round(m.potentialSavingsKg)," kg CO2e"]})]},g))})]}),c.jsxs("div",{children:[c.jsx("h4",{className:"font-semibold mb-3 text-white",children:"Carbon Offset Programs"}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:u.offsetOptions.map((m,g)=>c.jsxs("div",{className:"border border-white/10 p-4 rounded-lg flex justify-between items-center hover:bg-white/5 transition-colors cursor-pointer",children:[c.jsxs("div",{children:[c.jsx("p",{className:"font-bold text-white",children:m.provider}),c.jsx("p",{className:"text-sm text-white/60",children:m.projectType})]}),c.jsxs("div",{className:"text-right",children:[c.jsx("p",{className:"font-bold text-lg text-white",children:De(m.totalCost)}),c.jsx(Ue,{size:"sm",variant:"outline",className:"mt-1 h-7 border-white/20 hover:bg-white/10 text-white",children:"Select"})]})]},g))})]})]})]})})}function HQ(e){const t=e.entityName.toLowerCase().includes("global")||e.country.toLowerCase()==="russia";return{id:Pt(),timestamp:new Date().toISOString(),entityScanned:e.entityName,riskLevel:t?"high":"low",matches:t?[{listProvider:"OFAC",matchScore:.95,matchedEntity:e.entityName+" Holdings Ltd.",program:"Specially Designated Nationals",status:"active",notes:"Exact name match found in SDN list."}]:[],resolution:t?"flagged":"clear"}}function KQ(){return{currencies:[{pair:"USD/CNY",currentRate:7.23,change24h:.15,trend:"up",forecast:"Expected to stabilize around 7.25 next week."},{pair:"EUR/USD",currentRate:1.08,change24h:-.05,trend:"stable",forecast:"Minor fluctuations expected due to ECB announcement."},{pair:"USD/CAD",currentRate:1.36,change24h:.02,trend:"up",forecast:"Bullish trend continues."}],commodities:[{name:"Crude Oil (WTI)",unit:"Barrel",price:78.5,changePercentage:-1.2,impactLevel:"medium"},{name:"Steel",unit:"Ton",price:850,changePercentage:2.5,impactLevel:"high"},{name:"Cotton",unit:"lb",price:.95,changePercentage:0,impactLevel:"low"}],news:[{id:"n1",headline:"Red Sea Disruptions Continue to Affect Shipping Routes",source:"Logistics Daily",timestamp:"2 hours ago",summary:"Major carriers are diverting vessels around Cape of Good Hope, adding 10-14 days to transit times.",sentiment:"negative",relatedRegions:["Middle East","Europe"],affectedIndustries:["All"],url:"#"},{id:"n2",headline:"New Trade Agreement Signed Between UK and Pacific Nations",source:"Global Trade Review",timestamp:"5 hours ago",summary:"Tariffs on 99% of goods to be eliminated, boosting export opportunities.",sentiment:"positive",relatedRegions:["UK","Asia-Pacific"],affectedIndustries:["Automotive","Agriculture"],url:"#"},{id:"n3",headline:"Container Spot Rates Stabilize After Q1 Surge",source:"Freight Waves",timestamp:"1 day ago",summary:"Demand normalization is leading to steadier pricing on Trans-Pacific lanes.",sentiment:"neutral",relatedRegions:["China","USA"],affectedIndustries:["Retail","Electronics"],url:"#"},{id:"n4",headline:"Panama Canal Authority Increases Daily Slot Limits",source:"Maritime Executive",timestamp:"3 hours ago",summary:"Water levels have improved, allowing for 3 more daily transits starting next month.",sentiment:"positive",relatedRegions:["Americas"],affectedIndustries:["Energy","Grains"],url:"#"},{id:"n5",headline:"Strike Action Looming at German Ports",source:"Reuters Logistics",timestamp:"6 hours ago",summary:"Union negotiations have stalled, raising fears of 48-hour warning strikes in Hamburg and Bremerhaven.",sentiment:"negative",relatedRegions:["Europe","Germany"],affectedIndustries:["Automotive","Manufacturing"],url:"#"},{id:"n6",headline:"Air Freight Volumes Surge Ahead of Lunar New Year",source:"Air Cargo News",timestamp:"8 hours ago",summary:"e-Commerce demand remains strong, driving up rates out of Hong Kong and Shanghai.",sentiment:"positive",relatedRegions:["Asia","Global"],affectedIndustries:["E-commerce","Fashion"],url:"#"},{id:"n7",headline:"India Investigates Steel Dumping Allegations",source:"Economic Times",timestamp:"12 hours ago",summary:"Government initiates probe into cheap steel imports from Vietnam and China.",sentiment:"neutral",relatedRegions:["India","Asia"],affectedIndustries:["Steel","Construction"],url:"#"},{id:"n8",headline:"Baltimore Bridge Reconstruction Funding Approved",source:"US Dept of Transport",timestamp:"14 hours ago",summary:"Federal funds released to fast-track the rebuilding of the Key Bridge.",sentiment:"positive",relatedRegions:["USA"],affectedIndustries:["Infrastructure","Logistics"],url:"#"},{id:"n9",headline:"Typhoon Warning Issued for South China Sea",source:"Weather Logistics",timestamp:"30 mins ago",summary:"Typhoon Gaemi expected to disrupt shipping lanes near Taiwan and Fujian.",sentiment:"negative",relatedRegions:["Asia"],affectedIndustries:["Shipping"],url:"#"},{id:"n10",headline:"EU Carbon Border Tax (CBAM) Reporting Phase Begins",source:"European Commission",timestamp:"1 day ago",summary:"Importers must now report embedded emissions for cement, iron, steel, and aluminum.",sentiment:"neutral",relatedRegions:["Europe"],affectedIndustries:["Manufacturing","Materials"],url:"#"}],spotRates:{asia_us_west:{label:"Asia to US West Coast",current:1350,unit:"FEU",change:"+4.2%",history:[{day:"1",val:1200},{day:"5",val:1250},{day:"10",val:1220},{day:"15",val:1300},{day:"20",val:1280},{day:"25",val:1350}]},asia_europe:{label:"Asia to North Europe",current:3100,unit:"FEU",change:"-1.5%",history:[{day:"1",val:3200},{day:"5",val:3150},{day:"10",val:3180},{day:"15",val:3120},{day:"20",val:3050},{day:"25",val:3100}]},trans_atlantic:{label:"Europe to US East Coast",current:1850,unit:"FEU",change:"+0.5%",history:[{day:"1",val:1800},{day:"5",val:1810},{day:"10",val:1820},{day:"15",val:1830},{day:"20",val:1840},{day:"25",val:1850}]}}}}function qQ(){const[e,t]=b.useState(""),[n,r]=b.useState(""),[i,s]=b.useState(!1),[a,l]=b.useState(null),u=async()=>{if(!e)return;s(!0),await cr(1200);const h=HQ({entityName:e,country:n||"Unknown"});l(h),s(!1)};return c.jsx("div",{className:"space-y-6",children:c.jsxs(ue,{className:"p-6 bg-white/5 border-white/10",children:[c.jsxs("h3",{className:"text-xl font-semibold mb-2 flex items-center gap-2 text-white",children:[c.jsx(Kj,{className:"h-6 w-6 text-indigo-400"}),"Sanctions Screening Watchtower"]}),c.jsx("p",{className:"text-sm text-white/60 mb-6",children:"Screen entities against OFAC, EU, UN, and UK sanctions lists in real-time."}),c.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-8",children:[c.jsx("div",{className:"flex-1",children:c.jsx(Vs,{placeholder:"Enter Company or Individual Name...",value:e,onChange:h=>t(h.target.value),className:"h-10"})}),c.jsx("div",{className:"w-full md:w-48",children:c.jsxs(mt,{value:n,onValueChange:r,children:[c.jsx(pt,{className:"h-10",children:c.jsx(gt,{placeholder:"Country (Optional)"})}),c.jsxs(vt,{children:[c.jsx(Q,{value:"China",children:"China"}),c.jsx(Q,{value:"Russia",children:"Russia"}),c.jsx(Q,{value:"Iran",children:"Iran"}),c.jsx(Q,{value:"UAE",children:"UAE"}),c.jsx(Q,{value:"Other",children:"Other"})]})]})}),c.jsxs(Ue,{onClick:u,disabled:i||!e,className:"h-10 px-6 bg-indigo-600 hover:bg-indigo-700",children:[i?c.jsx(Wn,{className:"h-4 w-4 animate-spin mr-2"}):c.jsx(Do,{className:"h-4 w-4 mr-2"}),"Screen Entity"]})]}),a&&c.jsxs("div",{className:`border rounded-lg p-6 animate-in fade-in zoom-in-95 duration-300 ${a.riskLevel==="high"?"bg-red-500/10 border-red-500/30":"bg-green-500/10 border-green-500/30"}`,children:[c.jsxs("div",{className:"flex items-start gap-4",children:[c.jsx("div",{className:`p-3 rounded-full ${a.riskLevel==="high"?"bg-red-500/20 text-red-400":"bg-green-500/20 text-green-400"}`,children:a.riskLevel==="high"?c.jsx(a$,{className:"h-8 w-8"}):c.jsx(Iu,{className:"h-8 w-8"})}),c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsxs("div",{children:[c.jsx("h4",{className:"text-lg font-bold text-white",children:a.entityScanned}),c.jsxs("p",{className:"text-sm font-medium opacity-80 uppercase tracking-wide text-white/80",children:["Status: ",a.resolution," â€¢ Risk Level: ",a.riskLevel.toUpperCase()]})]}),c.jsxs("p",{className:"text-xs font-mono opacity-60 text-white/60",children:["ID: ",a.id]})]}),a.matches.length>0?c.jsxs("div",{className:"mt-4 space-y-3",children:[c.jsx("p",{className:"font-semibold text-sm text-white",children:"Matches Found:"}),a.matches.map((h,f)=>c.jsxs("div",{className:"bg-black/20 p-3 rounded text-sm text-white/90",children:[c.jsxs("p",{children:[c.jsxs("span",{className:"font-bold",children:[h.listProvider," List"]})," â€” Score: ",Math.round(h.matchScore*100),"%"]}),c.jsxs("p",{className:"text-xs mt-1 text-white/60",children:["Matched Entity: ",h.matchedEntity]}),c.jsxs("p",{className:"text-xs text-white/60",children:["Program: ",h.program]}),c.jsxs("p",{className:"text-xs mt-1 italic opacity-80 text-white/60",children:['"',h.notes,'"']})]},f))]}):c.jsx("p",{className:"mt-4 text-sm text-white/80",children:"No matches found in global sanctions databases. This entity appears clear for trade based on current lists."})]})]}),a.riskLevel==="high"&&c.jsxs("div",{className:"mt-4 flex gap-2 justify-end",children:[c.jsx(Ue,{variant:"destructive",size:"sm",children:"Flag Transaction"}),c.jsx(Ue,{variant:"outline",size:"sm",className:"border-white/20 hover:bg-white/10 text-white",children:"Request Full Report"})]})]}),!a&&c.jsxs("div",{className:"text-center py-12 text-white/40 bg-white/5 rounded-lg border border-dashed border-white/10",children:[c.jsx(Vj,{className:"h-10 w-10 mx-auto mb-3 opacity-20"}),c.jsx("p",{children:"Enter an entity name above to perform a real-time sanctions check."})]})]})})}function GQ(){const[e,t]=b.useState(null),[n,r]=b.useState("asia_us_west");if(b.useEffect(()=>{(async()=>{await cr(500),t(KQ())})()},[]),!e)return c.jsxs("div",{className:"flex items-center justify-center p-12 text-white/60",children:[c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-white mr-3"}),"Loading Market Intelligence..."]});const i=e.spotRates[n];return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("h3",{className:"text-xl font-semibold flex items-center gap-2 text-white",children:[c.jsx(ar,{className:"h-5 w-5 text-blue-400"}),"Global Market Intelligence"]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.currencies.map((s,a)=>c.jsxs(ue,{className:"p-4 flex items-center justify-between hover:bg-white/10 transition-colors bg-white/5 border-white/10",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-white/60",children:s.pair}),c.jsx("p",{className:"text-2xl font-bold text-white",children:s.currentRate.toFixed(4)})]}),c.jsxs("div",{className:`text-right ${s.change24h>=0?"text-green-400":"text-red-400"}`,children:[c.jsxs("div",{className:"flex items-center justify-end gap-1",children:[s.change24h>=0?c.jsx(Pn,{className:"h-4 w-4"}):c.jsx(fo,{className:"h-4 w-4"}),c.jsxs("span",{className:"font-bold",children:[Math.abs(s.change24h),"%"]})]}),c.jsx("p",{className:"text-xs opacity-80 text-white/60",children:s.forecast})]})]},a)),c.jsxs(ue,{className:"p-4 flex items-center justify-between hover:bg-amber-500/10 transition-colors bg-amber-500/5 border-amber-500/20",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-amber-200",children:e.commodities[0].name}),c.jsxs("p",{className:"text-2xl font-bold text-amber-100",children:["$",e.commodities[0].price]})]}),c.jsxs("div",{className:"text-right text-red-400",children:[c.jsxs("div",{className:"flex items-center justify-end gap-1",children:[c.jsx(fo,{className:"h-4 w-4"}),c.jsxs("span",{className:"font-bold",children:[e.commodities[0].changePercentage,"%"]})]}),c.jsx("p",{className:"text-xs text-amber-200 uppercase",children:e.commodities[0].unit})]})]})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[c.jsxs(ue,{className:"col-span-1 lg:col-span-2 p-6 bg-white/5 border-white/10 flex flex-col max-h-[500px]",children:[c.jsxs("h4",{className:"font-semibold mb-4 flex items-center gap-2 text-white sticky top-0 bg-transparent z-10",children:[c.jsx(i$,{className:"h-4 w-4"}),"Live Trade Alerts & News"]}),c.jsx("div",{className:"space-y-4 overflow-y-auto custom-scrollbar pr-2 flex-1",children:e.news.map(s=>c.jsxs("div",{className:"flex gap-4 p-3 rounded-lg hover:bg-white/5 transition-colors border border-transparent hover:border-white/10 group",children:[c.jsx("div",{className:`w-1 self-stretch rounded-full flex-shrink-0 ${s.sentiment==="negative"?"bg-red-500 shadow-[0_0_8px_rgba(239,68,68,0.5)]":s.sentiment==="positive"?"bg-green-500 shadow-[0_0_8px_rgba(34,197,94,0.5)]":"bg-gray-400"}`}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsxs("div",{className:"flex justify-between items-start mb-1",children:[c.jsx("h5",{className:"font-medium text-sm text-white group-hover:text-blue-300 cursor-pointer transition-colors truncate pr-2",children:s.headline}),c.jsx("span",{className:"text-xs text-white/40 whitespace-nowrap flex-shrink-0",children:s.timestamp})]}),c.jsx("p",{className:"text-xs text-white/60 line-clamp-2 mb-2",children:s.summary}),c.jsxs("div",{className:"flex flex-wrap gap-2",children:[c.jsx("span",{className:"text-[10px] px-1.5 py-0.5 bg-white/10 rounded text-white/60 border border-white/5",children:s.source}),s.relatedRegions.map((a,l)=>c.jsx("span",{className:"text-[10px] px-1.5 py-0.5 bg-blue-500/10 text-blue-300 rounded border border-blue-500/20",children:a},l))]})]})]},s.id))})]}),c.jsxs(ue,{className:"p-6 bg-white/5 border-white/10 flex flex-col",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsx("h4",{className:"font-semibold text-white",children:"Spot Rate Trends"}),c.jsxs("select",{value:n,onChange:s=>r(s.target.value),className:"bg-black/40 border border-white/20 text-xs text-white rounded px-2 py-1 outline-none focus:border-blue-500 transition-colors",children:[c.jsx("option",{value:"asia_us_west",children:"Asia â†’ US West"}),c.jsx("option",{value:"asia_europe",children:"Asia â†’ N. Europe"}),c.jsx("option",{value:"trans_atlantic",children:"Europe â†’ US East"})]})]}),c.jsx("div",{className:"h-[200px] w-full mb-4",children:c.jsx(pg,{width:"100%",height:"100%",children:c.jsxs(DT,{data:i.history,children:[c.jsx(vu,{type:"monotone",dataKey:"val",stroke:"#5227FF",strokeWidth:3,dot:{fill:"#5227FF",r:4,strokeWidth:0},activeDot:{r:6,stroke:"white",strokeWidth:2}}),c.jsx(vv,{cursor:{stroke:"white",strokeWidth:1,strokeDasharray:"4 4"},contentStyle:{backgroundColor:"rgba(15, 23, 42, 0.9)",border:"1px solid rgba(255,255,255,0.1)",borderRadius:"8px",color:"#fff",fontSize:"12px"},formatter:s=>[`$${s}`,"Rate"]})]})})}),c.jsxs("div",{className:"mt-auto pt-4 border-t border-white/10 text-sm",children:[c.jsx("div",{className:"flex justify-between items-baseline mb-2",children:c.jsx("span",{className:"text-white/60 text-xs uppercase tracking-wider",children:i.label})}),c.jsxs("p",{className:"flex justify-between items-end",children:[c.jsx("span",{className:"text-white/60",children:"Current Rate:"}),c.jsxs("span",{className:"font-bold text-2xl text-white",children:["$",i.current," ",c.jsxs("span",{className:"text-sm font-normal text-white/40",children:["/ ",i.unit]})]})]}),c.jsxs("p",{className:"flex justify-between mt-2",children:[c.jsx("span",{className:"text-white/60",children:"WoW Change:"}),c.jsx("span",{className:`font-medium ${i.change.startsWith("+")?"text-red-400":"text-green-400"}`,children:i.change})]})]})]})]})]})}function RT(e,t){const n=b.useRef(t);b.useEffect(function(){t!==n.current&&e.attributionControl!=null&&(n.current!=null&&e.attributionControl.removeAttribution(n.current),t!=null&&e.attributionControl.addAttribution(t)),n.current=t},[e,t])}const ZQ=1;function YQ(e){return Object.freeze({__version:ZQ,map:e})}function $T(e,t){return Object.freeze({...e,...t})}const zT=b.createContext(null),BT=zT.Provider;function Iv(){const e=b.useContext(zT);if(e==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return e}function FT(e){function t(n,r){const{instance:i,context:s}=e(n).current;return b.useImperativeHandle(r,()=>i),n.children==null?null:Wt.createElement(BT,{value:s},n.children)}return b.forwardRef(t)}function XQ(e){function t(n,r){const[i,s]=b.useState(!1),{instance:a}=e(n,s).current;b.useImperativeHandle(r,()=>a),b.useEffect(function(){i&&a.update()},[a,i,n.children]);const l=a._contentNode;return l?Su.createPortal(n.children,l):null}return b.forwardRef(t)}function JQ(e){function t(n,r){const{instance:i}=e(n).current;return b.useImperativeHandle(r,()=>i),null}return b.forwardRef(t)}function Lv(e,t){const n=b.useRef();b.useEffect(function(){return t!=null&&e.instance.on(t),n.current=t,function(){n.current!=null&&e.instance.off(n.current),n.current=null}},[e,t])}function Ud(e,t){const n=e.pane??t.pane;return n?{...e,pane:n}:e}function QQ(e,t){return function(r,i){const s=Iv(),a=e(Ud(r,s),s);return RT(s.map,r.attribution),Lv(a.current,r.eventHandlers),t(a.current,s,r,i),a}}var sp={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(e,t){(function(n,r){r(t)})(yO,function(n){var r="1.9.4";function i(o){var d,p,x,S;for(p=1,x=arguments.length;p<x;p++){S=arguments[p];for(d in S)o[d]=S[d]}return o}var s=Object.create||function(){function o(){}return function(d){return o.prototype=d,new o}}();function a(o,d){var p=Array.prototype.slice;if(o.bind)return o.bind.apply(o,p.call(arguments,1));var x=p.call(arguments,2);return function(){return o.apply(d,x.length?x.concat(p.call(arguments)):arguments)}}var l=0;function u(o){return"_leaflet_id"in o||(o._leaflet_id=++l),o._leaflet_id}function h(o,d,p){var x,S,A,O;return O=function(){x=!1,S&&(A.apply(p,S),S=!1)},A=function(){x?S=arguments:(o.apply(p,arguments),setTimeout(O,d),x=!0)},A}function f(o,d,p){var x=d[1],S=d[0],A=x-S;return o===x&&p?o:((o-S)%A+A)%A+S}function m(){return!1}function g(o,d){if(d===!1)return o;var p=Math.pow(10,d===void 0?6:d);return Math.round(o*p)/p}function v(o){return o.trim?o.trim():o.replace(/^\s+|\s+$/g,"")}function y(o){return v(o).split(/\s+/)}function w(o,d){Object.prototype.hasOwnProperty.call(o,"options")||(o.options=o.options?s(o.options):{});for(var p in d)o.options[p]=d[p];return o.options}function _(o,d,p){var x=[];for(var S in o)x.push(encodeURIComponent(p?S.toUpperCase():S)+"="+encodeURIComponent(o[S]));return(!d||d.indexOf("?")===-1?"?":"&")+x.join("&")}var j=/\{ *([\w_ -]+) *\}/g;function k(o,d){return o.replace(j,function(p,x){var S=d[x];if(S===void 0)throw new Error("No value provided for variable "+p);return typeof S=="function"&&(S=S(d)),S})}var P=Array.isArray||function(o){return Object.prototype.toString.call(o)==="[object Array]"};function C(o,d){for(var p=0;p<o.length;p++)if(o[p]===d)return p;return-1}var N="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function T(o){return window["webkit"+o]||window["moz"+o]||window["ms"+o]}var M=0;function E(o){var d=+new Date,p=Math.max(0,16-(d-M));return M=d+p,window.setTimeout(o,p)}var $=window.requestAnimationFrame||T("RequestAnimationFrame")||E,q=window.cancelAnimationFrame||T("CancelAnimationFrame")||T("CancelRequestAnimationFrame")||function(o){window.clearTimeout(o)};function U(o,d,p){if(p&&$===E)o.call(d);else return $.call(window,a(o,d))}function R(o){o&&q.call(window,o)}var se={__proto__:null,extend:i,create:s,bind:a,get lastId(){return l},stamp:u,throttle:h,wrapNum:f,falseFn:m,formatNum:g,trim:v,splitWords:y,setOptions:w,getParamString:_,template:k,isArray:P,indexOf:C,emptyImageUrl:N,requestFn:$,cancelFn:q,requestAnimFrame:U,cancelAnimFrame:R};function Y(){}Y.extend=function(o){var d=function(){w(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},p=d.__super__=this.prototype,x=s(p);x.constructor=d,d.prototype=x;for(var S in this)Object.prototype.hasOwnProperty.call(this,S)&&S!=="prototype"&&S!=="__super__"&&(d[S]=this[S]);return o.statics&&i(d,o.statics),o.includes&&(oe(o.includes),i.apply(null,[x].concat(o.includes))),i(x,o),delete x.statics,delete x.includes,x.options&&(x.options=p.options?s(p.options):{},i(x.options,o.options)),x._initHooks=[],x.callInitHooks=function(){if(!this._initHooksCalled){p.callInitHooks&&p.callInitHooks.call(this),this._initHooksCalled=!0;for(var A=0,O=x._initHooks.length;A<O;A++)x._initHooks[A].call(this)}},d},Y.include=function(o){var d=this.prototype.options;return i(this.prototype,o),o.options&&(this.prototype.options=d,this.mergeOptions(o.options)),this},Y.mergeOptions=function(o){return i(this.prototype.options,o),this},Y.addInitHook=function(o){var d=Array.prototype.slice.call(arguments,1),p=typeof o=="function"?o:function(){this[o].apply(this,d)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(p),this};function oe(o){if(!(typeof L>"u"||!L||!L.Mixin)){o=P(o)?o:[o];for(var d=0;d<o.length;d++)o[d]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var I={on:function(o,d,p){if(typeof o=="object")for(var x in o)this._on(x,o[x],d);else{o=y(o);for(var S=0,A=o.length;S<A;S++)this._on(o[S],d,p)}return this},off:function(o,d,p){if(!arguments.length)delete this._events;else if(typeof o=="object")for(var x in o)this._off(x,o[x],d);else{o=y(o);for(var S=arguments.length===1,A=0,O=o.length;A<O;A++)S?this._off(o[A]):this._off(o[A],d,p)}return this},_on:function(o,d,p,x){if(typeof d!="function"){console.warn("wrong listener type: "+typeof d);return}if(this._listens(o,d,p)===!1){p===this&&(p=void 0);var S={fn:d,ctx:p};x&&(S.once=!0),this._events=this._events||{},this._events[o]=this._events[o]||[],this._events[o].push(S)}},_off:function(o,d,p){var x,S,A;if(this._events&&(x=this._events[o],!!x)){if(arguments.length===1){if(this._firingCount)for(S=0,A=x.length;S<A;S++)x[S].fn=m;delete this._events[o];return}if(typeof d!="function"){console.warn("wrong listener type: "+typeof d);return}var O=this._listens(o,d,p);if(O!==!1){var D=x[O];this._firingCount&&(D.fn=m,this._events[o]=x=x.slice()),x.splice(O,1)}}},fire:function(o,d,p){if(!this.listens(o,p))return this;var x=i({},d,{type:o,target:this,sourceTarget:d&&d.sourceTarget||this});if(this._events){var S=this._events[o];if(S){this._firingCount=this._firingCount+1||1;for(var A=0,O=S.length;A<O;A++){var D=S[A],F=D.fn;D.once&&this.off(o,F,D.ctx),F.call(D.ctx||this,x)}this._firingCount--}}return p&&this._propagateEvent(x),this},listens:function(o,d,p,x){typeof o!="string"&&console.warn('"string" type argument expected');var S=d;typeof d!="function"&&(x=!!d,S=void 0,p=void 0);var A=this._events&&this._events[o];if(A&&A.length&&this._listens(o,S,p)!==!1)return!0;if(x){for(var O in this._eventParents)if(this._eventParents[O].listens(o,d,p,x))return!0}return!1},_listens:function(o,d,p){if(!this._events)return!1;var x=this._events[o]||[];if(!d)return!!x.length;p===this&&(p=void 0);for(var S=0,A=x.length;S<A;S++)if(x[S].fn===d&&x[S].ctx===p)return S;return!1},once:function(o,d,p){if(typeof o=="object")for(var x in o)this._on(x,o[x],d,!0);else{o=y(o);for(var S=0,A=o.length;S<A;S++)this._on(o[S],d,p,!0)}return this},addEventParent:function(o){return this._eventParents=this._eventParents||{},this._eventParents[u(o)]=o,this},removeEventParent:function(o){return this._eventParents&&delete this._eventParents[u(o)],this},_propagateEvent:function(o){for(var d in this._eventParents)this._eventParents[d].fire(o.type,i({layer:o.target,propagatedFrom:o.target},o),!0)}};I.addEventListener=I.on,I.removeEventListener=I.clearAllEventListeners=I.off,I.addOneTimeEventListener=I.once,I.fireEvent=I.fire,I.hasEventListeners=I.listens;var V=Y.extend(I);function z(o,d,p){this.x=p?Math.round(o):o,this.y=p?Math.round(d):d}var J=Math.trunc||function(o){return o>0?Math.floor(o):Math.ceil(o)};z.prototype={clone:function(){return new z(this.x,this.y)},add:function(o){return this.clone()._add(G(o))},_add:function(o){return this.x+=o.x,this.y+=o.y,this},subtract:function(o){return this.clone()._subtract(G(o))},_subtract:function(o){return this.x-=o.x,this.y-=o.y,this},divideBy:function(o){return this.clone()._divideBy(o)},_divideBy:function(o){return this.x/=o,this.y/=o,this},multiplyBy:function(o){return this.clone()._multiplyBy(o)},_multiplyBy:function(o){return this.x*=o,this.y*=o,this},scaleBy:function(o){return new z(this.x*o.x,this.y*o.y)},unscaleBy:function(o){return new z(this.x/o.x,this.y/o.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=J(this.x),this.y=J(this.y),this},distanceTo:function(o){o=G(o);var d=o.x-this.x,p=o.y-this.y;return Math.sqrt(d*d+p*p)},equals:function(o){return o=G(o),o.x===this.x&&o.y===this.y},contains:function(o){return o=G(o),Math.abs(o.x)<=Math.abs(this.x)&&Math.abs(o.y)<=Math.abs(this.y)},toString:function(){return"Point("+g(this.x)+", "+g(this.y)+")"}};function G(o,d,p){return o instanceof z?o:P(o)?new z(o[0],o[1]):o==null?o:typeof o=="object"&&"x"in o&&"y"in o?new z(o.x,o.y):new z(o,d,p)}function de(o,d){if(o)for(var p=d?[o,d]:o,x=0,S=p.length;x<S;x++)this.extend(p[x])}de.prototype={extend:function(o){var d,p;if(!o)return this;if(o instanceof z||typeof o[0]=="number"||"x"in o)d=p=G(o);else if(o=je(o),d=o.min,p=o.max,!d||!p)return this;return!this.min&&!this.max?(this.min=d.clone(),this.max=p.clone()):(this.min.x=Math.min(d.x,this.min.x),this.max.x=Math.max(p.x,this.max.x),this.min.y=Math.min(d.y,this.min.y),this.max.y=Math.max(p.y,this.max.y)),this},getCenter:function(o){return G((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,o)},getBottomLeft:function(){return G(this.min.x,this.max.y)},getTopRight:function(){return G(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(o){var d,p;return typeof o[0]=="number"||o instanceof z?o=G(o):o=je(o),o instanceof de?(d=o.min,p=o.max):d=p=o,d.x>=this.min.x&&p.x<=this.max.x&&d.y>=this.min.y&&p.y<=this.max.y},intersects:function(o){o=je(o);var d=this.min,p=this.max,x=o.min,S=o.max,A=S.x>=d.x&&x.x<=p.x,O=S.y>=d.y&&x.y<=p.y;return A&&O},overlaps:function(o){o=je(o);var d=this.min,p=this.max,x=o.min,S=o.max,A=S.x>d.x&&x.x<p.x,O=S.y>d.y&&x.y<p.y;return A&&O},isValid:function(){return!!(this.min&&this.max)},pad:function(o){var d=this.min,p=this.max,x=Math.abs(d.x-p.x)*o,S=Math.abs(d.y-p.y)*o;return je(G(d.x-x,d.y-S),G(p.x+x,p.y+S))},equals:function(o){return o?(o=je(o),this.min.equals(o.getTopLeft())&&this.max.equals(o.getBottomRight())):!1}};function je(o,d){return!o||o instanceof de?o:new de(o,d)}function ve(o,d){if(o)for(var p=d?[o,d]:o,x=0,S=p.length;x<S;x++)this.extend(p[x])}ve.prototype={extend:function(o){var d=this._southWest,p=this._northEast,x,S;if(o instanceof be)x=o,S=o;else if(o instanceof ve){if(x=o._southWest,S=o._northEast,!x||!S)return this}else return o?this.extend(ge(o)||he(o)):this;return!d&&!p?(this._southWest=new be(x.lat,x.lng),this._northEast=new be(S.lat,S.lng)):(d.lat=Math.min(x.lat,d.lat),d.lng=Math.min(x.lng,d.lng),p.lat=Math.max(S.lat,p.lat),p.lng=Math.max(S.lng,p.lng)),this},pad:function(o){var d=this._southWest,p=this._northEast,x=Math.abs(d.lat-p.lat)*o,S=Math.abs(d.lng-p.lng)*o;return new ve(new be(d.lat-x,d.lng-S),new be(p.lat+x,p.lng+S))},getCenter:function(){return new be((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new be(this.getNorth(),this.getWest())},getSouthEast:function(){return new be(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(o){typeof o[0]=="number"||o instanceof be||"lat"in o?o=ge(o):o=he(o);var d=this._southWest,p=this._northEast,x,S;return o instanceof ve?(x=o.getSouthWest(),S=o.getNorthEast()):x=S=o,x.lat>=d.lat&&S.lat<=p.lat&&x.lng>=d.lng&&S.lng<=p.lng},intersects:function(o){o=he(o);var d=this._southWest,p=this._northEast,x=o.getSouthWest(),S=o.getNorthEast(),A=S.lat>=d.lat&&x.lat<=p.lat,O=S.lng>=d.lng&&x.lng<=p.lng;return A&&O},overlaps:function(o){o=he(o);var d=this._southWest,p=this._northEast,x=o.getSouthWest(),S=o.getNorthEast(),A=S.lat>d.lat&&x.lat<p.lat,O=S.lng>d.lng&&x.lng<p.lng;return A&&O},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(o,d){return o?(o=he(o),this._southWest.equals(o.getSouthWest(),d)&&this._northEast.equals(o.getNorthEast(),d)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function he(o,d){return o instanceof ve?o:new ve(o,d)}function be(o,d,p){if(isNaN(o)||isNaN(d))throw new Error("Invalid LatLng object: ("+o+", "+d+")");this.lat=+o,this.lng=+d,p!==void 0&&(this.alt=+p)}be.prototype={equals:function(o,d){if(!o)return!1;o=ge(o);var p=Math.max(Math.abs(this.lat-o.lat),Math.abs(this.lng-o.lng));return p<=(d===void 0?1e-9:d)},toString:function(o){return"LatLng("+g(this.lat,o)+", "+g(this.lng,o)+")"},distanceTo:function(o){return ct.distance(this,ge(o))},wrap:function(){return ct.wrapLatLng(this)},toBounds:function(o){var d=180*o/40075017,p=d/Math.cos(Math.PI/180*this.lat);return he([this.lat-d,this.lng-p],[this.lat+d,this.lng+p])},clone:function(){return new be(this.lat,this.lng,this.alt)}};function ge(o,d,p){return o instanceof be?o:P(o)&&typeof o[0]!="object"?o.length===3?new be(o[0],o[1],o[2]):o.length===2?new be(o[0],o[1]):null:o==null?o:typeof o=="object"&&"lat"in o?new be(o.lat,"lng"in o?o.lng:o.lon,o.alt):d===void 0?null:new be(o,d,p)}var ye={latLngToPoint:function(o,d){var p=this.projection.project(o),x=this.scale(d);return this.transformation._transform(p,x)},pointToLatLng:function(o,d){var p=this.scale(d),x=this.transformation.untransform(o,p);return this.projection.unproject(x)},project:function(o){return this.projection.project(o)},unproject:function(o){return this.projection.unproject(o)},scale:function(o){return 256*Math.pow(2,o)},zoom:function(o){return Math.log(o/256)/Math.LN2},getProjectedBounds:function(o){if(this.infinite)return null;var d=this.projection.bounds,p=this.scale(o),x=this.transformation.transform(d.min,p),S=this.transformation.transform(d.max,p);return new de(x,S)},infinite:!1,wrapLatLng:function(o){var d=this.wrapLng?f(o.lng,this.wrapLng,!0):o.lng,p=this.wrapLat?f(o.lat,this.wrapLat,!0):o.lat,x=o.alt;return new be(p,d,x)},wrapLatLngBounds:function(o){var d=o.getCenter(),p=this.wrapLatLng(d),x=d.lat-p.lat,S=d.lng-p.lng;if(x===0&&S===0)return o;var A=o.getSouthWest(),O=o.getNorthEast(),D=new be(A.lat-x,A.lng-S),F=new be(O.lat-x,O.lng-S);return new ve(D,F)}},ct=i({},ye,{wrapLng:[-180,180],R:6371e3,distance:function(o,d){var p=Math.PI/180,x=o.lat*p,S=d.lat*p,A=Math.sin((d.lat-o.lat)*p/2),O=Math.sin((d.lng-o.lng)*p/2),D=A*A+Math.cos(x)*Math.cos(S)*O*O,F=2*Math.atan2(Math.sqrt(D),Math.sqrt(1-D));return this.R*F}}),W=6378137,xe={R:W,MAX_LATITUDE:85.0511287798,project:function(o){var d=Math.PI/180,p=this.MAX_LATITUDE,x=Math.max(Math.min(p,o.lat),-p),S=Math.sin(x*d);return new z(this.R*o.lng*d,this.R*Math.log((1+S)/(1-S))/2)},unproject:function(o){var d=180/Math.PI;return new be((2*Math.atan(Math.exp(o.y/this.R))-Math.PI/2)*d,o.x*d/this.R)},bounds:function(){var o=W*Math.PI;return new de([-o,-o],[o,o])}()};function _e(o,d,p,x){if(P(o)){this._a=o[0],this._b=o[1],this._c=o[2],this._d=o[3];return}this._a=o,this._b=d,this._c=p,this._d=x}_e.prototype={transform:function(o,d){return this._transform(o.clone(),d)},_transform:function(o,d){return d=d||1,o.x=d*(this._a*o.x+this._b),o.y=d*(this._c*o.y+this._d),o},untransform:function(o,d){return d=d||1,new z((o.x/d-this._b)/this._a,(o.y/d-this._d)/this._c)}};function K(o,d,p,x){return new _e(o,d,p,x)}var wt=i({},ct,{code:"EPSG:3857",projection:xe,transformation:function(){var o=.5/(Math.PI*xe.R);return K(o,.5,-o,.5)}()}),Le=i({},wt,{code:"EPSG:900913"});function zt(o){return document.createElementNS("http://www.w3.org/2000/svg",o)}function Bt(o,d){var p="",x,S,A,O,D,F;for(x=0,A=o.length;x<A;x++){for(D=o[x],S=0,O=D.length;S<O;S++)F=D[S],p+=(S?"L":"M")+F.x+" "+F.y;p+=d?le.svg?"z":"x":""}return p||"M0 0"}var En=document.documentElement.style,mi="ActiveXObject"in window,HT=mi&&!document.addEventListener,Rv="msLaunchUri"in navigator&&!("documentMode"in document),Hd=Zn("webkit"),$v=Zn("android"),zv=Zn("android 2")||Zn("android 3"),KT=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),qT=$v&&Zn("Google")&&KT<537&&!("AudioNode"in window),Kd=!!window.opera,Bv=!Rv&&Zn("chrome"),Fv=Zn("gecko")&&!Hd&&!Kd&&!mi,GT=!Bv&&Zn("safari"),Uv=Zn("phantom"),Vv="OTransition"in En,ZT=navigator.platform.indexOf("Win")===0,Wv=mi&&"transition"in En,qd="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!zv,Hv="MozPerspective"in En,YT=!window.L_DISABLE_3D&&(Wv||qd||Hv)&&!Vv&&!Uv,ga=typeof orientation<"u"||Zn("mobile"),XT=ga&&Hd,JT=ga&&qd,Kv=!window.PointerEvent&&window.MSPointerEvent,qv=!!(window.PointerEvent||Kv),Gv="ontouchstart"in window||!!window.TouchEvent,QT=!window.L_NO_TOUCH&&(Gv||qv),eN=ga&&Kd,tN=ga&&Fv,nN=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,rN=function(){var o=!1;try{var d=Object.defineProperty({},"passive",{get:function(){o=!0}});window.addEventListener("testPassiveEventSupport",m,d),window.removeEventListener("testPassiveEventSupport",m,d)}catch{}return o}(),iN=function(){return!!document.createElement("canvas").getContext}(),Gd=!!(document.createElementNS&&zt("svg").createSVGRect),sN=!!Gd&&function(){var o=document.createElement("div");return o.innerHTML="<svg/>",(o.firstChild&&o.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),aN=!Gd&&function(){try{var o=document.createElement("div");o.innerHTML='<v:shape adj="1"/>';var d=o.firstChild;return d.style.behavior="url(#default#VML)",d&&typeof d.adj=="object"}catch{return!1}}(),oN=navigator.platform.indexOf("Mac")===0,lN=navigator.platform.indexOf("Linux")===0;function Zn(o){return navigator.userAgent.toLowerCase().indexOf(o)>=0}var le={ie:mi,ielt9:HT,edge:Rv,webkit:Hd,android:$v,android23:zv,androidStock:qT,opera:Kd,chrome:Bv,gecko:Fv,safari:GT,phantom:Uv,opera12:Vv,win:ZT,ie3d:Wv,webkit3d:qd,gecko3d:Hv,any3d:YT,mobile:ga,mobileWebkit:XT,mobileWebkit3d:JT,msPointer:Kv,pointer:qv,touch:QT,touchNative:Gv,mobileOpera:eN,mobileGecko:tN,retina:nN,passiveEvents:rN,canvas:iN,svg:Gd,vml:aN,inlineSvg:sN,mac:oN,linux:lN},Zv=le.msPointer?"MSPointerDown":"pointerdown",Yv=le.msPointer?"MSPointerMove":"pointermove",Xv=le.msPointer?"MSPointerUp":"pointerup",Jv=le.msPointer?"MSPointerCancel":"pointercancel",Zd={touchstart:Zv,touchmove:Yv,touchend:Xv,touchcancel:Jv},Qv={touchstart:mN,touchmove:rl,touchend:rl,touchcancel:rl},as={},ey=!1;function cN(o,d,p){return d==="touchstart"&&fN(),Qv[d]?(p=Qv[d].bind(this,p),o.addEventListener(Zd[d],p,!1),p):(console.warn("wrong event specified:",d),m)}function uN(o,d,p){if(!Zd[d]){console.warn("wrong event specified:",d);return}o.removeEventListener(Zd[d],p,!1)}function dN(o){as[o.pointerId]=o}function hN(o){as[o.pointerId]&&(as[o.pointerId]=o)}function ty(o){delete as[o.pointerId]}function fN(){ey||(document.addEventListener(Zv,dN,!0),document.addEventListener(Yv,hN,!0),document.addEventListener(Xv,ty,!0),document.addEventListener(Jv,ty,!0),ey=!0)}function rl(o,d){if(d.pointerType!==(d.MSPOINTER_TYPE_MOUSE||"mouse")){d.touches=[];for(var p in as)d.touches.push(as[p]);d.changedTouches=[d],o(d)}}function mN(o,d){d.MSPOINTER_TYPE_TOUCH&&d.pointerType===d.MSPOINTER_TYPE_TOUCH&&Et(d),rl(o,d)}function pN(o){var d={},p,x;for(x in o)p=o[x],d[x]=p&&p.bind?p.bind(o):p;return o=d,d.type="dblclick",d.detail=2,d.isTrusted=!1,d._simulated=!0,d}var gN=200;function vN(o,d){o.addEventListener("dblclick",d);var p=0,x;function S(A){if(A.detail!==1){x=A.detail;return}if(!(A.pointerType==="mouse"||A.sourceCapabilities&&!A.sourceCapabilities.firesTouchEvents)){var O=ay(A);if(!(O.some(function(F){return F instanceof HTMLLabelElement&&F.attributes.for})&&!O.some(function(F){return F instanceof HTMLInputElement||F instanceof HTMLSelectElement}))){var D=Date.now();D-p<=gN?(x++,x===2&&d(pN(A))):x=1,p=D}}}return o.addEventListener("click",S),{dblclick:d,simDblclick:S}}function yN(o,d){o.removeEventListener("dblclick",d.dblclick),o.removeEventListener("click",d.simDblclick)}var Yd=al(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),va=al(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),ny=va==="webkitTransition"||va==="OTransition"?va+"End":"transitionend";function ry(o){return typeof o=="string"?document.getElementById(o):o}function ya(o,d){var p=o.style[d]||o.currentStyle&&o.currentStyle[d];if((!p||p==="auto")&&document.defaultView){var x=document.defaultView.getComputedStyle(o,null);p=x?x[d]:null}return p==="auto"?null:p}function Te(o,d,p){var x=document.createElement(o);return x.className=d||"",p&&p.appendChild(x),x}function qe(o){var d=o.parentNode;d&&d.removeChild(o)}function il(o){for(;o.firstChild;)o.removeChild(o.firstChild)}function os(o){var d=o.parentNode;d&&d.lastChild!==o&&d.appendChild(o)}function ls(o){var d=o.parentNode;d&&d.firstChild!==o&&d.insertBefore(o,d.firstChild)}function Xd(o,d){if(o.classList!==void 0)return o.classList.contains(d);var p=sl(o);return p.length>0&&new RegExp("(^|\\s)"+d+"(\\s|$)").test(p)}function Se(o,d){if(o.classList!==void 0)for(var p=y(d),x=0,S=p.length;x<S;x++)o.classList.add(p[x]);else if(!Xd(o,d)){var A=sl(o);Jd(o,(A?A+" ":"")+d)}}function tt(o,d){o.classList!==void 0?o.classList.remove(d):Jd(o,v((" "+sl(o)+" ").replace(" "+d+" "," ")))}function Jd(o,d){o.className.baseVal===void 0?o.className=d:o.className.baseVal=d}function sl(o){return o.correspondingElement&&(o=o.correspondingElement),o.className.baseVal===void 0?o.className:o.className.baseVal}function pn(o,d){"opacity"in o.style?o.style.opacity=d:"filter"in o.style&&xN(o,d)}function xN(o,d){var p=!1,x="DXImageTransform.Microsoft.Alpha";try{p=o.filters.item(x)}catch{if(d===1)return}d=Math.round(d*100),p?(p.Enabled=d!==100,p.Opacity=d):o.style.filter+=" progid:"+x+"(opacity="+d+")"}function al(o){for(var d=document.documentElement.style,p=0;p<o.length;p++)if(o[p]in d)return o[p];return!1}function pi(o,d,p){var x=d||new z(0,0);o.style[Yd]=(le.ie3d?"translate("+x.x+"px,"+x.y+"px)":"translate3d("+x.x+"px,"+x.y+"px,0)")+(p?" scale("+p+")":"")}function rt(o,d){o._leaflet_pos=d,le.any3d?pi(o,d):(o.style.left=d.x+"px",o.style.top=d.y+"px")}function gi(o){return o._leaflet_pos||new z(0,0)}var xa,ba,Qd;if("onselectstart"in document)xa=function(){we(window,"selectstart",Et)},ba=function(){ze(window,"selectstart",Et)};else{var wa=al(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);xa=function(){if(wa){var o=document.documentElement.style;Qd=o[wa],o[wa]="none"}},ba=function(){wa&&(document.documentElement.style[wa]=Qd,Qd=void 0)}}function eh(){we(window,"dragstart",Et)}function th(){ze(window,"dragstart",Et)}var ol,nh;function rh(o){for(;o.tabIndex===-1;)o=o.parentNode;o.style&&(ll(),ol=o,nh=o.style.outlineStyle,o.style.outlineStyle="none",we(window,"keydown",ll))}function ll(){ol&&(ol.style.outlineStyle=nh,ol=void 0,nh=void 0,ze(window,"keydown",ll))}function iy(o){do o=o.parentNode;while((!o.offsetWidth||!o.offsetHeight)&&o!==document.body);return o}function ih(o){var d=o.getBoundingClientRect();return{x:d.width/o.offsetWidth||1,y:d.height/o.offsetHeight||1,boundingClientRect:d}}var bN={__proto__:null,TRANSFORM:Yd,TRANSITION:va,TRANSITION_END:ny,get:ry,getStyle:ya,create:Te,remove:qe,empty:il,toFront:os,toBack:ls,hasClass:Xd,addClass:Se,removeClass:tt,setClass:Jd,getClass:sl,setOpacity:pn,testProp:al,setTransform:pi,setPosition:rt,getPosition:gi,get disableTextSelection(){return xa},get enableTextSelection(){return ba},disableImageDrag:eh,enableImageDrag:th,preventOutline:rh,restoreOutline:ll,getSizedParentNode:iy,getScale:ih};function we(o,d,p,x){if(d&&typeof d=="object")for(var S in d)ah(o,S,d[S],p);else{d=y(d);for(var A=0,O=d.length;A<O;A++)ah(o,d[A],p,x)}return this}var Yn="_leaflet_events";function ze(o,d,p,x){if(arguments.length===1)sy(o),delete o[Yn];else if(d&&typeof d=="object")for(var S in d)oh(o,S,d[S],p);else if(d=y(d),arguments.length===2)sy(o,function(D){return C(d,D)!==-1});else for(var A=0,O=d.length;A<O;A++)oh(o,d[A],p,x);return this}function sy(o,d){for(var p in o[Yn]){var x=p.split(/\d/)[0];(!d||d(x))&&oh(o,x,null,null,p)}}var sh={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function ah(o,d,p,x){var S=d+u(p)+(x?"_"+u(x):"");if(o[Yn]&&o[Yn][S])return this;var A=function(D){return p.call(x||o,D||window.event)},O=A;!le.touchNative&&le.pointer&&d.indexOf("touch")===0?A=cN(o,d,A):le.touch&&d==="dblclick"?A=vN(o,A):"addEventListener"in o?d==="touchstart"||d==="touchmove"||d==="wheel"||d==="mousewheel"?o.addEventListener(sh[d]||d,A,le.passiveEvents?{passive:!1}:!1):d==="mouseenter"||d==="mouseleave"?(A=function(D){D=D||window.event,ch(o,D)&&O(D)},o.addEventListener(sh[d],A,!1)):o.addEventListener(d,O,!1):o.attachEvent("on"+d,A),o[Yn]=o[Yn]||{},o[Yn][S]=A}function oh(o,d,p,x,S){S=S||d+u(p)+(x?"_"+u(x):"");var A=o[Yn]&&o[Yn][S];if(!A)return this;!le.touchNative&&le.pointer&&d.indexOf("touch")===0?uN(o,d,A):le.touch&&d==="dblclick"?yN(o,A):"removeEventListener"in o?o.removeEventListener(sh[d]||d,A,!1):o.detachEvent("on"+d,A),o[Yn][S]=null}function vi(o){return o.stopPropagation?o.stopPropagation():o.originalEvent?o.originalEvent._stopped=!0:o.cancelBubble=!0,this}function lh(o){return ah(o,"wheel",vi),this}function _a(o){return we(o,"mousedown touchstart dblclick contextmenu",vi),o._leaflet_disable_click=!0,this}function Et(o){return o.preventDefault?o.preventDefault():o.returnValue=!1,this}function yi(o){return Et(o),vi(o),this}function ay(o){if(o.composedPath)return o.composedPath();for(var d=[],p=o.target;p;)d.push(p),p=p.parentNode;return d}function oy(o,d){if(!d)return new z(o.clientX,o.clientY);var p=ih(d),x=p.boundingClientRect;return new z((o.clientX-x.left)/p.x-d.clientLeft,(o.clientY-x.top)/p.y-d.clientTop)}var wN=le.linux&&le.chrome?window.devicePixelRatio:le.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function ly(o){return le.edge?o.wheelDeltaY/2:o.deltaY&&o.deltaMode===0?-o.deltaY/wN:o.deltaY&&o.deltaMode===1?-o.deltaY*20:o.deltaY&&o.deltaMode===2?-o.deltaY*60:o.deltaX||o.deltaZ?0:o.wheelDelta?(o.wheelDeltaY||o.wheelDelta)/2:o.detail&&Math.abs(o.detail)<32765?-o.detail*20:o.detail?o.detail/-32765*60:0}function ch(o,d){var p=d.relatedTarget;if(!p)return!0;try{for(;p&&p!==o;)p=p.parentNode}catch{return!1}return p!==o}var _N={__proto__:null,on:we,off:ze,stopPropagation:vi,disableScrollPropagation:lh,disableClickPropagation:_a,preventDefault:Et,stop:yi,getPropagationPath:ay,getMousePosition:oy,getWheelDelta:ly,isExternalTarget:ch,addListener:we,removeListener:ze},cy=V.extend({run:function(o,d,p,x){this.stop(),this._el=o,this._inProgress=!0,this._duration=p||.25,this._easeOutPower=1/Math.max(x||.5,.2),this._startPos=gi(o),this._offset=d.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=U(this._animate,this),this._step()},_step:function(o){var d=+new Date-this._startTime,p=this._duration*1e3;d<p?this._runFrame(this._easeOut(d/p),o):(this._runFrame(1),this._complete())},_runFrame:function(o,d){var p=this._startPos.add(this._offset.multiplyBy(o));d&&p._round(),rt(this._el,p),this.fire("step")},_complete:function(){R(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(o){return 1-Math.pow(1-o,this._easeOutPower)}}),Ce=V.extend({options:{crs:wt,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(o,d){d=w(this,d),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(o),this._initLayout(),this._onResize=a(this._onResize,this),this._initEvents(),d.maxBounds&&this.setMaxBounds(d.maxBounds),d.zoom!==void 0&&(this._zoom=this._limitZoom(d.zoom)),d.center&&d.zoom!==void 0&&this.setView(ge(d.center),d.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=va&&le.any3d&&!le.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),we(this._proxy,ny,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(o,d,p){if(d=d===void 0?this._zoom:this._limitZoom(d),o=this._limitCenter(ge(o),d,this.options.maxBounds),p=p||{},this._stop(),this._loaded&&!p.reset&&p!==!0){p.animate!==void 0&&(p.zoom=i({animate:p.animate},p.zoom),p.pan=i({animate:p.animate,duration:p.duration},p.pan));var x=this._zoom!==d?this._tryAnimatedZoom&&this._tryAnimatedZoom(o,d,p.zoom):this._tryAnimatedPan(o,p.pan);if(x)return clearTimeout(this._sizeTimer),this}return this._resetView(o,d,p.pan&&p.pan.noMoveStart),this},setZoom:function(o,d){return this._loaded?this.setView(this.getCenter(),o,{zoom:d}):(this._zoom=o,this)},zoomIn:function(o,d){return o=o||(le.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+o,d)},zoomOut:function(o,d){return o=o||(le.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-o,d)},setZoomAround:function(o,d,p){var x=this.getZoomScale(d),S=this.getSize().divideBy(2),A=o instanceof z?o:this.latLngToContainerPoint(o),O=A.subtract(S).multiplyBy(1-1/x),D=this.containerPointToLatLng(S.add(O));return this.setView(D,d,{zoom:p})},_getBoundsCenterZoom:function(o,d){d=d||{},o=o.getBounds?o.getBounds():he(o);var p=G(d.paddingTopLeft||d.padding||[0,0]),x=G(d.paddingBottomRight||d.padding||[0,0]),S=this.getBoundsZoom(o,!1,p.add(x));if(S=typeof d.maxZoom=="number"?Math.min(d.maxZoom,S):S,S===1/0)return{center:o.getCenter(),zoom:S};var A=x.subtract(p).divideBy(2),O=this.project(o.getSouthWest(),S),D=this.project(o.getNorthEast(),S),F=this.unproject(O.add(D).divideBy(2).add(A),S);return{center:F,zoom:S}},fitBounds:function(o,d){if(o=he(o),!o.isValid())throw new Error("Bounds are not valid.");var p=this._getBoundsCenterZoom(o,d);return this.setView(p.center,p.zoom,d)},fitWorld:function(o){return this.fitBounds([[-90,-180],[90,180]],o)},panTo:function(o,d){return this.setView(o,this._zoom,{pan:d})},panBy:function(o,d){if(o=G(o).round(),d=d||{},!o.x&&!o.y)return this.fire("moveend");if(d.animate!==!0&&!this.getSize().contains(o))return this._resetView(this.unproject(this.project(this.getCenter()).add(o)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new cy,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),d.noMoveStart||this.fire("movestart"),d.animate!==!1){Se(this._mapPane,"leaflet-pan-anim");var p=this._getMapPanePos().subtract(o).round();this._panAnim.run(this._mapPane,p,d.duration||.25,d.easeLinearity)}else this._rawPanBy(o),this.fire("move").fire("moveend");return this},flyTo:function(o,d,p){if(p=p||{},p.animate===!1||!le.any3d)return this.setView(o,d,p);this._stop();var x=this.project(this.getCenter()),S=this.project(o),A=this.getSize(),O=this._zoom;o=ge(o),d=d===void 0?O:d;var D=Math.max(A.x,A.y),F=D*this.getZoomScale(O,d),H=S.distanceTo(x)||1,X=1.42,me=X*X;function ke(it){var bl=it?-1:1,uO=it?F:D,dO=F*F-D*D+bl*me*me*H*H,hO=2*uO*me*H,bh=dO/hO,Vy=Math.sqrt(bh*bh+1)-bh,fO=Vy<1e-9?-18:Math.log(Vy);return fO}function Kt(it){return(Math.exp(it)-Math.exp(-it))/2}function _t(it){return(Math.exp(it)+Math.exp(-it))/2}function vn(it){return Kt(it)/_t(it)}var nn=ke(0);function ms(it){return D*(_t(nn)/_t(nn+X*it))}function aO(it){return D*(_t(nn)*vn(nn+X*it)-Kt(nn))/me}function oO(it){return 1-Math.pow(1-it,1.5)}var lO=Date.now(),Fy=(ke(1)-nn)/X,cO=p.duration?1e3*p.duration:1e3*Fy*.8;function Uy(){var it=(Date.now()-lO)/cO,bl=oO(it)*Fy;it<=1?(this._flyToFrame=U(Uy,this),this._move(this.unproject(x.add(S.subtract(x).multiplyBy(aO(bl)/H)),O),this.getScaleZoom(D/ms(bl),O),{flyTo:!0})):this._move(o,d)._moveEnd(!0)}return this._moveStart(!0,p.noMoveStart),Uy.call(this),this},flyToBounds:function(o,d){var p=this._getBoundsCenterZoom(o,d);return this.flyTo(p.center,p.zoom,d)},setMaxBounds:function(o){return o=he(o),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),o.isValid()?(this.options.maxBounds=o,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(o){var d=this.options.minZoom;return this.options.minZoom=o,this._loaded&&d!==o&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(o):this},setMaxZoom:function(o){var d=this.options.maxZoom;return this.options.maxZoom=o,this._loaded&&d!==o&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(o):this},panInsideBounds:function(o,d){this._enforcingBounds=!0;var p=this.getCenter(),x=this._limitCenter(p,this._zoom,he(o));return p.equals(x)||this.panTo(x,d),this._enforcingBounds=!1,this},panInside:function(o,d){d=d||{};var p=G(d.paddingTopLeft||d.padding||[0,0]),x=G(d.paddingBottomRight||d.padding||[0,0]),S=this.project(this.getCenter()),A=this.project(o),O=this.getPixelBounds(),D=je([O.min.add(p),O.max.subtract(x)]),F=D.getSize();if(!D.contains(A)){this._enforcingBounds=!0;var H=A.subtract(D.getCenter()),X=D.extend(A).getSize().subtract(F);S.x+=H.x<0?-X.x:X.x,S.y+=H.y<0?-X.y:X.y,this.panTo(this.unproject(S),d),this._enforcingBounds=!1}return this},invalidateSize:function(o){if(!this._loaded)return this;o=i({animate:!1,pan:!0},o===!0?{animate:!0}:o);var d=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var p=this.getSize(),x=d.divideBy(2).round(),S=p.divideBy(2).round(),A=x.subtract(S);return!A.x&&!A.y?this:(o.animate&&o.pan?this.panBy(A):(o.pan&&this._rawPanBy(A),this.fire("move"),o.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(a(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:d,newSize:p}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(o){if(o=this._locateOptions=i({timeout:1e4,watch:!1},o),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var d=a(this._handleGeolocationResponse,this),p=a(this._handleGeolocationError,this);return o.watch?this._locationWatchId=navigator.geolocation.watchPosition(d,p,o):navigator.geolocation.getCurrentPosition(d,p,o),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(o){if(this._container._leaflet_id){var d=o.code,p=o.message||(d===1?"permission denied":d===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:d,message:"Geolocation error: "+p+"."})}},_handleGeolocationResponse:function(o){if(this._container._leaflet_id){var d=o.coords.latitude,p=o.coords.longitude,x=new be(d,p),S=x.toBounds(o.coords.accuracy*2),A=this._locateOptions;if(A.setView){var O=this.getBoundsZoom(S);this.setView(x,A.maxZoom?Math.min(O,A.maxZoom):O)}var D={latlng:x,bounds:S,timestamp:o.timestamp};for(var F in o.coords)typeof o.coords[F]=="number"&&(D[F]=o.coords[F]);this.fire("locationfound",D)}},addHandler:function(o,d){if(!d)return this;var p=this[o]=new d(this);return this._handlers.push(p),this.options[o]&&p.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),qe(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(R(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var o;for(o in this._layers)this._layers[o].remove();for(o in this._panes)qe(this._panes[o]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(o,d){var p="leaflet-pane"+(o?" leaflet-"+o.replace("Pane","")+"-pane":""),x=Te("div",p,d||this._mapPane);return o&&(this._panes[o]=x),x},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var o=this.getPixelBounds(),d=this.unproject(o.getBottomLeft()),p=this.unproject(o.getTopRight());return new ve(d,p)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(o,d,p){o=he(o),p=G(p||[0,0]);var x=this.getZoom()||0,S=this.getMinZoom(),A=this.getMaxZoom(),O=o.getNorthWest(),D=o.getSouthEast(),F=this.getSize().subtract(p),H=je(this.project(D,x),this.project(O,x)).getSize(),X=le.any3d?this.options.zoomSnap:1,me=F.x/H.x,ke=F.y/H.y,Kt=d?Math.max(me,ke):Math.min(me,ke);return x=this.getScaleZoom(Kt,x),X&&(x=Math.round(x/(X/100))*(X/100),x=d?Math.ceil(x/X)*X:Math.floor(x/X)*X),Math.max(S,Math.min(A,x))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new z(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(o,d){var p=this._getTopLeftPoint(o,d);return new de(p,p.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(o){return this.options.crs.getProjectedBounds(o===void 0?this.getZoom():o)},getPane:function(o){return typeof o=="string"?this._panes[o]:o},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(o,d){var p=this.options.crs;return d=d===void 0?this._zoom:d,p.scale(o)/p.scale(d)},getScaleZoom:function(o,d){var p=this.options.crs;d=d===void 0?this._zoom:d;var x=p.zoom(o*p.scale(d));return isNaN(x)?1/0:x},project:function(o,d){return d=d===void 0?this._zoom:d,this.options.crs.latLngToPoint(ge(o),d)},unproject:function(o,d){return d=d===void 0?this._zoom:d,this.options.crs.pointToLatLng(G(o),d)},layerPointToLatLng:function(o){var d=G(o).add(this.getPixelOrigin());return this.unproject(d)},latLngToLayerPoint:function(o){var d=this.project(ge(o))._round();return d._subtract(this.getPixelOrigin())},wrapLatLng:function(o){return this.options.crs.wrapLatLng(ge(o))},wrapLatLngBounds:function(o){return this.options.crs.wrapLatLngBounds(he(o))},distance:function(o,d){return this.options.crs.distance(ge(o),ge(d))},containerPointToLayerPoint:function(o){return G(o).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(o){return G(o).add(this._getMapPanePos())},containerPointToLatLng:function(o){var d=this.containerPointToLayerPoint(G(o));return this.layerPointToLatLng(d)},latLngToContainerPoint:function(o){return this.layerPointToContainerPoint(this.latLngToLayerPoint(ge(o)))},mouseEventToContainerPoint:function(o){return oy(o,this._container)},mouseEventToLayerPoint:function(o){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(o))},mouseEventToLatLng:function(o){return this.layerPointToLatLng(this.mouseEventToLayerPoint(o))},_initContainer:function(o){var d=this._container=ry(o);if(d){if(d._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");we(d,"scroll",this._onScroll,this),this._containerId=u(d)},_initLayout:function(){var o=this._container;this._fadeAnimated=this.options.fadeAnimation&&le.any3d,Se(o,"leaflet-container"+(le.touch?" leaflet-touch":"")+(le.retina?" leaflet-retina":"")+(le.ielt9?" leaflet-oldie":"")+(le.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var d=ya(o,"position");d!=="absolute"&&d!=="relative"&&d!=="fixed"&&d!=="sticky"&&(o.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var o=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),rt(this._mapPane,new z(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Se(o.markerPane,"leaflet-zoom-hide"),Se(o.shadowPane,"leaflet-zoom-hide"))},_resetView:function(o,d,p){rt(this._mapPane,new z(0,0));var x=!this._loaded;this._loaded=!0,d=this._limitZoom(d),this.fire("viewprereset");var S=this._zoom!==d;this._moveStart(S,p)._move(o,d)._moveEnd(S),this.fire("viewreset"),x&&this.fire("load")},_moveStart:function(o,d){return o&&this.fire("zoomstart"),d||this.fire("movestart"),this},_move:function(o,d,p,x){d===void 0&&(d=this._zoom);var S=this._zoom!==d;return this._zoom=d,this._lastCenter=o,this._pixelOrigin=this._getNewPixelOrigin(o),x?p&&p.pinch&&this.fire("zoom",p):((S||p&&p.pinch)&&this.fire("zoom",p),this.fire("move",p)),this},_moveEnd:function(o){return o&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return R(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(o){rt(this._mapPane,this._getMapPanePos().subtract(o))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(o){this._targets={},this._targets[u(this._container)]=this;var d=o?ze:we;d(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&d(window,"resize",this._onResize,this),le.any3d&&this.options.transform3DLimit&&(o?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){R(this._resizeRequest),this._resizeRequest=U(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var o=this._getMapPanePos();Math.max(Math.abs(o.x),Math.abs(o.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(o,d){for(var p=[],x,S=d==="mouseout"||d==="mouseover",A=o.target||o.srcElement,O=!1;A;){if(x=this._targets[u(A)],x&&(d==="click"||d==="preclick")&&this._draggableMoved(x)){O=!0;break}if(x&&x.listens(d,!0)&&(S&&!ch(A,o)||(p.push(x),S))||A===this._container)break;A=A.parentNode}return!p.length&&!O&&!S&&this.listens(d,!0)&&(p=[this]),p},_isClickDisabled:function(o){for(;o&&o!==this._container;){if(o._leaflet_disable_click)return!0;o=o.parentNode}},_handleDOMEvent:function(o){var d=o.target||o.srcElement;if(!(!this._loaded||d._leaflet_disable_events||o.type==="click"&&this._isClickDisabled(d))){var p=o.type;p==="mousedown"&&rh(d),this._fireDOMEvent(o,p)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(o,d,p){if(o.type==="click"){var x=i({},o);x.type="preclick",this._fireDOMEvent(x,x.type,p)}var S=this._findEventTargets(o,d);if(p){for(var A=[],O=0;O<p.length;O++)p[O].listens(d,!0)&&A.push(p[O]);S=A.concat(S)}if(S.length){d==="contextmenu"&&Et(o);var D=S[0],F={originalEvent:o};if(o.type!=="keypress"&&o.type!=="keydown"&&o.type!=="keyup"){var H=D.getLatLng&&(!D._radius||D._radius<=10);F.containerPoint=H?this.latLngToContainerPoint(D.getLatLng()):this.mouseEventToContainerPoint(o),F.layerPoint=this.containerPointToLayerPoint(F.containerPoint),F.latlng=H?D.getLatLng():this.layerPointToLatLng(F.layerPoint)}for(O=0;O<S.length;O++)if(S[O].fire(d,F,!0),F.originalEvent._stopped||S[O].options.bubblingMouseEvents===!1&&C(this._mouseEvents,d)!==-1)return}},_draggableMoved:function(o){return o=o.dragging&&o.dragging.enabled()?o:this,o.dragging&&o.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var o=0,d=this._handlers.length;o<d;o++)this._handlers[o].disable()},whenReady:function(o,d){return this._loaded?o.call(d||this,{target:this}):this.on("load",o,d),this},_getMapPanePos:function(){return gi(this._mapPane)||new z(0,0)},_moved:function(){var o=this._getMapPanePos();return o&&!o.equals([0,0])},_getTopLeftPoint:function(o,d){var p=o&&d!==void 0?this._getNewPixelOrigin(o,d):this.getPixelOrigin();return p.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(o,d){var p=this.getSize()._divideBy(2);return this.project(o,d)._subtract(p)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(o,d,p){var x=this._getNewPixelOrigin(p,d);return this.project(o,d)._subtract(x)},_latLngBoundsToNewLayerBounds:function(o,d,p){var x=this._getNewPixelOrigin(p,d);return je([this.project(o.getSouthWest(),d)._subtract(x),this.project(o.getNorthWest(),d)._subtract(x),this.project(o.getSouthEast(),d)._subtract(x),this.project(o.getNorthEast(),d)._subtract(x)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(o){return this.latLngToLayerPoint(o).subtract(this._getCenterLayerPoint())},_limitCenter:function(o,d,p){if(!p)return o;var x=this.project(o,d),S=this.getSize().divideBy(2),A=new de(x.subtract(S),x.add(S)),O=this._getBoundsOffset(A,p,d);return Math.abs(O.x)<=1&&Math.abs(O.y)<=1?o:this.unproject(x.add(O),d)},_limitOffset:function(o,d){if(!d)return o;var p=this.getPixelBounds(),x=new de(p.min.add(o),p.max.add(o));return o.add(this._getBoundsOffset(x,d))},_getBoundsOffset:function(o,d,p){var x=je(this.project(d.getNorthEast(),p),this.project(d.getSouthWest(),p)),S=x.min.subtract(o.min),A=x.max.subtract(o.max),O=this._rebound(S.x,-A.x),D=this._rebound(S.y,-A.y);return new z(O,D)},_rebound:function(o,d){return o+d>0?Math.round(o-d)/2:Math.max(0,Math.ceil(o))-Math.max(0,Math.floor(d))},_limitZoom:function(o){var d=this.getMinZoom(),p=this.getMaxZoom(),x=le.any3d?this.options.zoomSnap:1;return x&&(o=Math.round(o/x)*x),Math.max(d,Math.min(p,o))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){tt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(o,d){var p=this._getCenterOffset(o)._trunc();return(d&&d.animate)!==!0&&!this.getSize().contains(p)?!1:(this.panBy(p,d),!0)},_createAnimProxy:function(){var o=this._proxy=Te("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(o),this.on("zoomanim",function(d){var p=Yd,x=this._proxy.style[p];pi(this._proxy,this.project(d.center,d.zoom),this.getZoomScale(d.zoom,1)),x===this._proxy.style[p]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){qe(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var o=this.getCenter(),d=this.getZoom();pi(this._proxy,this.project(o,d),this.getZoomScale(d,1))},_catchTransitionEnd:function(o){this._animatingZoom&&o.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(o,d,p){if(this._animatingZoom)return!0;if(p=p||{},!this._zoomAnimated||p.animate===!1||this._nothingToAnimate()||Math.abs(d-this._zoom)>this.options.zoomAnimationThreshold)return!1;var x=this.getZoomScale(d),S=this._getCenterOffset(o)._divideBy(1-1/x);return p.animate!==!0&&!this.getSize().contains(S)?!1:(U(function(){this._moveStart(!0,p.noMoveStart||!1)._animateZoom(o,d,!0)},this),!0)},_animateZoom:function(o,d,p,x){this._mapPane&&(p&&(this._animatingZoom=!0,this._animateToCenter=o,this._animateToZoom=d,Se(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:o,zoom:d,noUpdate:x}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(a(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&tt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function SN(o,d){return new Ce(o,d)}var Mn=Y.extend({options:{position:"topright"},initialize:function(o){w(this,o)},getPosition:function(){return this.options.position},setPosition:function(o){var d=this._map;return d&&d.removeControl(this),this.options.position=o,d&&d.addControl(this),this},getContainer:function(){return this._container},addTo:function(o){this.remove(),this._map=o;var d=this._container=this.onAdd(o),p=this.getPosition(),x=o._controlCorners[p];return Se(d,"leaflet-control"),p.indexOf("bottom")!==-1?x.insertBefore(d,x.firstChild):x.appendChild(d),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(qe(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(o){this._map&&o&&o.screenX>0&&o.screenY>0&&this._map.getContainer().focus()}}),Sa=function(o){return new Mn(o)};Ce.include({addControl:function(o){return o.addTo(this),this},removeControl:function(o){return o.remove(),this},_initControlPos:function(){var o=this._controlCorners={},d="leaflet-",p=this._controlContainer=Te("div",d+"control-container",this._container);function x(S,A){var O=d+S+" "+d+A;o[S+A]=Te("div",O,p)}x("top","left"),x("top","right"),x("bottom","left"),x("bottom","right")},_clearControlPos:function(){for(var o in this._controlCorners)qe(this._controlCorners[o]);qe(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var uy=Mn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(o,d,p,x){return p<x?-1:x<p?1:0}},initialize:function(o,d,p){w(this,p),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var x in o)this._addLayer(o[x],x);for(x in d)this._addLayer(d[x],x,!0)},onAdd:function(o){this._initLayout(),this._update(),this._map=o,o.on("zoomend",this._checkDisabledLayers,this);for(var d=0;d<this._layers.length;d++)this._layers[d].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(o){return Mn.prototype.addTo.call(this,o),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var o=0;o<this._layers.length;o++)this._layers[o].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(o,d){return this._addLayer(o,d),this._map?this._update():this},addOverlay:function(o,d){return this._addLayer(o,d,!0),this._map?this._update():this},removeLayer:function(o){o.off("add remove",this._onLayerChange,this);var d=this._getLayer(u(o));return d&&this._layers.splice(this._layers.indexOf(d),1),this._map?this._update():this},expand:function(){Se(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var o=this._map.getSize().y-(this._container.offsetTop+50);return o<this._section.clientHeight?(Se(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=o+"px"):tt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return tt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var o="leaflet-control-layers",d=this._container=Te("div",o),p=this.options.collapsed;d.setAttribute("aria-haspopup",!0),_a(d),lh(d);var x=this._section=Te("section",o+"-list");p&&(this._map.on("click",this.collapse,this),we(d,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var S=this._layersLink=Te("a",o+"-toggle",d);S.href="#",S.title="Layers",S.setAttribute("role","button"),we(S,{keydown:function(A){A.keyCode===13&&this._expandSafely()},click:function(A){Et(A),this._expandSafely()}},this),p||this.expand(),this._baseLayersList=Te("div",o+"-base",x),this._separator=Te("div",o+"-separator",x),this._overlaysList=Te("div",o+"-overlays",x),d.appendChild(x)},_getLayer:function(o){for(var d=0;d<this._layers.length;d++)if(this._layers[d]&&u(this._layers[d].layer)===o)return this._layers[d]},_addLayer:function(o,d,p){this._map&&o.on("add remove",this._onLayerChange,this),this._layers.push({layer:o,name:d,overlay:p}),this.options.sortLayers&&this._layers.sort(a(function(x,S){return this.options.sortFunction(x.layer,S.layer,x.name,S.name)},this)),this.options.autoZIndex&&o.setZIndex&&(this._lastZIndex++,o.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;il(this._baseLayersList),il(this._overlaysList),this._layerControlInputs=[];var o,d,p,x,S=0;for(p=0;p<this._layers.length;p++)x=this._layers[p],this._addItem(x),d=d||x.overlay,o=o||!x.overlay,S+=x.overlay?0:1;return this.options.hideSingleBase&&(o=o&&S>1,this._baseLayersList.style.display=o?"":"none"),this._separator.style.display=d&&o?"":"none",this},_onLayerChange:function(o){this._handlingClick||this._update();var d=this._getLayer(u(o.target)),p=d.overlay?o.type==="add"?"overlayadd":"overlayremove":o.type==="add"?"baselayerchange":null;p&&this._map.fire(p,d)},_createRadioElement:function(o,d){var p='<input type="radio" class="leaflet-control-layers-selector" name="'+o+'"'+(d?' checked="checked"':"")+"/>",x=document.createElement("div");return x.innerHTML=p,x.firstChild},_addItem:function(o){var d=document.createElement("label"),p=this._map.hasLayer(o.layer),x;o.overlay?(x=document.createElement("input"),x.type="checkbox",x.className="leaflet-control-layers-selector",x.defaultChecked=p):x=this._createRadioElement("leaflet-base-layers_"+u(this),p),this._layerControlInputs.push(x),x.layerId=u(o.layer),we(x,"click",this._onInputClick,this);var S=document.createElement("span");S.innerHTML=" "+o.name;var A=document.createElement("span");d.appendChild(A),A.appendChild(x),A.appendChild(S);var O=o.overlay?this._overlaysList:this._baseLayersList;return O.appendChild(d),this._checkDisabledLayers(),d},_onInputClick:function(){if(!this._preventClick){var o=this._layerControlInputs,d,p,x=[],S=[];this._handlingClick=!0;for(var A=o.length-1;A>=0;A--)d=o[A],p=this._getLayer(d.layerId).layer,d.checked?x.push(p):d.checked||S.push(p);for(A=0;A<S.length;A++)this._map.hasLayer(S[A])&&this._map.removeLayer(S[A]);for(A=0;A<x.length;A++)this._map.hasLayer(x[A])||this._map.addLayer(x[A]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var o=this._layerControlInputs,d,p,x=this._map.getZoom(),S=o.length-1;S>=0;S--)d=o[S],p=this._getLayer(d.layerId).layer,d.disabled=p.options.minZoom!==void 0&&x<p.options.minZoom||p.options.maxZoom!==void 0&&x>p.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var o=this._section;this._preventClick=!0,we(o,"click",Et),this.expand();var d=this;setTimeout(function(){ze(o,"click",Et),d._preventClick=!1})}}),jN=function(o,d,p){return new uy(o,d,p)},uh=Mn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(o){var d="leaflet-control-zoom",p=Te("div",d+" leaflet-bar"),x=this.options;return this._zoomInButton=this._createButton(x.zoomInText,x.zoomInTitle,d+"-in",p,this._zoomIn),this._zoomOutButton=this._createButton(x.zoomOutText,x.zoomOutTitle,d+"-out",p,this._zoomOut),this._updateDisabled(),o.on("zoomend zoomlevelschange",this._updateDisabled,this),p},onRemove:function(o){o.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(o){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(o.shiftKey?3:1))},_zoomOut:function(o){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(o.shiftKey?3:1))},_createButton:function(o,d,p,x,S){var A=Te("a",p,x);return A.innerHTML=o,A.href="#",A.title=d,A.setAttribute("role","button"),A.setAttribute("aria-label",d),_a(A),we(A,"click",yi),we(A,"click",S,this),we(A,"click",this._refocusOnMap,this),A},_updateDisabled:function(){var o=this._map,d="leaflet-disabled";tt(this._zoomInButton,d),tt(this._zoomOutButton,d),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||o._zoom===o.getMinZoom())&&(Se(this._zoomOutButton,d),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||o._zoom===o.getMaxZoom())&&(Se(this._zoomInButton,d),this._zoomInButton.setAttribute("aria-disabled","true"))}});Ce.mergeOptions({zoomControl:!0}),Ce.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new uh,this.addControl(this.zoomControl))});var PN=function(o){return new uh(o)},dy=Mn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(o){var d="leaflet-control-scale",p=Te("div",d),x=this.options;return this._addScales(x,d+"-line",p),o.on(x.updateWhenIdle?"moveend":"move",this._update,this),o.whenReady(this._update,this),p},onRemove:function(o){o.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(o,d,p){o.metric&&(this._mScale=Te("div",d,p)),o.imperial&&(this._iScale=Te("div",d,p))},_update:function(){var o=this._map,d=o.getSize().y/2,p=o.distance(o.containerPointToLatLng([0,d]),o.containerPointToLatLng([this.options.maxWidth,d]));this._updateScales(p)},_updateScales:function(o){this.options.metric&&o&&this._updateMetric(o),this.options.imperial&&o&&this._updateImperial(o)},_updateMetric:function(o){var d=this._getRoundNum(o),p=d<1e3?d+" m":d/1e3+" km";this._updateScale(this._mScale,p,d/o)},_updateImperial:function(o){var d=o*3.2808399,p,x,S;d>5280?(p=d/5280,x=this._getRoundNum(p),this._updateScale(this._iScale,x+" mi",x/p)):(S=this._getRoundNum(d),this._updateScale(this._iScale,S+" ft",S/d))},_updateScale:function(o,d,p){o.style.width=Math.round(this.options.maxWidth*p)+"px",o.innerHTML=d},_getRoundNum:function(o){var d=Math.pow(10,(Math.floor(o)+"").length-1),p=o/d;return p=p>=10?10:p>=5?5:p>=3?3:p>=2?2:1,d*p}}),kN=function(o){return new dy(o)},AN='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',dh=Mn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(le.inlineSvg?AN+" ":"")+"Leaflet</a>"},initialize:function(o){w(this,o),this._attributions={}},onAdd:function(o){o.attributionControl=this,this._container=Te("div","leaflet-control-attribution"),_a(this._container);for(var d in o._layers)o._layers[d].getAttribution&&this.addAttribution(o._layers[d].getAttribution());return this._update(),o.on("layeradd",this._addAttribution,this),this._container},onRemove:function(o){o.off("layeradd",this._addAttribution,this)},_addAttribution:function(o){o.layer.getAttribution&&(this.addAttribution(o.layer.getAttribution()),o.layer.once("remove",function(){this.removeAttribution(o.layer.getAttribution())},this))},setPrefix:function(o){return this.options.prefix=o,this._update(),this},addAttribution:function(o){return o?(this._attributions[o]||(this._attributions[o]=0),this._attributions[o]++,this._update(),this):this},removeAttribution:function(o){return o?(this._attributions[o]&&(this._attributions[o]--,this._update()),this):this},_update:function(){if(this._map){var o=[];for(var d in this._attributions)this._attributions[d]&&o.push(d);var p=[];this.options.prefix&&p.push(this.options.prefix),o.length&&p.push(o.join(", ")),this._container.innerHTML=p.join(' <span aria-hidden="true">|</span> ')}}});Ce.mergeOptions({attributionControl:!0}),Ce.addInitHook(function(){this.options.attributionControl&&new dh().addTo(this)});var CN=function(o){return new dh(o)};Mn.Layers=uy,Mn.Zoom=uh,Mn.Scale=dy,Mn.Attribution=dh,Sa.layers=jN,Sa.zoom=PN,Sa.scale=kN,Sa.attribution=CN;var Xn=Y.extend({initialize:function(o){this._map=o},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Xn.addTo=function(o,d){return o.addHandler(d,this),this};var TN={Events:I},hy=le.touch?"touchstart mousedown":"mousedown",qr=V.extend({options:{clickTolerance:3},initialize:function(o,d,p,x){w(this,x),this._element=o,this._dragStartTarget=d||o,this._preventOutline=p},enable:function(){this._enabled||(we(this._dragStartTarget,hy,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(qr._dragging===this&&this.finishDrag(!0),ze(this._dragStartTarget,hy,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(o){if(this._enabled&&(this._moved=!1,!Xd(this._element,"leaflet-zoom-anim"))){if(o.touches&&o.touches.length!==1){qr._dragging===this&&this.finishDrag();return}if(!(qr._dragging||o.shiftKey||o.which!==1&&o.button!==1&&!o.touches)&&(qr._dragging=this,this._preventOutline&&rh(this._element),eh(),xa(),!this._moving)){this.fire("down");var d=o.touches?o.touches[0]:o,p=iy(this._element);this._startPoint=new z(d.clientX,d.clientY),this._startPos=gi(this._element),this._parentScale=ih(p);var x=o.type==="mousedown";we(document,x?"mousemove":"touchmove",this._onMove,this),we(document,x?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(o){if(this._enabled){if(o.touches&&o.touches.length>1){this._moved=!0;return}var d=o.touches&&o.touches.length===1?o.touches[0]:o,p=new z(d.clientX,d.clientY)._subtract(this._startPoint);!p.x&&!p.y||Math.abs(p.x)+Math.abs(p.y)<this.options.clickTolerance||(p.x/=this._parentScale.x,p.y/=this._parentScale.y,Et(o),this._moved||(this.fire("dragstart"),this._moved=!0,Se(document.body,"leaflet-dragging"),this._lastTarget=o.target||o.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Se(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(p),this._moving=!0,this._lastEvent=o,this._updatePosition())}},_updatePosition:function(){var o={originalEvent:this._lastEvent};this.fire("predrag",o),rt(this._element,this._newPos),this.fire("drag",o)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(o){tt(document.body,"leaflet-dragging"),this._lastTarget&&(tt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),ze(document,"mousemove touchmove",this._onMove,this),ze(document,"mouseup touchend touchcancel",this._onUp,this),th(),ba();var d=this._moved&&this._moving;this._moving=!1,qr._dragging=!1,d&&this.fire("dragend",{noInertia:o,distance:this._newPos.distanceTo(this._startPos)})}});function fy(o,d,p){var x,S=[1,4,2,8],A,O,D,F,H,X,me,ke;for(A=0,X=o.length;A<X;A++)o[A]._code=xi(o[A],d);for(D=0;D<4;D++){for(me=S[D],x=[],A=0,X=o.length,O=X-1;A<X;O=A++)F=o[A],H=o[O],F._code&me?H._code&me||(ke=cl(H,F,me,d,p),ke._code=xi(ke,d),x.push(ke)):(H._code&me&&(ke=cl(H,F,me,d,p),ke._code=xi(ke,d),x.push(ke)),x.push(F));o=x}return o}function my(o,d){var p,x,S,A,O,D,F,H,X;if(!o||o.length===0)throw new Error("latlngs not passed");gn(o)||(console.warn("latlngs are not flat! Only the first ring will be used"),o=o[0]);var me=ge([0,0]),ke=he(o),Kt=ke.getNorthWest().distanceTo(ke.getSouthWest())*ke.getNorthEast().distanceTo(ke.getNorthWest());Kt<1700&&(me=hh(o));var _t=o.length,vn=[];for(p=0;p<_t;p++){var nn=ge(o[p]);vn.push(d.project(ge([nn.lat-me.lat,nn.lng-me.lng])))}for(D=F=H=0,p=0,x=_t-1;p<_t;x=p++)S=vn[p],A=vn[x],O=S.y*A.x-A.y*S.x,F+=(S.x+A.x)*O,H+=(S.y+A.y)*O,D+=O*3;D===0?X=vn[0]:X=[F/D,H/D];var ms=d.unproject(G(X));return ge([ms.lat+me.lat,ms.lng+me.lng])}function hh(o){for(var d=0,p=0,x=0,S=0;S<o.length;S++){var A=ge(o[S]);d+=A.lat,p+=A.lng,x++}return ge([d/x,p/x])}var NN={__proto__:null,clipPolygon:fy,polygonCenter:my,centroid:hh};function py(o,d){if(!d||!o.length)return o.slice();var p=d*d;return o=MN(o,p),o=EN(o,p),o}function gy(o,d,p){return Math.sqrt(ja(o,d,p,!0))}function ON(o,d,p){return ja(o,d,p)}function EN(o,d){var p=o.length,x=typeof Uint8Array<"u"?Uint8Array:Array,S=new x(p);S[0]=S[p-1]=1,fh(o,S,d,0,p-1);var A,O=[];for(A=0;A<p;A++)S[A]&&O.push(o[A]);return O}function fh(o,d,p,x,S){var A=0,O,D,F;for(D=x+1;D<=S-1;D++)F=ja(o[D],o[x],o[S],!0),F>A&&(O=D,A=F);A>p&&(d[O]=1,fh(o,d,p,x,O),fh(o,d,p,O,S))}function MN(o,d){for(var p=[o[0]],x=1,S=0,A=o.length;x<A;x++)IN(o[x],o[S])>d&&(p.push(o[x]),S=x);return S<A-1&&p.push(o[A-1]),p}var vy;function yy(o,d,p,x,S){var A=x?vy:xi(o,p),O=xi(d,p),D,F,H;for(vy=O;;){if(!(A|O))return[o,d];if(A&O)return!1;D=A||O,F=cl(o,d,D,p,S),H=xi(F,p),D===A?(o=F,A=H):(d=F,O=H)}}function cl(o,d,p,x,S){var A=d.x-o.x,O=d.y-o.y,D=x.min,F=x.max,H,X;return p&8?(H=o.x+A*(F.y-o.y)/O,X=F.y):p&4?(H=o.x+A*(D.y-o.y)/O,X=D.y):p&2?(H=F.x,X=o.y+O*(F.x-o.x)/A):p&1&&(H=D.x,X=o.y+O*(D.x-o.x)/A),new z(H,X,S)}function xi(o,d){var p=0;return o.x<d.min.x?p|=1:o.x>d.max.x&&(p|=2),o.y<d.min.y?p|=4:o.y>d.max.y&&(p|=8),p}function IN(o,d){var p=d.x-o.x,x=d.y-o.y;return p*p+x*x}function ja(o,d,p,x){var S=d.x,A=d.y,O=p.x-S,D=p.y-A,F=O*O+D*D,H;return F>0&&(H=((o.x-S)*O+(o.y-A)*D)/F,H>1?(S=p.x,A=p.y):H>0&&(S+=O*H,A+=D*H)),O=o.x-S,D=o.y-A,x?O*O+D*D:new z(S,A)}function gn(o){return!P(o[0])||typeof o[0][0]!="object"&&typeof o[0][0]<"u"}function xy(o){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),gn(o)}function by(o,d){var p,x,S,A,O,D,F,H;if(!o||o.length===0)throw new Error("latlngs not passed");gn(o)||(console.warn("latlngs are not flat! Only the first ring will be used"),o=o[0]);var X=ge([0,0]),me=he(o),ke=me.getNorthWest().distanceTo(me.getSouthWest())*me.getNorthEast().distanceTo(me.getNorthWest());ke<1700&&(X=hh(o));var Kt=o.length,_t=[];for(p=0;p<Kt;p++){var vn=ge(o[p]);_t.push(d.project(ge([vn.lat-X.lat,vn.lng-X.lng])))}for(p=0,x=0;p<Kt-1;p++)x+=_t[p].distanceTo(_t[p+1])/2;if(x===0)H=_t[0];else for(p=0,A=0;p<Kt-1;p++)if(O=_t[p],D=_t[p+1],S=O.distanceTo(D),A+=S,A>x){F=(A-x)/S,H=[D.x-F*(D.x-O.x),D.y-F*(D.y-O.y)];break}var nn=d.unproject(G(H));return ge([nn.lat+X.lat,nn.lng+X.lng])}var LN={__proto__:null,simplify:py,pointToSegmentDistance:gy,closestPointOnSegment:ON,clipSegment:yy,_getEdgeIntersection:cl,_getBitCode:xi,_sqClosestPointOnSegment:ja,isFlat:gn,_flat:xy,polylineCenter:by},mh={project:function(o){return new z(o.lng,o.lat)},unproject:function(o){return new be(o.y,o.x)},bounds:new de([-180,-90],[180,90])},ph={R:6378137,R_MINOR:6356752314245179e-9,bounds:new de([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(o){var d=Math.PI/180,p=this.R,x=o.lat*d,S=this.R_MINOR/p,A=Math.sqrt(1-S*S),O=A*Math.sin(x),D=Math.tan(Math.PI/4-x/2)/Math.pow((1-O)/(1+O),A/2);return x=-p*Math.log(Math.max(D,1e-10)),new z(o.lng*d*p,x)},unproject:function(o){for(var d=180/Math.PI,p=this.R,x=this.R_MINOR/p,S=Math.sqrt(1-x*x),A=Math.exp(-o.y/p),O=Math.PI/2-2*Math.atan(A),D=0,F=.1,H;D<15&&Math.abs(F)>1e-7;D++)H=S*Math.sin(O),H=Math.pow((1-H)/(1+H),S/2),F=Math.PI/2-2*Math.atan(A*H)-O,O+=F;return new be(O*d,o.x*d/p)}},DN={__proto__:null,LonLat:mh,Mercator:ph,SphericalMercator:xe},RN=i({},ct,{code:"EPSG:3395",projection:ph,transformation:function(){var o=.5/(Math.PI*ph.R);return K(o,.5,-o,.5)}()}),wy=i({},ct,{code:"EPSG:4326",projection:mh,transformation:K(1/180,1,-1/180,.5)}),$N=i({},ye,{projection:mh,transformation:K(1,0,-1,0),scale:function(o){return Math.pow(2,o)},zoom:function(o){return Math.log(o)/Math.LN2},distance:function(o,d){var p=d.lng-o.lng,x=d.lat-o.lat;return Math.sqrt(p*p+x*x)},infinite:!0});ye.Earth=ct,ye.EPSG3395=RN,ye.EPSG3857=wt,ye.EPSG900913=Le,ye.EPSG4326=wy,ye.Simple=$N;var In=V.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(o){return o.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(o){return o&&o.removeLayer(this),this},getPane:function(o){return this._map.getPane(o?this.options[o]||o:this.options.pane)},addInteractiveTarget:function(o){return this._map._targets[u(o)]=this,this},removeInteractiveTarget:function(o){return delete this._map._targets[u(o)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(o){var d=o.target;if(d.hasLayer(this)){if(this._map=d,this._zoomAnimated=d._zoomAnimated,this.getEvents){var p=this.getEvents();d.on(p,this),this.once("remove",function(){d.off(p,this)},this)}this.onAdd(d),this.fire("add"),d.fire("layeradd",{layer:this})}}});Ce.include({addLayer:function(o){if(!o._layerAdd)throw new Error("The provided object is not a Layer.");var d=u(o);return this._layers[d]?this:(this._layers[d]=o,o._mapToAdd=this,o.beforeAdd&&o.beforeAdd(this),this.whenReady(o._layerAdd,o),this)},removeLayer:function(o){var d=u(o);return this._layers[d]?(this._loaded&&o.onRemove(this),delete this._layers[d],this._loaded&&(this.fire("layerremove",{layer:o}),o.fire("remove")),o._map=o._mapToAdd=null,this):this},hasLayer:function(o){return u(o)in this._layers},eachLayer:function(o,d){for(var p in this._layers)o.call(d,this._layers[p]);return this},_addLayers:function(o){o=o?P(o)?o:[o]:[];for(var d=0,p=o.length;d<p;d++)this.addLayer(o[d])},_addZoomLimit:function(o){(!isNaN(o.options.maxZoom)||!isNaN(o.options.minZoom))&&(this._zoomBoundLayers[u(o)]=o,this._updateZoomLevels())},_removeZoomLimit:function(o){var d=u(o);this._zoomBoundLayers[d]&&(delete this._zoomBoundLayers[d],this._updateZoomLevels())},_updateZoomLevels:function(){var o=1/0,d=-1/0,p=this._getZoomSpan();for(var x in this._zoomBoundLayers){var S=this._zoomBoundLayers[x].options;o=S.minZoom===void 0?o:Math.min(o,S.minZoom),d=S.maxZoom===void 0?d:Math.max(d,S.maxZoom)}this._layersMaxZoom=d===-1/0?void 0:d,this._layersMinZoom=o===1/0?void 0:o,p!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var cs=In.extend({initialize:function(o,d){w(this,d),this._layers={};var p,x;if(o)for(p=0,x=o.length;p<x;p++)this.addLayer(o[p])},addLayer:function(o){var d=this.getLayerId(o);return this._layers[d]=o,this._map&&this._map.addLayer(o),this},removeLayer:function(o){var d=o in this._layers?o:this.getLayerId(o);return this._map&&this._layers[d]&&this._map.removeLayer(this._layers[d]),delete this._layers[d],this},hasLayer:function(o){var d=typeof o=="number"?o:this.getLayerId(o);return d in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(o){var d=Array.prototype.slice.call(arguments,1),p,x;for(p in this._layers)x=this._layers[p],x[o]&&x[o].apply(x,d);return this},onAdd:function(o){this.eachLayer(o.addLayer,o)},onRemove:function(o){this.eachLayer(o.removeLayer,o)},eachLayer:function(o,d){for(var p in this._layers)o.call(d,this._layers[p]);return this},getLayer:function(o){return this._layers[o]},getLayers:function(){var o=[];return this.eachLayer(o.push,o),o},setZIndex:function(o){return this.invoke("setZIndex",o)},getLayerId:function(o){return u(o)}}),zN=function(o,d){return new cs(o,d)},mr=cs.extend({addLayer:function(o){return this.hasLayer(o)?this:(o.addEventParent(this),cs.prototype.addLayer.call(this,o),this.fire("layeradd",{layer:o}))},removeLayer:function(o){return this.hasLayer(o)?(o in this._layers&&(o=this._layers[o]),o.removeEventParent(this),cs.prototype.removeLayer.call(this,o),this.fire("layerremove",{layer:o})):this},setStyle:function(o){return this.invoke("setStyle",o)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var o=new ve;for(var d in this._layers){var p=this._layers[d];o.extend(p.getBounds?p.getBounds():p.getLatLng())}return o}}),BN=function(o,d){return new mr(o,d)},us=Y.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(o){w(this,o)},createIcon:function(o){return this._createIcon("icon",o)},createShadow:function(o){return this._createIcon("shadow",o)},_createIcon:function(o,d){var p=this._getIconUrl(o);if(!p){if(o==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var x=this._createImg(p,d&&d.tagName==="IMG"?d:null);return this._setIconStyles(x,o),(this.options.crossOrigin||this.options.crossOrigin==="")&&(x.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),x},_setIconStyles:function(o,d){var p=this.options,x=p[d+"Size"];typeof x=="number"&&(x=[x,x]);var S=G(x),A=G(d==="shadow"&&p.shadowAnchor||p.iconAnchor||S&&S.divideBy(2,!0));o.className="leaflet-marker-"+d+" "+(p.className||""),A&&(o.style.marginLeft=-A.x+"px",o.style.marginTop=-A.y+"px"),S&&(o.style.width=S.x+"px",o.style.height=S.y+"px")},_createImg:function(o,d){return d=d||document.createElement("img"),d.src=o,d},_getIconUrl:function(o){return le.retina&&this.options[o+"RetinaUrl"]||this.options[o+"Url"]}});function FN(o){return new us(o)}var Pa=us.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(o){return typeof Pa.imagePath!="string"&&(Pa.imagePath=this._detectIconPath()),(this.options.imagePath||Pa.imagePath)+us.prototype._getIconUrl.call(this,o)},_stripUrl:function(o){var d=function(p,x,S){var A=x.exec(p);return A&&A[S]};return o=d(o,/^url\((['"])?(.+)\1\)$/,2),o&&d(o,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var o=Te("div","leaflet-default-icon-path",document.body),d=ya(o,"background-image")||ya(o,"backgroundImage");if(document.body.removeChild(o),d=this._stripUrl(d),d)return d;var p=document.querySelector('link[href$="leaflet.css"]');return p?p.href.substring(0,p.href.length-11-1):""}}),_y=Xn.extend({initialize:function(o){this._marker=o},addHooks:function(){var o=this._marker._icon;this._draggable||(this._draggable=new qr(o,o,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Se(o,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&tt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(o){var d=this._marker,p=d._map,x=this._marker.options.autoPanSpeed,S=this._marker.options.autoPanPadding,A=gi(d._icon),O=p.getPixelBounds(),D=p.getPixelOrigin(),F=je(O.min._subtract(D).add(S),O.max._subtract(D).subtract(S));if(!F.contains(A)){var H=G((Math.max(F.max.x,A.x)-F.max.x)/(O.max.x-F.max.x)-(Math.min(F.min.x,A.x)-F.min.x)/(O.min.x-F.min.x),(Math.max(F.max.y,A.y)-F.max.y)/(O.max.y-F.max.y)-(Math.min(F.min.y,A.y)-F.min.y)/(O.min.y-F.min.y)).multiplyBy(x);p.panBy(H,{animate:!1}),this._draggable._newPos._add(H),this._draggable._startPos._add(H),rt(d._icon,this._draggable._newPos),this._onDrag(o),this._panRequest=U(this._adjustPan.bind(this,o))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(o){this._marker.options.autoPan&&(R(this._panRequest),this._panRequest=U(this._adjustPan.bind(this,o)))},_onDrag:function(o){var d=this._marker,p=d._shadow,x=gi(d._icon),S=d._map.layerPointToLatLng(x);p&&rt(p,x),d._latlng=S,o.latlng=S,o.oldLatLng=this._oldLatLng,d.fire("move",o).fire("drag",o)},_onDragEnd:function(o){R(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",o)}}),ul=In.extend({options:{icon:new Pa,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(o,d){w(this,d),this._latlng=ge(o)},onAdd:function(o){this._zoomAnimated=this._zoomAnimated&&o.options.markerZoomAnimation,this._zoomAnimated&&o.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(o){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&o.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(o){var d=this._latlng;return this._latlng=ge(o),this.update(),this.fire("move",{oldLatLng:d,latlng:this._latlng})},setZIndexOffset:function(o){return this.options.zIndexOffset=o,this.update()},getIcon:function(){return this.options.icon},setIcon:function(o){return this.options.icon=o,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var o=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(o)}return this},_initIcon:function(){var o=this.options,d="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),p=o.icon.createIcon(this._icon),x=!1;p!==this._icon&&(this._icon&&this._removeIcon(),x=!0,o.title&&(p.title=o.title),p.tagName==="IMG"&&(p.alt=o.alt||"")),Se(p,d),o.keyboard&&(p.tabIndex="0",p.setAttribute("role","button")),this._icon=p,o.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&we(p,"focus",this._panOnFocus,this);var S=o.icon.createShadow(this._shadow),A=!1;S!==this._shadow&&(this._removeShadow(),A=!0),S&&(Se(S,d),S.alt=""),this._shadow=S,o.opacity<1&&this._updateOpacity(),x&&this.getPane().appendChild(this._icon),this._initInteraction(),S&&A&&this.getPane(o.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ze(this._icon,"focus",this._panOnFocus,this),qe(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&qe(this._shadow),this._shadow=null},_setPos:function(o){this._icon&&rt(this._icon,o),this._shadow&&rt(this._shadow,o),this._zIndex=o.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(o){this._icon&&(this._icon.style.zIndex=this._zIndex+o)},_animateZoom:function(o){var d=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center).round();this._setPos(d)},_initInteraction:function(){if(this.options.interactive&&(Se(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),_y)){var o=this.options.draggable;this.dragging&&(o=this.dragging.enabled(),this.dragging.disable()),this.dragging=new _y(this),o&&this.dragging.enable()}},setOpacity:function(o){return this.options.opacity=o,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var o=this.options.opacity;this._icon&&pn(this._icon,o),this._shadow&&pn(this._shadow,o)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var o=this._map;if(o){var d=this.options.icon.options,p=d.iconSize?G(d.iconSize):G(0,0),x=d.iconAnchor?G(d.iconAnchor):G(0,0);o.panInside(this._latlng,{paddingTopLeft:x,paddingBottomRight:p.subtract(x)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function UN(o,d){return new ul(o,d)}var Gr=In.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(o){this._renderer=o.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(o){return w(this,o),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&o&&Object.prototype.hasOwnProperty.call(o,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),dl=Gr.extend({options:{fill:!0,radius:10},initialize:function(o,d){w(this,d),this._latlng=ge(o),this._radius=this.options.radius},setLatLng:function(o){var d=this._latlng;return this._latlng=ge(o),this.redraw(),this.fire("move",{oldLatLng:d,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(o){return this.options.radius=this._radius=o,this.redraw()},getRadius:function(){return this._radius},setStyle:function(o){var d=o&&o.radius||this._radius;return Gr.prototype.setStyle.call(this,o),this.setRadius(d),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var o=this._radius,d=this._radiusY||o,p=this._clickTolerance(),x=[o+p,d+p];this._pxBounds=new de(this._point.subtract(x),this._point.add(x))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(o){return o.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function VN(o,d){return new dl(o,d)}var gh=dl.extend({initialize:function(o,d,p){if(typeof d=="number"&&(d=i({},p,{radius:d})),w(this,d),this._latlng=ge(o),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(o){return this._mRadius=o,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var o=[this._radius,this._radiusY||this._radius];return new ve(this._map.layerPointToLatLng(this._point.subtract(o)),this._map.layerPointToLatLng(this._point.add(o)))},setStyle:Gr.prototype.setStyle,_project:function(){var o=this._latlng.lng,d=this._latlng.lat,p=this._map,x=p.options.crs;if(x.distance===ct.distance){var S=Math.PI/180,A=this._mRadius/ct.R/S,O=p.project([d+A,o]),D=p.project([d-A,o]),F=O.add(D).divideBy(2),H=p.unproject(F).lat,X=Math.acos((Math.cos(A*S)-Math.sin(d*S)*Math.sin(H*S))/(Math.cos(d*S)*Math.cos(H*S)))/S;(isNaN(X)||X===0)&&(X=A/Math.cos(Math.PI/180*d)),this._point=F.subtract(p.getPixelOrigin()),this._radius=isNaN(X)?0:F.x-p.project([H,o-X]).x,this._radiusY=F.y-O.y}else{var me=x.unproject(x.project(this._latlng).subtract([this._mRadius,0]));this._point=p.latLngToLayerPoint(this._latlng),this._radius=this._point.x-p.latLngToLayerPoint(me).x}this._updateBounds()}});function WN(o,d,p){return new gh(o,d,p)}var pr=Gr.extend({options:{smoothFactor:1,noClip:!1},initialize:function(o,d){w(this,d),this._setLatLngs(o)},getLatLngs:function(){return this._latlngs},setLatLngs:function(o){return this._setLatLngs(o),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(o){for(var d=1/0,p=null,x=ja,S,A,O=0,D=this._parts.length;O<D;O++)for(var F=this._parts[O],H=1,X=F.length;H<X;H++){S=F[H-1],A=F[H];var me=x(o,S,A,!0);me<d&&(d=me,p=x(o,S,A))}return p&&(p.distance=Math.sqrt(d)),p},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return by(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(o,d){return d=d||this._defaultShape(),o=ge(o),d.push(o),this._bounds.extend(o),this.redraw()},_setLatLngs:function(o){this._bounds=new ve,this._latlngs=this._convertLatLngs(o)},_defaultShape:function(){return gn(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(o){for(var d=[],p=gn(o),x=0,S=o.length;x<S;x++)p?(d[x]=ge(o[x]),this._bounds.extend(d[x])):d[x]=this._convertLatLngs(o[x]);return d},_project:function(){var o=new de;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,o),this._bounds.isValid()&&o.isValid()&&(this._rawPxBounds=o,this._updateBounds())},_updateBounds:function(){var o=this._clickTolerance(),d=new z(o,o);this._rawPxBounds&&(this._pxBounds=new de([this._rawPxBounds.min.subtract(d),this._rawPxBounds.max.add(d)]))},_projectLatlngs:function(o,d,p){var x=o[0]instanceof be,S=o.length,A,O;if(x){for(O=[],A=0;A<S;A++)O[A]=this._map.latLngToLayerPoint(o[A]),p.extend(O[A]);d.push(O)}else for(A=0;A<S;A++)this._projectLatlngs(o[A],d,p)},_clipPoints:function(){var o=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(o))){if(this.options.noClip){this._parts=this._rings;return}var d=this._parts,p,x,S,A,O,D,F;for(p=0,S=0,A=this._rings.length;p<A;p++)for(F=this._rings[p],x=0,O=F.length;x<O-1;x++)D=yy(F[x],F[x+1],o,x,!0),D&&(d[S]=d[S]||[],d[S].push(D[0]),(D[1]!==F[x+1]||x===O-2)&&(d[S].push(D[1]),S++))}},_simplifyPoints:function(){for(var o=this._parts,d=this.options.smoothFactor,p=0,x=o.length;p<x;p++)o[p]=py(o[p],d)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(o,d){var p,x,S,A,O,D,F=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(o))return!1;for(p=0,A=this._parts.length;p<A;p++)for(D=this._parts[p],x=0,O=D.length,S=O-1;x<O;S=x++)if(!(!d&&x===0)&&gy(o,D[S],D[x])<=F)return!0;return!1}});function HN(o,d){return new pr(o,d)}pr._flat=xy;var ds=pr.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return my(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(o){var d=pr.prototype._convertLatLngs.call(this,o),p=d.length;return p>=2&&d[0]instanceof be&&d[0].equals(d[p-1])&&d.pop(),d},_setLatLngs:function(o){pr.prototype._setLatLngs.call(this,o),gn(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return gn(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var o=this._renderer._bounds,d=this.options.weight,p=new z(d,d);if(o=new de(o.min.subtract(p),o.max.add(p)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(o))){if(this.options.noClip){this._parts=this._rings;return}for(var x=0,S=this._rings.length,A;x<S;x++)A=fy(this._rings[x],o,!0),A.length&&this._parts.push(A)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(o){var d=!1,p,x,S,A,O,D,F,H;if(!this._pxBounds||!this._pxBounds.contains(o))return!1;for(A=0,F=this._parts.length;A<F;A++)for(p=this._parts[A],O=0,H=p.length,D=H-1;O<H;D=O++)x=p[O],S=p[D],x.y>o.y!=S.y>o.y&&o.x<(S.x-x.x)*(o.y-x.y)/(S.y-x.y)+x.x&&(d=!d);return d||pr.prototype._containsPoint.call(this,o,!0)}});function KN(o,d){return new ds(o,d)}var gr=mr.extend({initialize:function(o,d){w(this,d),this._layers={},o&&this.addData(o)},addData:function(o){var d=P(o)?o:o.features,p,x,S;if(d){for(p=0,x=d.length;p<x;p++)S=d[p],(S.geometries||S.geometry||S.features||S.coordinates)&&this.addData(S);return this}var A=this.options;if(A.filter&&!A.filter(o))return this;var O=hl(o,A);return O?(O.feature=pl(o),O.defaultOptions=O.options,this.resetStyle(O),A.onEachFeature&&A.onEachFeature(o,O),this.addLayer(O)):this},resetStyle:function(o){return o===void 0?this.eachLayer(this.resetStyle,this):(o.options=i({},o.defaultOptions),this._setLayerStyle(o,this.options.style),this)},setStyle:function(o){return this.eachLayer(function(d){this._setLayerStyle(d,o)},this)},_setLayerStyle:function(o,d){o.setStyle&&(typeof d=="function"&&(d=d(o.feature)),o.setStyle(d))}});function hl(o,d){var p=o.type==="Feature"?o.geometry:o,x=p?p.coordinates:null,S=[],A=d&&d.pointToLayer,O=d&&d.coordsToLatLng||vh,D,F,H,X;if(!x&&!p)return null;switch(p.type){case"Point":return D=O(x),Sy(A,o,D,d);case"MultiPoint":for(H=0,X=x.length;H<X;H++)D=O(x[H]),S.push(Sy(A,o,D,d));return new mr(S);case"LineString":case"MultiLineString":return F=fl(x,p.type==="LineString"?0:1,O),new pr(F,d);case"Polygon":case"MultiPolygon":return F=fl(x,p.type==="Polygon"?1:2,O),new ds(F,d);case"GeometryCollection":for(H=0,X=p.geometries.length;H<X;H++){var me=hl({geometry:p.geometries[H],type:"Feature",properties:o.properties},d);me&&S.push(me)}return new mr(S);case"FeatureCollection":for(H=0,X=p.features.length;H<X;H++){var ke=hl(p.features[H],d);ke&&S.push(ke)}return new mr(S);default:throw new Error("Invalid GeoJSON object.")}}function Sy(o,d,p,x){return o?o(d,p):new ul(p,x&&x.markersInheritOptions&&x)}function vh(o){return new be(o[1],o[0],o[2])}function fl(o,d,p){for(var x=[],S=0,A=o.length,O;S<A;S++)O=d?fl(o[S],d-1,p):(p||vh)(o[S]),x.push(O);return x}function yh(o,d){return o=ge(o),o.alt!==void 0?[g(o.lng,d),g(o.lat,d),g(o.alt,d)]:[g(o.lng,d),g(o.lat,d)]}function ml(o,d,p,x){for(var S=[],A=0,O=o.length;A<O;A++)S.push(d?ml(o[A],gn(o[A])?0:d-1,p,x):yh(o[A],x));return!d&&p&&S.length>0&&S.push(S[0].slice()),S}function hs(o,d){return o.feature?i({},o.feature,{geometry:d}):pl(d)}function pl(o){return o.type==="Feature"||o.type==="FeatureCollection"?o:{type:"Feature",properties:{},geometry:o}}var xh={toGeoJSON:function(o){return hs(this,{type:"Point",coordinates:yh(this.getLatLng(),o)})}};ul.include(xh),gh.include(xh),dl.include(xh),pr.include({toGeoJSON:function(o){var d=!gn(this._latlngs),p=ml(this._latlngs,d?1:0,!1,o);return hs(this,{type:(d?"Multi":"")+"LineString",coordinates:p})}}),ds.include({toGeoJSON:function(o){var d=!gn(this._latlngs),p=d&&!gn(this._latlngs[0]),x=ml(this._latlngs,p?2:d?1:0,!0,o);return d||(x=[x]),hs(this,{type:(p?"Multi":"")+"Polygon",coordinates:x})}}),cs.include({toMultiPoint:function(o){var d=[];return this.eachLayer(function(p){d.push(p.toGeoJSON(o).geometry.coordinates)}),hs(this,{type:"MultiPoint",coordinates:d})},toGeoJSON:function(o){var d=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(d==="MultiPoint")return this.toMultiPoint(o);var p=d==="GeometryCollection",x=[];return this.eachLayer(function(S){if(S.toGeoJSON){var A=S.toGeoJSON(o);if(p)x.push(A.geometry);else{var O=pl(A);O.type==="FeatureCollection"?x.push.apply(x,O.features):x.push(O)}}}),p?hs(this,{geometries:x,type:"GeometryCollection"}):{type:"FeatureCollection",features:x}}});function jy(o,d){return new gr(o,d)}var qN=jy,gl=In.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(o,d,p){this._url=o,this._bounds=he(d),w(this,p)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Se(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){qe(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(o){return this.options.opacity=o,this._image&&this._updateOpacity(),this},setStyle:function(o){return o.opacity&&this.setOpacity(o.opacity),this},bringToFront:function(){return this._map&&os(this._image),this},bringToBack:function(){return this._map&&ls(this._image),this},setUrl:function(o){return this._url=o,this._image&&(this._image.src=o),this},setBounds:function(o){return this._bounds=he(o),this._map&&this._reset(),this},getEvents:function(){var o={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},setZIndex:function(o){return this.options.zIndex=o,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var o=this._url.tagName==="IMG",d=this._image=o?this._url:Te("img");if(Se(d,"leaflet-image-layer"),this._zoomAnimated&&Se(d,"leaflet-zoom-animated"),this.options.className&&Se(d,this.options.className),d.onselectstart=m,d.onmousemove=m,d.onload=a(this.fire,this,"load"),d.onerror=a(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(d.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),o){this._url=d.src;return}d.src=this._url,d.alt=this.options.alt},_animateZoom:function(o){var d=this._map.getZoomScale(o.zoom),p=this._map._latLngBoundsToNewLayerBounds(this._bounds,o.zoom,o.center).min;pi(this._image,p,d)},_reset:function(){var o=this._image,d=new de(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),p=d.getSize();rt(o,d.min),o.style.width=p.x+"px",o.style.height=p.y+"px"},_updateOpacity:function(){pn(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var o=this.options.errorOverlayUrl;o&&this._url!==o&&(this._url=o,this._image.src=o)},getCenter:function(){return this._bounds.getCenter()}}),GN=function(o,d,p){return new gl(o,d,p)},Py=gl.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var o=this._url.tagName==="VIDEO",d=this._image=o?this._url:Te("video");if(Se(d,"leaflet-image-layer"),this._zoomAnimated&&Se(d,"leaflet-zoom-animated"),this.options.className&&Se(d,this.options.className),d.onselectstart=m,d.onmousemove=m,d.onloadeddata=a(this.fire,this,"load"),o){for(var p=d.getElementsByTagName("source"),x=[],S=0;S<p.length;S++)x.push(p[S].src);this._url=p.length>0?x:[d.src];return}P(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(d.style,"objectFit")&&(d.style.objectFit="fill"),d.autoplay=!!this.options.autoplay,d.loop=!!this.options.loop,d.muted=!!this.options.muted,d.playsInline=!!this.options.playsInline;for(var A=0;A<this._url.length;A++){var O=Te("source");O.src=this._url[A],d.appendChild(O)}}});function ZN(o,d,p){return new Py(o,d,p)}var ky=gl.extend({_initImage:function(){var o=this._image=this._url;Se(o,"leaflet-image-layer"),this._zoomAnimated&&Se(o,"leaflet-zoom-animated"),this.options.className&&Se(o,this.options.className),o.onselectstart=m,o.onmousemove=m}});function YN(o,d,p){return new ky(o,d,p)}var Jn=In.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(o,d){o&&(o instanceof be||P(o))?(this._latlng=ge(o),w(this,d)):(w(this,o),this._source=d),this.options.content&&(this._content=this.options.content)},openOn:function(o){return o=arguments.length?o:this._source._map,o.hasLayer(this)||o.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(o){return this._map?this.close():(arguments.length?this._source=o:o=this._source,this._prepareOpen(),this.openOn(o._map)),this},onAdd:function(o){this._zoomAnimated=o._zoomAnimated,this._container||this._initLayout(),o._fadeAnimated&&pn(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),o._fadeAnimated&&pn(this._container,1),this.bringToFront(),this.options.interactive&&(Se(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(o){o._fadeAnimated?(pn(this._container,0),this._removeTimeout=setTimeout(a(qe,void 0,this._container),200)):qe(this._container),this.options.interactive&&(tt(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(o){return this._latlng=ge(o),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(o){return this._content=o,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var o={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&os(this._container),this},bringToBack:function(){return this._map&&ls(this._container),this},_prepareOpen:function(o){var d=this._source;if(!d._map)return!1;if(d instanceof mr){d=null;var p=this._source._layers;for(var x in p)if(p[x]._map){d=p[x];break}if(!d)return!1;this._source=d}if(!o)if(d.getCenter)o=d.getCenter();else if(d.getLatLng)o=d.getLatLng();else if(d.getBounds)o=d.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(o),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var o=this._contentNode,d=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof d=="string")o.innerHTML=d;else{for(;o.hasChildNodes();)o.removeChild(o.firstChild);o.appendChild(d)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var o=this._map.latLngToLayerPoint(this._latlng),d=G(this.options.offset),p=this._getAnchor();this._zoomAnimated?rt(this._container,o.add(p)):d=d.add(o).add(p);var x=this._containerBottom=-d.y,S=this._containerLeft=-Math.round(this._containerWidth/2)+d.x;this._container.style.bottom=x+"px",this._container.style.left=S+"px"}},_getAnchor:function(){return[0,0]}});Ce.include({_initOverlay:function(o,d,p,x){var S=d;return S instanceof o||(S=new o(x).setContent(d)),p&&S.setLatLng(p),S}}),In.include({_initOverlay:function(o,d,p,x){var S=p;return S instanceof o?(w(S,x),S._source=this):(S=d&&!x?d:new o(x,this),S.setContent(p)),S}});var vl=Jn.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(o){return o=arguments.length?o:this._source._map,!o.hasLayer(this)&&o._popup&&o._popup.options.autoClose&&o.removeLayer(o._popup),o._popup=this,Jn.prototype.openOn.call(this,o)},onAdd:function(o){Jn.prototype.onAdd.call(this,o),o.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Gr||this._source.on("preclick",vi))},onRemove:function(o){Jn.prototype.onRemove.call(this,o),o.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Gr||this._source.off("preclick",vi))},getEvents:function(){var o=Jn.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(o.preclick=this.close),this.options.keepInView&&(o.moveend=this._adjustPan),o},_initLayout:function(){var o="leaflet-popup",d=this._container=Te("div",o+" "+(this.options.className||"")+" leaflet-zoom-animated"),p=this._wrapper=Te("div",o+"-content-wrapper",d);if(this._contentNode=Te("div",o+"-content",p),_a(d),lh(this._contentNode),we(d,"contextmenu",vi),this._tipContainer=Te("div",o+"-tip-container",d),this._tip=Te("div",o+"-tip",this._tipContainer),this.options.closeButton){var x=this._closeButton=Te("a",o+"-close-button",d);x.setAttribute("role","button"),x.setAttribute("aria-label","Close popup"),x.href="#close",x.innerHTML='<span aria-hidden="true">&#215;</span>',we(x,"click",function(S){Et(S),this.close()},this)}},_updateLayout:function(){var o=this._contentNode,d=o.style;d.width="",d.whiteSpace="nowrap";var p=o.offsetWidth;p=Math.min(p,this.options.maxWidth),p=Math.max(p,this.options.minWidth),d.width=p+1+"px",d.whiteSpace="",d.height="";var x=o.offsetHeight,S=this.options.maxHeight,A="leaflet-popup-scrolled";S&&x>S?(d.height=S+"px",Se(o,A)):tt(o,A),this._containerWidth=this._container.offsetWidth},_animateZoom:function(o){var d=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center),p=this._getAnchor();rt(this._container,d.add(p))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var o=this._map,d=parseInt(ya(this._container,"marginBottom"),10)||0,p=this._container.offsetHeight+d,x=this._containerWidth,S=new z(this._containerLeft,-p-this._containerBottom);S._add(gi(this._container));var A=o.layerPointToContainerPoint(S),O=G(this.options.autoPanPadding),D=G(this.options.autoPanPaddingTopLeft||O),F=G(this.options.autoPanPaddingBottomRight||O),H=o.getSize(),X=0,me=0;A.x+x+F.x>H.x&&(X=A.x+x-H.x+F.x),A.x-X-D.x<0&&(X=A.x-D.x),A.y+p+F.y>H.y&&(me=A.y+p-H.y+F.y),A.y-me-D.y<0&&(me=A.y-D.y),(X||me)&&(this.options.keepInView&&(this._autopanning=!0),o.fire("autopanstart").panBy([X,me]))}},_getAnchor:function(){return G(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),XN=function(o,d){return new vl(o,d)};Ce.mergeOptions({closePopupOnClick:!0}),Ce.include({openPopup:function(o,d,p){return this._initOverlay(vl,o,d,p).openOn(this),this},closePopup:function(o){return o=arguments.length?o:this._popup,o&&o.close(),this}}),In.include({bindPopup:function(o,d){return this._popup=this._initOverlay(vl,this._popup,o,d),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(o){return this._popup&&(this instanceof mr||(this._popup._source=this),this._popup._prepareOpen(o||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(o){return this._popup&&this._popup.setContent(o),this},getPopup:function(){return this._popup},_openPopup:function(o){if(!(!this._popup||!this._map)){yi(o);var d=o.layer||o.target;if(this._popup._source===d&&!(d instanceof Gr)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(o.latlng);return}this._popup._source=d,this.openPopup(o.latlng)}},_movePopup:function(o){this._popup.setLatLng(o.latlng)},_onKeyPress:function(o){o.originalEvent.keyCode===13&&this._openPopup(o)}});var yl=Jn.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(o){Jn.prototype.onAdd.call(this,o),this.setOpacity(this.options.opacity),o.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(o){Jn.prototype.onRemove.call(this,o),o.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var o=Jn.prototype.getEvents.call(this);return this.options.permanent||(o.preclick=this.close),o},_initLayout:function(){var o="leaflet-tooltip",d=o+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Te("div",d),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+u(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(o){var d,p,x=this._map,S=this._container,A=x.latLngToContainerPoint(x.getCenter()),O=x.layerPointToContainerPoint(o),D=this.options.direction,F=S.offsetWidth,H=S.offsetHeight,X=G(this.options.offset),me=this._getAnchor();D==="top"?(d=F/2,p=H):D==="bottom"?(d=F/2,p=0):D==="center"?(d=F/2,p=H/2):D==="right"?(d=0,p=H/2):D==="left"?(d=F,p=H/2):O.x<A.x?(D="right",d=0,p=H/2):(D="left",d=F+(X.x+me.x)*2,p=H/2),o=o.subtract(G(d,p,!0)).add(X).add(me),tt(S,"leaflet-tooltip-right"),tt(S,"leaflet-tooltip-left"),tt(S,"leaflet-tooltip-top"),tt(S,"leaflet-tooltip-bottom"),Se(S,"leaflet-tooltip-"+D),rt(S,o)},_updatePosition:function(){var o=this._map.latLngToLayerPoint(this._latlng);this._setPosition(o)},setOpacity:function(o){this.options.opacity=o,this._container&&pn(this._container,o)},_animateZoom:function(o){var d=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center);this._setPosition(d)},_getAnchor:function(){return G(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),JN=function(o,d){return new yl(o,d)};Ce.include({openTooltip:function(o,d,p){return this._initOverlay(yl,o,d,p).openOn(this),this},closeTooltip:function(o){return o.close(),this}}),In.include({bindTooltip:function(o,d){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(yl,this._tooltip,o,d),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(o){if(!(!o&&this._tooltipHandlersAdded)){var d=o?"off":"on",p={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?p.add=this._openTooltip:(p.mouseover=this._openTooltip,p.mouseout=this.closeTooltip,p.click=this._openTooltip,this._map?this._addFocusListeners():p.add=this._addFocusListeners),this._tooltip.options.sticky&&(p.mousemove=this._moveTooltip),this[d](p),this._tooltipHandlersAdded=!o}},openTooltip:function(o){return this._tooltip&&(this instanceof mr||(this._tooltip._source=this),this._tooltip._prepareOpen(o)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(o){return this._tooltip&&this._tooltip.setContent(o),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(o){var d=typeof o.getElement=="function"&&o.getElement();d&&(we(d,"focus",function(){this._tooltip._source=o,this.openTooltip()},this),we(d,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(o){var d=typeof o.getElement=="function"&&o.getElement();d&&d.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(o){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var d=this;this._map.once("moveend",function(){d._openOnceFlag=!1,d._openTooltip(o)});return}this._tooltip._source=o.layer||o.target,this.openTooltip(this._tooltip.options.sticky?o.latlng:void 0)}},_moveTooltip:function(o){var d=o.latlng,p,x;this._tooltip.options.sticky&&o.originalEvent&&(p=this._map.mouseEventToContainerPoint(o.originalEvent),x=this._map.containerPointToLayerPoint(p),d=this._map.layerPointToLatLng(x)),this._tooltip.setLatLng(d)}});var Ay=us.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(o){var d=o&&o.tagName==="DIV"?o:document.createElement("div"),p=this.options;if(p.html instanceof Element?(il(d),d.appendChild(p.html)):d.innerHTML=p.html!==!1?p.html:"",p.bgPos){var x=G(p.bgPos);d.style.backgroundPosition=-x.x+"px "+-x.y+"px"}return this._setIconStyles(d,"icon"),d},createShadow:function(){return null}});function QN(o){return new Ay(o)}us.Default=Pa;var ka=In.extend({options:{tileSize:256,opacity:1,updateWhenIdle:le.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(o){w(this,o)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(o){o._addZoomLimit(this)},onRemove:function(o){this._removeAllTiles(),qe(this._container),o._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(os(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(ls(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(o){return this.options.opacity=o,this._updateOpacity(),this},setZIndex:function(o){return this.options.zIndex=o,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var o=this._clampZoom(this._map.getZoom());o!==this._tileZoom&&(this._tileZoom=o,this._updateLevels()),this._update()}return this},getEvents:function(){var o={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=h(this._onMoveEnd,this.options.updateInterval,this)),o.move=this._onMove),this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},createTile:function(){return document.createElement("div")},getTileSize:function(){var o=this.options.tileSize;return o instanceof z?o:new z(o,o)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(o){for(var d=this.getPane().children,p=-o(-1/0,1/0),x=0,S=d.length,A;x<S;x++)A=d[x].style.zIndex,d[x]!==this._container&&A&&(p=o(p,+A));isFinite(p)&&(this.options.zIndex=p+o(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!le.ielt9){pn(this._container,this.options.opacity);var o=+new Date,d=!1,p=!1;for(var x in this._tiles){var S=this._tiles[x];if(!(!S.current||!S.loaded)){var A=Math.min(1,(o-S.loaded)/200);pn(S.el,A),A<1?d=!0:(S.active?p=!0:this._onOpaqueTile(S),S.active=!0)}}p&&!this._noPrune&&this._pruneTiles(),d&&(R(this._fadeFrame),this._fadeFrame=U(this._updateOpacity,this))}},_onOpaqueTile:m,_initContainer:function(){this._container||(this._container=Te("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var o=this._tileZoom,d=this.options.maxZoom;if(o!==void 0){for(var p in this._levels)p=Number(p),this._levels[p].el.children.length||p===o?(this._levels[p].el.style.zIndex=d-Math.abs(o-p),this._onUpdateLevel(p)):(qe(this._levels[p].el),this._removeTilesAtZoom(p),this._onRemoveLevel(p),delete this._levels[p]);var x=this._levels[o],S=this._map;return x||(x=this._levels[o]={},x.el=Te("div","leaflet-tile-container leaflet-zoom-animated",this._container),x.el.style.zIndex=d,x.origin=S.project(S.unproject(S.getPixelOrigin()),o).round(),x.zoom=o,this._setZoomTransform(x,S.getCenter(),S.getZoom()),m(x.el.offsetWidth),this._onCreateLevel(x)),this._level=x,x}},_onUpdateLevel:m,_onRemoveLevel:m,_onCreateLevel:m,_pruneTiles:function(){if(this._map){var o,d,p=this._map.getZoom();if(p>this.options.maxZoom||p<this.options.minZoom){this._removeAllTiles();return}for(o in this._tiles)d=this._tiles[o],d.retain=d.current;for(o in this._tiles)if(d=this._tiles[o],d.current&&!d.active){var x=d.coords;this._retainParent(x.x,x.y,x.z,x.z-5)||this._retainChildren(x.x,x.y,x.z,x.z+2)}for(o in this._tiles)this._tiles[o].retain||this._removeTile(o)}},_removeTilesAtZoom:function(o){for(var d in this._tiles)this._tiles[d].coords.z===o&&this._removeTile(d)},_removeAllTiles:function(){for(var o in this._tiles)this._removeTile(o)},_invalidateAll:function(){for(var o in this._levels)qe(this._levels[o].el),this._onRemoveLevel(Number(o)),delete this._levels[o];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(o,d,p,x){var S=Math.floor(o/2),A=Math.floor(d/2),O=p-1,D=new z(+S,+A);D.z=+O;var F=this._tileCoordsToKey(D),H=this._tiles[F];return H&&H.active?(H.retain=!0,!0):(H&&H.loaded&&(H.retain=!0),O>x?this._retainParent(S,A,O,x):!1)},_retainChildren:function(o,d,p,x){for(var S=2*o;S<2*o+2;S++)for(var A=2*d;A<2*d+2;A++){var O=new z(S,A);O.z=p+1;var D=this._tileCoordsToKey(O),F=this._tiles[D];if(F&&F.active){F.retain=!0;continue}else F&&F.loaded&&(F.retain=!0);p+1<x&&this._retainChildren(S,A,p+1,x)}},_resetView:function(o){var d=o&&(o.pinch||o.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),d,d)},_animateZoom:function(o){this._setView(o.center,o.zoom,!0,o.noUpdate)},_clampZoom:function(o){var d=this.options;return d.minNativeZoom!==void 0&&o<d.minNativeZoom?d.minNativeZoom:d.maxNativeZoom!==void 0&&d.maxNativeZoom<o?d.maxNativeZoom:o},_setView:function(o,d,p,x){var S=Math.round(d);this.options.maxZoom!==void 0&&S>this.options.maxZoom||this.options.minZoom!==void 0&&S<this.options.minZoom?S=void 0:S=this._clampZoom(S);var A=this.options.updateWhenZooming&&S!==this._tileZoom;(!x||A)&&(this._tileZoom=S,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),S!==void 0&&this._update(o),p||this._pruneTiles(),this._noPrune=!!p),this._setZoomTransforms(o,d)},_setZoomTransforms:function(o,d){for(var p in this._levels)this._setZoomTransform(this._levels[p],o,d)},_setZoomTransform:function(o,d,p){var x=this._map.getZoomScale(p,o.zoom),S=o.origin.multiplyBy(x).subtract(this._map._getNewPixelOrigin(d,p)).round();le.any3d?pi(o.el,S,x):rt(o.el,S)},_resetGrid:function(){var o=this._map,d=o.options.crs,p=this._tileSize=this.getTileSize(),x=this._tileZoom,S=this._map.getPixelWorldBounds(this._tileZoom);S&&(this._globalTileRange=this._pxBoundsToTileRange(S)),this._wrapX=d.wrapLng&&!this.options.noWrap&&[Math.floor(o.project([0,d.wrapLng[0]],x).x/p.x),Math.ceil(o.project([0,d.wrapLng[1]],x).x/p.y)],this._wrapY=d.wrapLat&&!this.options.noWrap&&[Math.floor(o.project([d.wrapLat[0],0],x).y/p.x),Math.ceil(o.project([d.wrapLat[1],0],x).y/p.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(o){var d=this._map,p=d._animatingZoom?Math.max(d._animateToZoom,d.getZoom()):d.getZoom(),x=d.getZoomScale(p,this._tileZoom),S=d.project(o,this._tileZoom).floor(),A=d.getSize().divideBy(x*2);return new de(S.subtract(A),S.add(A))},_update:function(o){var d=this._map;if(d){var p=this._clampZoom(d.getZoom());if(o===void 0&&(o=d.getCenter()),this._tileZoom!==void 0){var x=this._getTiledPixelBounds(o),S=this._pxBoundsToTileRange(x),A=S.getCenter(),O=[],D=this.options.keepBuffer,F=new de(S.getBottomLeft().subtract([D,-D]),S.getTopRight().add([D,-D]));if(!(isFinite(S.min.x)&&isFinite(S.min.y)&&isFinite(S.max.x)&&isFinite(S.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var H in this._tiles){var X=this._tiles[H].coords;(X.z!==this._tileZoom||!F.contains(new z(X.x,X.y)))&&(this._tiles[H].current=!1)}if(Math.abs(p-this._tileZoom)>1){this._setView(o,p);return}for(var me=S.min.y;me<=S.max.y;me++)for(var ke=S.min.x;ke<=S.max.x;ke++){var Kt=new z(ke,me);if(Kt.z=this._tileZoom,!!this._isValidTile(Kt)){var _t=this._tiles[this._tileCoordsToKey(Kt)];_t?_t.current=!0:O.push(Kt)}}if(O.sort(function(nn,ms){return nn.distanceTo(A)-ms.distanceTo(A)}),O.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var vn=document.createDocumentFragment();for(ke=0;ke<O.length;ke++)this._addTile(O[ke],vn);this._level.el.appendChild(vn)}}}},_isValidTile:function(o){var d=this._map.options.crs;if(!d.infinite){var p=this._globalTileRange;if(!d.wrapLng&&(o.x<p.min.x||o.x>p.max.x)||!d.wrapLat&&(o.y<p.min.y||o.y>p.max.y))return!1}if(!this.options.bounds)return!0;var x=this._tileCoordsToBounds(o);return he(this.options.bounds).overlaps(x)},_keyToBounds:function(o){return this._tileCoordsToBounds(this._keyToTileCoords(o))},_tileCoordsToNwSe:function(o){var d=this._map,p=this.getTileSize(),x=o.scaleBy(p),S=x.add(p),A=d.unproject(x,o.z),O=d.unproject(S,o.z);return[A,O]},_tileCoordsToBounds:function(o){var d=this._tileCoordsToNwSe(o),p=new ve(d[0],d[1]);return this.options.noWrap||(p=this._map.wrapLatLngBounds(p)),p},_tileCoordsToKey:function(o){return o.x+":"+o.y+":"+o.z},_keyToTileCoords:function(o){var d=o.split(":"),p=new z(+d[0],+d[1]);return p.z=+d[2],p},_removeTile:function(o){var d=this._tiles[o];d&&(qe(d.el),delete this._tiles[o],this.fire("tileunload",{tile:d.el,coords:this._keyToTileCoords(o)}))},_initTile:function(o){Se(o,"leaflet-tile");var d=this.getTileSize();o.style.width=d.x+"px",o.style.height=d.y+"px",o.onselectstart=m,o.onmousemove=m,le.ielt9&&this.options.opacity<1&&pn(o,this.options.opacity)},_addTile:function(o,d){var p=this._getTilePos(o),x=this._tileCoordsToKey(o),S=this.createTile(this._wrapCoords(o),a(this._tileReady,this,o));this._initTile(S),this.createTile.length<2&&U(a(this._tileReady,this,o,null,S)),rt(S,p),this._tiles[x]={el:S,coords:o,current:!0},d.appendChild(S),this.fire("tileloadstart",{tile:S,coords:o})},_tileReady:function(o,d,p){d&&this.fire("tileerror",{error:d,tile:p,coords:o});var x=this._tileCoordsToKey(o);p=this._tiles[x],p&&(p.loaded=+new Date,this._map._fadeAnimated?(pn(p.el,0),R(this._fadeFrame),this._fadeFrame=U(this._updateOpacity,this)):(p.active=!0,this._pruneTiles()),d||(Se(p.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:p.el,coords:o})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),le.ielt9||!this._map._fadeAnimated?U(this._pruneTiles,this):setTimeout(a(this._pruneTiles,this),250)))},_getTilePos:function(o){return o.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(o){var d=new z(this._wrapX?f(o.x,this._wrapX):o.x,this._wrapY?f(o.y,this._wrapY):o.y);return d.z=o.z,d},_pxBoundsToTileRange:function(o){var d=this.getTileSize();return new de(o.min.unscaleBy(d).floor(),o.max.unscaleBy(d).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var o in this._tiles)if(!this._tiles[o].loaded)return!1;return!0}});function eO(o){return new ka(o)}var fs=ka.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(o,d){this._url=o,d=w(this,d),d.detectRetina&&le.retina&&d.maxZoom>0?(d.tileSize=Math.floor(d.tileSize/2),d.zoomReverse?(d.zoomOffset--,d.minZoom=Math.min(d.maxZoom,d.minZoom+1)):(d.zoomOffset++,d.maxZoom=Math.max(d.minZoom,d.maxZoom-1)),d.minZoom=Math.max(0,d.minZoom)):d.zoomReverse?d.minZoom=Math.min(d.maxZoom,d.minZoom):d.maxZoom=Math.max(d.minZoom,d.maxZoom),typeof d.subdomains=="string"&&(d.subdomains=d.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(o,d){return this._url===o&&d===void 0&&(d=!0),this._url=o,d||this.redraw(),this},createTile:function(o,d){var p=document.createElement("img");return we(p,"load",a(this._tileOnLoad,this,d,p)),we(p,"error",a(this._tileOnError,this,d,p)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(p.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(p.referrerPolicy=this.options.referrerPolicy),p.alt="",p.src=this.getTileUrl(o),p},getTileUrl:function(o){var d={r:le.retina?"@2x":"",s:this._getSubdomain(o),x:o.x,y:o.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var p=this._globalTileRange.max.y-o.y;this.options.tms&&(d.y=p),d["-y"]=p}return k(this._url,i(d,this.options))},_tileOnLoad:function(o,d){le.ielt9?setTimeout(a(o,this,null,d),0):o(null,d)},_tileOnError:function(o,d,p){var x=this.options.errorTileUrl;x&&d.getAttribute("src")!==x&&(d.src=x),o(p,d)},_onTileRemove:function(o){o.tile.onload=null},_getZoomForUrl:function(){var o=this._tileZoom,d=this.options.maxZoom,p=this.options.zoomReverse,x=this.options.zoomOffset;return p&&(o=d-o),o+x},_getSubdomain:function(o){var d=Math.abs(o.x+o.y)%this.options.subdomains.length;return this.options.subdomains[d]},_abortLoading:function(){var o,d;for(o in this._tiles)if(this._tiles[o].coords.z!==this._tileZoom&&(d=this._tiles[o].el,d.onload=m,d.onerror=m,!d.complete)){d.src=N;var p=this._tiles[o].coords;qe(d),delete this._tiles[o],this.fire("tileabort",{tile:d,coords:p})}},_removeTile:function(o){var d=this._tiles[o];if(d)return d.el.setAttribute("src",N),ka.prototype._removeTile.call(this,o)},_tileReady:function(o,d,p){if(!(!this._map||p&&p.getAttribute("src")===N))return ka.prototype._tileReady.call(this,o,d,p)}});function Cy(o,d){return new fs(o,d)}var Ty=fs.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(o,d){this._url=o;var p=i({},this.defaultWmsParams);for(var x in d)x in this.options||(p[x]=d[x]);d=w(this,d);var S=d.detectRetina&&le.retina?2:1,A=this.getTileSize();p.width=A.x*S,p.height=A.y*S,this.wmsParams=p},onAdd:function(o){this._crs=this.options.crs||o.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var d=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[d]=this._crs.code,fs.prototype.onAdd.call(this,o)},getTileUrl:function(o){var d=this._tileCoordsToNwSe(o),p=this._crs,x=je(p.project(d[0]),p.project(d[1])),S=x.min,A=x.max,O=(this._wmsVersion>=1.3&&this._crs===wy?[S.y,S.x,A.y,A.x]:[S.x,S.y,A.x,A.y]).join(","),D=fs.prototype.getTileUrl.call(this,o);return D+_(this.wmsParams,D,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+O},setParams:function(o,d){return i(this.wmsParams,o),d||this.redraw(),this}});function tO(o,d){return new Ty(o,d)}fs.WMS=Ty,Cy.wms=tO;var vr=In.extend({options:{padding:.1},initialize:function(o){w(this,o),u(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Se(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var o={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(o.zoomanim=this._onAnimZoom),o},_onAnimZoom:function(o){this._updateTransform(o.center,o.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(o,d){var p=this._map.getZoomScale(d,this._zoom),x=this._map.getSize().multiplyBy(.5+this.options.padding),S=this._map.project(this._center,d),A=x.multiplyBy(-p).add(S).subtract(this._map._getNewPixelOrigin(o,d));le.any3d?pi(this._container,A,p):rt(this._container,A)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var o in this._layers)this._layers[o]._reset()},_onZoomEnd:function(){for(var o in this._layers)this._layers[o]._project()},_updatePaths:function(){for(var o in this._layers)this._layers[o]._update()},_update:function(){var o=this.options.padding,d=this._map.getSize(),p=this._map.containerPointToLayerPoint(d.multiplyBy(-o)).round();this._bounds=new de(p,p.add(d.multiplyBy(1+o*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Ny=vr.extend({options:{tolerance:0},getEvents:function(){var o=vr.prototype.getEvents.call(this);return o.viewprereset=this._onViewPreReset,o},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){vr.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var o=this._container=document.createElement("canvas");we(o,"mousemove",this._onMouseMove,this),we(o,"click dblclick mousedown mouseup contextmenu",this._onClick,this),we(o,"mouseout",this._handleMouseOut,this),o._leaflet_disable_events=!0,this._ctx=o.getContext("2d")},_destroyContainer:function(){R(this._redrawRequest),delete this._ctx,qe(this._container),ze(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var o;this._redrawBounds=null;for(var d in this._layers)o=this._layers[d],o._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){vr.prototype._update.call(this);var o=this._bounds,d=this._container,p=o.getSize(),x=le.retina?2:1;rt(d,o.min),d.width=x*p.x,d.height=x*p.y,d.style.width=p.x+"px",d.style.height=p.y+"px",le.retina&&this._ctx.scale(2,2),this._ctx.translate(-o.min.x,-o.min.y),this.fire("update")}},_reset:function(){vr.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(o){this._updateDashArray(o),this._layers[u(o)]=o;var d=o._order={layer:o,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=d),this._drawLast=d,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(o){this._requestRedraw(o)},_removePath:function(o){var d=o._order,p=d.next,x=d.prev;p?p.prev=x:this._drawLast=x,x?x.next=p:this._drawFirst=p,delete o._order,delete this._layers[u(o)],this._requestRedraw(o)},_updatePath:function(o){this._extendRedrawBounds(o),o._project(),o._update(),this._requestRedraw(o)},_updateStyle:function(o){this._updateDashArray(o),this._requestRedraw(o)},_updateDashArray:function(o){if(typeof o.options.dashArray=="string"){var d=o.options.dashArray.split(/[, ]+/),p=[],x,S;for(S=0;S<d.length;S++){if(x=Number(d[S]),isNaN(x))return;p.push(x)}o.options._dashArray=p}else o.options._dashArray=o.options.dashArray},_requestRedraw:function(o){this._map&&(this._extendRedrawBounds(o),this._redrawRequest=this._redrawRequest||U(this._redraw,this))},_extendRedrawBounds:function(o){if(o._pxBounds){var d=(o.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new de,this._redrawBounds.extend(o._pxBounds.min.subtract([d,d])),this._redrawBounds.extend(o._pxBounds.max.add([d,d]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var o=this._redrawBounds;if(o){var d=o.getSize();this._ctx.clearRect(o.min.x,o.min.y,d.x,d.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var o,d=this._redrawBounds;if(this._ctx.save(),d){var p=d.getSize();this._ctx.beginPath(),this._ctx.rect(d.min.x,d.min.y,p.x,p.y),this._ctx.clip()}this._drawing=!0;for(var x=this._drawFirst;x;x=x.next)o=x.layer,(!d||o._pxBounds&&o._pxBounds.intersects(d))&&o._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(o,d){if(this._drawing){var p,x,S,A,O=o._parts,D=O.length,F=this._ctx;if(D){for(F.beginPath(),p=0;p<D;p++){for(x=0,S=O[p].length;x<S;x++)A=O[p][x],F[x?"lineTo":"moveTo"](A.x,A.y);d&&F.closePath()}this._fillStroke(F,o)}}},_updateCircle:function(o){if(!(!this._drawing||o._empty())){var d=o._point,p=this._ctx,x=Math.max(Math.round(o._radius),1),S=(Math.max(Math.round(o._radiusY),1)||x)/x;S!==1&&(p.save(),p.scale(1,S)),p.beginPath(),p.arc(d.x,d.y/S,x,0,Math.PI*2,!1),S!==1&&p.restore(),this._fillStroke(p,o)}},_fillStroke:function(o,d){var p=d.options;p.fill&&(o.globalAlpha=p.fillOpacity,o.fillStyle=p.fillColor||p.color,o.fill(p.fillRule||"evenodd")),p.stroke&&p.weight!==0&&(o.setLineDash&&o.setLineDash(d.options&&d.options._dashArray||[]),o.globalAlpha=p.opacity,o.lineWidth=p.weight,o.strokeStyle=p.color,o.lineCap=p.lineCap,o.lineJoin=p.lineJoin,o.stroke())},_onClick:function(o){for(var d=this._map.mouseEventToLayerPoint(o),p,x,S=this._drawFirst;S;S=S.next)p=S.layer,p.options.interactive&&p._containsPoint(d)&&(!(o.type==="click"||o.type==="preclick")||!this._map._draggableMoved(p))&&(x=p);this._fireEvent(x?[x]:!1,o)},_onMouseMove:function(o){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var d=this._map.mouseEventToLayerPoint(o);this._handleMouseHover(o,d)}},_handleMouseOut:function(o){var d=this._hoveredLayer;d&&(tt(this._container,"leaflet-interactive"),this._fireEvent([d],o,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(o,d){if(!this._mouseHoverThrottled){for(var p,x,S=this._drawFirst;S;S=S.next)p=S.layer,p.options.interactive&&p._containsPoint(d)&&(x=p);x!==this._hoveredLayer&&(this._handleMouseOut(o),x&&(Se(this._container,"leaflet-interactive"),this._fireEvent([x],o,"mouseover"),this._hoveredLayer=x)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,o),this._mouseHoverThrottled=!0,setTimeout(a(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(o,d,p){this._map._fireDOMEvent(d,p||d.type,o)},_bringToFront:function(o){var d=o._order;if(d){var p=d.next,x=d.prev;if(p)p.prev=x;else return;x?x.next=p:p&&(this._drawFirst=p),d.prev=this._drawLast,this._drawLast.next=d,d.next=null,this._drawLast=d,this._requestRedraw(o)}},_bringToBack:function(o){var d=o._order;if(d){var p=d.next,x=d.prev;if(x)x.next=p;else return;p?p.prev=x:x&&(this._drawLast=x),d.prev=null,d.next=this._drawFirst,this._drawFirst.prev=d,this._drawFirst=d,this._requestRedraw(o)}}});function Oy(o){return le.canvas?new Ny(o):null}var Aa=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(o){return document.createElement("<lvml:"+o+' class="lvml">')}}catch{}return function(o){return document.createElement("<"+o+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),nO={_initContainer:function(){this._container=Te("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(vr.prototype._update.call(this),this.fire("update"))},_initPath:function(o){var d=o._container=Aa("shape");Se(d,"leaflet-vml-shape "+(this.options.className||"")),d.coordsize="1 1",o._path=Aa("path"),d.appendChild(o._path),this._updateStyle(o),this._layers[u(o)]=o},_addPath:function(o){var d=o._container;this._container.appendChild(d),o.options.interactive&&o.addInteractiveTarget(d)},_removePath:function(o){var d=o._container;qe(d),o.removeInteractiveTarget(d),delete this._layers[u(o)]},_updateStyle:function(o){var d=o._stroke,p=o._fill,x=o.options,S=o._container;S.stroked=!!x.stroke,S.filled=!!x.fill,x.stroke?(d||(d=o._stroke=Aa("stroke")),S.appendChild(d),d.weight=x.weight+"px",d.color=x.color,d.opacity=x.opacity,x.dashArray?d.dashStyle=P(x.dashArray)?x.dashArray.join(" "):x.dashArray.replace(/( *, *)/g," "):d.dashStyle="",d.endcap=x.lineCap.replace("butt","flat"),d.joinstyle=x.lineJoin):d&&(S.removeChild(d),o._stroke=null),x.fill?(p||(p=o._fill=Aa("fill")),S.appendChild(p),p.color=x.fillColor||x.color,p.opacity=x.fillOpacity):p&&(S.removeChild(p),o._fill=null)},_updateCircle:function(o){var d=o._point.round(),p=Math.round(o._radius),x=Math.round(o._radiusY||p);this._setPath(o,o._empty()?"M0 0":"AL "+d.x+","+d.y+" "+p+","+x+" 0,"+65535*360)},_setPath:function(o,d){o._path.v=d},_bringToFront:function(o){os(o._container)},_bringToBack:function(o){ls(o._container)}},xl=le.vml?Aa:zt,Ca=vr.extend({_initContainer:function(){this._container=xl("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=xl("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){qe(this._container),ze(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){vr.prototype._update.call(this);var o=this._bounds,d=o.getSize(),p=this._container;(!this._svgSize||!this._svgSize.equals(d))&&(this._svgSize=d,p.setAttribute("width",d.x),p.setAttribute("height",d.y)),rt(p,o.min),p.setAttribute("viewBox",[o.min.x,o.min.y,d.x,d.y].join(" ")),this.fire("update")}},_initPath:function(o){var d=o._path=xl("path");o.options.className&&Se(d,o.options.className),o.options.interactive&&Se(d,"leaflet-interactive"),this._updateStyle(o),this._layers[u(o)]=o},_addPath:function(o){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(o._path),o.addInteractiveTarget(o._path)},_removePath:function(o){qe(o._path),o.removeInteractiveTarget(o._path),delete this._layers[u(o)]},_updatePath:function(o){o._project(),o._update()},_updateStyle:function(o){var d=o._path,p=o.options;d&&(p.stroke?(d.setAttribute("stroke",p.color),d.setAttribute("stroke-opacity",p.opacity),d.setAttribute("stroke-width",p.weight),d.setAttribute("stroke-linecap",p.lineCap),d.setAttribute("stroke-linejoin",p.lineJoin),p.dashArray?d.setAttribute("stroke-dasharray",p.dashArray):d.removeAttribute("stroke-dasharray"),p.dashOffset?d.setAttribute("stroke-dashoffset",p.dashOffset):d.removeAttribute("stroke-dashoffset")):d.setAttribute("stroke","none"),p.fill?(d.setAttribute("fill",p.fillColor||p.color),d.setAttribute("fill-opacity",p.fillOpacity),d.setAttribute("fill-rule",p.fillRule||"evenodd")):d.setAttribute("fill","none"))},_updatePoly:function(o,d){this._setPath(o,Bt(o._parts,d))},_updateCircle:function(o){var d=o._point,p=Math.max(Math.round(o._radius),1),x=Math.max(Math.round(o._radiusY),1)||p,S="a"+p+","+x+" 0 1,0 ",A=o._empty()?"M0 0":"M"+(d.x-p)+","+d.y+S+p*2+",0 "+S+-p*2+",0 ";this._setPath(o,A)},_setPath:function(o,d){o._path.setAttribute("d",d)},_bringToFront:function(o){os(o._path)},_bringToBack:function(o){ls(o._path)}});le.vml&&Ca.include(nO);function Ey(o){return le.svg||le.vml?new Ca(o):null}Ce.include({getRenderer:function(o){var d=o.options.renderer||this._getPaneRenderer(o.options.pane)||this.options.renderer||this._renderer;return d||(d=this._renderer=this._createRenderer()),this.hasLayer(d)||this.addLayer(d),d},_getPaneRenderer:function(o){if(o==="overlayPane"||o===void 0)return!1;var d=this._paneRenderers[o];return d===void 0&&(d=this._createRenderer({pane:o}),this._paneRenderers[o]=d),d},_createRenderer:function(o){return this.options.preferCanvas&&Oy(o)||Ey(o)}});var My=ds.extend({initialize:function(o,d){ds.prototype.initialize.call(this,this._boundsToLatLngs(o),d)},setBounds:function(o){return this.setLatLngs(this._boundsToLatLngs(o))},_boundsToLatLngs:function(o){return o=he(o),[o.getSouthWest(),o.getNorthWest(),o.getNorthEast(),o.getSouthEast()]}});function rO(o,d){return new My(o,d)}Ca.create=xl,Ca.pointsToPath=Bt,gr.geometryToLayer=hl,gr.coordsToLatLng=vh,gr.coordsToLatLngs=fl,gr.latLngToCoords=yh,gr.latLngsToCoords=ml,gr.getFeature=hs,gr.asFeature=pl,Ce.mergeOptions({boxZoom:!0});var Iy=Xn.extend({initialize:function(o){this._map=o,this._container=o._container,this._pane=o._panes.overlayPane,this._resetStateTimeout=0,o.on("unload",this._destroy,this)},addHooks:function(){we(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){ze(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){qe(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(o){if(!o.shiftKey||o.which!==1&&o.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),xa(),eh(),this._startPoint=this._map.mouseEventToContainerPoint(o),we(document,{contextmenu:yi,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(o){this._moved||(this._moved=!0,this._box=Te("div","leaflet-zoom-box",this._container),Se(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(o);var d=new de(this._point,this._startPoint),p=d.getSize();rt(this._box,d.min),this._box.style.width=p.x+"px",this._box.style.height=p.y+"px"},_finish:function(){this._moved&&(qe(this._box),tt(this._container,"leaflet-crosshair")),ba(),th(),ze(document,{contextmenu:yi,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(o){if(!(o.which!==1&&o.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(a(this._resetState,this),0);var d=new ve(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(d).fire("boxzoomend",{boxZoomBounds:d})}},_onKeyDown:function(o){o.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Ce.addInitHook("addHandler","boxZoom",Iy),Ce.mergeOptions({doubleClickZoom:!0});var Ly=Xn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(o){var d=this._map,p=d.getZoom(),x=d.options.zoomDelta,S=o.originalEvent.shiftKey?p-x:p+x;d.options.doubleClickZoom==="center"?d.setZoom(S):d.setZoomAround(o.containerPoint,S)}});Ce.addInitHook("addHandler","doubleClickZoom",Ly),Ce.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Dy=Xn.extend({addHooks:function(){if(!this._draggable){var o=this._map;this._draggable=new qr(o._mapPane,o._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),o.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),o.on("zoomend",this._onZoomEnd,this),o.whenReady(this._onZoomEnd,this))}Se(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){tt(this._map._container,"leaflet-grab"),tt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var o=this._map;if(o._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var d=he(this._map.options.maxBounds);this._offsetLimit=je(this._map.latLngToContainerPoint(d.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(d.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;o.fire("movestart").fire("dragstart"),o.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(o){if(this._map.options.inertia){var d=this._lastTime=+new Date,p=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(p),this._times.push(d),this._prunePositions(d)}this._map.fire("move",o).fire("drag",o)},_prunePositions:function(o){for(;this._positions.length>1&&o-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var o=this._map.getSize().divideBy(2),d=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=d.subtract(o).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(o,d){return o-(o-d)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var o=this._draggable._newPos.subtract(this._draggable._startPos),d=this._offsetLimit;o.x<d.min.x&&(o.x=this._viscousLimit(o.x,d.min.x)),o.y<d.min.y&&(o.y=this._viscousLimit(o.y,d.min.y)),o.x>d.max.x&&(o.x=this._viscousLimit(o.x,d.max.x)),o.y>d.max.y&&(o.y=this._viscousLimit(o.y,d.max.y)),this._draggable._newPos=this._draggable._startPos.add(o)}},_onPreDragWrap:function(){var o=this._worldWidth,d=Math.round(o/2),p=this._initialWorldOffset,x=this._draggable._newPos.x,S=(x-d+p)%o+d-p,A=(x+d+p)%o-d-p,O=Math.abs(S+p)<Math.abs(A+p)?S:A;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=O},_onDragEnd:function(o){var d=this._map,p=d.options,x=!p.inertia||o.noInertia||this._times.length<2;if(d.fire("dragend",o),x)d.fire("moveend");else{this._prunePositions(+new Date);var S=this._lastPos.subtract(this._positions[0]),A=(this._lastTime-this._times[0])/1e3,O=p.easeLinearity,D=S.multiplyBy(O/A),F=D.distanceTo([0,0]),H=Math.min(p.inertiaMaxSpeed,F),X=D.multiplyBy(H/F),me=H/(p.inertiaDeceleration*O),ke=X.multiplyBy(-me/2).round();!ke.x&&!ke.y?d.fire("moveend"):(ke=d._limitOffset(ke,d.options.maxBounds),U(function(){d.panBy(ke,{duration:me,easeLinearity:O,noMoveStart:!0,animate:!0})}))}}});Ce.addInitHook("addHandler","dragging",Dy),Ce.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Ry=Xn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(o){this._map=o,this._setPanDelta(o.options.keyboardPanDelta),this._setZoomDelta(o.options.zoomDelta)},addHooks:function(){var o=this._map._container;o.tabIndex<=0&&(o.tabIndex="0"),we(o,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),ze(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var o=document.body,d=document.documentElement,p=o.scrollTop||d.scrollTop,x=o.scrollLeft||d.scrollLeft;this._map._container.focus(),window.scrollTo(x,p)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(o){var d=this._panKeys={},p=this.keyCodes,x,S;for(x=0,S=p.left.length;x<S;x++)d[p.left[x]]=[-1*o,0];for(x=0,S=p.right.length;x<S;x++)d[p.right[x]]=[o,0];for(x=0,S=p.down.length;x<S;x++)d[p.down[x]]=[0,o];for(x=0,S=p.up.length;x<S;x++)d[p.up[x]]=[0,-1*o]},_setZoomDelta:function(o){var d=this._zoomKeys={},p=this.keyCodes,x,S;for(x=0,S=p.zoomIn.length;x<S;x++)d[p.zoomIn[x]]=o;for(x=0,S=p.zoomOut.length;x<S;x++)d[p.zoomOut[x]]=-o},_addHooks:function(){we(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){ze(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(o){if(!(o.altKey||o.ctrlKey||o.metaKey)){var d=o.keyCode,p=this._map,x;if(d in this._panKeys){if(!p._panAnim||!p._panAnim._inProgress)if(x=this._panKeys[d],o.shiftKey&&(x=G(x).multiplyBy(3)),p.options.maxBounds&&(x=p._limitOffset(G(x),p.options.maxBounds)),p.options.worldCopyJump){var S=p.wrapLatLng(p.unproject(p.project(p.getCenter()).add(x)));p.panTo(S)}else p.panBy(x)}else if(d in this._zoomKeys)p.setZoom(p.getZoom()+(o.shiftKey?3:1)*this._zoomKeys[d]);else if(d===27&&p._popup&&p._popup.options.closeOnEscapeKey)p.closePopup();else return;yi(o)}}});Ce.addInitHook("addHandler","keyboard",Ry),Ce.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var $y=Xn.extend({addHooks:function(){we(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){ze(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(o){var d=ly(o),p=this._map.options.wheelDebounceTime;this._delta+=d,this._lastMousePos=this._map.mouseEventToContainerPoint(o),this._startTime||(this._startTime=+new Date);var x=Math.max(p-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(a(this._performZoom,this),x),yi(o)},_performZoom:function(){var o=this._map,d=o.getZoom(),p=this._map.options.zoomSnap||0;o._stop();var x=this._delta/(this._map.options.wheelPxPerZoomLevel*4),S=4*Math.log(2/(1+Math.exp(-Math.abs(x))))/Math.LN2,A=p?Math.ceil(S/p)*p:S,O=o._limitZoom(d+(this._delta>0?A:-A))-d;this._delta=0,this._startTime=null,O&&(o.options.scrollWheelZoom==="center"?o.setZoom(d+O):o.setZoomAround(this._lastMousePos,d+O))}});Ce.addInitHook("addHandler","scrollWheelZoom",$y);var iO=600;Ce.mergeOptions({tapHold:le.touchNative&&le.safari&&le.mobile,tapTolerance:15});var zy=Xn.extend({addHooks:function(){we(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){ze(this._map._container,"touchstart",this._onDown,this)},_onDown:function(o){if(clearTimeout(this._holdTimeout),o.touches.length===1){var d=o.touches[0];this._startPos=this._newPos=new z(d.clientX,d.clientY),this._holdTimeout=setTimeout(a(function(){this._cancel(),this._isTapValid()&&(we(document,"touchend",Et),we(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",d))},this),iO),we(document,"touchend touchcancel contextmenu",this._cancel,this),we(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function o(){ze(document,"touchend",Et),ze(document,"touchend touchcancel",o)},_cancel:function(){clearTimeout(this._holdTimeout),ze(document,"touchend touchcancel contextmenu",this._cancel,this),ze(document,"touchmove",this._onMove,this)},_onMove:function(o){var d=o.touches[0];this._newPos=new z(d.clientX,d.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(o,d){var p=new MouseEvent(o,{bubbles:!0,cancelable:!0,view:window,screenX:d.screenX,screenY:d.screenY,clientX:d.clientX,clientY:d.clientY});p._simulated=!0,d.target.dispatchEvent(p)}});Ce.addInitHook("addHandler","tapHold",zy),Ce.mergeOptions({touchZoom:le.touch,bounceAtZoomLimits:!0});var By=Xn.extend({addHooks:function(){Se(this._map._container,"leaflet-touch-zoom"),we(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){tt(this._map._container,"leaflet-touch-zoom"),ze(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(o){var d=this._map;if(!(!o.touches||o.touches.length!==2||d._animatingZoom||this._zooming)){var p=d.mouseEventToContainerPoint(o.touches[0]),x=d.mouseEventToContainerPoint(o.touches[1]);this._centerPoint=d.getSize()._divideBy(2),this._startLatLng=d.containerPointToLatLng(this._centerPoint),d.options.touchZoom!=="center"&&(this._pinchStartLatLng=d.containerPointToLatLng(p.add(x)._divideBy(2))),this._startDist=p.distanceTo(x),this._startZoom=d.getZoom(),this._moved=!1,this._zooming=!0,d._stop(),we(document,"touchmove",this._onTouchMove,this),we(document,"touchend touchcancel",this._onTouchEnd,this),Et(o)}},_onTouchMove:function(o){if(!(!o.touches||o.touches.length!==2||!this._zooming)){var d=this._map,p=d.mouseEventToContainerPoint(o.touches[0]),x=d.mouseEventToContainerPoint(o.touches[1]),S=p.distanceTo(x)/this._startDist;if(this._zoom=d.getScaleZoom(S,this._startZoom),!d.options.bounceAtZoomLimits&&(this._zoom<d.getMinZoom()&&S<1||this._zoom>d.getMaxZoom()&&S>1)&&(this._zoom=d._limitZoom(this._zoom)),d.options.touchZoom==="center"){if(this._center=this._startLatLng,S===1)return}else{var A=p._add(x)._divideBy(2)._subtract(this._centerPoint);if(S===1&&A.x===0&&A.y===0)return;this._center=d.unproject(d.project(this._pinchStartLatLng,this._zoom).subtract(A),this._zoom)}this._moved||(d._moveStart(!0,!1),this._moved=!0),R(this._animRequest);var O=a(d._move,d,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=U(O,this,!0),Et(o)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,R(this._animRequest),ze(document,"touchmove",this._onTouchMove,this),ze(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Ce.addInitHook("addHandler","touchZoom",By),Ce.BoxZoom=Iy,Ce.DoubleClickZoom=Ly,Ce.Drag=Dy,Ce.Keyboard=Ry,Ce.ScrollWheelZoom=$y,Ce.TapHold=zy,Ce.TouchZoom=By,n.Bounds=de,n.Browser=le,n.CRS=ye,n.Canvas=Ny,n.Circle=gh,n.CircleMarker=dl,n.Class=Y,n.Control=Mn,n.DivIcon=Ay,n.DivOverlay=Jn,n.DomEvent=_N,n.DomUtil=bN,n.Draggable=qr,n.Evented=V,n.FeatureGroup=mr,n.GeoJSON=gr,n.GridLayer=ka,n.Handler=Xn,n.Icon=us,n.ImageOverlay=gl,n.LatLng=be,n.LatLngBounds=ve,n.Layer=In,n.LayerGroup=cs,n.LineUtil=LN,n.Map=Ce,n.Marker=ul,n.Mixin=TN,n.Path=Gr,n.Point=z,n.PolyUtil=NN,n.Polygon=ds,n.Polyline=pr,n.Popup=vl,n.PosAnimation=cy,n.Projection=DN,n.Rectangle=My,n.Renderer=vr,n.SVG=Ca,n.SVGOverlay=ky,n.TileLayer=fs,n.Tooltip=yl,n.Transformation=_e,n.Util=se,n.VideoOverlay=Py,n.bind=a,n.bounds=je,n.canvas=Oy,n.circle=WN,n.circleMarker=VN,n.control=Sa,n.divIcon=QN,n.extend=i,n.featureGroup=BN,n.geoJSON=jy,n.geoJson=qN,n.gridLayer=eO,n.icon=FN,n.imageOverlay=GN,n.latLng=ge,n.latLngBounds=he,n.layerGroup=zN,n.map=SN,n.marker=UN,n.point=G,n.polygon=KN,n.polyline=HN,n.popup=XN,n.rectangle=rO,n.setOptions=w,n.stamp=u,n.svg=Ey,n.svgOverlay=YN,n.tileLayer=Cy,n.tooltip=JN,n.transformation=K,n.version=r,n.videoOverlay=ZN;var sO=window.L;n.noConflict=function(){return window.L=sO,this},window.L=n})})(sp,sp.exports);var pa=sp.exports;const Dv=Rr(pa);function Vd(e,t,n){return Object.freeze({instance:e,context:t,container:n})}function Wd(e,t){return t==null?function(r,i){const s=b.useRef();return s.current||(s.current=e(r,i)),s}:function(r,i){const s=b.useRef();s.current||(s.current=e(r,i));const a=b.useRef(r),{instance:l}=s.current;return b.useEffect(function(){a.current!==r&&(t(l,r,a.current),a.current=r)},[l,r,i]),s}}function UT(e,t){b.useEffect(function(){return(t.layerContainer??t.map).addLayer(e.instance),function(){var s;(s=t.layerContainer)==null||s.removeLayer(e.instance),t.map.removeLayer(e.instance)}},[t,e])}function VT(e){return function(n){const r=Iv(),i=e(Ud(n,r),r);return RT(r.map,n.attribution),Lv(i.current,n.eventHandlers),UT(i.current,r),i}}function eee(e,t){const n=b.useRef();b.useEffect(function(){if(t.pathOptions!==n.current){const i=t.pathOptions??{};e.instance.setStyle(i),n.current=i}},[e,t])}function tee(e){return function(n){const r=Iv(),i=e(Ud(n,r),r);return Lv(i.current,n.eventHandlers),UT(i.current,r),eee(i.current,n),i}}function nee(e,t){const n=Wd(e,t),r=VT(n);return FT(r)}function ree(e,t){const n=Wd(e),r=QQ(n,t);return XQ(r)}function iee(e,t){const n=Wd(e,t),r=tee(n);return FT(r)}function see(e,t){const n=Wd(e,t),r=VT(n);return JQ(r)}function aee(e,t,n){const{opacity:r,zIndex:i}=t;r!=null&&r!==n.opacity&&e.setOpacity(r),i!=null&&i!==n.zIndex&&e.setZIndex(i)}function ap(){return ap=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ap.apply(this,arguments)}function oee({bounds:e,boundsOptions:t,center:n,children:r,className:i,id:s,placeholder:a,style:l,whenReady:u,zoom:h,...f},m){const[g]=b.useState({className:i,id:s,style:l}),[v,y]=b.useState(null);b.useImperativeHandle(m,()=>(v==null?void 0:v.map)??null,[v]);const w=b.useCallback(j=>{if(j!==null&&v===null){const k=new pa.Map(j,f);n!=null&&h!=null?k.setView(n,h):e!=null&&k.fitBounds(e,t),u!=null&&k.whenReady(u),y(YQ(k))}},[]);b.useEffect(()=>()=>{v==null||v.map.remove()},[v]);const _=v?Wt.createElement(BT,{value:v},r):a??null;return Wt.createElement("div",ap({},g,{ref:w}),_)}const lee=b.forwardRef(oee),cee=nee(function({position:t,...n},r){const i=new pa.Marker(t,n);return Vd(i,$T(r,{overlayContainer:i}))},function(t,n,r){n.position!==r.position&&t.setLatLng(n.position),n.icon!=null&&n.icon!==r.icon&&t.setIcon(n.icon),n.zIndexOffset!=null&&n.zIndexOffset!==r.zIndexOffset&&t.setZIndexOffset(n.zIndexOffset),n.opacity!=null&&n.opacity!==r.opacity&&t.setOpacity(n.opacity),t.dragging!=null&&n.draggable!==r.draggable&&(n.draggable===!0?t.dragging.enable():t.dragging.disable())}),uee=iee(function({positions:t,...n},r){const i=new pa.Polyline(t,n);return Vd(i,$T(r,{overlayContainer:i}))},function(t,n,r){n.positions!==r.positions&&t.setLatLngs(n.positions)}),dee=ree(function(t,n){const r=new pa.Popup(t,n.overlayContainer);return Vd(r,n)},function(t,n,{position:r},i){b.useEffect(function(){const{instance:a}=t;function l(h){h.popup===a&&(a.update(),i(!0))}function u(h){h.popup===a&&i(!1)}return n.map.on({popupopen:l,popupclose:u}),n.overlayContainer==null?(r!=null&&a.setLatLng(r),a.openOn(n.map)):n.overlayContainer.bindPopup(a),function(){var f;n.map.off({popupopen:l,popupclose:u}),(f=n.overlayContainer)==null||f.unbindPopup(),n.map.removeLayer(a)}},[t,n,i,r])}),hee=see(function({url:t,...n},r){const i=new pa.TileLayer(t,Ud(n,r));return Vd(i,r)},function(t,n,r){aee(t,n,r);const{url:i}=n;i!=null&&i!==r.url&&t.setUrl(i)}),_f={SHIP:{id:"ship",icon:"ðŸš¢",speed:.05,pathType:"ocean"},PLANE:{id:"plane",icon:"âœˆï¸",speed:.2,pathType:"air"},TRAIN:{id:"train",icon:"ðŸš†",speed:.08,pathType:"land"}},Jl=[{name:"Shanghai",lat:31.2304,lng:121.4737,type:"port"},{name:"Singapore",lat:1.3521,lng:103.8198,type:"port"},{name:"Rotterdam",lat:51.9225,lng:4.47917,type:"port"},{name:"Los Angeles",lat:33.7423,lng:-118.2758,type:"port"},{name:"New York",lat:40.7128,lng:-74.006,type:"port"},{name:"London",lat:51.5074,lng:-.1278,type:"air"},{name:"Dubai",lat:25.2048,lng:55.2708,type:"air"},{name:"Tokyo",lat:35.6762,lng:139.6503,type:"mixed"},{name:"Hamburg",lat:53.5511,lng:9.9937,type:"rail"},{name:"Duisburg",lat:51.4344,lng:6.7623,type:"rail"}];let hc=[];const fee=(e=50)=>{hc=[];for(let t=0;t<e;t++){const n=Jl[Math.floor(Math.random()*Jl.length)],r=Jl[Math.floor(Math.random()*Jl.length)];if(n===r)continue;let i=_f.SHIP;Math.random()>.6?i=_f.PLANE:Math.random()>.8&&(i=_f.TRAIN),hc.push({id:`TRK-${Math.floor(Math.random()*1e4)}`,type:i,start:n,end:r,progress:Math.random(),status:"In Transit",cargo:"Electronics"})}return hc},mee=()=>hc.map(e=>{if(e.progress+=e.type.speed*.005,e.progress>=1){e.progress=0;const r=e.start;e.start=e.end,e.end=r}const t=e.start.lat+(e.end.lat-e.start.lat)*e.progress,n=e.start.lng+(e.end.lng-e.start.lng)*e.progress;return{...e,lat:t,lng:n}}),pee="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAFgUlEQVR4Aa1XA5BjWRTN2oW17d3YaZtr2962HUzbDNpjszW24mRt28p47v7zq/bXZtrp/lWnXr337j3nPCe85NcypgSFdugCpW5YoDAMRaIMqRi6aKq5E3YqDQO3qAwjVWrD8Ncq/RBpykd8oZUb/kaJutow8r1aP9II0WmLKLIsJyv1w/kqw9Ch2MYdB++12Onxee/QMwvf4/Dk/Lfp/i4nxTXtOoQ4pW5Aj7wpici1A9erdAN2OH64x8OSP9j3Ft3b7aWkTg/Fm91siTra0f9on5sQr9INejH6CUUUpavjFNq1B+Oadhxmnfa8RfEmN8VNAsQhPqF55xHkMzz3jSmChWU6f7/XZKNH+9+hBLOHYozuKQPxyMPUKkrX/K0uWnfFaJGS1QPRtZsOPtr3NsW0uyh6NNCOkU3Yz+bXbT3I8G3xE5EXLXtCXbbqwCO9zPQYPRTZ5vIDXD7U+w7rFDEoUUf7ibHIR4y6bLVPXrz8JVZEql13trxwue/uDivd3fkWRbS6/IA2bID4uk0UpF1N8qLlbBlXs4Ee7HLTfV1j54APvODnSfOWBqtKVvjgLKzF5YdEk5ewRkGlK0i33Eofffc7HT56jD7/6U+qH3Cx7SBLNntH5YIPvODnyfIXZYRVDPqgHtLs5ABHD3YzLuespb7t79FY34DjMwrVrcTuwlT55YMPvOBnRrJ4VXTdNnYug5ucHLBjEpt30701A3Ts+HEa73u6dT3FNWwflY86eMHPk+Yu+i6pzUpRrW7SNDg5JHR4KapmM5Wv2E8Tfcb1HoqqHMHU+uWDD7zg54mz5/2BSnizi9T1Dg4QQXLToGNCkb6tb1NU+QAlGr1++eADrzhn/u8Q2YZhQVlZ5+CAOtqfbhmaUCS1ezNFVm2imDbPmPng5wmz+gwh+oHDce0eUtQ6OGDIyR0uUhUsoO3vfDmmgOezH0mZN59x7MBi++WDL1g/eEiU3avlidO671bkLfwbw5XV2P8Pzo0ydy4t2/0eu33xYSOMOD8hTf4CrBtGMSoXfPLchX+J0ruSePw3LZeK0juPJbYzrhkH0io7B3k164hiGvawhOKMLkrQLyVpZg8rHFW7E2uHOL888IBPlNZ1FPzstSJM694fWr6RwpvcJK60+0HCILTBzZLFNdtAzJaohze60T8qBzyh5ZuOg5e7uwQppofEmf2++DYvmySqGBuKaicF1blQjhuHdvCIMvp8whTTfZzI7RldpwtSzL+F1+wkdZ2TBOW2gIF88PBTzD/gpeREAMEbxnJcaJHNHrpzji0gQCS6hdkEeYt9DF/2qPcEC8RM28Hwmr3sdNyht00byAut2k3gufWNtgtOEOFGUwcXWNDbdNbpgBGxEvKkOQsxivJx33iow0Vw5S6SVTrpVq11ysA2Rp7gTfPfktc6zhtXBBC+adRLshf6sG2RfHPZ5EAc4sVZ83yCN00Fk/4kggu40ZTvIEm5g24qtU4KjBrx/BTTH8ifVASAG7gKrnWxJDcU7x8X6Ecczhm3o6YicvsLXWfh3Ch1W0k8x0nXF+0fFxgt4phz8QvypiwCCFKMqXCnqXExjq10beH+UUA7+nG6mdG/Pu0f3LgFcGrl2s0kNNjpmoJ9o4B29CMO8dMT4Q5ox8uitF6fqsrJOr8qnwNbRzv6hSnG5wP+64C7h9lp30hKNtKdWjtdkbuPA19nJ7Tz3zR/ibgARbhb4AlhavcBebmTHcFl2fvYEnW0ox9xMxKBS8btJ+KiEbq9zA4RthQXDhPa0T9TEe69gWupwc6uBUphquXgf+/FrIjweHQS4/pduMe5ERUMHUd9xv8ZR98CxkS4F2n3EUrUZ10EYNw7BWm9x1GiPssi3GgiGRDKWRYZfXlON+dfNbM+GgIwYdwAAAAASUVORK5CYII=",gee="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAQAAAACach9AAACMUlEQVR4Ae3ShY7jQBAE0Aoz/f9/HTMzhg1zrdKUrJbdx+Kd2nD8VNudfsL/Th///dyQN2TH6f3y/BGpC379rV+S+qqetBOxImNQXL8JCAr2V4iMQXHGNJxeCfZXhSRBcQMfvkOWUdtfzlLgAENmZDcmo2TVmt8OSM2eXxBp3DjHSMFutqS7SbmemzBiR+xpKCNUIRkdkkYxhAkyGoBvyQFEJEefwSmmvBfJuJ6aKqKWnAkvGZOaZXTUgFqYULWNSHUckZuR1HIIimUExutRxwzOLROIG4vKmCKQt364mIlhSyzAf1m9lHZHJZrlAOMMztRRiKimp/rpdJDc9Awry5xTZCte7FHtuS8wJgeYGrex28xNTd086Dik7vUMscQOa8y4DoGtCCSkAKlNwpgNtphjrC6MIHUkR6YWxxs6Sc5xqn222mmCRFzIt8lEdKx+ikCtg91qS2WpwVfBelJCiQJwvzixfI9cxZQWgiSJelKnwBElKYtDOb2MFbhmUigbReQBV0Cg4+qMXSxXSyGUn4UbF8l+7qdSGnTC0XLCmahIgUHLhLOhpVCtw4CzYXvLQWQbJNmxoCsOKAxSgBJno75avolkRw8iIAFcsdc02e9iyCd8tHwmeSSoKTowIgvscSGZUOA7PuCN5b2BX9mQM7S0wYhMNU74zgsPBj3HU7wguAfnxxjFQGBE6pwN+GjME9zHY7zGp8wVxMShYX9NXvEWD3HbwJf4giO4CFIQxXScH1/TM+04kkBiAAAAAElFTkSuQmCC";let vee=Dv.icon({iconUrl:pee,shadowUrl:gee,iconSize:[25,41],iconAnchor:[12,41]});Dv.Marker.prototype.options.icon=vee;const yee=e=>Dv.divIcon({className:"custom-map-marker",html:`<div style="font-size: 24px; filter: drop-shadow(0 0 5px rgba(82, 39, 255, 0.8));">${e}</div>`});function xee(){const[e,t]=b.useState([]);return b.useEffect(()=>{fee(40);const n=setInterval(()=>{t(mee())},100);return()=>clearInterval(n)},[]),c.jsxs("div",{className:"relative w-full h-full rounded-2xl overflow-hidden border border-white/10 shadow-2xl",children:[c.jsxs("div",{className:"absolute top-4 left-4 z-[500] bg-black/60 backdrop-blur-md p-4 rounded-xl border border-white/10",children:[c.jsxs("h3",{className:"text-white font-bold text-lg mb-1 flex items-center gap-2",children:[c.jsx("span",{className:"w-2 h-2 rounded-full bg-green-500 animate-pulse"}),"Live Global Logistics"]}),c.jsxs("div",{className:"text-xs text-slate-400",children:["Tracking ",e.length," active units"]})]}),c.jsxs(lee,{center:[20,0],zoom:2,style:{height:"100%",width:"100%",background:"#1a1a1a"},children:[c.jsx(hee,{url:"https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png",attribution:'Â© <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors Â© <a href="https://carto.com/attributions">CARTO</a>'}),e.map(n=>c.jsxs(Wt.Fragment,{children:[c.jsx(cee,{position:[n.lat,n.lng],icon:yee(n.type.icon),children:c.jsx(dee,{className:"glass-popup",children:c.jsxs("div",{className:"p-1",children:[c.jsx("strong",{className:"text-indigo-400",children:n.id}),c.jsx("br",{}),"Type: ",n.type.id.toUpperCase(),c.jsx("br",{}),"From: ",n.start.name,c.jsx("br",{}),"To: ",n.end.name,c.jsx("br",{}),"Cargo: ",n.cargo]})})}),c.jsx(uee,{positions:[[n.start.lat,n.start.lng],[n.end.lat,n.end.lng]],pathOptions:{color:n.type.id==="plane"?"#22d3ee":"#5227FF",weight:1,opacity:.2,dashArray:"5,5"}})]},n.id))]})]})}function bee(){const[e,t]=b.useState("dashboard"),[n,r]=b.useState(!1),[i,s]=b.useState(!1),a=()=>{switch(e){case"dashboard":return c.jsx(Bx,{});case"map":return c.jsx(xee,{});case"chat":return c.jsx(bz,{});case"classifier":return c.jsx(wz,{});case"shipments":return c.jsx(_z,{});case"simulation":return c.jsx(Cz,{});case"rates":return c.jsx(Dz,{});case"analytics":return c.jsx(MQ,{});case"compliance":return c.jsx(BQ,{});case"docs":return c.jsx(UQ,{});case"carbon":return c.jsx(WQ,{});case"risk":return c.jsx(qQ,{});case"market":return c.jsx(GQ,{});default:return c.jsx(Bx,{})}};return c.jsxs("div",{className:"gasper-tool-container",children:[c.jsx(Q$,{activeTab:e,onTabChange:l=>{t(l),s(!1)},isCollapsed:n,toggleCollapse:()=>r(!n),isMobileOpen:i,closeMobileMenu:()=>s(!1)}),c.jsxs("main",{className:"gasper-main",children:[c.jsxs("header",{className:"dashboard-header",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("button",{className:"md:hidden p-2 text-white/70 hover:text-white",onClick:()=>s(!0),children:c.jsx(X3,{size:24})}),c.jsx("div",{className:"header-title",children:c.jsxs("h2",{children:[e.charAt(0).toUpperCase()+e.slice(1)," Explorer"]})})]}),c.jsxs("div",{className:"header-actions",children:[c.jsxs("div",{className:"relative group hidden md:block",children:[c.jsx(Do,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-white/40 h-4 w-4"}),c.jsx("input",{type:"text",placeholder:"Search shipments, rates...",className:"bg-white/5 border border-white/10 rounded-full pl-10 pr-4 py-2 text-sm text-white focus:outline-none focus:border-cyan-400/50 focus:bg-white/10 w-64 transition-all"})]}),c.jsxs("button",{className:"p-2 rounded-full hover:bg-white/10 text-white/70 hover:text-white transition-colors relative",children:[c.jsx(K4,{size:20}),c.jsx("span",{className:"absolute top-1.5 right-1.5 h-2 w-2 bg-red-500 rounded-full shadow-lg shadow-red-500/50"})]}),c.jsx("button",{className:"p-1 rounded-full border border-white/10 hover:border-white/30 transition-colors",children:c.jsx("div",{className:"h-8 w-8 rounded-full bg-gradient-to-r from-cyan-500 to-blue-500 flex items-center justify-center text-white font-bold text-xs",children:"GP"})})]})]}),c.jsx("div",{className:"dashboard-content custom-scrollbar",children:a()})]}),i&&c.jsx("div",{className:"fixed inset-0 bg-black/60 z-40 md:hidden backdrop-blur-sm",onClick:()=>s(!1)})]})}function wee(){return c.jsx("div",{className:"landing-container w-full min-h-screen",children:c.jsx(bee,{})})}function _ee(){const[e,t]=b.useState(!0),n=[{name:"Scout",id:"tier-scout",priceMonthly:29,priceAnnual:290,description:"Ideal for individual traders starting their journey.",features:["Basic HS Code Search","5 Risk Assessments / mo","Standard Rate Data","Email Support"],notIncluded:["API Access","Digital Twin Simulation","Dedicated Account Manager"],cta:"Start 14-Day Free Trial",ctaLink:"/register?plan=scout",highlight:!1,color:"text-blue-400",borderColor:"border-blue-500/30"},{name:"Navigator",id:"tier-navigator",priceMonthly:99,priceAnnual:990,description:"For professional traders needing deeper insights.",features:["Advanced HS Code Classifier","50 Risk Assessments / mo","Real-time Market News","Priority Email Support","Route Optimization Tools"],notIncluded:["Digital Twin Simulation","Dedicated Account Manager"],cta:"Get Started",ctaLink:"/register?plan=navigator",highlight:!0,color:"text-[#5227FF]",borderColor:"border-[#5227FF]"},{name:"Captain",id:"tier-captain",priceMonthly:299,priceAnnual:2990,description:"For growing teams and SMEs scaling operations.",features:["Unlimited HS Code Search","500 Risk Assessments / mo","Full Spot Rate History","Digital Twin (Basic)","API Access (10k calls/mo)","Live Chat Support"],notIncluded:["Custom Integrations","White-labeling"],cta:"Upgrade to Captain",ctaLink:"/register?plan=captain",highlight:!1,color:"text-purple-400",borderColor:"border-purple-500/30"},{name:"Admiral",id:"tier-admiral",price:"Custom",description:"Enterprise-grade power for global logistics leaders.",features:["Unlimited Everything","Full Digital Twin Suite","Custom ERP Integrations","Dedicated Account Manager","On-premise Deployment Option","SLA 99.99% Uptime"],notIncluded:[],cta:"Contact Sales",ctaLink:"/contact",highlight:!1,color:"text-amber-400",borderColor:"border-amber-500/30",isCustom:!0}];return c.jsx("div",{className:"landing-container pt-24 pb-20",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[c.jsxs("div",{className:"text-center max-w-3xl mx-auto mb-16",children:[c.jsxs(Ne.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"hero-title mb-6",children:["Transparent ",c.jsx("span",{className:"text-[#5227FF]",children:"Pricing"})]}),c.jsx(Ne.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"hero-subtitle mb-8",children:"Choose the perfect plan for your logistics needs. No hidden fees."}),c.jsxs("div",{className:"flex justify-center items-center gap-4 mb-8",children:[c.jsx("span",{className:`text-sm font-medium ${e?"text-slate-400":"text-white"}`,children:"Monthly"}),c.jsx("button",{onClick:()=>t(!e),className:"relative w-14 h-8 bg-slate-800 rounded-full p-1 transition-colors hover:bg-slate-700 focus:outline-none border border-white/10",children:c.jsx("div",{className:`w-6 h-6 rounded-full bg-[#5227FF] shadow-lg transform transition-transform ${e?"translate-x-6":"translate-x-0"}`})}),c.jsxs("span",{className:`text-sm font-medium ${e?"text-white":"text-slate-400"}`,children:["Yearly ",c.jsx("span",{className:"text-[#5227FF] text-xs font-bold ml-1",children:"(Save 20%)"})]})]})]}),c.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6 items-start",children:n.map((r,i)=>c.jsxs(Ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:i*.1},className:`relative bg-white/5 rounded-2xl p-6 border transition-all duration-300 hover:transform hover:-translate-y-1 ${r.highlight?"border-[#5227FF] shadow-[0_0_30px_rgba(82,39,255,0.15)] bg-white/[0.07]":"border-white/10 hover:border-white/20"}`,children:[r.highlight&&c.jsx("div",{className:"absolute -top-3 left-1/2 transform -translate-x-1/2 bg-[#5227FF] text-white text-[10px] font-bold px-3 py-1 rounded-full uppercase tracking-wider",children:"Most Popular"}),c.jsxs("div",{className:"mb-6",children:[c.jsx("h3",{className:`text-lg font-bold mb-2 ${r.color}`,children:r.name}),c.jsx("p",{className:"text-slate-400 text-sm h-10",children:r.description})]}),c.jsxs("div",{className:"mb-6",children:[r.isCustom?c.jsx("div",{className:"text-3xl font-bold text-white",children:"Contact Us"}):c.jsxs("div",{className:"flex items-baseline gap-1",children:[c.jsxs("span",{className:"text-3xl font-bold text-white",children:["$",e?Math.round(r.priceAnnual/12):r.priceMonthly]}),c.jsx("span",{className:"text-slate-500 text-sm",children:"/mo"})]}),!r.isCustom&&e&&c.jsxs("div",{className:"text-xs text-slate-500 mt-1",children:["Billed $",r.priceAnnual," yearly"]})]}),c.jsx(yt,{to:r.ctaLink,className:`w-full block text-center py-2.5 rounded-lg text-sm font-semibold transition-all mb-8 ${r.highlight?"bg-[#5227FF] hover:bg-[#4015ff] text-white shadow-lg shadow-[#5227FF]/25":"bg-white/10 hover:bg-white/20 text-white"}`,children:r.cta}),c.jsxs("div",{className:"space-y-3",children:[r.features.map((s,a)=>c.jsxs("div",{className:"flex items-start gap-3 text-sm text-slate-300",children:[c.jsx(Bj,{className:`w-4 h-4 mt-0.5 flex-shrink-0 ${r.color}`}),c.jsx("span",{children:s})]},a)),r.notIncluded.map((s,a)=>c.jsxs("div",{className:"flex items-start gap-3 text-sm text-slate-500 opacity-60",children:[c.jsx(Zj,{className:"w-4 h-4 mt-0.5 flex-shrink-0"}),c.jsx("span",{children:s})]},a))]})]},r.id))}),c.jsxs("div",{className:"mt-20 text-center border-t border-white/10 pt-12",children:[c.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"Need a Custom Solution?"}),c.jsx("p",{className:"text-slate-400 max-w-2xl mx-auto mb-8",children:"Our team can build bespoke AI models and logic flows tailored specifically to your supply chain data."}),c.jsxs(yt,{to:"/contact",className:"text-[#5227FF] hover:text-white font-medium inline-flex items-center transition-colors",children:["Contact our Sales Team ",c.jsx(li,{className:"ml-2 w-4 h-4"})]})]})]})})}function See(){return c.jsx("div",{className:"landing-container pt-24 pb-20",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[c.jsxs("div",{className:"text-center max-w-4xl mx-auto mb-20",children:[c.jsxs(Ne.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"hero-title mb-6",children:["Intelligence ",c.jsx("span",{className:"text-[#5227FF]",children:"Beyond Boundaries"})]}),c.jsx(Ne.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"hero-subtitle",children:"A comprehensive suite of AI-powered tools designed to give you total visibility and control over your supply chain."})]}),c.jsxs("div",{className:"grid md:grid-cols-2 gap-8 mb-20",children:[c.jsx(Ql,{icon:c.jsx(Mu,{size:40}),title:"Real-Time Tracking",description:"Monitor vessels, flights, and rail freight in real-time. Our global tracking network integrates data from thousands of carriers, providing you with up-to-the-minute status updates on every shipment.",details:["Vessel AIS Data","Live Flight Paths","Rail Freight Corridors","Delay Predictions"]}),c.jsx(Ql,{icon:c.jsx(Pn,{size:40}),title:"Digital Twin Simulation",description:"Create a virtual replica of your supply chain. Test 'what-if' scenarios to understand the impact of port strikes, natural disasters, or tariff changes before they happen.",details:["Scenario Modeling","Cost Impact Analysis","Route Alternates","Inventory Optimization"]}),c.jsx(Ql,{icon:c.jsx(qj,{size:40}),title:"Compliance & Risk AI",description:"Automate your compliance workflows. Our AI classifies HS codes with 99% accuracy and screens all partners against global sanctions lists instantly.",details:["Automated HS Classification","Sanctions Screening","Document Generation","Regulatory Alerts"]}),c.jsx(Ql,{icon:c.jsx(Uj,{size:40}),title:"Market Intelligence",description:"Stay ahead of market shifts. Access live commodity prices, currency exchange rates, and spot rates for major shipping routes in a single dashboard.",details:["Live User Indices","Currency Exchange","Commodity Tickers","Global Holidays"]})]}),c.jsxs("div",{className:"grid md:grid-cols-3 gap-6 mb-20",children:[c.jsx(Sf,{icon:c.jsx(kr,{size:24}),title:"Instant API Access",desc:"Connect Gasper directly to your ERP or TMS with our robust REST API."}),c.jsx(Sf,{icon:c.jsx(ar,{size:24}),title:"Global Coverage",desc:"Data from 200+ countries and territories, localizing insights for your specific lanes."}),c.jsx(Sf,{icon:c.jsx(U3,{size:24}),title:"Enterprise Security",desc:"SOC 2 Type II compliant with end-to-end encryption for all sensitive data."})]}),c.jsxs("div",{className:"text-center",children:[c.jsx("h2",{className:"text-3xl font-bold text-white mb-6",children:"Ready to see it in action?"}),c.jsx(yt,{to:"/gasper",className:"btn-primary inline-flex items-center",children:"Launch Console"})]})]})})}function Ql({icon:e,title:t,description:n,details:r}){return c.jsxs(Ne.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"p-8 rounded-2xl bg-white/5 border border-white/10 hover:border-[#5227FF]/50 transition-colors group",children:[c.jsx("div",{className:"w-16 h-16 rounded-xl bg-[#5227FF]/10 flex items-center justify-center text-[#5227FF] mb-6 group-hover:scale-110 transition-transform",children:e}),c.jsx("h3",{className:"text-2xl font-bold text-white mb-4",children:t}),c.jsx("p",{className:"text-slate-400 mb-6 leading-relaxed",children:n}),c.jsx("ul",{className:"grid grid-cols-2 gap-2",children:r.map((i,s)=>c.jsxs("li",{className:"flex items-center text-sm text-slate-300",children:[c.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-[#5227FF] mr-2"}),i]},s))})]})}function Sf({icon:e,title:t,desc:n}){return c.jsxs("div",{className:"p-6 rounded-xl bg-white/5 border border-white/5",children:[c.jsx("div",{className:"text-[#5227FF] mb-3",children:e}),c.jsx("h4",{className:"text-lg font-bold text-white mb-2",children:t}),c.jsx("p",{className:"text-sm text-slate-400",children:n})]})}function jee(){return c.jsx("div",{className:"landing-container pt-24 pb-20",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[c.jsxs("div",{className:"text-center max-w-4xl mx-auto mb-20",children:[c.jsxs(Ne.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"hero-title mb-6",children:["The Engine of ",c.jsx("span",{className:"text-[#5227FF]",children:"Global Trade"})]}),c.jsx(Ne.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"hero-subtitle mb-8",children:"How Gasper ingests millions of data points, processes them with advanced AI, and delivers actionable insights in milliseconds."}),c.jsxs(Ne.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:1,delay:.4},className:"rounded-3xl border border-white/10 overflow-hidden shadow-2xl relative group mb-12",children:[c.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-[#0f172a] to-transparent z-10"}),c.jsx("img",{src:"/ai-analysis.png",alt:"AI Logistics Analysis",className:"w-full h-auto transition-transform duration-[2s] group-hover:scale-105"})]})]}),c.jsxs("div",{className:"relative mb-24",children:[c.jsx("div",{className:"hidden md:block absolute left-1/2 top-0 bottom-0 w-px bg-gradient-to-b from-[#5227FF] via-[#22d3ee] to-[#5227FF] opacity-30 transform -translate-x-1/2"}),c.jsx(ec,{number:"01",title:"Data Ingestion",description:"We aggregate structured and unstructured data from over 500 sources, including carrier APIs, satellite feeds, port authorities, and news outlets.",icon:c.jsx(x3,{size:32}),align:"left"}),c.jsx(ec,{number:"02",title:"AI Processing",description:"Our proprietary ML models clean, normalize, and analyze the data. Natural Language Processing (NLP) extracts risks from news, while Predictive Models forecast delays.",icon:c.jsx(Fj,{size:32}),align:"right"}),c.jsx(ec,{number:"03",title:"Digital Twin Modeling",description:"The refined data feeds into a live simulation of your supply chain. This 'Digital Twin' allows us to run thousands of scenarios to find the optimal path.",icon:c.jsx($x,{size:32}),align:"left"}),c.jsx(ec,{number:"04",title:"Actionable Insights",description:"Finally, insights are delivered via our dashboard or API. You get alerts, updated ETAs, and cost-saving recommendations instantly.",icon:c.jsx(zj,{size:32}),align:"right"})]}),c.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-3xl p-8 md:p-12 text-center mb-20",children:[c.jsx("h2",{className:"text-3xl font-bold text-white mb-8",children:"Built on Modern Infrastructure"}),c.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8",children:[c.jsx(tc,{label:"Real-Time WebSockets",icon:c.jsx(j3,{})}),c.jsx(tc,{label:"Distributed Cloud",icon:c.jsx(p$,{})}),c.jsx(tc,{label:"End-to-End Encryption",icon:c.jsx($x,{})}),c.jsx(tc,{label:"99.99% Uptime SLA",icon:c.jsx(Pee,{})})]})]}),c.jsx("div",{className:"text-center",children:c.jsxs(yt,{to:"/contact",className:"btn-secondary inline-flex items-center",children:["Request Technical Whitepaper ",c.jsx(li,{size:18,className:"ml-2"})]})})]})})}function ec({number:e,title:t,description:n,icon:r,align:i}){const s=i==="left";return c.jsxs(Ne.div,{initial:{opacity:0,x:s?-50:50},whileInView:{opacity:1,x:0},viewport:{once:!0},className:`flex flex-col md:flex-row items-center gap-8 mb-16 md:mb-0 ${s?"md:flex-row-reverse":""}`,children:[c.jsx("div",{className:`md:w-1/2 flex ${s?"md:justify-start":"md:justify-end"}`,children:c.jsxs("div",{className:`
                    relative p-8 rounded-2xl bg-slate-900/50 border border-white/10 max-w-lg
                    ${s?"md:mr-12 md:text-right":"md:ml-12 md:text-left"}
                 `,children:[c.jsxs("div",{className:"text-[#5227FF] text-sm font-bold tracking-widest mb-2",children:["STEP ",e]}),c.jsx("h3",{className:"text-2xl font-bold text-white mb-4",children:t}),c.jsx("p",{className:"text-slate-400",children:n})]})}),c.jsx("div",{className:"relative z-10 w-16 h-16 rounded-full bg-[#0f172a] border-2 border-[#5227FF] flex items-center justify-center text-white shadow-[0_0_20px_rgba(82,39,255,0.4)]",children:r}),c.jsx("div",{className:"md:w-1/2"})," "]})}function tc({label:e,icon:t}){return c.jsxs("div",{className:"flex flex-col items-center gap-3 text-slate-300",children:[c.jsx("div",{className:"p-4 rounded-full bg-white/5 text-[#22d3ee] mb-2",children:t}),c.jsx("span",{className:"font-semibold",children:e})]})}function Pee(){return c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:c.jsx("path",{d:"M22 12h-4l-3 9L9 3l-3 9H2"})})}function kee(){return c.jsx("div",{className:"landing-container pt-24 pb-20",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[c.jsxs("div",{className:"text-center max-w-4xl mx-auto mb-20",children:[c.jsxs(Ne.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"hero-title mb-6",children:["Powering ",c.jsx("span",{className:"text-[#5227FF]",children:"Every Sector"})]}),c.jsx(Ne.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"hero-subtitle mb-8",children:"From raw materials to retail shelves, Gasper provides the specialized insights your industry needs."}),c.jsxs(Ne.div,{initial:{opacity:0,scale:.98},animate:{opacity:1,scale:1},transition:{duration:1},className:"rounded-3xl border border-white/10 overflow-hidden shadow-2xl relative mb-16 aspect-[21/9]",children:[c.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-[#0f172a] via-transparent to-transparent z-10"}),c.jsx("img",{src:"/maritime-shipping.png",alt:"Futuristic Maritime Logistics",className:"w-full h-full object-cover"}),c.jsxs("div",{className:"absolute bottom-8 left-8 z-20",children:[c.jsx("h3",{className:"text-3xl font-bold text-white mb-2",children:"Maritime Excellence"}),c.jsx("p",{className:"text-cyan-400 font-medium tracking-wider",children:"REAL-TIME PORT INTELLIGENCE"})]})]})]}),c.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6 mb-20",children:[c.jsx(ks,{icon:c.jsx(Bp,{size:32}),title:"Maritime Logistics",description:"Optimize port calls, track container vessels in real-time, and predict congestion at major hubs. Reduce demurrage and detention costs.",color:"text-blue-400"}),c.jsx(ks,{icon:c.jsx(kc,{size:32}),title:"Freight Forwarding",description:"Manage multi-modal shipments with ease. Automate documentation (HS Codes) and provide your clients with a white-labeled tracking portal.",color:"text-green-400"}),c.jsx(ks,{icon:c.jsx(_$,{size:32}),title:"Retail & E-commerce",description:"Ensure stock availability by tracking inventory from factory to warehouse. Predict delays to manage customer expectations proactively.",color:"text-purple-400"}),c.jsx(ks,{icon:c.jsx(k3,{size:32}),title:"Manufacturing",description:"Secure your supply chain against disruptions. Monitor raw material shipments and identify alternative suppliers instantly.",color:"text-orange-400"}),c.jsx(ks,{icon:c.jsx(z$,{size:32}),title:"Agriculture",description:"Track perishable goods with weather overlay integration. Ensure optimal routes to reduce spoilage and maintain freshness.",color:"text-yellow-400"}),c.jsx(ks,{icon:c.jsx(T3,{size:32}),title:"Energy & Commodities",description:"Monitor oil and gas shipments. React instantly to geopolitical events that affect energy trade routes.",color:"text-red-400"})]}),c.jsxs("div",{className:"bg-[#5227FF]/10 border border-[#5227FF]/30 rounded-2xl p-8 text-center max-w-3xl mx-auto",children:[c.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:'"Gasper has transformed how we manage our perishable shipments."'}),c.jsx("p",{className:"text-slate-400",children:"- Director of Logistics, Global Retail Corp (Placeholder)"})]}),c.jsxs("div",{className:"text-center mt-20",children:[c.jsx("h2",{className:"text-3xl font-bold text-white mb-6",children:"Find your industry solution."}),c.jsxs(yt,{to:"/contact",className:"btn-primary inline-flex items-center",children:["Talk to an Expert ",c.jsx(li,{size:18,className:"ml-2"})]})]})]})})}function ks({icon:e,title:t,description:n,color:r}){return c.jsxs(Ne.div,{initial:{opacity:0,scale:.95},whileInView:{opacity:1,scale:1},viewport:{once:!0},className:"p-8 rounded-2xl bg-white/5 border border-white/10 hover:bg-white/[0.08] hover:border-white/20 transition-all cursor-default group",children:[c.jsx("div",{className:`mb-6 ${r} transition-transform group-hover:scale-110 duration-300`,children:e}),c.jsx("h3",{className:"text-xl font-bold text-white mb-3",children:t}),c.jsx("p",{className:"text-slate-400 text-sm leading-relaxed",children:n})]})}const Aee="/api/account";async function _u(){const{data:{session:e}}=await xr.auth.getSession();return(e==null?void 0:e.access_token)||null}async function Pi(e,t,n){const r=await _u(),i={method:e,headers:{"Content-Type":"application/json"}};r&&(i.headers.Authorization=`Bearer ${r}`),n&&e!=="GET"&&(i.body=JSON.stringify(n));const s=await fetch(`${Aee}${t}`,i);let a;const l=await s.text();try{a=JSON.parse(l)}catch{console.error("Failed to parse response JSON:",l),a={}}if(!s.ok){const u=new Error(a.message||"Something went wrong. Please try again.");throw u.status=s.status,u.data=a,u}return a}const ki={getToken:_u,async register({username:e,email:t,password:n,terms:r}){throw new Error("Please use Supabase Auth for registration")},async login({usernameOrEmail:e,password:t}){throw new Error("Please use Supabase Auth for login")},async logout(){return{success:!0}},async getProfile(){return(await Pi("GET","/me",null)).data},async updateProfile({username:e,email:t}){return(await Pi("PUT","/profile",{username:e,email:t})).data},async updatePassword({newPassword:e}){return await Pi("PUT","/password",{newPassword:e})},async getAddresses(){return(await Pi("GET","/addresses",null)).data},async updateAddresses({billing:e,shipping:t}){return await Pi("PUT","/addresses",{billing:e,shipping:t})},async getSubscriptions(e="active"){return(await Pi("GET",`/subscriptions?status=${e}`,null)).data},async cancelSubscription(e){return await Pi("POST",`/subscriptions/${e}/cancel`,{})}},w1="/api/stripe",WT={async createCheckoutSession({cartItems:e,userId:t,userEmail:n,mode:r="subscription"}){const i=await _u(),s=await fetch(`${w1}/create-checkout-session`,{method:"POST",headers:{"Content-Type":"application/json",...i&&{Authorization:`Bearer ${i}`}},body:JSON.stringify({cartItems:e,userId:t,userEmail:n,mode:r})}),a=await s.json();if(!s.ok)throw new Error(a.message||"Failed to create checkout session");return a},async createPortalSession(e){const t=await _u(),n=await fetch(`${w1}/create-portal-session`,{method:"POST",headers:{"Content-Type":"application/json",...t&&{Authorization:`Bearer ${t}`}},body:JSON.stringify({customerId:e})}),r=await n.json();if(!n.ok)throw new Error(r.message||"Failed to create portal session");return r}};function Cee(){const{formatPrice:e,convertPrice:t,currency:n}=CO(),[r,i]=b.useState([]);b.useEffect(()=>{const I=()=>{const V=localStorage.getItem("cartItems");V&&i(JSON.parse(V))};return I(),window.addEventListener("storage",I),()=>window.removeEventListener("storage",I)},[]);const[s,a]=b.useState(null),[l,u]=b.useState(!1),[h,f]=b.useState({cardNumber:"",cardName:"",expiryDate:"",cvv:"",postalCode:"",email:""}),[m,g]=b.useState({email:""}),[v,y]=b.useState({walletAddress:"",network:"ethereum"}),w=[{id:"credit",name:"Credit Card",iconSvg:c.jsxs("div",{style:{display:"flex",gap:"6px",alignItems:"center",justifyContent:"center"},children:[c.jsx("svg",{viewBox:"0 0 60 20",xmlns:"http://www.w3.org/2000/svg",style:{width:"38px",height:"13px"},children:c.jsx("text",{x:"30",y:"15",fontFamily:"Arial, sans-serif",fontSize:"14",fontWeight:"bold",fill:"white",textAnchor:"middle",fontStyle:"italic",children:"VISA"})}),c.jsxs("svg",{viewBox:"0 0 32 20",xmlns:"http://www.w3.org/2000/svg",style:{width:"28px",height:"18px"},children:[c.jsx("circle",{cx:"10",cy:"10",r:"8",fill:"white",opacity:"0.85"}),c.jsx("circle",{cx:"22",cy:"10",r:"8",fill:"white",opacity:"0.85"}),c.jsx("path",{d:"M16 4.5 A8 8 0 0 1 16 15.5 A8 8 0 0 0 16 4.5",fill:"white"})]}),c.jsxs("svg",{viewBox:"0 0 40 24",xmlns:"http://www.w3.org/2000/svg",style:{width:"32px",height:"19px"},children:[c.jsx("rect",{x:"1",y:"2",width:"38",height:"20",rx:"2",fill:"none",stroke:"white",strokeWidth:"1.5"}),c.jsx("text",{x:"20",y:"15",fontFamily:"Arial, sans-serif",fontSize:"10",fontWeight:"bold",fill:"white",textAnchor:"middle",children:"AMEX"})]})]})},{id:"debit",name:"Debit",iconSvg:c.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"center"},children:[c.jsx("svg",{viewBox:"0 0 60 20",xmlns:"http://www.w3.org/2000/svg",style:{width:"42px",height:"14px"},children:c.jsx("text",{x:"30",y:"15",fontFamily:"Arial, sans-serif",fontSize:"14",fontWeight:"bold",fill:"white",textAnchor:"middle",fontStyle:"italic",children:"VISA"})}),c.jsxs("svg",{viewBox:"0 0 32 20",xmlns:"http://www.w3.org/2000/svg",style:{width:"32px",height:"20px"},children:[c.jsx("circle",{cx:"10",cy:"10",r:"8",fill:"white",opacity:"0.85"}),c.jsx("circle",{cx:"22",cy:"10",r:"8",fill:"white",opacity:"0.85"}),c.jsx("path",{d:"M16 4.5 A8 8 0 0 1 16 15.5 A8 8 0 0 0 16 4.5",fill:"white"})]})]})},{id:"apple",name:"Apple Pay",iconSvg:c.jsx("svg",{viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg",style:{width:"40px",height:"40px"},children:c.jsx("path",{d:"M31.5 11.5c-1.3 1.4-3.4 2.5-5.4 2.3-.3-2.1.7-4.2 1.9-5.5 1.3-1.4 3.5-2.4 5.2-2.5.2 2.2-.6 4.3-1.7 5.7zm1.7 2.7c-2.9-.2-5.4 1.6-6.8 1.6-1.4 0-3.5-1.5-5.8-1.5-3 .1-5.8 1.8-7.3 4.5-3.1 5.4-.8 13.4 2.2 17.8 1.5 2.2 3.3 4.6 5.6 4.5 2.2-.1 3.1-1.4 5.8-1.4 2.6 0 3.5 1.4 5.8 1.4 2.4-.1 4-2.1 5.5-4.3 1.7-2.5 2.4-4.9 2.5-5-.1 0-4.7-1.8-4.8-7.1-.1-4.4 3.6-6.5 3.8-6.7-2.1-3-5.3-3.4-6.5-3.8z",fill:"white"})})},{id:"google",name:"Google Pay",iconSvg:c.jsx("svg",{viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg",style:{width:"40px",height:"40px"},children:c.jsx("path",{d:"M24.5 20.5v7.2h10c-.4 2.5-2.9 7.3-10 7.3-6 0-11-5-11-11s5-11 11-11c3.4 0 5.7 1.5 7 2.7l5.7-5.5C34 6.3 29.6 4 24.5 4c-11 0-20 9-20 20s9 20 20 20c11.5 0 19.2-8.1 19.2-19.5 0-1.3-.1-2.3-.3-3.3H24.5z",fill:"white"})})},{id:"paypal",name:"PayPal",iconSvg:c.jsxs("svg",{viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg",style:{width:"40px",height:"40px"},children:[c.jsx("path",{d:"M29.5 10h-10c-.7 0-1.3.5-1.4 1.2l-4 25c-.1.5.3 1 .8 1h4.5c.7 0 1.3-.5 1.4-1.2l1.1-6.8c.1-.7.7-1.2 1.4-1.2h3.2c6.6 0 10.4-3.2 11.4-9.5.4-2.7 0-4.9-1.4-6.4-1.5-1.5-4.1-2.1-7-2.1zm.9 9.4c-.5 3.5-3.2 3.5-5.8 3.5h-1.5l1-6.5c.1-.4.4-.7.8-.7h.7c1.9 0 3.6 0 4.5.9.5.5.7 1.3.3 2.8z",fill:"white"}),c.jsx("path",{d:"M16.5 10h-10c-.7 0-1.3.5-1.4 1.2l-4 25c-.1.5.3 1 .8 1h4.8c.5 0 .9-.3 1-.8l1.1-7c.1-.7.7-1.2 1.4-1.2h3.2c6.6 0 10.4-3.2 11.4-9.5.4-2.7 0-4.9-1.4-6.4-1.5-1.5-4.1-2.1-7-2.1zm.9 9.4c-.5 3.5-3.2 3.5-5.8 3.5h-1.5l1-6.5c.1-.4.4-.7.8-.7h.7c1.9 0 3.6 0 4.5.9.5.5.7 1.3.3 2.8z",fill:"white",opacity:"0.7"})]})},{id:"bitcoin",name:"Bitcoin",iconSvg:c.jsxs("svg",{viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg",style:{width:"40px",height:"40px"},children:[c.jsx("circle",{cx:"16",cy:"16",r:"15",fill:"none",stroke:"white",strokeWidth:"1.5"}),c.jsx("path",{d:"M23.189 14.02c.314-2.096-1.283-3.223-3.465-3.975l.708-2.84-1.728-.43-.69 2.765c-.454-.114-.92-.22-1.385-.326l.695-2.783L15.596 6l-.708 2.839c-.376-.086-.746-.17-1.104-.26l.002-.009-2.384-.595-.46 1.846s1.283.294 1.256.312c.7.175.826.638.805 1.006l-.806 3.235c.048.012.11.03.18.057l-.183-.045-1.13 4.532c-.086.212-.303.531-.793.41.018.025-1.256-.313-1.256-.313l-.858 1.978 2.25.561c.418.105.828.215 1.231.318l-.715 2.872 1.727.43.708-2.84c.472.127.93.245 1.378.357l-.706 2.828 1.728.43.715-2.866c2.948.558 5.164.333 6.097-2.333.752-2.146-.037-3.385-1.588-4.192 1.13-.26 1.98-1.003 2.207-2.538zm-3.95 5.538c-.533 2.147-4.148.986-5.32.695l.95-3.805c1.172.293 4.929.872 4.37 3.11zm.535-5.569c-.487 1.953-3.495.96-4.47.717l.86-3.45c.975.243 4.118.696 3.61 2.733z",fill:"white"})]})},{id:"ethereum",name:"Ethereum",iconSvg:c.jsxs("svg",{viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg",style:{width:"40px",height:"40px"},children:[c.jsx("circle",{cx:"16",cy:"16",r:"15",fill:"none",stroke:"white",strokeWidth:"1.5"}),c.jsx("path",{d:"M16 4L15.7 5.1v13.5l.3.3 6.5-3.8L16 4z",fill:"white",opacity:"0.6"}),c.jsx("path",{d:"M16 4l-6.5 11.1L16 18.9V4z",fill:"white"}),c.jsx("path",{d:"M16 20.5l-.2.2v5l.2.6 6.5-9.2-6.5 3.4z",fill:"white",opacity:"0.6"}),c.jsx("path",{d:"M16 26.3v-5.8l-6.5-3.4L16 26.3z",fill:"white"}),c.jsx("path",{d:"M16 18.9l6.5-3.8L16 11.3v7.6z",fill:"white",opacity:"0.2"}),c.jsx("path",{d:"M9.5 15.1l6.5 3.8v-7.6l-6.5 3.8z",fill:"white",opacity:"0.6"})]})},{id:"usdt",name:"Tether (USDT)",iconSvg:c.jsxs("svg",{viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg",style:{width:"40px",height:"40px"},children:[c.jsx("circle",{cx:"16",cy:"16",r:"14.5",fill:"none",stroke:"white",strokeWidth:"1.5"}),c.jsx("path",{d:"M17.2 13.5h-2.4v-2.4h6.9V9.3H10.3v1.8h6.9v2.4h-2.4c-3.5 0-6.3.5-6.3 1.2 0 .5 1.7.9 4.1 1.1v5.9h2.8v-5.9c2.4-.2 4.1-.6 4.1-1.1 0-.7-2.8-1.2-6.3-1.2zm0 1.9c-2.9 0-5.2-.4-5.2-.9s2.3-.9 5.2-.9 5.2.4 5.2.9-2.3.9-5.2.9z",fill:"white"})]})},{id:"usdc",name:"USD Coin (USDC)",iconSvg:c.jsxs("svg",{viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg",style:{width:"40px",height:"40px"},children:[c.jsx("circle",{cx:"16",cy:"16",r:"14.5",fill:"none",stroke:"white",strokeWidth:"1.5"}),c.jsx("path",{d:"M13.5 19.5c0 .8.7 1.5 1.5 1.5h2c.8 0 1.5-.7 1.5-1.5v-.3c0-.6-.3-1.1-.8-1.3l-3.4-1.4c-.5-.2-.8-.7-.8-1.3v-.3c0-.8.7-1.5 1.5-1.5h2c.8 0 1.5.7 1.5 1.5v.2h1.5v-.2c0-1.5-1.2-2.7-2.7-2.9V11h-1.6v1.1c-1.5.2-2.7 1.4-2.7 2.9v.3c0 1.1.6 2 1.5 2.4l3.4 1.4c.2.1.3.3.3.5v.3c0 .3-.2.5-.5.5h-2c-.3 0-.5-.2-.5-.5v-.4h-1.5v.4zm4.8 4.8c-.2.1-.5.1-.7.2-.2 0-.5.1-.7.1-.2 0-.5 0-.7-.1-.2 0-.5-.1-.7-.2",stroke:"white",strokeWidth:"0.8",fill:"none",strokeLinecap:"round"}),c.jsx("path",{d:"M18.3 24.3c2.7-.8 4.7-3.3 4.7-6.3",stroke:"white",strokeWidth:"0.8",fill:"none",strokeLinecap:"round"}),c.jsx("path",{d:"M13.7 7.7c-2.7.8-4.7 3.3-4.7 6.3",stroke:"white",strokeWidth:"0.8",fill:"none",strokeLinecap:"round"}),c.jsx("circle",{cx:"20",cy:"12",r:"1",fill:"white"}),c.jsx("circle",{cx:"12",cy:"20",r:"1",fill:"white"})]})}],_=r.reduce((I,V)=>I+V.price*V.quantity,0),k=r.reduce((I,V)=>V.category==="Consultation"?I:I+V.price*V.quantity,0)*.1,P=_+k,C=(I,V)=>{if(V<1)return;const z=r.map(J=>J.name===I?{...J,quantity:V}:J);i(z),localStorage.setItem("cartItems",JSON.stringify(z)),window.dispatchEvent(new Event("cartUpdated"))},N=I=>{const V=r.filter(z=>z.name!==I);i(V),localStorage.setItem("cartItems",JSON.stringify(V)),window.dispatchEvent(new Event("cartUpdated"))},T=No(),{user:M,isAuthenticated:E}=ea(),[$,q]=b.useState(!1),U=async()=>{if(!E){T("/login",{state:{from:{pathname:"/cart"}}});return}q(!0);try{const V=r.some(G=>G.duration==="Monthly"||G.duration==="3 Months"||G.duration==="1 Year")?"subscription":"payment",{sessionId:z,url:J}=await WT.createCheckoutSession({cartItems:r,userId:M.id,userEmail:M.email,mode:V});J&&(window.location.href=J)}catch(I){console.error("Checkout error:",I),alert("Failed to create checkout session. Please try again.")}finally{q(!1)}},R=I=>{a(I)},se=I=>{I.preventDefault();const V=r.filter(J=>J.category==="Consultation");if(V.length>0){const J=JSON.parse(localStorage.getItem("bookedSlots")||"[]");V.forEach(G=>{if(G.details){const je=new Date(G.details.date).toISOString().split("T")[0],ve=G.details.time,[he,be]=ve.split(" "),[ge,ye]=he.split(":").map(Number);let ct=ge;be==="PM"&&ge!==12&&(ct+=12),be==="AM"&&ge===12&&(ct=0);const W=`${ct.toString().padStart(2,"0")}:${ye.toString().padStart(2,"0")}`;J.push({date:je,time24:W,time12:ve,duration:parseInt(G.details.duration),bookedAt:new Date().toISOString()})}}),localStorage.setItem("bookedSlots",JSON.stringify(J))}const z=s==="paypal"?m.email:h.email;i([]),localStorage.setItem("cartItems",JSON.stringify([])),window.dispatchEvent(new Event("cartUpdated")),alert(`Payment successful! Your order has been confirmed.

A receipt has been sent to ${z}`),u(!1),f({cardNumber:"",cardName:"",expiryDate:"",cvv:"",postalCode:"",email:""}),g({email:""}),y({walletAddress:""})},Y=()=>{switch(s){case"credit":case"debit":return`Pay ${e(P)}`;case"apple":return"Continue with Apple Pay";case"google":return"Continue with Google Pay";case"paypal":return"Continue to PayPal";case"bitcoin":case"ethereum":case"usdt":case"usdc":return"Confirm Payment";default:return"Complete Payment"}},oe=()=>{switch(s){case"credit":case"debit":return c.jsxs("form",{className:"payment-form",onSubmit:se,children:[c.jsx("h3",{children:"Card Information"}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Card Number"}),c.jsx("input",{type:"text",placeholder:"1234 5678 9012 3456",value:h.cardNumber,onChange:I=>f({...h,cardNumber:I.target.value}),maxLength:"19",required:!0})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Cardholder Name"}),c.jsx("input",{type:"text",placeholder:"John Doe",value:h.cardName,onChange:I=>f({...h,cardName:I.target.value}),required:!0})]}),c.jsxs("div",{className:"form-row",children:[c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Expiry Date"}),c.jsx("input",{type:"text",placeholder:"MM/YY",value:h.expiryDate,onChange:I=>f({...h,expiryDate:I.target.value}),maxLength:"5",required:!0})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"CVV"}),c.jsx("input",{type:"text",placeholder:"123",value:h.cvv,onChange:I=>f({...h,cvv:I.target.value}),maxLength:"4",required:!0})]})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Postal Code / Zip Code"}),c.jsx("input",{type:"text",placeholder:"12345 or A1B 2C3",value:h.postalCode,onChange:I=>f({...h,postalCode:I.target.value}),maxLength:"10",required:!0})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Email Address"}),c.jsx("input",{type:"email",placeholder:"your.email@example.com",value:h.email,onChange:I=>f({...h,email:I.target.value}),required:!0})]})]});case"apple":case"google":return c.jsxs("form",{className:"payment-form",onSubmit:se,children:[c.jsx("h3",{children:s==="apple"?"Apple Pay":"Google Pay"}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Email Address"}),c.jsx("input",{type:"email",placeholder:"your.email@example.com",value:h.email,onChange:I=>f({...h,email:I.target.value}),required:!0})]}),c.jsxs("p",{className:"payment-info",children:["You will be redirected to ",s==="apple"?"Apple Pay":"Google Pay"," to complete your purchase."]})]});case"paypal":return c.jsxs("form",{className:"payment-form",onSubmit:se,children:[c.jsx("h3",{children:"PayPal Payment"}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"PayPal Email"}),c.jsx("input",{type:"email",placeholder:"your.email@example.com",value:m.email,onChange:I=>g({...m,email:I.target.value}),required:!0})]}),c.jsx("p",{className:"payment-info",children:"You will be redirected to PayPal to complete your purchase."})]});case"bitcoin":case"ethereum":case"usdt":case"usdc":return c.jsxs("form",{className:"payment-form",onSubmit:se,children:[c.jsxs("h3",{children:[s==="bitcoin"?"Bitcoin":s==="ethereum"?"Ethereum":s==="usdt"?"Tether (USDT)":"USD Coin (USDC)"," Payment"]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Email Address"}),c.jsx("input",{type:"email",placeholder:"your.email@example.com",value:h.email,onChange:I=>f({...h,email:I.target.value}),required:!0})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Your Wallet Address"}),c.jsx("input",{type:"text",placeholder:s==="bitcoin"?"bc1q...":"0x...",value:v.walletAddress,onChange:I=>y({...v,walletAddress:I.target.value}),required:!0})]}),c.jsxs("div",{className:"crypto-info",children:[c.jsx("p",{children:c.jsx("strong",{children:"Amount to Send:"})}),c.jsx("p",{className:"crypto-amount",children:s==="bitcoin"?`${(P/45e3).toFixed(8)} BTC`:s==="ethereum"?`${(P/2500).toFixed(6)} ETH`:`${t(P)} ${s==="usdt"?"USDT":"USDC"}`}),c.jsxs("p",{className:"crypto-note",children:["Send exact amount to: ",c.jsx("br",{}),c.jsx("code",{children:s==="bitcoin"?"bc1qxy2kgdygjrsqtzq2n0yrf2493p83kkfjhx0wlh":"0x742d35Cc6634C0532925a3b844Bc454e4438f44e"})]}),(s==="usdt"||s==="usdc")&&c.jsxs("p",{className:"crypto-note",style:{marginTop:"1rem"},children:[c.jsx("strong",{children:"Network:"})," ERC-20 (Ethereum)",s==="usdt"?" or TRC-20 (Tron)":""]})]})]});default:return null}};return c.jsxs("div",{className:"landing-container pt-24 pb-20 min-h-screen relative overflow-hidden",children:[c.jsxs("div",{className:"absolute top-0 left-0 w-full h-full overflow-hidden pointer-events-none",children:[c.jsx("div",{className:"absolute top-[-10%] left-[20%] w-[40%] h-[40%] bg-[#5227FF]/20 rounded-full blur-[100px] animate-pulse"}),c.jsx("div",{className:"absolute bottom-[-10%] right-[10%] w-[40%] h-[40%] bg-[#22d3ee]/20 rounded-full blur-[100px] animate-pulse delay-1000"})]}),c.jsx("div",{className:"page-content cart-content relative z-10 max-w-6xl mx-auto px-6",children:c.jsxs(Ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:[c.jsx("h1",{className:"text-4xl font-bold text-white mb-8",children:"Shopping Cart"}),l?c.jsxs(Ne.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.5},className:"checkout-container bg-white/5 backdrop-blur-xl border border-white/10 rounded-2xl p-6 md:p-8 shadow-2xl",children:[c.jsx("button",{className:"back-to-cart text-slate-400 hover:text-white mb-6 flex items-center gap-2 transition-colors",onClick:()=>u(!1),children:"â† Back to Cart"}),c.jsxs("div",{className:"checkout-content",children:[c.jsxs("div",{className:"payment-methods mb-8",children:[c.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Select Payment Method"}),c.jsx("div",{className:"payment-grid grid grid-cols-2 md:grid-cols-3 gap-3",children:w.map(I=>c.jsxs("button",{className:`payment-method-btn p-4 rounded-xl border transition-all flex flex-col items-center justify-center gap-2 h-24 ${s===I.id?"bg-[#5227FF]/20 border-[#5227FF] shadow-[0_0_15px_rgba(82,39,255,0.3)]":"bg-black/20 border-white/10 hover:bg-white/5 hover:border-white/20"}`,onClick:()=>R(I.id),children:[c.jsx("span",{className:"payment-icon scale-90",children:I.iconSvg?I.iconSvg:I.icon}),c.jsx("span",{className:"payment-name text-xs md:text-sm text-slate-300 font-medium",children:I.name})]},I.id))})]}),s&&c.jsx("div",{className:"payment-form-container bg-black/20 border border-white/5 rounded-xl p-6 mb-8",children:oe()}),c.jsxs("div",{className:"checkout-summary border-t border-white/10 pt-6",children:[c.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Order Summary"}),c.jsx("div",{className:"checkout-totals space-y-2 mb-6",children:c.jsxs("div",{className:"flex justify-between items-center text-xl font-bold text-white pt-4 border-t border-white/10",children:[c.jsx("span",{children:"Total:"}),c.jsx("span",{className:"text-cyan-400",children:e(P)})]})}),s&&c.jsx("button",{onClick:se,className:"submit-payment-btn w-full bg-gradient-to-r from-[#22d3ee] to-[#5227FF] hover:from-[#1cb5d0] hover:to-[#4319cc] text-white font-bold py-4 rounded-xl text-lg shadow-lg shadow-cyan-500/20 transition-all transform hover:scale-[1.01]",children:Y()})]})]})]}):c.jsx(Ne.div,{initial:{opacity:0,scale:.98},animate:{opacity:1,scale:1},transition:{duration:.5,delay:.1},className:"cart-container bg-white/5 backdrop-blur-xl border border-white/10 rounded-2xl p-6 md:p-8 shadow-2xl",children:r.length===0?c.jsxs("div",{className:"text-center py-12",children:[c.jsx("p",{className:"text-slate-400 text-lg",children:"Your cart is empty"}),c.jsx("button",{onClick:()=>T("/pricing"),className:"mt-4 px-6 py-2 bg-[#5227FF] text-white rounded-lg hover:bg-[#4319cc] transition-colors",children:"Browse Plans"})]}):c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"cart-items space-y-4 mb-8",children:r.map(I=>c.jsxs("div",{className:"cart-item bg-black/20 border border-white/5 rounded-xl p-4 flex flex-col md:flex-row justify-between items-center gap-4",children:[c.jsxs("div",{className:"item-info flex-1",children:[c.jsx("h3",{className:"text-xl font-semibold text-white",children:I.name}),I.category&&c.jsx("p",{className:"text-slate-400 text-sm",children:I.category}),I.duration&&c.jsxs("p",{className:"item-duration text-cyan-400 text-sm mt-1",children:[c.jsx("strong",{children:"Duration:"})," ",I.duration]})]}),c.jsxs("div",{className:"item-controls flex items-center gap-6",children:[c.jsxs("div",{className:"quantity-control flex items-center bg-black/40 rounded-lg p-1 border border-white/10",children:[c.jsx("button",{onClick:()=>C(I.name,I.quantity-1),className:"px-3 py-1 text-slate-300 hover:text-white",children:"-"}),c.jsx("span",{className:"px-2 text-white font-mono",children:I.quantity}),c.jsx("button",{onClick:()=>C(I.name,I.quantity+1),className:"px-3 py-1 text-slate-300 hover:text-white",children:"+"})]}),c.jsx("div",{className:"item-price text-xl font-bold text-white min-w-[100px] text-right",children:e(I.price*I.quantity)}),c.jsx("button",{className:"remove-btn text-slate-500 hover:text-red-400 transition-colors",onClick:()=>N(I.name),children:"Ã—"})]})]},I.name))}),c.jsxs("div",{className:"cart-summary border-t border-white/10 pt-6",children:[c.jsxs("div",{className:"flex justify-between items-center mb-2 text-slate-300",children:[c.jsx("span",{children:"Subtotal:"}),c.jsx("span",{children:e(_)})]}),c.jsxs("div",{className:"flex justify-between items-center mb-4 text-slate-300",children:[c.jsx("span",{children:"Tax (10%):"}),c.jsx("span",{children:e(k)})]}),c.jsxs("div",{className:"flex justify-between items-center mb-8 text-2xl font-bold text-white",children:[c.jsx("span",{children:"Total:"}),c.jsx("span",{className:"text-cyan-400",children:e(P)})]}),c.jsx("button",{className:"checkout-btn w-full bg-gradient-to-r from-[#5227FF] to-[#c084fc] hover:from-[#4319cc] hover:to-[#a960e6] text-white font-bold py-4 rounded-xl text-lg shadow-lg shadow-[#5227FF]/20 transition-all transform hover:scale-[1.01] active:scale-[0.99]",onClick:U,disabled:$,children:$?"Redirecting to Checkout...":"Proceed to Checkout"})]})]})})]})})]})}function Tee(){const[e,t]=b.useState({name:"",email:"",company:"",message:""}),n=i=>{t({...e,[i.target.name]:i.target.value})},r=i=>{i.preventDefault(),console.log("Form submitted:",e),alert("Thank you for contacting us! We will get back to you soon."),t({name:"",email:"",company:"",message:""})};return c.jsxs("div",{className:"landing-container pt-24 pb-20 min-h-screen relative overflow-hidden",children:[c.jsxs("div",{className:"absolute top-0 left-0 w-full h-full overflow-hidden pointer-events-none",children:[c.jsx("div",{className:"absolute top-[-10%] right-[-10%] w-[50%] h-[50%] bg-[#5227FF]/20 rounded-full blur-[100px] animate-pulse"}),c.jsx("div",{className:"absolute bottom-[-10%] left-[-10%] w-[50%] h-[50%] bg-[#c084fc]/20 rounded-full blur-[100px] animate-pulse delay-700"})]}),c.jsxs("div",{className:"page-content relative z-10 max-w-4xl mx-auto px-6",children:[c.jsxs(Ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center mb-12",children:[c.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-white mb-4",children:"Get in Touch"}),c.jsx("p",{className:"text-slate-400 text-lg max-w-2xl mx-auto",children:"Ready to transform your logistics? Our team is here to help you navigate the future of supply chain management."})]}),c.jsx(Ne.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.5,delay:.2},className:"bg-white/5 backdrop-blur-xl border border-white/10 rounded-2xl p-8 md:p-10 shadow-2xl",children:c.jsxs("form",{className:"space-y-6",onSubmit:r,children:[c.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{htmlFor:"name",className:"text-sm font-medium text-slate-300",children:"Name *"}),c.jsx("input",{type:"text",id:"name",name:"name",value:e.name,onChange:n,required:!0,className:"w-full bg-black/20 border border-white/10 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-[#5227FF] focus:bg-black/40 transition-all",placeholder:"Your full name"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{htmlFor:"email",className:"text-sm font-medium text-slate-300",children:"Email *"}),c.jsx("input",{type:"email",id:"email",name:"email",value:e.email,onChange:n,required:!0,className:"w-full bg-black/20 border border-white/10 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-[#5227FF] focus:bg-black/40 transition-all",placeholder:"your.email@example.com"})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{htmlFor:"company",className:"text-sm font-medium text-slate-300",children:"Company"}),c.jsx("input",{type:"text",id:"company",name:"company",value:e.company,onChange:n,className:"w-full bg-black/20 border border-white/10 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-[#5227FF] focus:bg-black/40 transition-all",placeholder:"Your company name (optional)"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{htmlFor:"message",className:"text-sm font-medium text-slate-300",children:"Message *"}),c.jsx("textarea",{id:"message",name:"message",value:e.message,onChange:n,required:!0,rows:"6",className:"w-full bg-black/20 border border-white/10 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-[#5227FF] focus:bg-black/40 transition-all resize-none",placeholder:"Tell us about your project or inquiry..."})]}),c.jsx("button",{type:"submit",className:"w-full bg-gradient-to-r from-[#5227FF] to-[#22d3ee] hover:from-[#4319cc] hover:to-[#1cb5d0] text-white font-bold py-4 rounded-lg transition-all transform hover:scale-[1.01] active:scale-[0.99] shadow-lg shadow-[#5227FF]/20",children:"Send Message"})]})})]})]})}function Nee(){const e=No(),{register:t}=ea(),[n,r]=b.useState({username:"",email:"",password:"",confirmPassword:"",terms:!1}),[i,s]=b.useState(!1),[a,l]=b.useState(null),u=f=>{const{name:m,type:g,value:v,checked:y}=f.target;r(w=>({...w,[m]:g==="checkbox"?y:v})),l(null)},h=async f=>{var m;if(f.preventDefault(),l(null),n.password!==n.confirmPassword){l("Passwords do not match!");return}if(!n.terms){l("Please agree to the terms and conditions.");return}s(!0);try{await t(n.username.trim(),n.email.trim(),n.password,n.terms),e("/",{replace:!0})}catch(g){l(g.message||((m=g.data)==null?void 0:m.message)||"Something went wrong. Please try again.")}finally{s(!1)}};return c.jsxs("div",{className:"landing-container pt-24 pb-20 flex items-center justify-center min-h-screen relative overflow-hidden",children:[c.jsxs("div",{className:"absolute top-0 left-0 w-full h-full overflow-hidden pointer-events-none",children:[c.jsx("div",{className:"absolute top-[-10%] right-[-10%] w-[50%] h-[50%] bg-[#5227FF]/20 rounded-full blur-[100px] animate-pulse"}),c.jsx("div",{className:"absolute bottom-[-10%] left-[-10%] w-[50%] h-[50%] bg-[#22d3ee]/20 rounded-full blur-[100px] animate-pulse delay-700"})]}),c.jsxs("div",{className:"page-content w-full max-w-md relative z-10 px-6",children:[c.jsxs(Ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center mb-8",children:[c.jsx("h1",{className:"text-4xl font-bold text-white mb-2",children:"Create Account"}),c.jsx("p",{className:"text-slate-400",children:"Join Gasper today and start shipping smarter."})]}),c.jsx(Ne.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.5,delay:.2},className:"bg-white/5 backdrop-blur-xl border border-white/10 rounded-2xl p-8 shadow-2xl",children:c.jsxs("form",{onSubmit:h,className:"space-y-4",children:[a&&c.jsx("div",{className:"p-3 bg-red-500/10 border border-red-500/20 rounded-lg text-red-400 text-sm text-center",children:a}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{htmlFor:"username",className:"text-sm font-medium text-slate-300",children:"Username"}),c.jsx("input",{type:"text",id:"username",name:"username",value:n.username,onChange:u,required:!0,className:"w-full bg-black/20 border border-white/10 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-[#5227FF] focus:bg-black/40 transition-all",placeholder:"Choose a unique username"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{htmlFor:"email",className:"text-sm font-medium text-slate-300",children:"Email Address"}),c.jsx("input",{type:"email",id:"email",name:"email",value:n.email,onChange:u,required:!0,className:"w-full bg-black/20 border border-white/10 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-[#5227FF] focus:bg-black/40 transition-all",placeholder:"Enter your email"})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{htmlFor:"password",className:"text-sm font-medium text-slate-300",children:"Password"}),c.jsx("input",{type:"password",id:"password",name:"password",value:n.password,onChange:u,required:!0,minLength:8,className:"w-full bg-black/20 border border-white/10 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-[#5227FF] focus:bg-black/40 transition-all",placeholder:"â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{htmlFor:"confirmPassword",className:"text-sm font-medium text-slate-300",children:"Confirm"}),c.jsx("input",{type:"password",id:"confirmPassword",name:"confirmPassword",value:n.confirmPassword,onChange:u,required:!0,minLength:8,className:"w-full bg-black/20 border border-white/10 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-[#5227FF] focus:bg-black/40 transition-all",placeholder:"â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢"})]})]}),c.jsxs("div",{className:"flex items-center gap-3 pt-2",children:[c.jsx("input",{type:"checkbox",name:"terms",checked:n.terms,onChange:u,className:"w-4 h-4 rounded border-white/10 bg-black/20 text-[#5227FF] focus:ring-[#5227FF]",id:"terms"}),c.jsxs("label",{htmlFor:"terms",className:"text-sm text-slate-400 select-none cursor-pointer",children:["I agree to the ",c.jsx("span",{className:"text-white hover:underline",children:"Terms"})," and ",c.jsx("span",{className:"text-white hover:underline",children:"Conditions"})]})]}),c.jsx("button",{type:"submit",disabled:i,className:"w-full bg-gradient-to-r from-[#5227FF] to-[#c084fc] hover:from-[#4319cc] hover:to-[#a960e6] text-white font-bold py-3 rounded-lg transition-all transform hover:scale-[1.02] active:scale-[0.98] disabled:opacity-50 disabled:cursor-not-allowed shadow-lg shadow-[#5227FF]/20 mt-4",children:i?"Creating account...":"Create Account"}),c.jsxs("p",{className:"text-center text-slate-400 text-sm mt-4",children:["Already have an account? ",c.jsx(yt,{to:"/login",className:"text-[#22d3ee] hover:text-[#5227FF] transition-colors font-medium",children:"Sign in"})]})]})})]})]})}function Oee(){const e=No(),t=ju(),{login:n}=ea(),[r,i]=b.useState({usernameOrEmail:"",password:""}),[s,a]=b.useState(!1),[l,u]=b.useState(null),h=m=>{i({...r,[m.target.name]:m.target.value}),u(null)},f=async m=>{var g,v;m.preventDefault(),u(null),a(!0);try{await n(r.usernameOrEmail.trim(),r.password);const y=((v=(g=t.state)==null?void 0:g.from)==null?void 0:v.pathname)||"/";e(y,{replace:!0})}catch(y){u(y.message||"Invalid username/email or password.")}finally{a(!1)}};return c.jsxs("div",{className:"landing-container pt-24 pb-20 flex items-center justify-center min-h-screen relative overflow-hidden",children:[c.jsxs("div",{className:"absolute top-0 left-0 w-full h-full overflow-hidden pointer-events-none",children:[c.jsx("div",{className:"absolute top-[-10%] left-[-10%] w-[50%] h-[50%] bg-[#5227FF]/20 rounded-full blur-[100px] animate-pulse"}),c.jsx("div",{className:"absolute bottom-[-10%] right-[-10%] w-[50%] h-[50%] bg-[#22d3ee]/20 rounded-full blur-[100px] animate-pulse delay-1000"})]}),c.jsxs("div",{className:"page-content w-full max-w-md relative z-10 px-6",children:[c.jsxs(Ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center mb-8",children:[c.jsx("h1",{className:"text-4xl font-bold text-white mb-2",children:"Welcome Back"}),c.jsx("p",{className:"text-slate-400",children:"Sign in to access your dashboard"})]}),c.jsx(Ne.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.5,delay:.2},className:"bg-white/5 backdrop-blur-xl border border-white/10 rounded-2xl p-8 shadow-2xl",children:c.jsxs("form",{onSubmit:f,className:"space-y-6",children:[l&&c.jsx("div",{className:"p-3 bg-red-500/10 border border-red-500/20 rounded-lg text-red-400 text-sm text-center",children:l}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{htmlFor:"usernameOrEmail",className:"text-sm font-medium text-slate-300",children:"Username or Email"}),c.jsx("input",{type:"text",id:"usernameOrEmail",name:"usernameOrEmail",value:r.usernameOrEmail,onChange:h,required:!0,className:"w-full bg-black/20 border border-white/10 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-[#5227FF] focus:bg-black/40 transition-all",placeholder:"Enter your username"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{htmlFor:"password",className:"text-sm font-medium text-slate-300",children:"Password"}),c.jsx("input",{type:"password",id:"password",name:"password",value:r.password,onChange:h,required:!0,className:"w-full bg-black/20 border border-white/10 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-[#5227FF] focus:bg-black/40 transition-all",placeholder:"â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢"})]}),c.jsx("button",{type:"submit",disabled:s,className:"w-full bg-gradient-to-r from-[#5227FF] to-[#c084fc] hover:from-[#4319cc] hover:to-[#a960e6] text-white font-bold py-3 rounded-lg transition-all transform hover:scale-[1.02] active:scale-[0.98] disabled:opacity-50 disabled:cursor-not-allowed shadow-lg shadow-[#5227FF]/20",children:s?"Signing in...":"Sign In"}),c.jsxs("p",{className:"text-center text-slate-400 text-sm",children:["Don't have an account? ",c.jsx(yt,{to:"/account",className:"text-[#22d3ee] hover:text-[#5227FF] transition-colors font-medium",children:"Create one"})]})]})})]})]})}function Eee(){const{user:e,updateUser:t}=ea(),[n,r]=b.useState({username:(e==null?void 0:e.username)||"",email:(e==null?void 0:e.email)||""}),[i,s]=b.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[a,l]=b.useState({billing:{street:"",city:"",state:"",zip:"",country:"United States"},shipping:{street:"",city:"",state:"",zip:"",country:"United States"},sameAsBilling:!1}),[u,h]=b.useState([]),[f,m]=b.useState([]),[g,v]=b.useState(!1),[y,w]=b.useState(!1),[_,j]=b.useState(null),[k,P]=b.useState(null);b.useEffect(()=>{e&&(r({username:e.username,email:e.email}),C(),N())},[e]);const C=async()=>{try{const I=await ki.getAddresses();(I.billing||I.shipping)&&l({billing:I.billing||a.billing,shipping:I.shipping||a.shipping,sameAsBilling:!1})}catch(I){console.error("Failed to load addresses:",I)}},N=async()=>{try{const I=await ki.getSubscriptions("active"),V=await ki.getSubscriptions("cancelled");h(I||[]),m(V||[])}catch(I){console.error("Failed to load subscriptions:",I)}},T=I=>{r({...n,[I.target.name]:I.target.value}),j(null),P(null)},M=I=>{s({...i,[I.target.name]:I.target.value}),j(null),P(null)},E=(I,V,z)=>{l({...a,[I]:{...a[I],[V]:z}}),j(null),P(null)},$=I=>{const V=I.target.checked;l({...a,sameAsBilling:V,shipping:V?{...a.billing}:a.shipping})},q=async I=>{I.preventDefault(),j(null),P(null),v(!0);try{const V=await ki.updateProfile({username:n.username.trim(),email:n.email.trim()});t(V),P("Profile updated successfully!")}catch(V){j(V.message||"Failed to update profile")}finally{v(!1)}},U=async I=>{if(I.preventDefault(),j(null),P(null),i.newPassword!==i.confirmPassword){j("New passwords do not match!");return}if(i.newPassword.length<8){j("Password must be at least 8 characters long");return}v(!0);try{await ki.updatePassword({currentPassword:i.currentPassword,newPassword:i.newPassword}),P("Password updated successfully!"),s({currentPassword:"",newPassword:"",confirmPassword:""})}catch(V){j(V.message||"Failed to update password")}finally{v(!1)}},R=async I=>{I.preventDefault(),j(null),P(null),v(!0);try{await ki.updateAddresses({billing:a.billing,shipping:a.sameAsBilling?a.billing:a.shipping}),P("Addresses updated successfully!")}catch(V){j(V.message||"Failed to update addresses")}finally{v(!1)}},se=async I=>{if(confirm("Are you sure you want to cancel this subscription?"))try{await ki.cancelSubscription(I),P("Subscription cancelled successfully!"),N()}catch(V){j(V.message||"Failed to cancel subscription")}},Y=async()=>{w(!0),j(null);try{const I=u[0];if(!I||!I.stripe_customer_id){j("No billing information found. Please contact support.");return}const{url:V}=await WT.createPortalSession(I.stripe_customer_id);V&&(window.location.href=V)}catch(I){console.error("Portal error:",I),j("Failed to open billing portal. Please try again.")}finally{w(!1)}},oe=I=>new Date(I).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"});return c.jsx("div",{className:"landing-container pt-24 pb-20",children:c.jsxs("div",{className:"page-content",children:[c.jsx("h1",{className:"page-title text-white",children:"Account Settings"}),c.jsxs("div",{className:"account-form-wrapper",children:[_&&c.jsx("div",{className:"form-error",role:"alert",children:_}),k&&c.jsx("div",{className:"form-success",role:"alert",children:k}),c.jsxs("form",{onSubmit:q,className:"account-form",children:[c.jsx("h2",{className:"form-section-title",children:"Profile Information"}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"username",children:"Username"}),c.jsx("input",{type:"text",id:"username",name:"username",value:n.username,onChange:T,required:!0,placeholder:"Your username",autoComplete:"username"})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"email",children:"Email Address"}),c.jsx("input",{type:"email",id:"email",name:"email",value:n.email,onChange:T,required:!0,placeholder:"Your email",autoComplete:"email"})]}),c.jsx("button",{type:"submit",className:"submit-btn",disabled:g,children:g?"Saving...":"Save Profile"})]}),c.jsxs("form",{onSubmit:R,className:"account-form",style:{marginTop:"2rem"},children:[c.jsx("h2",{className:"form-section-title",children:"Billing Address"}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"billing-street",children:"Street Address"}),c.jsx("input",{type:"text",id:"billing-street",value:a.billing.street,onChange:I=>E("billing","street",I.target.value),placeholder:"123 Main St"})]}),c.jsxs("div",{className:"form-row",children:[c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"billing-city",children:"City"}),c.jsx("input",{type:"text",id:"billing-city",value:a.billing.city,onChange:I=>E("billing","city",I.target.value),placeholder:"City"})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"billing-state",children:"State"}),c.jsx("input",{type:"text",id:"billing-state",value:a.billing.state,onChange:I=>E("billing","state",I.target.value),placeholder:"State"})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"billing-zip",children:"ZIP Code"}),c.jsx("input",{type:"text",id:"billing-zip",value:a.billing.zip,onChange:I=>E("billing","zip",I.target.value),placeholder:"12345"})]})]}),c.jsx("h2",{className:"form-section-title",style:{marginTop:"2rem"},children:"Shipping Address"}),c.jsx("div",{className:"form-group",children:c.jsxs("label",{className:"checkbox-label",children:[c.jsx("input",{type:"checkbox",checked:a.sameAsBilling,onChange:$}),c.jsx("span",{children:"Same as billing address"})]})}),!a.sameAsBilling&&c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"shipping-street",children:"Street Address"}),c.jsx("input",{type:"text",id:"shipping-street",value:a.shipping.street,onChange:I=>E("shipping","street",I.target.value),placeholder:"123 Main St"})]}),c.jsxs("div",{className:"form-row",children:[c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"shipping-city",children:"City"}),c.jsx("input",{type:"text",id:"shipping-city",value:a.shipping.city,onChange:I=>E("shipping","city",I.target.value),placeholder:"City"})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"shipping-state",children:"State"}),c.jsx("input",{type:"text",id:"shipping-state",value:a.shipping.state,onChange:I=>E("shipping","state",I.target.value),placeholder:"State"})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"shipping-zip",children:"ZIP Code"}),c.jsx("input",{type:"text",id:"shipping-zip",value:a.shipping.zip,onChange:I=>E("shipping","zip",I.target.value),placeholder:"12345"})]})]})]}),c.jsx("button",{type:"submit",className:"submit-btn",disabled:g,children:g?"Saving...":"Save Addresses"})]}),c.jsxs("div",{className:"subscriptions-section",style:{marginTop:"2rem"},children:[c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[c.jsx("h2",{className:"form-section-title",style:{margin:0},children:"Current Subscriptions"}),u.length>0&&c.jsx("button",{onClick:Y,disabled:y,className:"submit-btn",style:{padding:"0.5rem 1.5rem",fontSize:"0.9rem",background:"linear-gradient(135deg, #5227FF, #B19EEF)"},children:y?"Loading...":"ðŸ’³ Manage Billing"})]}),u.length===0?c.jsx("p",{className:"no-subscriptions",children:"You don't have any active subscriptions yet."}):c.jsx("div",{className:"subscriptions-grid",children:u.map(I=>c.jsxs("div",{className:"subscription-card",children:[c.jsxs("div",{className:"subscription-header",children:[c.jsx("h3",{children:I.packageName}),c.jsx("span",{className:"subscription-tier",children:I.tier})]}),c.jsxs("div",{className:"subscription-details",children:[c.jsxs("p",{children:[c.jsx("strong",{children:"Duration:"})," ",I.duration]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Price:"})," $",I.price]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Started:"})," ",oe(I.startDate)]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Next Billing:"})," ",oe(I.nextBillingDate)]})]}),c.jsx("button",{className:"cancel-btn",onClick:()=>se(I.id),children:"Cancel Subscription"})]},I.id))})]}),f.length>0&&c.jsxs("div",{className:"subscriptions-section",style:{marginTop:"2rem"},children:[c.jsx("h2",{className:"form-section-title",children:"Past Subscriptions"}),c.jsx("div",{className:"subscriptions-grid",children:f.map(I=>c.jsxs("div",{className:"subscription-card cancelled",children:[c.jsxs("div",{className:"subscription-header",children:[c.jsx("h3",{children:I.packageName}),c.jsx("span",{className:"subscription-tier cancelled",children:I.tier})]}),c.jsxs("div",{className:"subscription-details",children:[c.jsxs("p",{children:[c.jsx("strong",{children:"Duration:"})," ",I.duration]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Price:"})," $",I.price]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Started:"})," ",oe(I.startDate)]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Cancelled:"})," ",oe(I.cancelledAt)]})]})]},I.id))})]}),c.jsxs("form",{onSubmit:U,className:"account-form",style:{marginTop:"2rem"},children:[c.jsx("h2",{className:"form-section-title",children:"Change Password"}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"currentPassword",children:"Current Password"}),c.jsx("input",{type:"password",id:"currentPassword",name:"currentPassword",value:i.currentPassword,onChange:M,required:!0,placeholder:"Enter current password",autoComplete:"current-password"})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"newPassword",children:"New Password"}),c.jsx("input",{type:"password",id:"newPassword",name:"newPassword",value:i.newPassword,onChange:M,required:!0,placeholder:"Enter new password",minLength:8,autoComplete:"new-password"})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"confirmPassword",children:"Confirm New Password"}),c.jsx("input",{type:"password",id:"confirmPassword",name:"confirmPassword",value:i.confirmPassword,onChange:M,required:!0,placeholder:"Confirm new password",minLength:8,autoComplete:"new-password"})]}),c.jsx("button",{type:"submit",className:"submit-btn",disabled:g,children:g?"Updating...":"Update Password"})]})]})]})})}function Mee(){const e=No(),[t]=xO(),n=t.get("session_id");return b.useEffect(()=>{localStorage.setItem("cartItems",JSON.stringify([])),window.dispatchEvent(new Event("cartUpdated"))},[]),c.jsx("div",{className:"landing-container pt-24 pb-20",children:c.jsx("div",{className:"page-content",style:{textAlign:"center",maxWidth:"600px",margin:"0 auto"},children:c.jsxs("div",{style:{background:"rgba(255, 255, 255, 0.05)",backdropFilter:"blur(20px)",border:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"20px",padding:"3rem 2rem",marginTop:"2rem"},children:[c.jsx("div",{style:{fontSize:"4rem",marginBottom:"1rem"},children:"âœ“"}),c.jsx("h1",{className:"page-title",style:{marginBottom:"1rem"},children:"Payment Successful!"}),c.jsx("p",{style:{fontSize:"1.1rem",marginBottom:"2rem",opacity:.9},children:"Thank you for your purchase. Your order has been confirmed and you'll receive a confirmation email shortly."}),n&&c.jsxs("p",{style:{fontSize:"0.9rem",opacity:.7,marginBottom:"2rem"},children:["Session ID: ",n.substring(0,20),"..."]}),c.jsxs("div",{style:{display:"flex",gap:"1rem",justifyContent:"center",flexWrap:"wrap"},children:[c.jsx("button",{onClick:()=>e("/settings"),style:{padding:"0.75rem 2rem",background:"linear-gradient(135deg, #5227FF, #B19EEF)",border:"none",borderRadius:"10px",color:"white",fontSize:"1rem",fontWeight:"600",cursor:"pointer",transition:"transform 0.2s"},onMouseEnter:r=>r.target.style.transform="scale(1.05)",onMouseLeave:r=>r.target.style.transform="scale(1)",children:"View My Account"}),c.jsx("button",{onClick:()=>e("/"),style:{padding:"0.75rem 2rem",background:"rgba(255, 255, 255, 0.1)",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"10px",color:"white",fontSize:"1rem",fontWeight:"600",cursor:"pointer",transition:"transform 0.2s"},onMouseEnter:r=>r.target.style.transform="scale(1.05)",onMouseLeave:r=>r.target.style.transform="scale(1)",children:"Back to Home"})]})]})})})}function Iee(){return c.jsxs("div",{style:{minHeight:"100vh",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",textAlign:"center",padding:"2rem",backgroundColor:"#0a0e1a",color:"#ffffff"},children:[c.jsx("h1",{style:{fontSize:"6rem",marginBottom:"1rem",fontWeight:"bold"},children:"404"}),c.jsx("h2",{style:{fontSize:"2rem",marginBottom:"1rem"},children:"Page Not Found"}),c.jsx("p",{style:{marginBottom:"2rem",color:"#e0e0e0",fontSize:"1.1rem"},children:"The page you're looking for doesn't exist."}),c.jsx(yt,{to:"/",style:{display:"inline-block",padding:"0.75rem 2rem",backgroundColor:"#4da6ff",color:"#fff",textDecoration:"none",borderRadius:"4px",transition:"background-color 0.3s",fontSize:"1rem"},onMouseEnter:e=>e.target.style.backgroundColor="#3d8fdd",onMouseLeave:e=>e.target.style.backgroundColor="#4da6ff",children:"Go Home"})]})}function Lee(){return c.jsx(bO,{children:c.jsx(U1,{children:c.jsx(sI,{children:c.jsx(TO,{children:c.jsx(G$,{children:c.jsxs(wO,{children:[c.jsx(rn,{path:"/",element:c.jsx(Y$,{})}),c.jsx(rn,{path:"/about",element:c.jsx(J$,{})}),c.jsx(rn,{path:"/features",element:c.jsx(See,{})}),c.jsx(rn,{path:"/how-it-works",element:c.jsx(jee,{})}),c.jsx(rn,{path:"/industries",element:c.jsx(kee,{})}),c.jsx(rn,{path:"/gasper",element:c.jsx(wee,{})}),c.jsx(rn,{path:"/pricing",element:c.jsx(_ee,{})}),c.jsx(rn,{path:"/cart",element:c.jsx(Cee,{})}),c.jsx(rn,{path:"/contact",element:c.jsx(Tee,{})}),c.jsx(rn,{path:"/account",element:c.jsx(Nee,{})}),c.jsx(rn,{path:"/login",element:c.jsx(Oee,{})}),c.jsx(rn,{path:"/settings",element:c.jsx(Z$,{children:c.jsx(Eee,{})})}),c.jsx(rn,{path:"/checkout/success",element:c.jsx(Mee,{})}),c.jsx(rn,{path:"*",element:c.jsx(Iee,{})})]})})})})})})}jf.createRoot(document.getElementById("root")).render(c.jsx(Wt.StrictMode,{children:c.jsx(U1,{children:c.jsx(Lee,{})})}));
