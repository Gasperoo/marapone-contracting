var hf=Object.defineProperty;var df=(t,e,s)=>e in t?hf(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s;var H=(t,e,s)=>df(t,typeof e!="symbol"?e+"":e,s);import{r as S,a as ff,R as Ke,u as Ps,L as Tt,b as Jc,N as pf,c as mf,B as gf,d as vf,e as yt}from"./react-vendor-C-abPITq.js";import{C as Ba,D as yf,R as wf,L as ri,a as ii,V as We,W as bf,b as _f,S as La,c as Fa,M as ln,P as cn,d as ni,e as xf,H as Sf,F as Af,f as Tf,B as Ef,g as Cf,h as kf,A as Pf}from"./three-vendor-Cv8pSpCK.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const n of i)if(n.type==="childList")for(const o of n.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function s(i){const n={};return i.integrity&&(n.integrity=i.integrity),i.referrerPolicy&&(n.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?n.credentials="include":i.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function r(i){if(i.ep)return;i.ep=!0;const n=s(i);fetch(i.href,n)}})();var Xc={exports:{}},Qi={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jf=S,Rf=Symbol.for("react.element"),If=Symbol.for("react.fragment"),Of=Object.prototype.hasOwnProperty,Df=jf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Mf={key:!0,ref:!0,__self:!0,__source:!0};function Zc(t,e,s){var r,i={},n=null,o=null;s!==void 0&&(n=""+s),e.key!==void 0&&(n=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)Of.call(e,r)&&!Mf.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:Rf,type:t,key:n,ref:o,props:i,_owner:Df.current}}Qi.Fragment=If;Qi.jsx=Zc;Qi.jsxs=Zc;Xc.exports=Qi;var u=Xc.exports,Gn={},Ua=ff;Gn.createRoot=Ua.createRoot,Gn.hydrateRoot=Ua.hydrateRoot;const eu=S.createContext(),tu=()=>{const t=S.useContext(eu);if(!t)throw new Error("useCurrency must be used within a CurrencyProvider");return t},Nf=({children:t})=>{const[e,s]=S.useState(()=>localStorage.getItem("selectedCurrency")||"USD"),r={USD:1,CAD:1.35,EUR:.92},i={USD:"$",CAD:"C$",EUR:"â‚¬"};S.useEffect(()=>{localStorage.setItem("selectedCurrency",e)},[e]);const n=l=>(l*r[e]).toFixed(2),o=l=>{const c=n(l),h=i[e];return e==="EUR"?`${c}${h}`:`${h}${c}`},a=l=>{r[l]&&s(l)};return u.jsx(eu.Provider,{value:{currency:e,changeCurrency:a,convertPrice:n,formatPrice:o,currencySymbol:i[e],exchangeRates:r},children:t})};function Ki(t,e){var s={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(s[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(s[r[i]]=t[r[i]]);return s}function Bf(t,e,s,r){function i(n){return n instanceof s?n:new s(function(o){o(n)})}return new(s||(s=Promise))(function(n,o){function a(h){try{c(r.next(h))}catch(d){o(d)}}function l(h){try{c(r.throw(h))}catch(d){o(d)}}function c(h){h.done?n(h.value):i(h.value).then(a,l)}c((r=r.apply(t,e||[])).next())})}const Lf=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class Lo extends Error{constructor(e,s="FunctionsError",r){super(e),this.name=s,this.context=r}}class Ff extends Lo{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Va extends Lo{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class za extends Lo{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Hn;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Hn||(Hn={}));class Uf{constructor(e,{headers:s={},customFetch:r,region:i=Hn.Any}={}){this.url=e,this.headers=s,this.region=i,this.fetch=Lf(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return Bf(this,arguments,void 0,function*(s,r={}){var i;let n,o;try{const{headers:a,method:l,body:c,signal:h,timeout:d}=r;let p={},{region:f}=r;f||(f=this.region);const g=new URL(`${this.url}/${s}`);f&&f!=="any"&&(p["x-region"]=f,g.searchParams.set("forceFunctionRegion",f));let m;c&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)?typeof Blob<"u"&&c instanceof Blob||c instanceof ArrayBuffer?(p["Content-Type"]="application/octet-stream",m=c):typeof c=="string"?(p["Content-Type"]="text/plain",m=c):typeof FormData<"u"&&c instanceof FormData?m=c:(p["Content-Type"]="application/json",m=JSON.stringify(c)):c&&typeof c!="string"&&!(typeof Blob<"u"&&c instanceof Blob)&&!(c instanceof ArrayBuffer)&&!(typeof FormData<"u"&&c instanceof FormData)?m=JSON.stringify(c):m=c;let v=h;d&&(o=new AbortController,n=setTimeout(()=>o.abort(),d),h?(v=o.signal,h.addEventListener("abort",()=>o.abort())):v=o.signal);const y=yield this.fetch(g.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},p),this.headers),a),body:m,signal:v}).catch(x=>{throw new Ff(x)}),w=y.headers.get("x-relay-error");if(w&&w==="true")throw new Va(y);if(!y.ok)throw new za(y);let b=((i=y.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),_;return b==="application/json"?_=yield y.json():b==="application/octet-stream"||b==="application/pdf"?_=yield y.blob():b==="text/event-stream"?_=y:b==="multipart/form-data"?_=yield y.formData():_=yield y.text(),{data:_,error:null,response:y}}catch(a){return{data:null,error:a,response:a instanceof za||a instanceof Va?a.context:void 0}}finally{n&&clearTimeout(n)}})}}var Vf=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}},zf=class{constructor(t){var e,s;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(e=t.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=t.signal,this.isMaybeSingle=(s=t.isMaybeSingle)!==null&&s!==void 0?s:!1,t.fetch?this.fetch=t.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,e){return this.headers=new Headers(this.headers),this.headers.set(t,e),this}then(t,e){var s=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async n=>{let o=null,a=null,l=null,c=n.status,h=n.statusText;if(n.ok){var d,p;if(s.method!=="HEAD"){var f;const y=await n.text();y===""||(s.headers.get("Accept")==="text/csv"||s.headers.get("Accept")&&(!((f=s.headers.get("Accept"))===null||f===void 0)&&f.includes("application/vnd.pgrst.plan+text"))?a=y:a=JSON.parse(y))}const m=(d=s.headers.get("Prefer"))===null||d===void 0?void 0:d.match(/count=(exact|planned|estimated)/),v=(p=n.headers.get("content-range"))===null||p===void 0?void 0:p.split("/");m&&v&&v.length>1&&(l=parseInt(v[1])),s.isMaybeSingle&&s.method==="GET"&&Array.isArray(a)&&(a.length>1?(o={code:"PGRST116",details:`Results contain ${a.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},a=null,l=null,c=406,h="Not Acceptable"):a.length===1?a=a[0]:a=null)}else{var g;const m=await n.text();try{o=JSON.parse(m),Array.isArray(o)&&n.status===404&&(a=[],o=null,c=200,h="OK")}catch{n.status===404&&m===""?(c=204,h="No Content"):o={message:m}}if(o&&s.isMaybeSingle&&(!(o==null||(g=o.details)===null||g===void 0)&&g.includes("0 rows"))&&(o=null,c=200,h="OK"),o&&s.shouldThrowOnError)throw new Vf(o)}return{error:o,data:a,count:l,status:c,statusText:h}});return this.shouldThrowOnError||(i=i.catch(n=>{var o;let a="";const l=n==null?void 0:n.cause;if(l){var c,h,d,p;const g=(c=l==null?void 0:l.message)!==null&&c!==void 0?c:"",m=(h=l==null?void 0:l.code)!==null&&h!==void 0?h:"";a=`${(d=n==null?void 0:n.name)!==null&&d!==void 0?d:"FetchError"}: ${n==null?void 0:n.message}`,a+=`

Caused by: ${(p=l==null?void 0:l.name)!==null&&p!==void 0?p:"Error"}: ${g}`,m&&(a+=` (${m})`),l!=null&&l.stack&&(a+=`
${l.stack}`)}else{var f;a=(f=n==null?void 0:n.stack)!==null&&f!==void 0?f:""}return{error:{message:`${(o=n==null?void 0:n.name)!==null&&o!==void 0?o:"FetchError"}: ${n==null?void 0:n.message}`,details:a,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),i.then(t,e)}returns(){return this}overrideTypes(){return this}},Wf=class extends zf{select(t){let e=!1;const s=(t??"*").split("").map(r=>/\s/.test(r)&&!e?"":(r==='"'&&(e=!e),r)).join("");return this.url.searchParams.set("select",s),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:e=!0,nullsFirst:s,foreignTable:r,referencedTable:i=r}={}){const n=i?`${i}.order`:"order",o=this.url.searchParams.get(n);return this.url.searchParams.set(n,`${o?`${o},`:""}${t}.${e?"asc":"desc"}${s===void 0?"":s?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:s=e}={}){const r=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(r,`${t}`),this}range(t,e,{foreignTable:s,referencedTable:r=s}={}){const i=typeof r>"u"?"offset":`${r}.offset`,n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(n,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:e=!1,settings:s=!1,buffers:r=!1,wal:i=!1,format:n="text"}={}){var o;const a=[t?"analyze":null,e?"verbose":null,s?"settings":null,r?"buffers":null,i?"wal":null].filter(Boolean).join("|"),l=(o=this.headers.get("Accept"))!==null&&o!==void 0?o:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${n}; for="${l}"; options=${a};`),n==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};const Wa=new RegExp("[,()]");var Fs=class extends Wf{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}regexMatch(t,e){return this.url.searchParams.append(t,`match.${e}`),this}regexIMatch(t,e){return this.url.searchParams.append(t,`imatch.${e}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}isDistinct(t,e){return this.url.searchParams.append(t,`isdistinct.${e}`),this}in(t,e){const s=Array.from(new Set(e)).map(r=>typeof r=="string"&&Wa.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(t,`in.(${s})`),this}notIn(t,e){const s=Array.from(new Set(e)).map(r=>typeof r=="string"&&Wa.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(t,`not.in.(${s})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:s,type:r}={}){let i="";r==="plain"?i="pl":r==="phrase"?i="ph":r==="websearch"&&(i="w");const n=s===void 0?"":`(${s})`;return this.url.searchParams.append(t,`${i}fts${n}.${e}`),this}match(t){return Object.entries(t).forEach(([e,s])=>{this.url.searchParams.append(e,`eq.${s}`)}),this}not(t,e,s){return this.url.searchParams.append(t,`not.${e}.${s}`),this}or(t,{foreignTable:e,referencedTable:s=e}={}){const r=s?`${s}.or`:"or";return this.url.searchParams.append(r,`(${t})`),this}filter(t,e,s){return this.url.searchParams.append(t,`${e}.${s}`),this}},Gf=class{constructor(t,{headers:e={},schema:s,fetch:r}){this.url=t,this.headers=new Headers(e),this.schema=s,this.fetch=r}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(t,e){const{head:s=!1,count:r}=e??{},i=s?"HEAD":"GET";let n=!1;const o=(t??"*").split("").map(c=>/\s/.test(c)&&!n?"":(c==='"'&&(n=!n),c)).join(""),{url:a,headers:l}=this.cloneRequestState();return a.searchParams.set("select",o),r&&l.append("Prefer",`count=${r}`),new Fs({method:i,url:a,headers:l,schema:this.schema,fetch:this.fetch})}insert(t,{count:e,defaultToNull:s=!0}={}){var r;const i="POST",{url:n,headers:o}=this.cloneRequestState();if(e&&o.append("Prefer",`count=${e}`),s||o.append("Prefer","missing=default"),Array.isArray(t)){const a=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(a.length>0){const l=[...new Set(a)].map(c=>`"${c}"`);n.searchParams.set("columns",l.join(","))}}return new Fs({method:i,url:n,headers:o,schema:this.schema,body:t,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}upsert(t,{onConflict:e,ignoreDuplicates:s=!1,count:r,defaultToNull:i=!0}={}){var n;const o="POST",{url:a,headers:l}=this.cloneRequestState();if(l.append("Prefer",`resolution=${s?"ignore":"merge"}-duplicates`),e!==void 0&&a.searchParams.set("on_conflict",e),r&&l.append("Prefer",`count=${r}`),i||l.append("Prefer","missing=default"),Array.isArray(t)){const c=t.reduce((h,d)=>h.concat(Object.keys(d)),[]);if(c.length>0){const h=[...new Set(c)].map(d=>`"${d}"`);a.searchParams.set("columns",h.join(","))}}return new Fs({method:o,url:a,headers:l,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}update(t,{count:e}={}){var s;const r="PATCH",{url:i,headers:n}=this.cloneRequestState();return e&&n.append("Prefer",`count=${e}`),new Fs({method:r,url:i,headers:n,schema:this.schema,body:t,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}delete({count:t}={}){var e;const s="DELETE",{url:r,headers:i}=this.cloneRequestState();return t&&i.append("Prefer",`count=${t}`),new Fs({method:s,url:r,headers:i,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch})}},Hf=class su{constructor(e,{headers:s={},schema:r,fetch:i}={}){this.url=e,this.headers=new Headers(s),this.schemaName=r,this.fetch=i}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new Gf(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new su(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,s={},{head:r=!1,get:i=!1,count:n}={}){var o;let a;const l=new URL(`${this.url}/rpc/${e}`);let c;const h=f=>f!==null&&typeof f=="object"&&(!Array.isArray(f)||f.some(h)),d=r&&Object.values(s).some(h);d?(a="POST",c=s):r||i?(a=r?"HEAD":"GET",Object.entries(s).filter(([f,g])=>g!==void 0).map(([f,g])=>[f,Array.isArray(g)?`{${g.join(",")}}`:`${g}`]).forEach(([f,g])=>{l.searchParams.append(f,g)})):(a="POST",c=s);const p=new Headers(this.headers);return d?p.set("Prefer",n?`count=${n},return=minimal`:"return=minimal"):n&&p.set("Prefer",`count=${n}`),new Fs({method:a,url:l,headers:p,schema:this.schemaName,body:c,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};class $f{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const s=globalThis.process;if(s){const r=s.versions;if(r&&r.node){const i=r.node,n=parseInt(i.replace(/^v/,"").split(".")[0]);return n>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${n} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${n} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let s=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(s+=`

Suggested solution: ${e.workaround}`),new Error(s)}static createWebSocket(e,s){const r=this.getWebSocketConstructor();return new r(e,s)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const qf="2.93.3",Qf=`realtime-js/${qf}`,Kf="1.0.0",ru="2.0.0",Ga=ru,$n=1e4,Yf=1e3,Jf=100;var Ht;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Ht||(Ht={}));var Re;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Re||(Re={}));var St;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(St||(St={}));var qn;(function(t){t.websocket="websocket"})(qn||(qn={}));var ys;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(ys||(ys={}));class Xf{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,s){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return s(this._binaryEncodeUserBroadcastPush(e));let r=[e.join_ref,e.ref,e.topic,e.event,e.payload];return s(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(e){var s;return this._isArrayBuffer((s=e.payload)===null||s===void 0?void 0:s.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var s,r;const i=(r=(s=e.payload)===null||s===void 0?void 0:s.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(e){var s,r;const i=(r=(s=e.payload)===null||s===void 0?void 0:s.payload)!==null&&r!==void 0?r:{},o=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,o)}_encodeUserBroadcastPush(e,s,r){var i,n;const o=e.topic,a=(i=e.ref)!==null&&i!==void 0?i:"",l=(n=e.join_ref)!==null&&n!==void 0?n:"",c=e.payload.event,h=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},d=Object.keys(h).length===0?"":JSON.stringify(h);if(l.length>255)throw new Error(`joinRef length ${l.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`ref length ${a.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`topic length ${o.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`userEvent length ${c.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`metadata length ${d.length} exceeds maximum of 255`);const p=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+a.length+o.length+c.length+d.length,f=new ArrayBuffer(this.HEADER_LENGTH+p);let g=new DataView(f),m=0;g.setUint8(m++,this.KINDS.userBroadcastPush),g.setUint8(m++,l.length),g.setUint8(m++,a.length),g.setUint8(m++,o.length),g.setUint8(m++,c.length),g.setUint8(m++,d.length),g.setUint8(m++,s),Array.from(l,y=>g.setUint8(m++,y.charCodeAt(0))),Array.from(a,y=>g.setUint8(m++,y.charCodeAt(0))),Array.from(o,y=>g.setUint8(m++,y.charCodeAt(0))),Array.from(c,y=>g.setUint8(m++,y.charCodeAt(0))),Array.from(d,y=>g.setUint8(m++,y.charCodeAt(0)));var v=new Uint8Array(f.byteLength+r.byteLength);return v.set(new Uint8Array(f),0),v.set(new Uint8Array(r),f.byteLength),v.buffer}decode(e,s){if(this._isArrayBuffer(e)){let r=this._binaryDecode(e);return s(r)}if(typeof e=="string"){const r=JSON.parse(e),[i,n,o,a,l]=r;return s({join_ref:i,ref:n,topic:o,event:a,payload:l})}return s({})}_binaryDecode(e){const s=new DataView(e),r=s.getUint8(0),i=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,s,i)}}_decodeUserBroadcast(e,s,r){const i=s.getUint8(1),n=s.getUint8(2),o=s.getUint8(3),a=s.getUint8(4);let l=this.HEADER_LENGTH+4;const c=r.decode(e.slice(l,l+i));l=l+i;const h=r.decode(e.slice(l,l+n));l=l+n;const d=r.decode(e.slice(l,l+o));l=l+o;const p=e.slice(l,e.byteLength),f=a===this.JSON_ENCODING?JSON.parse(r.decode(p)):p,g={type:this.BROADCAST_EVENT,event:h,payload:f};return o>0&&(g.meta=JSON.parse(d)),{join_ref:null,ref:null,topic:c,event:this.BROADCAST_EVENT,payload:g}}_isArrayBuffer(e){var s;return e instanceof ArrayBuffer||((s=e==null?void 0:e.constructor)===null||s===void 0?void 0:s.name)==="ArrayBuffer"}_pick(e,s){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([r])=>s.includes(r)))}}class iu{constructor(e,s){this.callback=e,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ae;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(ae||(ae={}));const Ha=(t,e,s={})=>{var r;const i=(r=s.skipTypes)!==null&&r!==void 0?r:[];return e?Object.keys(e).reduce((n,o)=>(n[o]=Zf(o,t,e,i),n),{}):{}},Zf=(t,e,s,r)=>{const i=e.find(a=>a.name===t),n=i==null?void 0:i.type,o=s[t];return n&&!r.includes(n)?nu(n,o):Qn(o)},nu=(t,e)=>{if(t.charAt(0)==="_"){const s=t.slice(1,t.length);return rp(e,s)}switch(t){case ae.bool:return ep(e);case ae.float4:case ae.float8:case ae.int2:case ae.int4:case ae.int8:case ae.numeric:case ae.oid:return tp(e);case ae.json:case ae.jsonb:return sp(e);case ae.timestamp:return ip(e);case ae.abstime:case ae.date:case ae.daterange:case ae.int4range:case ae.int8range:case ae.money:case ae.reltime:case ae.text:case ae.time:case ae.timestamptz:case ae.timetz:case ae.tsrange:case ae.tstzrange:return Qn(e);default:return Qn(e)}},Qn=t=>t,ep=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},tp=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},sp=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t},rp=(t,e)=>{if(typeof t!="string")return t;const s=t.length-1,r=t[s];if(t[0]==="{"&&r==="}"){let n;const o=t.slice(1,s);try{n=JSON.parse("["+o+"]")}catch{n=o?o.split(","):[]}return n.map(a=>nu(e,a))}return t},ip=t=>typeof t=="string"?t.replace(" ","T"):t,ou=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class un{constructor(e,s,r={},i=$n){this.channel=e,this.event=s,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,s){var r;return this._hasReceived(e)&&s((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:s}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(s))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var $a;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})($a||($a={}));class Sr{constructor(e,s){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(s==null?void 0:s.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:n,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Sr.syncState(this.state,i,n,o),this.pendingDiffs.forEach(l=>{this.state=Sr.syncDiff(this.state,l,n,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},i=>{const{onJoin:n,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Sr.syncDiff(this.state,i,n,o),a())}),this.onJoin((i,n,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:n,newPresences:o})}),this.onLeave((i,n,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:n,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,s,r,i){const n=this.cloneDeep(e),o=this.transformState(s),a={},l={};return this.map(n,(c,h)=>{o[c]||(l[c]=h)}),this.map(o,(c,h)=>{const d=n[c];if(d){const p=h.map(v=>v.presence_ref),f=d.map(v=>v.presence_ref),g=h.filter(v=>f.indexOf(v.presence_ref)<0),m=d.filter(v=>p.indexOf(v.presence_ref)<0);g.length>0&&(a[c]=g),m.length>0&&(l[c]=m)}else a[c]=h}),this.syncDiff(n,{joins:a,leaves:l},r,i)}static syncDiff(e,s,r,i){const{joins:n,leaves:o}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(n,(a,l)=>{var c;const h=(c=e[a])!==null&&c!==void 0?c:[];if(e[a]=this.cloneDeep(l),h.length>0){const d=e[a].map(f=>f.presence_ref),p=h.filter(f=>d.indexOf(f.presence_ref)<0);e[a].unshift(...p)}r(a,h,l)}),this.map(o,(a,l)=>{let c=e[a];if(!c)return;const h=l.map(d=>d.presence_ref);c=c.filter(d=>h.indexOf(d.presence_ref)<0),e[a]=c,i(a,c,l),c.length===0&&delete e[a]}),e}static map(e,s){return Object.getOwnPropertyNames(e).map(r=>s(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((s,r)=>{const i=e[r];return"metas"in i?s[r]=i.metas.map(n=>(n.presence_ref=n.phx_ref,delete n.phx_ref,delete n.phx_ref_prev,n)):s[r]=i,s},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var qa;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(qa||(qa={}));var Ar;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Ar||(Ar={}));var Mt;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Mt||(Mt={}));class Ws{constructor(e,s={config:{}},r){var i,n;if(this.topic=e,this.params=s,this.socket=r,this.bindings={},this.state=Re.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new un(this,St.join,this.params,this.timeout),this.rejoinTimer=new iu(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Re.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Re.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Re.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Re.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Re.errored,this.rejoinTimer.scheduleTimeout())}),this._on(St.reply,{},(o,a)=>{this._trigger(this._replyEventName(a),o)}),this.presence=new Sr(this),this.broadcastEndpointURL=ou(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((n=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||n===void 0)&&n.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,s=this.timeout){var r,i,n;if(this.socket.isConnected()||this.socket.connect(),this.state==Re.closed){const{config:{broadcast:o,presence:a,private:l}}=this.params,c=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(f=>f.filter))!==null&&i!==void 0?i:[],h=!!this.bindings[Ar.PRESENCE]&&this.bindings[Ar.PRESENCE].length>0||((n=this.params.config.presence)===null||n===void 0?void 0:n.enabled)===!0,d={},p={broadcast:o,presence:Object.assign(Object.assign({},a),{enabled:h}),postgres_changes:c,private:l};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(f=>e==null?void 0:e(Mt.CHANNEL_ERROR,f)),this._onClose(()=>e==null?void 0:e(Mt.CLOSED)),this.updateJoinPayload(Object.assign({config:p},d)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:f})=>{var g;if(this.socket._isManualToken()||this.socket.setAuth(),f===void 0){e==null||e(Mt.SUBSCRIBED);return}else{const m=this.bindings.postgres_changes,v=(g=m==null?void 0:m.length)!==null&&g!==void 0?g:0,y=[];for(let w=0;w<v;w++){const b=m[w],{filter:{event:_,schema:x,table:A,filter:T}}=b,C=f&&f[w];if(C&&C.event===_&&Ws.isFilterValueEqual(C.schema,x)&&Ws.isFilterValueEqual(C.table,A)&&Ws.isFilterValueEqual(C.filter,T))y.push(Object.assign(Object.assign({},b),{id:C.id}));else{this.unsubscribe(),this.state=Re.errored,e==null||e(Mt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,e&&e(Mt.SUBSCRIBED);return}}).receive("error",f=>{this.state=Re.errored,e==null||e(Mt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(f).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Mt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,s={}){return await this.send({type:"presence",event:"track",payload:e},s.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,s,r){return this.state===Re.joined&&e===Ar.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,s,r)}async httpSend(e,s,r={}){var i;if(s==null)return Promise.reject("Payload is required for httpSend()");const n={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(n.Authorization=`Bearer ${this.socket.accessTokenValue}`);const o={method:"POST",headers:n,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:s,private:this.private}]})},a=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(i=r.timeout)!==null&&i!==void 0?i:this.timeout);if(a.status===202)return{success:!0};let l=a.statusText;try{const c=await a.json();l=c.error||c.message||l}catch{}return Promise.reject(new Error(l))}async send(e,s={}){var r,i;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:n,payload:o}=e,a={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(a.Authorization=`Bearer ${this.socket.accessTokenValue}`);const l={method:"POST",headers:a,body:JSON.stringify({messages:[{topic:this.subTopic,event:n,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=s.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=c.body)===null||i===void 0?void 0:i.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(n=>{var o,a,l;const c=this._push(e.type,e,s.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&n("ok"),c.receive("ok",()=>n("ok")),c.receive("error",()=>n("error")),c.receive("timeout",()=>n("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Re.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(St.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new un(this,St.leave,{},e),r.receive("ok",()=>{s(),i("ok")}).receive("timeout",()=>{s(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Re.closed,this.bindings={}}async _fetchWithTimeout(e,s,r){const i=new AbortController,n=setTimeout(()=>i.abort(),r),o=await this.socket.fetch(e,Object.assign(Object.assign({},s),{signal:i.signal}));return clearTimeout(n),o}_push(e,s,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new un(this,e,s,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>Jf){const s=this.pushBuffer.shift();s&&(s.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${s.event}`,s.payload))}}_onMessage(e,s,r){return s}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,s,r){var i,n;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:c,join:h}=St;if(r&&[a,l,c,h].indexOf(o)>=0&&r!==this._joinRef())return;let p=this._onMessage(o,s,r);if(s&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(f=>{var g,m,v;return((g=f.filter)===null||g===void 0?void 0:g.event)==="*"||((v=(m=f.filter)===null||m===void 0?void 0:m.event)===null||v===void 0?void 0:v.toLocaleLowerCase())===o}).map(f=>f.callback(p,r)):(n=this.bindings[o])===null||n===void 0||n.filter(f=>{var g,m,v,y,w,b;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in f){const _=f.id,x=(g=f.filter)===null||g===void 0?void 0:g.event;return _&&((m=s.ids)===null||m===void 0?void 0:m.includes(_))&&(x==="*"||(x==null?void 0:x.toLocaleLowerCase())===((v=s.data)===null||v===void 0?void 0:v.type.toLocaleLowerCase()))}else{const _=(w=(y=f==null?void 0:f.filter)===null||y===void 0?void 0:y.event)===null||w===void 0?void 0:w.toLocaleLowerCase();return _==="*"||_===((b=s==null?void 0:s.event)===null||b===void 0?void 0:b.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===o}).map(f=>{if(typeof p=="object"&&"ids"in p){const g=p.data,{schema:m,table:v,commit_timestamp:y,type:w,errors:b}=g;p=Object.assign(Object.assign({},{schema:m,table:v,commit_timestamp:y,eventType:w,new:{},old:{},errors:b}),this._getPayloadRecords(g))}f.callback(p,r)})}_isClosed(){return this.state===Re.closed}_isJoined(){return this.state===Re.joined}_isJoining(){return this.state===Re.joining}_isLeaving(){return this.state===Re.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,s,r){const i=e.toLocaleLowerCase(),n={type:i,filter:s,callback:r};return this.bindings[i]?this.bindings[i].push(n):this.bindings[i]=[n],this}_off(e,s){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var n;return!(((n=i.type)===null||n===void 0?void 0:n.toLocaleLowerCase())===r&&Ws.isEqual(i.filter,s))})),this}static isEqual(e,s){if(Object.keys(e).length!==Object.keys(s).length)return!1;for(const r in e)if(e[r]!==s[r])return!1;return!0}static isFilterValueEqual(e,s){return(e??void 0)===(s??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(St.close,{},e)}_onError(e){this._on(St.error,{},s=>e(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Re.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const s={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(s.new=Ha(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(s.old=Ha(e.columns,e.old_record)),s}}const hn=()=>{},oi={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},np=[1e3,2e3,5e3,1e4],op=1e4,ap=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class lp{constructor(e,s){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=$n,this.transport=null,this.heartbeatIntervalMs=oi.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=hn,this.ref=0,this.reconnectTimer=null,this.vsn=Ga,this.logger=hn,this.conn=null,this.sendBuffer=[],this.serializer=new Xf,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=i=>i?(...n)=>i(...n):(...n)=>fetch(...n),!(!((r=s==null?void 0:s.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=s.params.apikey,this.endPoint=`${e}/${qn.websocket}`,this.httpEndpoint=ou(e),this._initializeOptions(s),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(s==null?void 0:s.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=$f.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const s=e.message;throw s.includes("Node.js")?new Error(`${s}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${s}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,s){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,s??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const s=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const e=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,s,r){this.logger(e,s,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Ht.connecting:return ys.Connecting;case Ht.open:return ys.Open;case Ht.closing:return ys.Closing;default:return ys.Closed}}isConnected(){return this.connectionState()===ys.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,s={config:{}}){const r=`realtime:${e}`,i=this.getChannels().find(n=>n.topic===r);if(i)return i;{const n=new Ws(`realtime:${e}`,s,this);return this.channels.push(n),n}}push(e){const{topic:s,event:r,payload:i,ref:n}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${s} ${r} (${n})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(s){this.log("error","error in heartbeat callback",s)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(s){this.log("error","error in heartbeat callback",s)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(Yf,"heartbeat timeout"),setTimeout(()=>{var s;this.isConnected()||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout()},oi.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(s){this.log("error","error in heartbeat callback",s)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let s=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${e}"`),s.unsubscribe())}_remove(e){this.channels=this.channels.filter(s=>s.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,s=>{if(s.topic==="phoenix"&&s.event==="phx_reply"&&s.ref&&s.ref===this.pendingHeartbeatRef){const c=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(s.payload.status==="ok"?"ok":"error",c)}catch(h){this.log("error","error in heartbeat callback",h)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:r,event:i,payload:n,ref:o}=s,a=o?`(${o})`:"",l=n.status||"";this.log("receive",`${l} ${r} ${i} ${a}`.trim(),n),this.channels.filter(c=>c._isMember(r)).forEach(c=>c._trigger(i,n,o)),this._triggerStateCallbacks("message",s)})}_clearTimer(e){var s;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((s=this.reconnectTimer)===null||s===void 0||s.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===Ht.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Ht.open||this.conn.readyState===Ht.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(s=>{this.log("error","error waiting for auth on connect",s),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this._terminateWorker()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var s;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e);try{this.heartbeatCallback("error")}catch(s){this.log("error","error in heartbeat callback",s)}}_triggerChanError(){this.channels.forEach(e=>e._trigger(St.error))}_appendParams(e,s){if(Object.keys(s).length===0)return e;const r=e.match(/\?/)?"&":"?",i=new URLSearchParams(s);return`${e}${r}${i}`}_workerObjectUrl(e){let s;if(e)s=e;else{const r=new Blob([ap],{type:"application/javascript"});s=URL.createObjectURL(r)}return s}_setConnectionState(e,s=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=s)}async _performAuth(e=null){let s,r=!1;if(e)s=e,r=!0;else if(this.accessToken)try{s=await this.accessToken()}catch(i){this.log("error","Error fetching access token from callback",i),s=this.accessTokenValue}else s=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=s&&(this.accessTokenValue=s,this.channels.forEach(i=>{const n={access_token:s,version:Qf};s&&i.updateJoinPayload(n),i.joinedOnce&&i._isJoined()&&i._push(St.access_token,{access_token:s})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(s=>{this.log("error",`Error setting auth in ${e}`,s)})}_triggerStateCallbacks(e,s){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(s)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new iu(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},oi.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var s,r,i,n,o,a,l,c,h,d,p,f;switch(this.transport=(s=e==null?void 0:e.transport)!==null&&s!==void 0?s:null,this.timeout=(r=e==null?void 0:e.timeout)!==null&&r!==void 0?r:$n,this.heartbeatIntervalMs=(i=e==null?void 0:e.heartbeatIntervalMs)!==null&&i!==void 0?i:oi.HEARTBEAT_INTERVAL,this.worker=(n=e==null?void 0:e.worker)!==null&&n!==void 0?n:!1,this.accessToken=(o=e==null?void 0:e.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(a=e==null?void 0:e.heartbeatCallback)!==null&&a!==void 0?a:hn,this.vsn=(l=e==null?void 0:e.vsn)!==null&&l!==void 0?l:Ga,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=e==null?void 0:e.reconnectAfterMs)!==null&&c!==void 0?c:g=>np[g-1]||op,this.vsn){case Kf:this.encode=(h=e==null?void 0:e.encode)!==null&&h!==void 0?h:(g,m)=>m(JSON.stringify(g)),this.decode=(d=e==null?void 0:e.decode)!==null&&d!==void 0?d:(g,m)=>m(JSON.parse(g));break;case ru:this.encode=(p=e==null?void 0:e.encode)!==null&&p!==void 0?p:this.serializer.encode.bind(this.serializer),this.decode=(f=e==null?void 0:e.decode)!==null&&f!==void 0?f:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}var Or=class extends Error{constructor(t,e){var s;super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&((s=e.icebergType)==null?void 0:s.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function cp(t,e,s){const r=new URL(e,t);if(s)for(const[i,n]of Object.entries(s))n!==void 0&&r.searchParams.set(i,n);return r.toString()}async function up(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function hp(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:s,path:r,query:i,body:n,headers:o}){const a=cp(t.baseUrl,r,i),l=await up(t.auth),c=await e(a,{method:s,headers:{...n?{"Content-Type":"application/json"}:{},...l,...o},body:n?JSON.stringify(n):void 0}),h=await c.text(),d=(c.headers.get("content-type")||"").includes("application/json"),p=d&&h?JSON.parse(h):h;if(!c.ok){const f=d?p:void 0,g=f==null?void 0:f.error;throw new Or((g==null?void 0:g.message)??`Request failed with status ${c.status}`,{status:c.status,icebergType:g==null?void 0:g.type,icebergCode:g==null?void 0:g.code,details:f})}return{status:c.status,headers:c.headers,data:p}}}}function ai(t){return t.join("")}var dp=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:ai(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(t,e){const s={namespace:t.namespace,properties:e==null?void 0:e.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:s})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${ai(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ai(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${ai(t.namespace)}`}),!0}catch(e){if(e instanceof Or&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(s){if(s instanceof Or&&s.status===409)return;throw s}}};function Rs(t){return t.join("")}var fp=class{constructor(t,e="",s){this.client=t,this.prefix=e,this.accessDelegation=s}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Rs(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const s={};return this.accessDelegation&&(s["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Rs(t.namespace)}/tables`,body:e,headers:s})).data.metadata}async updateTable(t,e){const s=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Rs(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":s.data["metadata-location"],metadata:s.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Rs(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String((e==null?void 0:e.purge)??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Rs(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Rs(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(s){if(s instanceof Or&&s.status===404)return!1;throw s}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(s){if(s instanceof Or&&s.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw s}}},pp=class{constructor(t){var r;let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const s=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=hp({baseUrl:s,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=(r=t.accessDelegation)==null?void 0:r.join(","),this.namespaceOps=new dp(this.client,e),this.tableOps=new fp(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}},Yi=class extends Error{constructor(t,e="storage",s,r){super(t),this.__isStorageError=!0,this.namespace=e,this.name=e==="vectors"?"StorageVectorsError":"StorageError",this.status=s,this.statusCode=r}};function Ji(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}var li=class extends Yi{constructor(t,e,s,r="storage"){super(t,r,e,s),this.name=r==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=e,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},au=class extends Yi{constructor(t,e,s="storage"){super(t,s),this.name=s==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=e}};const mp=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),gp=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Kn=t=>{if(Array.isArray(t))return t.map(s=>Kn(s));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([s,r])=>{const i=s.replace(/([-_][a-z])/gi,n=>n.toUpperCase().replace(/[-_]/g,""));e[i]=Kn(r)}),e},vp=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t);function Dr(t){"@babel/helpers - typeof";return Dr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dr(t)}function yp(t,e){if(Dr(t)!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var r=s.call(t,e);if(Dr(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wp(t){var e=yp(t,"string");return Dr(e)=="symbol"?e:e+""}function bp(t,e,s){return(e=wp(e))in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}function Qa(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),s.push.apply(s,r)}return s}function $(t){for(var e=1;e<arguments.length;e++){var s=arguments[e]!=null?arguments[e]:{};e%2?Qa(Object(s),!0).forEach(function(r){bp(t,r,s[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):Qa(Object(s)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(s,r))})}return t}const Ka=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},_p=async(t,e,s,r)=>{if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(s!=null&&s.noResolveJson)){const i=t,n=i.status||500;if(typeof i.json=="function")i.json().then(o=>{const a=(o==null?void 0:o.statusCode)||(o==null?void 0:o.code)||n+"";e(new li(Ka(o),n,a,r))}).catch(()=>{if(r==="vectors"){const o=n+"";e(new li(i.statusText||`HTTP ${n} error`,n,o,r))}else{const o=n+"";e(new li(i.statusText||`HTTP ${n} error`,n,o,r))}});else{const o=n+"";e(new li(i.statusText||`HTTP ${n} error`,n,o,r))}}else e(new au(Ka(t),t,r))},xp=(t,e,s,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||t==="HEAD"||!r?$($({},i),s):(gp(r)?(i.headers=$({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(r)):i.body=r,e!=null&&e.duplex&&(i.duplex=e.duplex),$($({},i),s))};async function mr(t,e,s,r,i,n,o){return new Promise((a,l)=>{t(s,xp(e,r,i,n)).then(c=>{if(!c.ok)throw c;if(r!=null&&r.noResolveJson)return c;if(o==="vectors"){const h=c.headers.get("content-type");if(c.headers.get("content-length")==="0"||c.status===204)return{};if(!h||!h.includes("application/json"))return{}}return c.json()}).then(c=>a(c)).catch(c=>_p(c,l,r,o))})}function lu(t="storage"){return{get:async(e,s,r,i)=>mr(e,"GET",s,r,i,void 0,t),post:async(e,s,r,i,n)=>mr(e,"POST",s,i,n,r,t),put:async(e,s,r,i,n)=>mr(e,"PUT",s,i,n,r,t),head:async(e,s,r,i)=>mr(e,"HEAD",s,$($({},r),{},{noResolveJson:!0}),i,void 0,t),remove:async(e,s,r,i,n)=>mr(e,"DELETE",s,i,n,r,t)}}const Sp=lu("storage"),{get:Mr,post:xt,put:Yn,head:Ap,remove:Fo}=Sp,it=lu("vectors");var lr=class{constructor(t,e={},s,r="storage"){this.shouldThrowOnError=!1,this.url=t,this.headers=e,this.fetch=mp(s),this.namespace=r}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(t){var e=this;try{return{data:await t(),error:null}}catch(s){if(e.shouldThrowOnError)throw s;if(Ji(s))return{data:null,error:s};throw s}}},Tp=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e}then(t,e){return this.execute().then(t,e)}async execute(){var t=this;try{return{data:(await t.downloadFn()).body,error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(Ji(e))return{data:null,error:e};throw e}}};let cu;cu=Symbol.toStringTag;var Ep=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e,this[cu]="BlobDownloadBuilder",this.promise=null}asStream(){return new Tp(this.downloadFn,this.shouldThrowOnError)}then(t,e){return this.getPromise().then(t,e)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var t=this;try{return{data:await(await t.downloadFn()).blob(),error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(Ji(e))return{data:null,error:e};throw e}}};const Cp={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Ya={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var kp=class extends lr{constructor(t,e={},s,r){super(t,e,r,"storage"),this.bucketId=s}async uploadOrUpdate(t,e,s,r){var i=this;return i.handleOperation(async()=>{let n;const o=$($({},Ya),r);let a=$($({},i.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&s instanceof Blob?(n=new FormData,n.append("cacheControl",o.cacheControl),l&&n.append("metadata",i.encodeMetadata(l)),n.append("",s)):typeof FormData<"u"&&s instanceof FormData?(n=s,n.has("cacheControl")||n.append("cacheControl",o.cacheControl),l&&!n.has("metadata")&&n.append("metadata",i.encodeMetadata(l))):(n=s,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=i.toBase64(i.encodeMetadata(l))),(typeof ReadableStream<"u"&&n instanceof ReadableStream||n&&typeof n=="object"&&"pipe"in n&&typeof n.pipe=="function")&&!o.duplex&&(o.duplex="half")),r!=null&&r.headers&&(a=$($({},a),r.headers));const c=i._removeEmptyFolders(e),h=i._getFinalPath(c),d=await(t=="PUT"?Yn:xt)(i.fetch,`${i.url}/object/${h}`,n,$({headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{path:c,id:d.Id,fullPath:d.Key}})}async upload(t,e,s){return this.uploadOrUpdate("POST",t,e,s)}async uploadToSignedUrl(t,e,s,r){var i=this;const n=i._removeEmptyFolders(t),o=i._getFinalPath(n),a=new URL(i.url+`/object/upload/sign/${o}`);return a.searchParams.set("token",e),i.handleOperation(async()=>{let l;const c=$({upsert:Ya.upsert},r),h=$($({},i.headers),{"x-upsert":String(c.upsert)});return typeof Blob<"u"&&s instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",s)):typeof FormData<"u"&&s instanceof FormData?(l=s,l.append("cacheControl",c.cacheControl)):(l=s,h["cache-control"]=`max-age=${c.cacheControl}`,h["content-type"]=c.contentType),{path:n,fullPath:(await Yn(i.fetch,a.toString(),l,{headers:h})).Key}})}async createSignedUploadUrl(t,e){var s=this;return s.handleOperation(async()=>{let r=s._getFinalPath(t);const i=$({},s.headers);e!=null&&e.upsert&&(i["x-upsert"]="true");const n=await xt(s.fetch,`${s.url}/object/upload/sign/${r}`,{},{headers:i}),o=new URL(s.url+n.url),a=o.searchParams.get("token");if(!a)throw new Yi("No token returned by API");return{signedUrl:o.toString(),path:t,token:a}})}async update(t,e,s){return this.uploadOrUpdate("PUT",t,e,s)}async move(t,e,s){var r=this;return r.handleOperation(async()=>await xt(r.fetch,`${r.url}/object/move`,{bucketId:r.bucketId,sourceKey:t,destinationKey:e,destinationBucket:s==null?void 0:s.destinationBucket},{headers:r.headers}))}async copy(t,e,s){var r=this;return r.handleOperation(async()=>({path:(await xt(r.fetch,`${r.url}/object/copy`,{bucketId:r.bucketId,sourceKey:t,destinationKey:e,destinationBucket:s==null?void 0:s.destinationBucket},{headers:r.headers})).Key}))}async createSignedUrl(t,e,s){var r=this;return r.handleOperation(async()=>{let i=r._getFinalPath(t),n=await xt(r.fetch,`${r.url}/object/sign/${i}`,$({expiresIn:e},s!=null&&s.transform?{transform:s.transform}:{}),{headers:r.headers});const o=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return{signedUrl:encodeURI(`${r.url}${n.signedURL}${o}`)}})}async createSignedUrls(t,e,s){var r=this;return r.handleOperation(async()=>{const i=await xt(r.fetch,`${r.url}/object/sign/${r.bucketId}`,{expiresIn:e,paths:t},{headers:r.headers}),n=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return i.map(o=>$($({},o),{},{signedUrl:o.signedURL?encodeURI(`${r.url}${o.signedURL}${n}`):null}))})}download(t,e){const s=typeof(e==null?void 0:e.transform)<"u"?"render/image/authenticated":"object",r=this.transformOptsToQueryString((e==null?void 0:e.transform)||{}),i=r?`?${r}`:"",n=this._getFinalPath(t),o=()=>Mr(this.fetch,`${this.url}/${s}/${n}${i}`,{headers:this.headers,noResolveJson:!0});return new Ep(o,this.shouldThrowOnError)}async info(t){var e=this;const s=e._getFinalPath(t);return e.handleOperation(async()=>Kn(await Mr(e.fetch,`${e.url}/object/info/${s}`,{headers:e.headers})))}async exists(t){var e=this;const s=e._getFinalPath(t);try{return await Ap(e.fetch,`${e.url}/object/${s}`,{headers:e.headers}),{data:!0,error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Ji(r)&&r instanceof au){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}}getPublicUrl(t,e){const s=this._getFinalPath(t),r=[],i=e!=null&&e.download?`download=${e.download===!0?"":e.download}`:"";i!==""&&r.push(i);const n=typeof(e==null?void 0:e.transform)<"u"?"render/image":"object",o=this.transformOptsToQueryString((e==null?void 0:e.transform)||{});o!==""&&r.push(o);let a=r.join("&");return a!==""&&(a=`?${a}`),{data:{publicUrl:encodeURI(`${this.url}/${n}/public/${s}${a}`)}}}async remove(t){var e=this;return e.handleOperation(async()=>await Fo(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:t},{headers:e.headers}))}async list(t,e,s){var r=this;return r.handleOperation(async()=>{const i=$($($({},Cp),e),{},{prefix:t||""});return await xt(r.fetch,`${r.url}/object/list/${r.bucketId}`,i,{headers:r.headers},s)})}async listV2(t,e){var s=this;return s.handleOperation(async()=>{const r=$({},t);return await xt(s.fetch,`${s.url}/object/list-v2/${s.bucketId}`,r,{headers:s.headers},e)})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}};const Pp="2.93.3",Jr={"X-Client-Info":`storage-js/${Pp}`};var jp=class extends lr{constructor(t,e={},s,r){const i=new URL(t);r!=null&&r.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase."));const n=i.href.replace(/\/$/,""),o=$($({},Jr),e);super(n,o,s,"storage")}async listBuckets(t){var e=this;return e.handleOperation(async()=>{const s=e.listBucketOptionsToQueryString(t);return await Mr(e.fetch,`${e.url}/bucket${s}`,{headers:e.headers})})}async getBucket(t){var e=this;return e.handleOperation(async()=>await Mr(e.fetch,`${e.url}/bucket/${t}`,{headers:e.headers}))}async createBucket(t,e={public:!1}){var s=this;return s.handleOperation(async()=>await xt(s.fetch,`${s.url}/bucket`,{id:t,name:t,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:s.headers}))}async updateBucket(t,e){var s=this;return s.handleOperation(async()=>await Yn(s.fetch,`${s.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:s.headers}))}async emptyBucket(t){var e=this;return e.handleOperation(async()=>await xt(e.fetch,`${e.url}/bucket/${t}/empty`,{},{headers:e.headers}))}async deleteBucket(t){var e=this;return e.handleOperation(async()=>await Fo(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}))}listBucketOptionsToQueryString(t){const e={};return t&&("limit"in t&&(e.limit=String(t.limit)),"offset"in t&&(e.offset=String(t.offset)),t.search&&(e.search=t.search),t.sortColumn&&(e.sortColumn=t.sortColumn),t.sortOrder&&(e.sortOrder=t.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},Rp=class extends lr{constructor(t,e={},s){const r=t.replace(/\/$/,""),i=$($({},Jr),e);super(r,i,s,"storage")}async createBucket(t){var e=this;return e.handleOperation(async()=>await xt(e.fetch,`${e.url}/bucket`,{name:t},{headers:e.headers}))}async listBuckets(t){var e=this;return e.handleOperation(async()=>{const s=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&s.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&s.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&s.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&s.set("sortOrder",t.sortOrder),t!=null&&t.search&&s.set("search",t.search);const r=s.toString(),i=r?`${e.url}/bucket?${r}`:`${e.url}/bucket`;return await Mr(e.fetch,i,{headers:e.headers})})}async deleteBucket(t){var e=this;return e.handleOperation(async()=>await Fo(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}))}from(t){var e=this;if(!vp(t))throw new Yi("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const s=new pp({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(s,{get(i,n){const o=i[n];return typeof o!="function"?o:async(...a)=>{try{return{data:await o.apply(i,a),error:null}}catch(l){if(r)throw l;return{data:null,error:l}}}}})}},Ip=class extends lr{constructor(t,e={},s){const r=t.replace(/\/$/,""),i=$($({},Jr),{},{"Content-Type":"application/json"},e);super(r,i,s,"vectors")}async createIndex(t){var e=this;return e.handleOperation(async()=>await it.post(e.fetch,`${e.url}/CreateIndex`,t,{headers:e.headers})||{})}async getIndex(t,e){var s=this;return s.handleOperation(async()=>await it.post(s.fetch,`${s.url}/GetIndex`,{vectorBucketName:t,indexName:e},{headers:s.headers}))}async listIndexes(t){var e=this;return e.handleOperation(async()=>await it.post(e.fetch,`${e.url}/ListIndexes`,t,{headers:e.headers}))}async deleteIndex(t,e){var s=this;return s.handleOperation(async()=>await it.post(s.fetch,`${s.url}/DeleteIndex`,{vectorBucketName:t,indexName:e},{headers:s.headers})||{})}},Op=class extends lr{constructor(t,e={},s){const r=t.replace(/\/$/,""),i=$($({},Jr),{},{"Content-Type":"application/json"},e);super(r,i,s,"vectors")}async putVectors(t){var e=this;if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return e.handleOperation(async()=>await it.post(e.fetch,`${e.url}/PutVectors`,t,{headers:e.headers})||{})}async getVectors(t){var e=this;return e.handleOperation(async()=>await it.post(e.fetch,`${e.url}/GetVectors`,t,{headers:e.headers}))}async listVectors(t){var e=this;if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return e.handleOperation(async()=>await it.post(e.fetch,`${e.url}/ListVectors`,t,{headers:e.headers}))}async queryVectors(t){var e=this;return e.handleOperation(async()=>await it.post(e.fetch,`${e.url}/QueryVectors`,t,{headers:e.headers}))}async deleteVectors(t){var e=this;if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return e.handleOperation(async()=>await it.post(e.fetch,`${e.url}/DeleteVectors`,t,{headers:e.headers})||{})}},Dp=class extends lr{constructor(t,e={},s){const r=t.replace(/\/$/,""),i=$($({},Jr),{},{"Content-Type":"application/json"},e);super(r,i,s,"vectors")}async createBucket(t){var e=this;return e.handleOperation(async()=>await it.post(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{})}async getBucket(t){var e=this;return e.handleOperation(async()=>await it.post(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:t},{headers:e.headers}))}async listBuckets(t={}){var e=this;return e.handleOperation(async()=>await it.post(e.fetch,`${e.url}/ListVectorBuckets`,t,{headers:e.headers}))}async deleteBucket(t){var e=this;return e.handleOperation(async()=>await it.post(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{})}},Mp=class extends Dp{constructor(t,e={}){super(t,e.headers||{},e.fetch)}from(t){return new Np(this.url,this.headers,t,this.fetch)}async createBucket(t){var e=()=>super.createBucket,s=this;return e().call(s,t)}async getBucket(t){var e=()=>super.getBucket,s=this;return e().call(s,t)}async listBuckets(t={}){var e=()=>super.listBuckets,s=this;return e().call(s,t)}async deleteBucket(t){var e=()=>super.deleteBucket,s=this;return e().call(s,t)}},Np=class extends Ip{constructor(t,e,s,r){super(t,e,r),this.vectorBucketName=s}async createIndex(t){var e=()=>super.createIndex,s=this;return e().call(s,$($({},t),{},{vectorBucketName:s.vectorBucketName}))}async listIndexes(t={}){var e=()=>super.listIndexes,s=this;return e().call(s,$($({},t),{},{vectorBucketName:s.vectorBucketName}))}async getIndex(t){var e=()=>super.getIndex,s=this;return e().call(s,s.vectorBucketName,t)}async deleteIndex(t){var e=()=>super.deleteIndex,s=this;return e().call(s,s.vectorBucketName,t)}index(t){return new Bp(this.url,this.headers,this.vectorBucketName,t,this.fetch)}},Bp=class extends Op{constructor(t,e,s,r,i){super(t,e,i),this.vectorBucketName=s,this.indexName=r}async putVectors(t){var e=()=>super.putVectors,s=this;return e().call(s,$($({},t),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async getVectors(t){var e=()=>super.getVectors,s=this;return e().call(s,$($({},t),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async listVectors(t={}){var e=()=>super.listVectors,s=this;return e().call(s,$($({},t),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async queryVectors(t){var e=()=>super.queryVectors,s=this;return e().call(s,$($({},t),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async deleteVectors(t){var e=()=>super.deleteVectors,s=this;return e().call(s,$($({},t),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}},Lp=class extends jp{constructor(t,e={},s,r){super(t,e,s,r)}from(t){return new kp(this.url,this.headers,t,this.fetch)}get vectors(){return new Mp(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Rp(this.url+"/iceberg",this.headers,this.fetch)}};const uu="2.93.3",Us=30*1e3,Jn=3,dn=Jn*Us,Fp="http://localhost:9999",Up="supabase.auth.token",Vp={"X-Client-Info":`gotrue-js/${uu}`},Xn="X-Supabase-Api-Version",hu={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},zp=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Wp=10*60*1e3;class Nr extends Error{constructor(e,s,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=r}}function B(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class Gp extends Nr{constructor(e,s,r){super(e,s,r),this.name="AuthApiError",this.status=s,this.code=r}}function Hp(t){return B(t)&&t.name==="AuthApiError"}class ws extends Nr{constructor(e,s){super(e),this.name="AuthUnknownError",this.originalError=s}}class zt extends Nr{constructor(e,s,r,i){super(e,r,i),this.name=s,this.status=r}}class st extends zt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function fn(t){return B(t)&&t.name==="AuthSessionMissingError"}class Is extends zt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ci extends zt{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class ui extends zt{constructor(e,s=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function $p(t){return B(t)&&t.name==="AuthImplicitGrantRedirectError"}class Ja extends zt{constructor(e,s=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class qp extends zt{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Zn extends zt{constructor(e,s){super(e,"AuthRetryableFetchError",s,void 0)}}function pn(t){return B(t)&&t.name==="AuthRetryableFetchError"}class Xa extends zt{constructor(e,s,r){super(e,"AuthWeakPasswordError",s,"weak_password"),this.reasons=r}}class eo extends zt{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ci="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Za=` 	
\r=`.split(""),Qp=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Za.length;e+=1)t[Za[e].charCodeAt(0)]=-2;for(let e=0;e<Ci.length;e+=1)t[Ci[e].charCodeAt(0)]=e;return t})();function el(t,e,s){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;s(Ci[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;s(Ci[r]),e.queuedBits-=6}}function du(t,e,s){const r=Qp[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)s(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function tl(t){const e=[],s=o=>{e.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},n=o=>{Jp(o,r,s)};for(let o=0;o<t.length;o+=1)du(t.charCodeAt(o),i,n);return e.join("")}function Kp(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function Yp(t,e){for(let s=0;s<t.length;s+=1){let r=t.charCodeAt(s);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(t.charCodeAt(s+1)-56320&65535|i)+65536,s+=1}Kp(r,e)}}function Jp(t,e,s){if(e.utf8seq===0){if(t<=127){s(t);return}for(let r=1;r<6;r+=1)if(!(t>>7-r&1)){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&s(e.codepoint)}}function Ys(t){const e=[],s={queue:0,queuedBits:0},r=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)du(t.charCodeAt(i),s,r);return new Uint8Array(e)}function Xp(t){const e=[];return Yp(t,s=>e.push(s)),new Uint8Array(e)}function bs(t){const e=[],s={queue:0,queuedBits:0},r=i=>{e.push(i)};return t.forEach(i=>el(i,s,r)),el(null,s,r),e.join("")}function Zp(t){return Math.round(Date.now()/1e3)+t}function em(){return Symbol("auth-callback")}const Me=()=>typeof window<"u"&&typeof document<"u",as={tested:!1,writable:!1},fu=()=>{if(!Me())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(as.tested)return as.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),as.tested=!0,as.writable=!0}catch{as.tested=!0,as.writable=!1}return as.writable};function tm(t){const e={},s=new URL(t);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((i,n)=>{e[n]=i})}catch{}return s.searchParams.forEach((r,i)=>{e[i]=r}),e}const pu=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),sm=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Vs=async(t,e,s)=>{await t.setItem(e,JSON.stringify(s))},ls=async(t,e)=>{const s=await t.getItem(e);if(!s)return null;try{return JSON.parse(s)}catch{return s}},De=async(t,e)=>{await t.removeItem(e)};class Xi{constructor(){this.promise=new Xi.promiseConstructor((e,s)=>{this.resolve=e,this.reject=s})}}Xi.promiseConstructor=Promise;function hi(t){const e=t.split(".");if(e.length!==3)throw new eo("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!zp.test(e[r]))throw new eo("JWT not in base64url format");return{header:JSON.parse(tl(e[0])),payload:JSON.parse(tl(e[1])),signature:Ys(e[2]),raw:{header:e[0],payload:e[1]}}}async function rm(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function im(t,e){return new Promise((r,i)=>{(async()=>{for(let n=0;n<1/0;n++)try{const o=await t(n);if(!e(n,null,o)){r(o);return}}catch(o){if(!e(n,o)){i(o);return}}})()})}function nm(t){return("0"+t.toString(16)).substr(-2)}function om(){const e=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=s.length;let i="";for(let n=0;n<56;n++)i+=s.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(e),Array.from(e,nm).join("")}async function am(t){const s=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",s),i=new Uint8Array(r);return Array.from(i).map(n=>String.fromCharCode(n)).join("")}async function lm(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const s=await am(t);return btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Os(t,e,s=!1){const r=om();let i=r;s&&(i+="/PASSWORD_RECOVERY"),await Vs(t,`${e}-code-verifier`,i);const n=await lm(r);return[n,r===n?"plain":"s256"]}const cm=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function um(t){const e=t.headers.get(Xn);if(!e||!e.match(cm))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function hm(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function dm(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const fm=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ds(t){if(!fm.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function mn(){const t={};return new Proxy(t,{get:(e,s)=>{if(s==="__isUserNotAvailableProxy")return!0;if(typeof s=="symbol"){const r=s.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${s}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function pm(t,e){return new Proxy(t,{get:(s,r,i)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)"||n==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(s,r,i)}return!e.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(s,r,i)}})}function sl(t){return JSON.parse(JSON.stringify(t))}const ps=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),mm=[502,503,504];async function rl(t){var e;if(!sm(t))throw new Zn(ps(t),0);if(mm.includes(t.status))throw new Zn(ps(t),t.status);let s;try{s=await t.json()}catch(n){throw new ws(ps(n),n)}let r;const i=um(t);if(i&&i.getTime()>=hu["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?r=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(r=s.error_code),r){if(r==="weak_password")throw new Xa(ps(s),t.status,((e=s.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new st}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((n,o)=>n&&typeof o=="string",!0))throw new Xa(ps(s),t.status,s.weak_password.reasons);throw new Gp(ps(s),t.status||500,r)}const gm=(t,e,s,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),s))};async function G(t,e,s,r){var i;const n=Object.assign({},r==null?void 0:r.headers);n[Xn]||(n[Xn]=hu["2024-01-01"].name),r!=null&&r.jwt&&(n.Authorization=`Bearer ${r.jwt}`);const o=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await vm(t,e,s+a,{headers:n,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function vm(t,e,s,r,i,n){const o=gm(e,r,i,n);let a;try{a=await t(s,Object.assign({},o))}catch(l){throw console.error(l),new Zn(ps(l),0)}if(a.ok||await rl(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(l){await rl(l)}}function bt(t){var e;let s=null;bm(t)&&(s=Object.assign({},t),t.expires_at||(s.expires_at=Zp(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:s,user:r},error:null}}function il(t){const e=bt(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((s,r)=>s&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function $t(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function ym(t){return{data:t,error:null}}function wm(t){const{action_link:e,email_otp:s,hashed_token:r,redirect_to:i,verification_type:n}=t,o=Ki(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:s,hashed_token:r,redirect_to:i,verification_type:n},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function nl(t){return t}function bm(t){return t.access_token&&t.refresh_token&&t.expires_in}const gn=["global","local","others"];class _m{constructor({url:e="",headers:s={},fetch:r}){this.url=e,this.headers=s,this.fetch=pu(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,s=gn[0]){if(gn.indexOf(s)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${gn.join(", ")}`);try{return await G(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(B(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,s={}){try{return await G(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:$t})}catch(r){if(B(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:s}=e,r=Ki(e,["options"]),i=Object.assign(Object.assign({},r),s);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await G(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:wm,redirectTo:s==null?void 0:s.redirectTo})}catch(s){if(B(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(e){try{return await G(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:$t})}catch(s){if(B(s))return{data:{user:null},error:s};throw s}}async listUsers(e){var s,r,i,n,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},h=await G(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(s=e==null?void 0:e.page)===null||s===void 0?void 0:s.toString())!==null&&r!==void 0?r:"",per_page:(n=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&n!==void 0?n:""},xform:nl});if(h.error)throw h.error;const d=await h.json(),p=(o=h.headers.get("x-total-count"))!==null&&o!==void 0?o:0,f=(l=(a=h.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return f.length>0&&(f.forEach(g=>{const m=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(g.split(";")[1].split("=")[1]);c[`${v}Page`]=m}),c.total=parseInt(p)),{data:Object.assign(Object.assign({},d),c),error:null}}catch(c){if(B(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){Ds(e);try{return await G(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:$t})}catch(s){if(B(s))return{data:{user:null},error:s};throw s}}async updateUserById(e,s){Ds(e);try{return await G(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:s,headers:this.headers,xform:$t})}catch(r){if(B(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,s=!1){Ds(e);try{return await G(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:s},xform:$t})}catch(r){if(B(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){Ds(e.userId);try{const{data:s,error:r}=await G(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:s,error:r}}catch(s){if(B(s))return{data:null,error:s};throw s}}async _deleteFactor(e){Ds(e.userId),Ds(e.id);try{return{data:await G(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(s){if(B(s))return{data:null,error:s};throw s}}async _listOAuthClients(e){var s,r,i,n,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},h=await G(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(s=e==null?void 0:e.page)===null||s===void 0?void 0:s.toString())!==null&&r!==void 0?r:"",per_page:(n=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&n!==void 0?n:""},xform:nl});if(h.error)throw h.error;const d=await h.json(),p=(o=h.headers.get("x-total-count"))!==null&&o!==void 0?o:0,f=(l=(a=h.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return f.length>0&&(f.forEach(g=>{const m=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(g.split(";")[1].split("=")[1]);c[`${v}Page`]=m}),c.total=parseInt(p)),{data:Object.assign(Object.assign({},d),c),error:null}}catch(c){if(B(c))return{data:{clients:[]},error:c};throw c}}async _createOAuthClient(e){try{return await G(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(B(s))return{data:null,error:s};throw s}}async _getOAuthClient(e){try{return await G(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(B(s))return{data:null,error:s};throw s}}async _updateOAuthClient(e,s){try{return await G(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:s,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(B(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(e){try{return await G(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(s){if(B(s))return{data:null,error:s};throw s}}async _regenerateOAuthClientSecret(e){try{return await G(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(B(s))return{data:null,error:s};throw s}}}function ol(t={}){return{getItem:e=>t[e]||null,setItem:(e,s)=>{t[e]=s},removeItem:e=>{delete t[e]}}}const Ms={debug:!!(globalThis&&fu()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class mu extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class xm extends mu{}async function Sm(t,e,s){Ms.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),Ms.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){Ms.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await s()}finally{Ms.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw Ms.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new xm(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Ms.debug)try{const n=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(n,null,"  "))}catch(n){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",n)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}function Am(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function gu(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function Tm(t){return parseInt(t,16)}function Em(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,r=>r.toString(16).padStart(2,"0")).join("")}function Cm(t){var e;const{chainId:s,domain:r,expirationTime:i,issuedAt:n=new Date,nonce:o,notBefore:a,requestId:l,resources:c,scheme:h,uri:d,version:p}=t;{if(!Number.isInteger(s))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${s}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!d)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(p!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${p}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const f=gu(t.address),g=h?`${h}://${r}`:r,m=t.statement?`${t.statement}
`:"",v=`${g} wants you to sign in with your Ethereum account:
${f}

${m}`;let y=`URI: ${d}
Version: ${p}
Chain ID: ${s}${o?`
Nonce: ${o}`:""}
Issued At: ${n.toISOString()}`;if(i&&(y+=`
Expiration Time: ${i.toISOString()}`),a&&(y+=`
Not Before: ${a.toISOString()}`),l&&(y+=`
Request ID: ${l}`),c){let w=`
Resources:`;for(const b of c){if(!b||typeof b!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${b}`);w+=`
- ${b}`}y+=w}return`${v}
${y}`}class Ee extends Error{constructor({message:e,code:s,cause:r,name:i}){var n;super(e,{cause:r}),this.__isWebAuthnError=!0,this.name=(n=i??(r instanceof Error?r.name:void 0))!==null&&n!==void 0?n:"Unknown Error",this.code=s}}class ki extends Ee{constructor(e,s){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s,message:e}),this.name="WebAuthnUnknownError",this.originalError=s}}function km({error:t,options:e}){var s,r,i;const{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Ee({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((s=n.authenticatorSelection)===null||s===void 0?void 0:s.requireResidentKey)===!0)return new Ee({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((r=n.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new Ee({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((i=n.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Ee({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new Ee({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new Ee({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return n.pubKeyCredParams.filter(a=>a.type==="public-key").length===0?new Ee({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new Ee({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const o=window.location.hostname;if(vu(o)){if(n.rp.id!==o)return new Ee({message:`The RP ID "${n.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Ee({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(n.user.id.byteLength<1||n.user.id.byteLength>64)return new Ee({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new Ee({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Ee({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function Pm({error:t,options:e}){const{publicKey:s}=e;if(!s)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Ee({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new Ee({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const r=window.location.hostname;if(vu(r)){if(s.rpId!==r)return new Ee({message:`The RP ID "${s.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Ee({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new Ee({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Ee({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class jm{createNewAbortSignal(){if(this.controller){const s=new Error("Cancelling existing WebAuthn API call for new one");s.name="AbortError",this.controller.abort(s)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const Rm=new jm;function Im(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:s,excludeCredentials:r}=t,i=Ki(t,["challenge","user","excludeCredentials"]),n=Ys(e).buffer,o=Object.assign(Object.assign({},s),{id:Ys(s.id).buffer}),a=Object.assign(Object.assign({},i),{challenge:n,user:o});if(r&&r.length>0){a.excludeCredentials=new Array(r.length);for(let l=0;l<r.length;l++){const c=r[l];a.excludeCredentials[l]=Object.assign(Object.assign({},c),{id:Ys(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return a}function Om(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:s}=t,r=Ki(t,["challenge","allowCredentials"]),i=Ys(e).buffer,n=Object.assign(Object.assign({},r),{challenge:i});if(s&&s.length>0){n.allowCredentials=new Array(s.length);for(let o=0;o<s.length;o++){const a=s[o];n.allowCredentials[o]=Object.assign(Object.assign({},a),{id:Ys(a.id).buffer,type:a.type||"public-key",transports:a.transports})}}return n}function Dm(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const s=t;return{id:t.id,rawId:t.id,response:{attestationObject:bs(new Uint8Array(t.response.attestationObject)),clientDataJSON:bs(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=s.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Mm(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const s=t,r=t.getClientExtensionResults(),i=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:bs(new Uint8Array(i.authenticatorData)),clientDataJSON:bs(new Uint8Array(i.clientDataJSON)),signature:bs(new Uint8Array(i.signature)),userHandle:i.userHandle?bs(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(e=s.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function vu(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function al(){var t,e;return!!(Me()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function Nm(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new ki("Browser returned unexpected credential type",e)}:{data:null,error:new ki("Empty credential response",e)}}catch(e){return{data:null,error:km({error:e,options:t})}}}async function Bm(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new ki("Browser returned unexpected credential type",e)}:{data:null,error:new ki("Empty credential response",e)}}catch(e){return{data:null,error:Pm({error:e,options:t})}}}const Lm={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},Fm={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Pi(...t){const e=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),s=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),r={};for(const i of t)if(i)for(const n in i){const o=i[n];if(o!==void 0)if(Array.isArray(o))r[n]=o;else if(s(o))r[n]=o;else if(e(o)){const a=r[n];e(a)?r[n]=Pi(a,o):r[n]=Pi(o)}else r[n]=o}return r}function Um(t,e){return Pi(Lm,t,e||{})}function Vm(t,e){return Pi(Fm,t,e||{})}class zm{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:s,friendlyName:r,signal:i},n){var o;try{const{data:a,error:l}=await this.client.mfa.challenge({factorId:e,webauthn:s});if(!a)return{data:null,error:l};const c=i??Rm.createNewAbortSignal();if(a.webauthn.type==="create"){const{user:h}=a.webauthn.credential_options.publicKey;if(!h.name){const d=r;if(d)h.name=`${h.id}:${d}`;else{const f=(await this.client.getUser()).data.user,g=((o=f==null?void 0:f.user_metadata)===null||o===void 0?void 0:o.name)||(f==null?void 0:f.email)||(f==null?void 0:f.id)||"User";h.name=`${h.id}:${g}`}}h.displayName||(h.displayName=h.name)}switch(a.webauthn.type){case"create":{const h=Um(a.webauthn.credential_options.publicKey,n==null?void 0:n.create),{data:d,error:p}=await Nm({publicKey:h,signal:c});return d?{data:{factorId:e,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:d}},error:null}:{data:null,error:p}}case"request":{const h=Vm(a.webauthn.credential_options.publicKey,n==null?void 0:n.request),{data:d,error:p}=await Bm(Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:h,signal:c}));return d?{data:{factorId:e,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:d}},error:null}:{data:null,error:p}}}}catch(a){return B(a)?{data:null,error:a}:{data:null,error:new ws("Unexpected error in challenge",a)}}}async _verify({challengeId:e,factorId:s,webauthn:r}){return this.client.mfa.verify({factorId:s,challengeId:e,webauthn:r})}async _authenticate({factorId:e,webauthn:{rpId:s=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},n){if(!s)return{data:null,error:new Nr("rpId is required for WebAuthn authentication")};try{if(!al())return{data:null,error:new ws("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this.challenge({factorId:e,webauthn:{rpId:s,rpOrigins:r},signal:i},{request:n});if(!o)return{data:null,error:a};const{webauthn:l}=o;return this._verify({factorId:e,challengeId:o.challengeId,webauthn:{type:l.type,rpId:s,rpOrigins:r,credential_response:l.credential_response}})}catch(o){return B(o)?{data:null,error:o}:{data:null,error:new ws("Unexpected error in authenticate",o)}}}async _register({friendlyName:e,webauthn:{rpId:s=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},n){if(!s)return{data:null,error:new Nr("rpId is required for WebAuthn registration")};try{if(!al())return{data:null,error:new ws("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this._enroll({friendlyName:e});if(!o)return await this.client.mfa.listFactors().then(h=>{var d;return(d=h.data)===null||d===void 0?void 0:d.all.find(p=>p.factor_type==="webauthn"&&p.friendly_name===e&&p.status!=="unverified")}).then(h=>h?this.client.mfa.unenroll({factorId:h==null?void 0:h.id}):void 0),{data:null,error:a};const{data:l,error:c}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:s,rpOrigins:r},signal:i},{create:n});return l?this._verify({factorId:o.id,challengeId:l.challengeId,webauthn:{rpId:s,rpOrigins:r,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:c}}catch(o){return B(o)?{data:null,error:o}:{data:null,error:new ws("Unexpected error in register",o)}}}}Am();const Wm={url:Fp,storageKey:Up,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Vp,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function ll(t,e,s){return await s()}const Ns={};class Br{get jwks(){var e,s;return(s=(e=Ns[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&s!==void 0?s:{keys:[]}}set jwks(e){Ns[this.storageKey]=Object.assign(Object.assign({},Ns[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,s;return(s=(e=Ns[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&s!==void 0?s:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Ns[this.storageKey]=Object.assign(Object.assign({},Ns[this.storageKey]),{cachedAt:e})}constructor(e){var s,r,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const n=Object.assign(Object.assign({},Wm),e);if(this.storageKey=n.storageKey,this.instanceID=(s=Br.nextInstanceID[this.storageKey])!==null&&s!==void 0?s:0,Br.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!n.debug,typeof n.debug=="function"&&(this.logger=n.debug),this.instanceID>0&&Me()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=n.persistSession,this.autoRefreshToken=n.autoRefreshToken,this.admin=new _m({url:n.url,headers:n.headers,fetch:n.fetch}),this.url=n.url,this.headers=n.headers,this.fetch=pu(n.fetch),this.lock=n.lock||ll,this.detectSessionInUrl=n.detectSessionInUrl,this.flowType=n.flowType,this.hasCustomAuthorizationHeader=n.hasCustomAuthorizationHeader,this.throwOnError=n.throwOnError,this.lockAcquireTimeout=n.lockAcquireTimeout,n.lock?this.lock=n.lock:this.persistSession&&Me()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=Sm:this.lock=ll,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new zm(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(n.storage?this.storage=n.storage:fu()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=ol(this.memoryStorage)),n.userStorage&&(this.userStorage=n.userStorage)):(this.memoryStorage={},this.storage=ol(this.memoryStorage)),Me()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o);try{await this._notifyAllSubscribers(o.data.event,o.data.session,!1)}catch(a){this._debug("#broadcastChannel","error",a)}})}this.initialize().catch(o=>{this._debug("#initialize()","error",o)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${uu}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let s={},r="none";if(Me()&&(s=tm(window.location.href),this._isImplicitGrantCallback(s)?r="implicit":await this._isPKCECallback(s)&&(r="pkce")),Me()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:n}=await this._getSessionFromURL(s,r);if(n){if(this._debug("#_initialize()","error detecting session from URL",n),$p(n)){const l=(e=n.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:n}}return{error:n}}const{session:o,redirectType:a}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return B(s)?this._returnResult({error:s}):this._returnResult({error:new ws("Unexpected error during initialization",s)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var s,r,i;try{const n=await G(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.captchaToken}},xform:bt}),{data:o,error:a}=n;if(a||!o)return this._returnResult({data:{user:null,session:null},error:a});const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(n){if(B(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signUp(e){var s,r,i;try{let n;if("email"in e){const{email:h,password:d,options:p}=e;let f=null,g=null;this.flowType==="pkce"&&([f,g]=await Os(this.storage,this.storageKey)),n=await G(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:p==null?void 0:p.emailRedirectTo,body:{email:h,password:d,data:(s=p==null?void 0:p.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:f,code_challenge_method:g},xform:bt})}else if("phone"in e){const{phone:h,password:d,options:p}=e;n=await G(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:h,password:d,data:(r=p==null?void 0:p.data)!==null&&r!==void 0?r:{},channel:(i=p==null?void 0:p.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:bt})}else throw new ci("You must provide either an email or phone number and a password");const{data:o,error:a}=n;if(a||!o)return await De(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:a});const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(n){if(await De(this.storage,`${this.storageKey}-code-verifier`),B(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithPassword(e){try{let s;if("email"in e){const{email:n,password:o,options:a}=e;s=await G(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:n,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:il})}else if("phone"in e){const{phone:n,password:o,options:a}=e;s=await G(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:n,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:il})}else throw new ci("You must provide either an email or phone number and a password");const{data:r,error:i}=s;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!r||!r.session||!r.user){const n=new Is;return this._returnResult({data:{user:null,session:null},error:n})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(s){if(B(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithOAuth(e){var s,r,i,n;return await this._handleProviderSignIn(e.provider,{redirectTo:(s=e.options)===null||s===void 0?void 0:s.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(n=e.options)===null||n===void 0?void 0:n.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:s}=e;switch(s){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${s}"`)}}async signInWithEthereum(e){var s,r,i,n,o,a,l,c,h,d,p;let f,g;if("message"in e)f=e.message,g=e.signature;else{const{chain:m,wallet:v,statement:y,options:w}=e;let b;if(Me())if(typeof v=="object")b=v;else{const k=window;if("ethereum"in k&&typeof k.ethereum=="object"&&"request"in k.ethereum&&typeof k.ethereum.request=="function")b=k.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");b=v}const _=new URL((s=w==null?void 0:w.url)!==null&&s!==void 0?s:window.location.href),x=await b.request({method:"eth_requestAccounts"}).then(k=>k).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!x||x.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const A=gu(x[0]);let T=(r=w==null?void 0:w.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!T){const k=await b.request({method:"eth_chainId"});T=Tm(k)}const C={domain:_.host,address:A,statement:y,uri:_.href,version:"1",chainId:T,nonce:(i=w==null?void 0:w.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(o=(n=w==null?void 0:w.signInWithEthereum)===null||n===void 0?void 0:n.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(a=w==null?void 0:w.signInWithEthereum)===null||a===void 0?void 0:a.expirationTime,notBefore:(l=w==null?void 0:w.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(c=w==null?void 0:w.signInWithEthereum)===null||c===void 0?void 0:c.requestId,resources:(h=w==null?void 0:w.signInWithEthereum)===null||h===void 0?void 0:h.resources};f=Cm(C),g=await b.request({method:"personal_sign",params:[Em(f),A]})}try{const{data:m,error:v}=await G(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:f,signature:g},!((d=e.options)===null||d===void 0)&&d.captchaToken?{gotrue_meta_security:{captcha_token:(p=e.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:bt});if(v)throw v;if(!m||!m.session||!m.user){const y=new Is;return this._returnResult({data:{user:null,session:null},error:y})}return m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),this._returnResult({data:Object.assign({},m),error:v})}catch(m){if(B(m))return this._returnResult({data:{user:null,session:null},error:m});throw m}}async signInWithSolana(e){var s,r,i,n,o,a,l,c,h,d,p,f;let g,m;if("message"in e)g=e.message,m=e.signature;else{const{chain:v,wallet:y,statement:w,options:b}=e;let _;if(Me())if(typeof y=="object")_=y;else{const A=window;if("solana"in A&&typeof A.solana=="object"&&("signIn"in A.solana&&typeof A.solana.signIn=="function"||"signMessage"in A.solana&&typeof A.solana.signMessage=="function"))_=A.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(b!=null&&b.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=y}const x=new URL((s=b==null?void 0:b.url)!==null&&s!==void 0?s:window.location.href);if("signIn"in _&&_.signIn){const A=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},b==null?void 0:b.signInWithSolana),{version:"1",domain:x.host,uri:x.href}),w?{statement:w}:null));let T;if(Array.isArray(A)&&A[0]&&typeof A[0]=="object")T=A[0];else if(A&&typeof A=="object"&&"signedMessage"in A&&"signature"in A)T=A;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in T&&"signature"in T&&(typeof T.signedMessage=="string"||T.signedMessage instanceof Uint8Array)&&T.signature instanceof Uint8Array)g=typeof T.signedMessage=="string"?T.signedMessage:new TextDecoder().decode(T.signedMessage),m=T.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");g=[`${x.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...w?["",w,""]:[""],"Version: 1",`URI: ${x.href}`,`Issued At: ${(i=(r=b==null?void 0:b.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((n=b==null?void 0:b.signInWithSolana)===null||n===void 0)&&n.notBefore?[`Not Before: ${b.signInWithSolana.notBefore}`]:[],...!((o=b==null?void 0:b.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${b.signInWithSolana.expirationTime}`]:[],...!((a=b==null?void 0:b.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${b.signInWithSolana.chainId}`]:[],...!((l=b==null?void 0:b.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${b.signInWithSolana.nonce}`]:[],...!((c=b==null?void 0:b.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${b.signInWithSolana.requestId}`]:[],...!((d=(h=b==null?void 0:b.signInWithSolana)===null||h===void 0?void 0:h.resources)===null||d===void 0)&&d.length?["Resources",...b.signInWithSolana.resources.map(T=>`- ${T}`)]:[]].join(`
`);const A=await _.signMessage(new TextEncoder().encode(g),"utf8");if(!A||!(A instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");m=A}}try{const{data:v,error:y}=await G(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:g,signature:bs(m)},!((p=e.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(f=e.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:bt});if(y)throw y;if(!v||!v.session||!v.user){const w=new Is;return this._returnResult({data:{user:null,session:null},error:w})}return v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),this._returnResult({data:Object.assign({},v),error:y})}catch(v){if(B(v))return this._returnResult({data:{user:null,session:null},error:v});throw v}}async _exchangeCodeForSession(e){const s=await ls(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(s??"").split("/");try{if(!r&&this.flowType==="pkce")throw new qp;const{data:n,error:o}=await G(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:bt});if(await De(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!n||!n.session||!n.user){const a=new Is;return this._returnResult({data:{user:null,session:null,redirectType:null},error:a})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign(Object.assign({},n),{redirectType:i??null}),error:o})}catch(n){if(await De(this.storage,`${this.storageKey}-code-verifier`),B(n))return this._returnResult({data:{user:null,session:null,redirectType:null},error:n});throw n}}async signInWithIdToken(e){try{const{options:s,provider:r,token:i,access_token:n,nonce:o}=e,a=await G(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:n,nonce:o,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:bt}),{data:l,error:c}=a;if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l||!l.session||!l.user){const h=new Is;return this._returnResult({data:{user:null,session:null},error:h})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:c})}catch(s){if(B(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithOtp(e){var s,r,i,n,o;try{if("email"in e){const{email:a,options:l}=e;let c=null,h=null;this.flowType==="pkce"&&([c,h]=await Os(this.storage,this.storageKey));const{error:d}=await G(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:h},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:d})}if("phone"in e){const{phone:a,options:l}=e,{data:c,error:h}=await G(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(i=l==null?void 0:l.data)!==null&&i!==void 0?i:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:h})}throw new ci("You must provide either an email or phone number.")}catch(a){if(await De(this.storage,`${this.storageKey}-code-verifier`),B(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async verifyOtp(e){var s,r;try{let i,n;"options"in e&&(i=(s=e.options)===null||s===void 0?void 0:s.redirectTo,n=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await G(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:n}}),redirectTo:i,xform:bt});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,c=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(i){if(B(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(e){var s,r,i,n,o;try{let a=null,l=null;this.flowType==="pkce"&&([a,l]=await Os(this.storage,this.storageKey));const c=await G(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(s=e.options)===null||s===void 0?void 0:s.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:l}),headers:this.headers,xform:ym});return!((n=c.data)===null||n===void 0)&&n.url&&Me()&&!(!((o=e.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(c.data.url),this._returnResult(c)}catch(a){if(await De(this.storage,`${this.storageKey}-code-verifier`),B(a))return this._returnResult({data:null,error:a});throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:s},error:r}=e;if(r)throw r;if(!s)throw new st;const{error:i}=await G(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(e){if(B(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const s=`${this.url}/resend`;if("email"in e){const{email:r,type:i,options:n}=e,{error:o}=await G(this.fetch,"POST",s,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},redirectTo:n==null?void 0:n.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in e){const{phone:r,type:i,options:n}=e,{data:o,error:a}=await G(this.fetch,"POST",s,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a})}throw new ci("You must provide either an email or phone number and a type")}catch(s){if(B(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async s=>s))}async _acquireLock(e,s){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await s()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=s();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await e(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const s=await ls(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?e=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<dn:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const o=await ls(this.userStorage,this.storageKey+"-user");o!=null&&o.user?e.user=o.user:e.user=mn()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};e.user=pm(e.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:i,error:n}=await this._callRefreshToken(e.refresh_token);return n?this._returnResult({data:{session:null},error:n}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const s=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return s.data.user&&(this.suppressGetSessionWarning=!0),s}async _getUser(e){try{return e?await G(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:$t}):await this._useSession(async s=>{var r,i,n;const{data:o,error:a}=s;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new st}:await G(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(n=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&n!==void 0?n:void 0,xform:$t})})}catch(s){if(B(s))return fn(s)&&(await this._removeSession(),await De(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:s});throw s}}async updateUser(e,s={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(e,s))}async _updateUser(e,s={}){try{return await this._useSession(async r=>{const{data:i,error:n}=r;if(n)throw n;if(!i.session)throw new st;const o=i.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await Os(this.storage,this.storageKey));const{data:c,error:h}=await G(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s==null?void 0:s.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:$t});if(h)throw h;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(r){if(await De(this.storage,`${this.storageKey}-code-verifier`),B(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new st;const s=Date.now()/1e3;let r=s,i=!0,n=null;const{payload:o}=hi(e.access_token);if(o.exp&&(r=o.exp,i=r<=s),i){const{data:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!a)return{data:{user:null,session:null},error:null};n=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});n={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:r-s,expires_at:r},await this._saveSession(n),await this._notifyAllSubscribers("SIGNED_IN",n)}return this._returnResult({data:{user:n.user,session:n},error:null})}catch(s){if(B(s))return this._returnResult({data:{session:null,user:null},error:s});throw s}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async s=>{var r;if(!e){const{data:o,error:a}=s;if(a)throw a;e=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new st;const{data:i,error:n}=await this._callRefreshToken(e.refresh_token);return n?this._returnResult({data:{user:null,session:null},error:n}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(s){if(B(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async _getSessionFromURL(e,s){try{if(!Me())throw new ui("No browser detected.");if(e.error||e.error_description||e.error_code)throw new ui(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new Ja("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ui("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Ja("No code detected.");const{data:w,error:b}=await this._exchangeCodeForSession(e.code);if(b)throw b;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:w.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:n,refresh_token:o,expires_in:a,expires_at:l,token_type:c}=e;if(!n||!a||!o||!c)throw new ui("No session defined in URL");const h=Math.round(Date.now()/1e3),d=parseInt(a);let p=h+d;l&&(p=parseInt(l));const f=p-h;f*1e3<=Us&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${f}s, should have been closer to ${d}s`);const g=p-d;h-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,p,h):h-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,p,h);const{data:m,error:v}=await this._getUser(n);if(v)throw v;const y={provider_token:r,provider_refresh_token:i,access_token:n,expires_in:d,expires_at:p,refresh_token:o,token_type:c,user:m.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:y,redirectType:e.type},error:null})}catch(r){if(B(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const s=await ls(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&s)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async s=>{var r;const{data:i,error:n}=s;if(n&&!fn(n))return this._returnResult({error:n});const o=(r=i.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(Hp(a)&&(a.status===404||a.status===401||a.status===403)||fn(a)))return this._returnResult({error:a})}return e!=="others"&&(await this._removeSession(),await De(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const s=em(),r={id:s,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,r),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async s=>{var r,i;try{const{data:{session:n},error:o}=s;if(o)throw o;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",n)),this._debug("INITIAL_SESSION","callback id",e,"session",n)}catch(n){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",n),console.error(n)}})}async resetPasswordForEmail(e,s={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await Os(this.storage,this.storageKey,!0));try{return await G(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(n){if(await De(this.storage,`${this.storageKey}-code-verifier`),B(n))return this._returnResult({data:null,error:n});throw n}}async getUserIdentities(){var e;try{const{data:s,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(e=s.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(s){if(B(s))return this._returnResult({data:null,error:s});throw s}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var s;try{const{data:r,error:i}=await this._useSession(async n=>{var o,a,l,c,h;const{data:d,error:p}=n;if(p)throw p;const f=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await G(this.fetch,"GET",f,{headers:this.headers,jwt:(h=(c=d.session)===null||c===void 0?void 0:c.access_token)!==null&&h!==void 0?h:void 0})});if(i)throw i;return Me()&&!(!((s=e.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),this._returnResult({data:{provider:e.provider,url:r==null?void 0:r.url},error:null})}catch(r){if(B(r))return this._returnResult({data:{provider:e.provider,url:null},error:r});throw r}}async linkIdentityIdToken(e){return await this._useSession(async s=>{var r;try{const{error:i,data:{session:n}}=s;if(i)throw i;const{options:o,provider:a,token:l,access_token:c,nonce:h}=e,d=await G(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=n==null?void 0:n.access_token)!==null&&r!==void 0?r:void 0,body:{provider:a,id_token:l,access_token:c,nonce:h,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:bt}),{data:p,error:f}=d;return f?this._returnResult({data:{user:null,session:null},error:f}):!p||!p.session||!p.user?this._returnResult({data:{user:null,session:null},error:new Is}):(p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("USER_UPDATED",p.session)),this._returnResult({data:p,error:f}))}catch(i){if(await De(this.storage,`${this.storageKey}-code-verifier`),B(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(e){try{return await this._useSession(async s=>{var r,i;const{data:n,error:o}=s;if(o)throw o;return await G(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(r=n.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(s){if(B(s))return this._returnResult({data:null,error:s});throw s}}async _refreshAccessToken(e){const s=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{const r=Date.now();return await im(async i=>(i>0&&await rm(200*Math.pow(2,i-1)),this._debug(s,"refreshing attempt",i),await G(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:bt})),(i,n)=>{const o=200*Math.pow(2,i);return n&&pn(n)&&Date.now()+o-r<Us})}catch(r){if(this._debug(s,"error",r),B(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(s,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,s){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",s,"url",r),Me()&&!s.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,s;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await ls(this.storage,this.storageKey);if(i&&this.userStorage){let o=await ls(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:i.user},await Vs(this.userStorage,this.storageKey+"-user",o)),i.user=(e=o==null?void 0:o.user)!==null&&e!==void 0?e:mn()}else if(i&&!i.user&&!i.user){const o=await ls(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(i.user=o.user,await De(this.storage,this.storageKey+"-user"),await Vs(this.storage,this.storageKey,i)):i.user=mn()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const n=((s=i.expires_at)!==null&&s!==void 0?s:1/0)*1e3-Date.now()<dn;if(this._debug(r,`session has${n?"":" not"} expired with margin of ${dn}s`),n){if(this.autoRefreshToken&&i.refresh_token){const{error:o}=await this._callRefreshToken(i.refresh_token);o&&(console.error(o),pn(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:a}=await this._getUser(i.access_token);!a&&(o!=null&&o.user)?(i.user=o.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(r,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var s,r;if(!e)throw new st;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Xi;const{data:n,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!n.session)throw new st;await this._saveSession(n.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",n.session);const a={data:n.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(n){if(this._debug(i,"error",n),B(n)){const o={data:null,error:n};return pn(n)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(n),n}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,s,r=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",s,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:s});const n=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,s)}catch(l){n.push(l)}});if(await Promise.all(o),n.length>0){for(let a=0;a<n.length;a+=1)console.error(n[a]);throw n[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await De(this.storage,`${this.storageKey}-code-verifier`);const s=Object.assign({},e),r=s.user&&s.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&s.user&&await Vs(this.userStorage,this.storageKey+"-user",{user:s.user});const i=Object.assign({},s);delete i.user;const n=sl(i);await Vs(this.storage,this.storageKey,n)}else{const i=sl(s);await Vs(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await De(this.storage,this.storageKey),await De(this.storage,this.storageKey+"-code-verifier"),await De(this.storage,this.storageKey+"-user"),this.userStorage&&await De(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Me()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Us);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e);const s=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=s,s&&typeof s=="object"&&typeof s.unref=="function"?s.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(s)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e);const s=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,s&&clearTimeout(s)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async s=>{const{data:{session:r}}=s;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-e)/Us);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Us}ms, refresh threshold is ${Jn} ticks`),i<=Jn&&await this._callRefreshToken(r.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof mu)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Me()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(e){this._debug("#visibilityChangedCallback","error",e)}},window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const s=`#_onVisibilityChanged(${e})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,s,r){const i=[`provider=${encodeURIComponent(s)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[n,o]=await Os(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(n)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(a.toString())}if(r!=null&&r.queryParams){const n=new URLSearchParams(r.queryParams);i.push(n.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async s=>{var r;const{data:i,error:n}=s;return n?this._returnResult({data:null,error:n}):await G(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(s){if(B(s))return this._returnResult({data:null,error:s});throw s}}async _enroll(e){try{return await this._useSession(async s=>{var r,i;const{data:n,error:o}=s;if(o)return this._returnResult({data:null,error:o});const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:l,error:c}=await G(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=n==null?void 0:n.session)===null||r===void 0?void 0:r.access_token});return c?this._returnResult({data:null,error:c}):(e.factorType==="totp"&&l.type==="totp"&&(!((i=l==null?void 0:l.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(s){if(B(s))return this._returnResult({data:null,error:s});throw s}}async _verify(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async s=>{var r;const{data:i,error:n}=s;if(n)return this._returnResult({data:null,error:n});const o=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?Dm(e.webauthn.credential_response):Mm(e.webauthn.credential_response)})}:{code:e.code}),{data:a,error:l}=await G(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:o,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),this._returnResult({data:a,error:l}))})}catch(s){if(B(s))return this._returnResult({data:null,error:s});throw s}})}async _challenge(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async s=>{var r;const{data:i,error:n}=s;if(n)return this._returnResult({data:null,error:n});const o=await G(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});if(o.error)return o;const{data:a}=o;if(a.type!=="webauthn")return{data:a,error:null};switch(a.webauthn.type){case"create":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:Im(a.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:Om(a.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(s){if(B(s))return this._returnResult({data:null,error:s});throw s}})}async _challengeAndVerify(e){const{data:s,error:r}=await this._challenge({factorId:e.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:e.factorId,challengeId:s.id,code:e.code})}async _listFactors(){var e;const{data:{user:s},error:r}=await this.getUser();if(r)return{data:null,error:r};const i={all:[],phone:[],totp:[],webauthn:[]};for(const n of(e=s==null?void 0:s.factors)!==null&&e!==void 0?e:[])i.all.push(n),n.status==="verified"&&i[n.factor_type].push(n);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(e){var s,r,i,n;if(e)try{const{payload:f}=hi(e);let g=null;f.aal&&(g=f.aal);let m=g;const{data:{user:v},error:y}=await this.getUser(e);if(y)return this._returnResult({data:null,error:y});((r=(s=v==null?void 0:v.factors)===null||s===void 0?void 0:s.filter(_=>_.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(m="aal2");const b=f.amr||[];return{data:{currentLevel:g,nextLevel:m,currentAuthenticationMethods:b},error:null}}catch(f){if(B(f))return this._returnResult({data:null,error:f});throw f}const{data:{session:o},error:a}=await this.getSession();if(a)return this._returnResult({data:null,error:a});if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=hi(o.access_token);let c=null;l.aal&&(c=l.aal);let h=c;((n=(i=o.user.factors)===null||i===void 0?void 0:i.filter(f=>f.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(h="aal2");const p=l.amr||[];return{data:{currentLevel:c,nextLevel:h,currentAuthenticationMethods:p},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async s=>{const{data:{session:r},error:i}=s;return i?this._returnResult({data:null,error:i}):r?await G(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:r.access_token,xform:n=>({data:n,error:null})}):this._returnResult({data:null,error:new st})})}catch(s){if(B(s))return this._returnResult({data:null,error:s});throw s}}async _approveAuthorization(e,s){try{return await this._useSession(async r=>{const{data:{session:i},error:n}=r;if(n)return this._returnResult({data:null,error:n});if(!i)return this._returnResult({data:null,error:new st});const o=await G(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:a=>({data:a,error:null})});return o.data&&o.data.redirect_url&&Me()&&!(s!=null&&s.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(r){if(B(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(e,s){try{return await this._useSession(async r=>{const{data:{session:i},error:n}=r;if(n)return this._returnResult({data:null,error:n});if(!i)return this._returnResult({data:null,error:new st});const o=await G(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:a=>({data:a,error:null})});return o.data&&o.data.redirect_url&&Me()&&!(s!=null&&s.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(r){if(B(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:s},error:r}=e;return r?this._returnResult({data:null,error:r}):s?await G(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:s.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new st})})}catch(e){if(B(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async s=>{const{data:{session:r},error:i}=s;return i?this._returnResult({data:null,error:i}):r?(await G(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new st})})}catch(s){if(B(s))return this._returnResult({data:null,error:s});throw s}}async fetchJwk(e,s={keys:[]}){let r=s.keys.find(a=>a.kid===e);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(a=>a.kid===e),r&&this.jwks_cached_at+Wp>i)return r;const{data:n,error:o}=await G(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!n.keys||n.keys.length===0||(this.jwks=n,this.jwks_cached_at=i,r=n.keys.find(a=>a.kid===e),!r)?null:r}async getClaims(e,s={}){try{let r=e;if(!r){const{data:f,error:g}=await this.getSession();if(g||!f.session)return this._returnResult({data:null,error:g});r=f.session.access_token}const{header:i,payload:n,signature:o,raw:{header:a,payload:l}}=hi(r);s!=null&&s.allowExpired||hm(n.exp);const c=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,s!=null&&s.keys?{keys:s.keys}:s==null?void 0:s.jwks);if(!c){const{error:f}=await this.getUser(r);if(f)throw f;return{data:{claims:n,header:i,signature:o},error:null}}const h=dm(i.alg),d=await crypto.subtle.importKey("jwk",c,h,!0,["verify"]);if(!await crypto.subtle.verify(h,d,o,Xp(`${a}.${l}`)))throw new eo("Invalid JWT signature");return{data:{claims:n,header:i,signature:o},error:null}}catch(r){if(B(r))return this._returnResult({data:null,error:r});throw r}}}Br.nextInstanceID={};const Gm=Br,Hm="2.93.3";let yr="";typeof Deno<"u"?yr="deno":typeof document<"u"?yr="web":typeof navigator<"u"&&navigator.product==="ReactNative"?yr="react-native":yr="node";const $m={"X-Client-Info":`supabase-js-${yr}/${Hm}`},qm={headers:$m},Qm={schema:"public"},Km={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Ym={};function Lr(t){"@babel/helpers - typeof";return Lr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lr(t)}function Jm(t,e){if(Lr(t)!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var r=s.call(t,e);if(Lr(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Xm(t){var e=Jm(t,"string");return Lr(e)=="symbol"?e:e+""}function Zm(t,e,s){return(e=Xm(e))in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}function cl(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),s.push.apply(s,r)}return s}function be(t){for(var e=1;e<arguments.length;e++){var s=arguments[e]!=null?arguments[e]:{};e%2?cl(Object(s),!0).forEach(function(r){Zm(t,r,s[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):cl(Object(s)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(s,r))})}return t}const eg=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),tg=()=>Headers,sg=(t,e,s)=>{const r=eg(s),i=tg();return async(n,o)=>{var a;const l=(a=await e())!==null&&a!==void 0?a:t;let c=new i(o==null?void 0:o.headers);return c.has("apikey")||c.set("apikey",t),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),r(n,be(be({},o),{},{headers:c}))}};function rg(t){return t.endsWith("/")?t:t+"/"}function ig(t,e){var s,r;const{db:i,auth:n,realtime:o,global:a}=t,{db:l,auth:c,realtime:h,global:d}=e,p={db:be(be({},l),i),auth:be(be({},c),n),realtime:be(be({},h),o),storage:{},global:be(be(be({},d),a),{},{headers:be(be({},(s=d==null?void 0:d.headers)!==null&&s!==void 0?s:{}),(r=a==null?void 0:a.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return t.accessToken?p.accessToken=t.accessToken:delete p.accessToken,p}function ng(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(rg(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var og=class extends Gm{constructor(t){super(t)}},ag=class{constructor(t,e,s){var r,i;this.supabaseUrl=t,this.supabaseKey=e;const n=ng(t);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",n),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",n),this.storageUrl=new URL("storage/v1",n),this.functionsUrl=new URL("functions/v1",n);const o=`sb-${n.hostname.split(".")[0]}-auth-token`,a={db:Qm,realtime:Ym,auth:be(be({},Km),{},{storageKey:o}),global:qm},l=ig(s??{},a);if(this.storageKey=(r=l.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(i=l.global.headers)!==null&&i!==void 0?i:{},l.accessToken)this.accessToken=l.accessToken,this.auth=new Proxy({},{get:(h,d)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(d)} is not possible`)}});else{var c;this.auth=this._initSupabaseAuthClient((c=l.auth)!==null&&c!==void 0?c:{},this.headers,l.global.fetch)}this.fetch=sg(e,this._getAccessToken.bind(this),l.global.fetch),this.realtime=this._initRealtimeClient(be({headers:this.headers,accessToken:this._getAccessToken.bind(this)},l.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(h=>this.realtime.setAuth(h)).catch(h=>console.warn("Failed to set initial Realtime auth token:",h)),this.rest=new Hf(new URL("rest/v1",n).href,{headers:this.headers,schema:l.db.schema,fetch:this.fetch}),this.storage=new Lp(this.storageUrl.href,this.headers,this.fetch,s==null?void 0:s.storage),l.accessToken||this._listenForAuthEvents()}get functions(){return new Uf(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},s={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,e,s)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t=this,e,s;if(t.accessToken)return await t.accessToken();const{data:r}=await t.auth.getSession();return(e=(s=r.session)===null||s===void 0?void 0:s.access_token)!==null&&e!==void 0?e:t.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:s,storage:r,userStorage:i,storageKey:n,flowType:o,lock:a,debug:l,throwOnError:c},h,d){const p={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new og({url:this.authUrl.href,headers:be(be({},p),h),storageKey:n,autoRefreshToken:t,persistSession:e,detectSessionInUrl:s,storage:r,userStorage:i,flowType:o,lock:a,debug:l,throwOnError:c,fetch:d,hasCustomAuthorizationHeader:Object.keys(this.headers).some(f=>f.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new lp(this.realtimeUrl.href,be(be({},t),{},{params:be(be({},{apikey:this.supabaseKey}),t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,e)=>{this._handleTokenChanged(t,"CLIENT",e==null?void 0:e.access_token)})}_handleTokenChanged(t,e,s){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==s?(this.changedAccessToken=s,this.realtime.setAuth(s)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const lg=(t,e,s)=>new ag(t,e,s);function cg(){if(typeof window<"u")return!1;const t=globalThis.process;if(!t)return!1;const e=t.version;if(e==null)return!1;const s=e.match(/^v(\d+)\./);return s?parseInt(s[1],10)<=18:!1}cg()&&console.warn("âš ï¸  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const ug="https://caibyqdwzyhzatrdlqso.supabase.co",hg="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImNhaWJ5cWR3enloemF0cmRscXNvIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njk5NzAxMTIsImV4cCI6MjA4NTU0NjExMn0.TQxlzL1h9PbAZbBitC_fpqepsGZX9WwOWvCxQBdZ-6I",Dt=lg(ug,hg,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0}}),yu=S.createContext(null);function dg({children:t}){const[e,s]=S.useState(null),[r,i]=S.useState(!0);S.useEffect(()=>{Dt.auth.getSession().then(({data:{session:g}})=>{var m,v;g!=null&&g.user&&s({id:g.user.id,email:g.user.email,username:((m=g.user.user_metadata)==null?void 0:m.username)||((v=g.user.email)==null?void 0:v.split("@")[0])}),i(!1)});const{data:{subscription:f}}=Dt.auth.onAuthStateChange(async(g,m)=>{var v,y;console.log("Auth state changed:",g),m!=null&&m.user?s({id:m.user.id,email:m.user.email,username:((v=m.user.user_metadata)==null?void 0:v.username)||((y=m.user.email)==null?void 0:y.split("@")[0])}):s(null),i(!1)});return()=>{f.unsubscribe()}},[]);const p={user:e,loading:r,isAuthenticated:!!e,login:async(f,g)=>{var m,v;try{const{data:y,error:w}=await Dt.auth.signInWithPassword({email:f.includes("@")?f:`${f}@temp.com`,password:g});if(w)throw w;return{success:!0,data:{user:{id:y.user.id,email:y.user.email,username:((m=y.user.user_metadata)==null?void 0:m.username)||((v=y.user.email)==null?void 0:v.split("@")[0])}}}}catch(y){throw console.error("Login error:",y),new Error(y.message||"Invalid email or password")}},register:async(f,g,m,v)=>{try{if(!v)throw new Error("You must accept the terms and conditions");const{data:y,error:w}=await Dt.auth.signUp({email:g,password:m,options:{data:{username:f}}});if(w)throw w;if(y.user&&!y.session)throw new Error("Please check your email to confirm your account");return{success:!0,data:{user:{id:y.user.id,email:y.user.email,username:f}}}}catch(y){throw console.error("Registration error:",y),new Error(y.message||"Registration failed")}},logout:async()=>{try{const{error:f}=await Dt.auth.signOut();if(f)throw f;s(null)}catch(f){throw console.error("Logout error:",f),f}},resetPassword:async f=>{try{const{error:g}=await Dt.auth.resetPasswordForEmail(f,{redirectTo:`${window.location.origin}/reset-password`});if(g)throw g;return{success:!0}}catch(g){throw console.error("Password reset error:",g),g}},updatePassword:async f=>{try{const{error:g}=await Dt.auth.updateUser({password:f});if(g)throw g;return{success:!0}}catch(g){throw console.error("Update password error:",g),g}},updateUser:f=>{s(g=>({...g,...f}))},getSession:async()=>{const{data:{session:f}}=await Dt.auth.getSession();return f}};return u.jsx(yu.Provider,{value:p,children:t})}function cr(){const t=S.useContext(yu);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t}class wu extends Ke.Component{constructor(e){super(e),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0}}componentDidCatch(e,s){console.error("ErrorBoundary caught an error:",e,s),this.setState({error:e})}render(){return this.state.hasError?u.jsxs("div",{style:{padding:"2rem",textAlign:"center",color:"#e0e0e0",minHeight:"100vh",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",backgroundColor:"#0a0e1a"},children:[u.jsx("h1",{style:{fontSize:"2rem",marginBottom:"1rem"},children:"Something went wrong"}),u.jsx("p",{style:{marginBottom:"2rem",color:"#999"},children:"Please refresh the page or try again later."}),u.jsx("button",{onClick:()=>window.location.reload(),style:{padding:"0.75rem 2rem",backgroundColor:"#4da6ff",color:"#fff",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"1rem"},children:"Reload Page"})]}):this.props.children}}function Nt(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function bu(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}/*!
 * GSAP 3.14.2
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var lt={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},tr={duration:.5,overwrite:!1,delay:0},Uo,Be,he,pt=1e8,oe=1/pt,to=Math.PI*2,fg=to/4,pg=0,_u=Math.sqrt,mg=Math.cos,gg=Math.sin,Oe=function(e){return typeof e=="string"},xe=function(e){return typeof e=="function"},Ft=function(e){return typeof e=="number"},Vo=function(e){return typeof e>"u"},Pt=function(e){return typeof e=="object"},Ye=function(e){return e!==!1},zo=function(){return typeof window<"u"},di=function(e){return xe(e)||Oe(e)},xu=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},Ue=Array.isArray,vg=/random\([^)]+\)/g,yg=/,\s*/g,ul=/(?:-?\.?\d|\.)+/gi,Su=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,Gs=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,vn=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,Au=/[+-]=-?[.\d]+/,wg=/[^,'"\[\]\s]+/gi,bg=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,pe,At,so,Wo,ct={},ji={},Tu,Eu=function(e){return(ji=sr(e,ct))&&et},Go=function(e,s){return console.warn("Invalid property",e,"set to",s,"Missing plugin? gsap.registerPlugin()")},Fr=function(e,s){return!s&&console.warn(e)},Cu=function(e,s){return e&&(ct[e]=s)&&ji&&(ji[e]=s)||ct},Ur=function(){return 0},_g={suppressEvents:!0,isStart:!0,kill:!1},bi={suppressEvents:!0,kill:!1},xg={suppressEvents:!0},Ho={},Jt=[],ro={},ku,rt={},yn={},hl=30,_i=[],$o="",qo=function(e){var s=e[0],r,i;if(Pt(s)||xe(s)||(e=[e]),!(r=(s._gsap||{}).harness)){for(i=_i.length;i--&&!_i[i].targetTest(s););r=_i[i]}for(i=e.length;i--;)e[i]&&(e[i]._gsap||(e[i]._gsap=new Xu(e[i],r)))||e.splice(i,1);return e},As=function(e){return e._gsap||qo(mt(e))[0]._gsap},Pu=function(e,s,r){return(r=e[s])&&xe(r)?e[s]():Vo(r)&&e.getAttribute&&e.getAttribute(s)||r},Je=function(e,s){return(e=e.split(",")).forEach(s)||e},Te=function(e){return Math.round(e*1e5)/1e5||0},fe=function(e){return Math.round(e*1e7)/1e7||0},Js=function(e,s){var r=s.charAt(0),i=parseFloat(s.substr(2));return e=parseFloat(e),r==="+"?e+i:r==="-"?e-i:r==="*"?e*i:e/i},Sg=function(e,s){for(var r=s.length,i=0;e.indexOf(s[i])<0&&++i<r;);return i<r},Ri=function(){var e=Jt.length,s=Jt.slice(0),r,i;for(ro={},Jt.length=0,r=0;r<e;r++)i=s[r],i&&i._lazy&&(i.render(i._lazy[0],i._lazy[1],!0)._lazy=0)},Qo=function(e){return!!(e._initted||e._startAt||e.add)},ju=function(e,s,r,i){Jt.length&&!Be&&Ri(),e.render(s,r,!!(Be&&s<0&&Qo(e))),Jt.length&&!Be&&Ri()},Ru=function(e){var s=parseFloat(e);return(s||s===0)&&(e+"").match(wg).length<2?s:Oe(e)?e.trim():e},Iu=function(e){return e},ut=function(e,s){for(var r in s)r in e||(e[r]=s[r]);return e},Ag=function(e){return function(s,r){for(var i in r)i in s||i==="duration"&&e||i==="ease"||(s[i]=r[i])}},sr=function(e,s){for(var r in s)e[r]=s[r];return e},dl=function t(e,s){for(var r in s)r!=="__proto__"&&r!=="constructor"&&r!=="prototype"&&(e[r]=Pt(s[r])?t(e[r]||(e[r]={}),s[r]):s[r]);return e},Ii=function(e,s){var r={},i;for(i in e)i in s||(r[i]=e[i]);return r},Tr=function(e){var s=e.parent||pe,r=e.keyframes?Ag(Ue(e.keyframes)):ut;if(Ye(e.inherit))for(;s;)r(e,s.vars.defaults),s=s.parent||s._dp;return e},Tg=function(e,s){for(var r=e.length,i=r===s.length;i&&r--&&e[r]===s[r];);return r<0},Ou=function(e,s,r,i,n){var o=e[i],a;if(n)for(a=s[n];o&&o[n]>a;)o=o._prev;return o?(s._next=o._next,o._next=s):(s._next=e[r],e[r]=s),s._next?s._next._prev=s:e[i]=s,s._prev=o,s.parent=s._dp=e,s},Zi=function(e,s,r,i){r===void 0&&(r="_first"),i===void 0&&(i="_last");var n=s._prev,o=s._next;n?n._next=o:e[r]===s&&(e[r]=o),o?o._prev=n:e[i]===s&&(e[i]=n),s._next=s._prev=s.parent=null},Zt=function(e,s){e.parent&&(!s||e.parent.autoRemoveChildren)&&e.parent.remove&&e.parent.remove(e),e._act=0},Ts=function(e,s){if(e&&(!s||s._end>e._dur||s._start<0))for(var r=e;r;)r._dirty=1,r=r.parent;return e},Eg=function(e){for(var s=e.parent;s&&s.parent;)s._dirty=1,s.totalDuration(),s=s.parent;return e},io=function(e,s,r,i){return e._startAt&&(Be?e._startAt.revert(bi):e.vars.immediateRender&&!e.vars.autoRevert||e._startAt.render(s,!0,i))},Cg=function t(e){return!e||e._ts&&t(e.parent)},fl=function(e){return e._repeat?rr(e._tTime,e=e.duration()+e._rDelay)*e:0},rr=function(e,s){var r=Math.floor(e=fe(e/s));return e&&r===e?r-1:r},Oi=function(e,s){return(e-s._start)*s._ts+(s._ts>=0?0:s._dirty?s.totalDuration():s._tDur)},en=function(e){return e._end=fe(e._start+(e._tDur/Math.abs(e._ts||e._rts||oe)||0))},tn=function(e,s){var r=e._dp;return r&&r.smoothChildTiming&&e._ts&&(e._start=fe(r._time-(e._ts>0?s/e._ts:((e._dirty?e.totalDuration():e._tDur)-s)/-e._ts)),en(e),r._dirty||Ts(r,e)),e},Du=function(e,s){var r;if((s._time||!s._dur&&s._initted||s._start<e._time&&(s._dur||!s.add))&&(r=Oi(e.rawTime(),s),(!s._dur||Xr(0,s.totalDuration(),r)-s._tTime>oe)&&s.render(r,!0)),Ts(e,s)._dp&&e._initted&&e._time>=e._dur&&e._ts){if(e._dur<e.duration())for(r=e;r._dp;)r.rawTime()>=0&&r.totalTime(r._tTime),r=r._dp;e._zTime=-oe}},Et=function(e,s,r,i){return s.parent&&Zt(s),s._start=fe((Ft(r)?r:r||e!==pe?ht(e,r,s):e._time)+s._delay),s._end=fe(s._start+(s.totalDuration()/Math.abs(s.timeScale())||0)),Ou(e,s,"_first","_last",e._sort?"_start":0),no(s)||(e._recent=s),i||Du(e,s),e._ts<0&&tn(e,e._tTime),e},Mu=function(e,s){return(ct.ScrollTrigger||Go("scrollTrigger",s))&&ct.ScrollTrigger.create(s,e)},Nu=function(e,s,r,i,n){if(Yo(e,s,n),!e._initted)return 1;if(!r&&e._pt&&!Be&&(e._dur&&e.vars.lazy!==!1||!e._dur&&e.vars.lazy)&&ku!==nt.frame)return Jt.push(e),e._lazy=[n,i],1},kg=function t(e){var s=e.parent;return s&&s._ts&&s._initted&&!s._lock&&(s.rawTime()<0||t(s))},no=function(e){var s=e.data;return s==="isFromStart"||s==="isStart"},Pg=function(e,s,r,i){var n=e.ratio,o=s<0||!s&&(!e._start&&kg(e)&&!(!e._initted&&no(e))||(e._ts<0||e._dp._ts<0)&&!no(e))?0:1,a=e._rDelay,l=0,c,h,d;if(a&&e._repeat&&(l=Xr(0,e._tDur,s),h=rr(l,a),e._yoyo&&h&1&&(o=1-o),h!==rr(e._tTime,a)&&(n=1-o,e.vars.repeatRefresh&&e._initted&&e.invalidate())),o!==n||Be||i||e._zTime===oe||!s&&e._zTime){if(!e._initted&&Nu(e,s,i,r,l))return;for(d=e._zTime,e._zTime=s||(r?oe:0),r||(r=s&&!d),e.ratio=o,e._from&&(o=1-o),e._time=0,e._tTime=l,c=e._pt;c;)c.r(o,c.d),c=c._next;s<0&&io(e,s,r,!0),e._onUpdate&&!r&&ot(e,"onUpdate"),l&&e._repeat&&!r&&e.parent&&ot(e,"onRepeat"),(s>=e._tDur||s<0)&&e.ratio===o&&(o&&Zt(e,1),!r&&!Be&&(ot(e,o?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}else e._zTime||(e._zTime=s)},jg=function(e,s,r){var i;if(r>s)for(i=e._first;i&&i._start<=r;){if(i.data==="isPause"&&i._start>s)return i;i=i._next}else for(i=e._last;i&&i._start>=r;){if(i.data==="isPause"&&i._start<s)return i;i=i._prev}},ir=function(e,s,r,i){var n=e._repeat,o=fe(s)||0,a=e._tTime/e._tDur;return a&&!i&&(e._time*=o/e._dur),e._dur=o,e._tDur=n?n<0?1e10:fe(o*(n+1)+e._rDelay*n):o,a>0&&!i&&tn(e,e._tTime=e._tDur*a),e.parent&&en(e),r||Ts(e.parent,e),e},pl=function(e){return e instanceof Ge?Ts(e):ir(e,e._dur)},Rg={_start:0,endTime:Ur,totalDuration:Ur},ht=function t(e,s,r){var i=e.labels,n=e._recent||Rg,o=e.duration()>=pt?n.endTime(!1):e._dur,a,l,c;return Oe(s)&&(isNaN(s)||s in i)?(l=s.charAt(0),c=s.substr(-1)==="%",a=s.indexOf("="),l==="<"||l===">"?(a>=0&&(s=s.replace(/=/,"")),(l==="<"?n._start:n.endTime(n._repeat>=0))+(parseFloat(s.substr(1))||0)*(c?(a<0?n:r).totalDuration()/100:1)):a<0?(s in i||(i[s]=o),i[s]):(l=parseFloat(s.charAt(a-1)+s.substr(a+1)),c&&r&&(l=l/100*(Ue(r)?r[0]:r).totalDuration()),a>1?t(e,s.substr(0,a-1),r)+l:o+l)):s==null?o:+s},Er=function(e,s,r){var i=Ft(s[1]),n=(i?2:1)+(e<2?0:1),o=s[n],a,l;if(i&&(o.duration=s[1]),o.parent=r,e){for(a=o,l=r;l&&!("immediateRender"in a);)a=l.vars.defaults||{},l=Ye(l.vars.inherit)&&l.parent;o.immediateRender=Ye(a.immediateRender),e<2?o.runBackwards=1:o.startAt=s[n-1]}return new ke(s[0],o,s[n+1])},is=function(e,s){return e||e===0?s(e):s},Xr=function(e,s,r){return r<e?e:r>s?s:r},Le=function(e,s){return!Oe(e)||!(s=bg.exec(e))?"":s[1]},Ig=function(e,s,r){return is(r,function(i){return Xr(e,s,i)})},oo=[].slice,Bu=function(e,s){return e&&Pt(e)&&"length"in e&&(!s&&!e.length||e.length-1 in e&&Pt(e[0]))&&!e.nodeType&&e!==At},Og=function(e,s,r){return r===void 0&&(r=[]),e.forEach(function(i){var n;return Oe(i)&&!s||Bu(i,1)?(n=r).push.apply(n,mt(i)):r.push(i)})||r},mt=function(e,s,r){return he&&!s&&he.selector?he.selector(e):Oe(e)&&!r&&(so||!nr())?oo.call((s||Wo).querySelectorAll(e),0):Ue(e)?Og(e,r):Bu(e)?oo.call(e,0):e?[e]:[]},ao=function(e){return e=mt(e)[0]||Fr("Invalid scope")||{},function(s){var r=e.current||e.nativeElement||e;return mt(s,r.querySelectorAll?r:r===e?Fr("Invalid scope")||Wo.createElement("div"):e)}},Lu=function(e){return e.sort(function(){return .5-Math.random()})},Fu=function(e){if(xe(e))return e;var s=Pt(e)?e:{each:e},r=Es(s.ease),i=s.from||0,n=parseFloat(s.base)||0,o={},a=i>0&&i<1,l=isNaN(i)||a,c=s.axis,h=i,d=i;return Oe(i)?h=d={center:.5,edges:.5,end:1}[i]||0:!a&&l&&(h=i[0],d=i[1]),function(p,f,g){var m=(g||s).length,v=o[m],y,w,b,_,x,A,T,C,k;if(!v){if(k=s.grid==="auto"?0:(s.grid||[1,pt])[1],!k){for(T=-pt;T<(T=g[k++].getBoundingClientRect().left)&&k<m;);k<m&&k--}for(v=o[m]=[],y=l?Math.min(k,m)*h-.5:i%k,w=k===pt?0:l?m*d/k-.5:i/k|0,T=0,C=pt,A=0;A<m;A++)b=A%k-y,_=w-(A/k|0),v[A]=x=c?Math.abs(c==="y"?_:b):_u(b*b+_*_),x>T&&(T=x),x<C&&(C=x);i==="random"&&Lu(v),v.max=T-C,v.min=C,v.v=m=(parseFloat(s.amount)||parseFloat(s.each)*(k>m?m-1:c?c==="y"?m/k:k:Math.max(k,m/k))||0)*(i==="edges"?-1:1),v.b=m<0?n-m:n,v.u=Le(s.amount||s.each)||0,r=r&&m<0?Ku(r):r}return m=(v[p]-v.min)/v.max||0,fe(v.b+(r?r(m):m)*v.v)+v.u}},lo=function(e){var s=Math.pow(10,((e+"").split(".")[1]||"").length);return function(r){var i=fe(Math.round(parseFloat(r)/e)*e*s);return(i-i%1)/s+(Ft(r)?0:Le(r))}},Uu=function(e,s){var r=Ue(e),i,n;return!r&&Pt(e)&&(i=r=e.radius||pt,e.values?(e=mt(e.values),(n=!Ft(e[0]))&&(i*=i)):e=lo(e.increment)),is(s,r?xe(e)?function(o){return n=e(o),Math.abs(n-o)<=i?n:o}:function(o){for(var a=parseFloat(n?o.x:o),l=parseFloat(n?o.y:0),c=pt,h=0,d=e.length,p,f;d--;)n?(p=e[d].x-a,f=e[d].y-l,p=p*p+f*f):p=Math.abs(e[d]-a),p<c&&(c=p,h=d);return h=!i||c<=i?e[h]:o,n||h===o||Ft(o)?h:h+Le(o)}:lo(e))},Vu=function(e,s,r,i){return is(Ue(e)?!s:r===!0?!!(r=0):!i,function(){return Ue(e)?e[~~(Math.random()*e.length)]:(r=r||1e-5)&&(i=r<1?Math.pow(10,(r+"").length-2):1)&&Math.floor(Math.round((e-r/2+Math.random()*(s-e+r*.99))/r)*r*i)/i})},Dg=function(){for(var e=arguments.length,s=new Array(e),r=0;r<e;r++)s[r]=arguments[r];return function(i){return s.reduce(function(n,o){return o(n)},i)}},Mg=function(e,s){return function(r){return e(parseFloat(r))+(s||Le(r))}},Ng=function(e,s,r){return Wu(e,s,0,1,r)},zu=function(e,s,r){return is(r,function(i){return e[~~s(i)]})},Bg=function t(e,s,r){var i=s-e;return Ue(e)?zu(e,t(0,e.length),s):is(r,function(n){return(i+(n-e)%i)%i+e})},Lg=function t(e,s,r){var i=s-e,n=i*2;return Ue(e)?zu(e,t(0,e.length-1),s):is(r,function(o){return o=(n+(o-e)%n)%n||0,e+(o>i?n-o:o)})},Vr=function(e){return e.replace(vg,function(s){var r=s.indexOf("[")+1,i=s.substring(r||7,r?s.indexOf("]"):s.length-1).split(yg);return Vu(r?i:+i[0],r?0:+i[1],+i[2]||1e-5)})},Wu=function(e,s,r,i,n){var o=s-e,a=i-r;return is(n,function(l){return r+((l-e)/o*a||0)})},Fg=function t(e,s,r,i){var n=isNaN(e+s)?0:function(f){return(1-f)*e+f*s};if(!n){var o=Oe(e),a={},l,c,h,d,p;if(r===!0&&(i=1)&&(r=null),o)e={p:e},s={p:s};else if(Ue(e)&&!Ue(s)){for(h=[],d=e.length,p=d-2,c=1;c<d;c++)h.push(t(e[c-1],e[c]));d--,n=function(g){g*=d;var m=Math.min(p,~~g);return h[m](g-m)},r=s}else i||(e=sr(Ue(e)?[]:{},e));if(!h){for(l in s)Ko.call(a,e,l,"get",s[l]);n=function(g){return Zo(g,a)||(o?e.p:e)}}}return is(r,n)},ml=function(e,s,r){var i=e.labels,n=pt,o,a,l;for(o in i)a=i[o]-s,a<0==!!r&&a&&n>(a=Math.abs(a))&&(l=o,n=a);return l},ot=function(e,s,r){var i=e.vars,n=i[s],o=he,a=e._ctx,l,c,h;if(n)return l=i[s+"Params"],c=i.callbackScope||e,r&&Jt.length&&Ri(),a&&(he=a),h=l?n.apply(c,l):n.call(c),he=o,h},wr=function(e){return Zt(e),e.scrollTrigger&&e.scrollTrigger.kill(!!Be),e.progress()<1&&ot(e,"onInterrupt"),e},Hs,Gu=[],Hu=function(e){if(e)if(e=!e.name&&e.default||e,zo()||e.headless){var s=e.name,r=xe(e),i=s&&!r&&e.init?function(){this._props=[]}:e,n={init:Ur,render:Zo,add:Ko,kill:t0,modifier:e0,rawVars:0},o={targetTest:0,get:0,getSetter:Xo,aliases:{},register:0};if(nr(),e!==i){if(rt[s])return;ut(i,ut(Ii(e,n),o)),sr(i.prototype,sr(n,Ii(e,o))),rt[i.prop=s]=i,e.targetTest&&(_i.push(i),Ho[s]=1),s=(s==="css"?"CSS":s.charAt(0).toUpperCase()+s.substr(1))+"Plugin"}Cu(s,i),e.register&&e.register(et,i,Xe)}else Gu.push(e)},ne=255,br={aqua:[0,ne,ne],lime:[0,ne,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,ne],navy:[0,0,128],white:[ne,ne,ne],olive:[128,128,0],yellow:[ne,ne,0],orange:[ne,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[ne,0,0],pink:[ne,192,203],cyan:[0,ne,ne],transparent:[ne,ne,ne,0]},wn=function(e,s,r){return e+=e<0?1:e>1?-1:0,(e*6<1?s+(r-s)*e*6:e<.5?r:e*3<2?s+(r-s)*(2/3-e)*6:s)*ne+.5|0},$u=function(e,s,r){var i=e?Ft(e)?[e>>16,e>>8&ne,e&ne]:0:br.black,n,o,a,l,c,h,d,p,f,g;if(!i){if(e.substr(-1)===","&&(e=e.substr(0,e.length-1)),br[e])i=br[e];else if(e.charAt(0)==="#"){if(e.length<6&&(n=e.charAt(1),o=e.charAt(2),a=e.charAt(3),e="#"+n+n+o+o+a+a+(e.length===5?e.charAt(4)+e.charAt(4):"")),e.length===9)return i=parseInt(e.substr(1,6),16),[i>>16,i>>8&ne,i&ne,parseInt(e.substr(7),16)/255];e=parseInt(e.substr(1),16),i=[e>>16,e>>8&ne,e&ne]}else if(e.substr(0,3)==="hsl"){if(i=g=e.match(ul),!s)l=+i[0]%360/360,c=+i[1]/100,h=+i[2]/100,o=h<=.5?h*(c+1):h+c-h*c,n=h*2-o,i.length>3&&(i[3]*=1),i[0]=wn(l+1/3,n,o),i[1]=wn(l,n,o),i[2]=wn(l-1/3,n,o);else if(~e.indexOf("="))return i=e.match(Su),r&&i.length<4&&(i[3]=1),i}else i=e.match(ul)||br.transparent;i=i.map(Number)}return s&&!g&&(n=i[0]/ne,o=i[1]/ne,a=i[2]/ne,d=Math.max(n,o,a),p=Math.min(n,o,a),h=(d+p)/2,d===p?l=c=0:(f=d-p,c=h>.5?f/(2-d-p):f/(d+p),l=d===n?(o-a)/f+(o<a?6:0):d===o?(a-n)/f+2:(n-o)/f+4,l*=60),i[0]=~~(l+.5),i[1]=~~(c*100+.5),i[2]=~~(h*100+.5)),r&&i.length<4&&(i[3]=1),i},qu=function(e){var s=[],r=[],i=-1;return e.split(Xt).forEach(function(n){var o=n.match(Gs)||[];s.push.apply(s,o),r.push(i+=o.length+1)}),s.c=r,s},gl=function(e,s,r){var i="",n=(e+i).match(Xt),o=s?"hsla(":"rgba(",a=0,l,c,h,d;if(!n)return e;if(n=n.map(function(p){return(p=$u(p,s,1))&&o+(s?p[0]+","+p[1]+"%,"+p[2]+"%,"+p[3]:p.join(","))+")"}),r&&(h=qu(e),l=r.c,l.join(i)!==h.c.join(i)))for(c=e.replace(Xt,"1").split(Gs),d=c.length-1;a<d;a++)i+=c[a]+(~l.indexOf(a)?n.shift()||o+"0,0,0,0)":(h.length?h:n.length?n:r).shift());if(!c)for(c=e.split(Xt),d=c.length-1;a<d;a++)i+=c[a]+n[a];return i+c[d]},Xt=function(){var t="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",e;for(e in br)t+="|"+e+"\\b";return new RegExp(t+")","gi")}(),Ug=/hsl[a]?\(/,Qu=function(e){var s=e.join(" "),r;if(Xt.lastIndex=0,Xt.test(s))return r=Ug.test(s),e[1]=gl(e[1],r),e[0]=gl(e[0],r,qu(e[1])),!0},zr,nt=function(){var t=Date.now,e=500,s=33,r=t(),i=r,n=1e3/240,o=n,a=[],l,c,h,d,p,f,g=function m(v){var y=t()-i,w=v===!0,b,_,x,A;if((y>e||y<0)&&(r+=y-s),i+=y,x=i-r,b=x-o,(b>0||w)&&(A=++d.frame,p=x-d.time*1e3,d.time=x=x/1e3,o+=b+(b>=n?4:n-b),_=1),w||(l=c(m)),_)for(f=0;f<a.length;f++)a[f](x,p,A,v)};return d={time:0,frame:0,tick:function(){g(!0)},deltaRatio:function(v){return p/(1e3/(v||60))},wake:function(){Tu&&(!so&&zo()&&(At=so=window,Wo=At.document||{},ct.gsap=et,(At.gsapVersions||(At.gsapVersions=[])).push(et.version),Eu(ji||At.GreenSockGlobals||!At.gsap&&At||{}),Gu.forEach(Hu)),h=typeof requestAnimationFrame<"u"&&requestAnimationFrame,l&&d.sleep(),c=h||function(v){return setTimeout(v,o-d.time*1e3+1|0)},zr=1,g(2))},sleep:function(){(h?cancelAnimationFrame:clearTimeout)(l),zr=0,c=Ur},lagSmoothing:function(v,y){e=v||1/0,s=Math.min(y||33,e)},fps:function(v){n=1e3/(v||240),o=d.time*1e3+n},add:function(v,y,w){var b=y?function(_,x,A,T){v(_,x,A,T),d.remove(b)}:v;return d.remove(v),a[w?"unshift":"push"](b),nr(),b},remove:function(v,y){~(y=a.indexOf(v))&&a.splice(y,1)&&f>=y&&f--},_listeners:a},d}(),nr=function(){return!zr&&nt.wake()},X={},Vg=/^[\d.\-M][\d.\-,\s]/,zg=/["']/g,Wg=function(e){for(var s={},r=e.substr(1,e.length-3).split(":"),i=r[0],n=1,o=r.length,a,l,c;n<o;n++)l=r[n],a=n!==o-1?l.lastIndexOf(","):l.length,c=l.substr(0,a),s[i]=isNaN(c)?c.replace(zg,"").trim():+c,i=l.substr(a+1).trim();return s},Gg=function(e){var s=e.indexOf("(")+1,r=e.indexOf(")"),i=e.indexOf("(",s);return e.substring(s,~i&&i<r?e.indexOf(")",r+1):r)},Hg=function(e){var s=(e+"").split("("),r=X[s[0]];return r&&s.length>1&&r.config?r.config.apply(null,~e.indexOf("{")?[Wg(s[1])]:Gg(e).split(",").map(Ru)):X._CE&&Vg.test(e)?X._CE("",e):r},Ku=function(e){return function(s){return 1-e(1-s)}},Yu=function t(e,s){for(var r=e._first,i;r;)r instanceof Ge?t(r,s):r.vars.yoyoEase&&(!r._yoyo||!r._repeat)&&r._yoyo!==s&&(r.timeline?t(r.timeline,s):(i=r._ease,r._ease=r._yEase,r._yEase=i,r._yoyo=s)),r=r._next},Es=function(e,s){return e&&(xe(e)?e:X[e]||Hg(e))||s},js=function(e,s,r,i){r===void 0&&(r=function(l){return 1-s(1-l)}),i===void 0&&(i=function(l){return l<.5?s(l*2)/2:1-s((1-l)*2)/2});var n={easeIn:s,easeOut:r,easeInOut:i},o;return Je(e,function(a){X[a]=ct[a]=n,X[o=a.toLowerCase()]=r;for(var l in n)X[o+(l==="easeIn"?".in":l==="easeOut"?".out":".inOut")]=X[a+"."+l]=n[l]}),n},Ju=function(e){return function(s){return s<.5?(1-e(1-s*2))/2:.5+e((s-.5)*2)/2}},bn=function t(e,s,r){var i=s>=1?s:1,n=(r||(e?.3:.45))/(s<1?s:1),o=n/to*(Math.asin(1/i)||0),a=function(h){return h===1?1:i*Math.pow(2,-10*h)*gg((h-o)*n)+1},l=e==="out"?a:e==="in"?function(c){return 1-a(1-c)}:Ju(a);return n=to/n,l.config=function(c,h){return t(e,c,h)},l},_n=function t(e,s){s===void 0&&(s=1.70158);var r=function(o){return o?--o*o*((s+1)*o+s)+1:0},i=e==="out"?r:e==="in"?function(n){return 1-r(1-n)}:Ju(r);return i.config=function(n){return t(e,n)},i};Je("Linear,Quad,Cubic,Quart,Quint,Strong",function(t,e){var s=e<5?e+1:e;js(t+",Power"+(s-1),e?function(r){return Math.pow(r,s)}:function(r){return r},function(r){return 1-Math.pow(1-r,s)},function(r){return r<.5?Math.pow(r*2,s)/2:1-Math.pow((1-r)*2,s)/2})});X.Linear.easeNone=X.none=X.Linear.easeIn;js("Elastic",bn("in"),bn("out"),bn());(function(t,e){var s=1/e,r=2*s,i=2.5*s,n=function(a){return a<s?t*a*a:a<r?t*Math.pow(a-1.5/e,2)+.75:a<i?t*(a-=2.25/e)*a+.9375:t*Math.pow(a-2.625/e,2)+.984375};js("Bounce",function(o){return 1-n(1-o)},n)})(7.5625,2.75);js("Expo",function(t){return Math.pow(2,10*(t-1))*t+t*t*t*t*t*t*(1-t)});js("Circ",function(t){return-(_u(1-t*t)-1)});js("Sine",function(t){return t===1?1:-mg(t*fg)+1});js("Back",_n("in"),_n("out"),_n());X.SteppedEase=X.steps=ct.SteppedEase={config:function(e,s){e===void 0&&(e=1);var r=1/e,i=e+(s?0:1),n=s?1:0,o=1-oe;return function(a){return((i*Xr(0,o,a)|0)+n)*r}}};tr.ease=X["quad.out"];Je("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(t){return $o+=t+","+t+"Params,"});var Xu=function(e,s){this.id=pg++,e._gsap=this,this.target=e,this.harness=s,this.get=s?s.get:Pu,this.set=s?s.getSetter:Xo},Wr=function(){function t(s){this.vars=s,this._delay=+s.delay||0,(this._repeat=s.repeat===1/0?-2:s.repeat||0)&&(this._rDelay=s.repeatDelay||0,this._yoyo=!!s.yoyo||!!s.yoyoEase),this._ts=1,ir(this,+s.duration,1,1),this.data=s.data,he&&(this._ctx=he,he.data.push(this)),zr||nt.wake()}var e=t.prototype;return e.delay=function(r){return r||r===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+r-this._delay),this._delay=r,this):this._delay},e.duration=function(r){return arguments.length?this.totalDuration(this._repeat>0?r+(r+this._rDelay)*this._repeat:r):this.totalDuration()&&this._dur},e.totalDuration=function(r){return arguments.length?(this._dirty=0,ir(this,this._repeat<0?r:(r-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},e.totalTime=function(r,i){if(nr(),!arguments.length)return this._tTime;var n=this._dp;if(n&&n.smoothChildTiming&&this._ts){for(tn(this,r),!n._dp||n.parent||Du(n,this);n&&n.parent;)n.parent._time!==n._start+(n._ts>=0?n._tTime/n._ts:(n.totalDuration()-n._tTime)/-n._ts)&&n.totalTime(n._tTime,!0),n=n.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&r<this._tDur||this._ts<0&&r>0||!this._tDur&&!r)&&Et(this._dp,this,this._start-this._delay)}return(this._tTime!==r||!this._dur&&!i||this._initted&&Math.abs(this._zTime)===oe||!this._initted&&this._dur&&r||!r&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=r),ju(this,r,i)),this},e.time=function(r,i){return arguments.length?this.totalTime(Math.min(this.totalDuration(),r+fl(this))%(this._dur+this._rDelay)||(r?this._dur:0),i):this._time},e.totalProgress=function(r,i){return arguments.length?this.totalTime(this.totalDuration()*r,i):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.rawTime()>=0&&this._initted?1:0},e.progress=function(r,i){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-r:r)+fl(this),i):this.duration()?Math.min(1,this._time/this._dur):this.rawTime()>0?1:0},e.iteration=function(r,i){var n=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(r-1)*n,i):this._repeat?rr(this._tTime,n)+1:1},e.timeScale=function(r,i){if(!arguments.length)return this._rts===-oe?0:this._rts;if(this._rts===r)return this;var n=this.parent&&this._ts?Oi(this.parent._time,this):this._tTime;return this._rts=+r||0,this._ts=this._ps||r===-oe?0:this._rts,this.totalTime(Xr(-Math.abs(this._delay),this.totalDuration(),n),i!==!1),en(this),Eg(this)},e.paused=function(r){return arguments.length?(this._ps!==r&&(this._ps=r,r?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(nr(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==oe&&(this._tTime-=oe)))),this):this._ps},e.startTime=function(r){if(arguments.length){this._start=fe(r);var i=this.parent||this._dp;return i&&(i._sort||!this.parent)&&Et(i,this,this._start-this._delay),this}return this._start},e.endTime=function(r){return this._start+(Ye(r)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},e.rawTime=function(r){var i=this.parent||this._dp;return i?r&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?Oi(i.rawTime(r),this):this._tTime:this._tTime},e.revert=function(r){r===void 0&&(r=xg);var i=Be;return Be=r,Qo(this)&&(this.timeline&&this.timeline.revert(r),this.totalTime(-.01,r.suppressEvents)),this.data!=="nested"&&r.kill!==!1&&this.kill(),Be=i,this},e.globalTime=function(r){for(var i=this,n=arguments.length?r:i.rawTime();i;)n=i._start+n/(Math.abs(i._ts)||1),i=i._dp;return!this.parent&&this._sat?this._sat.globalTime(r):n},e.repeat=function(r){return arguments.length?(this._repeat=r===1/0?-2:r,pl(this)):this._repeat===-2?1/0:this._repeat},e.repeatDelay=function(r){if(arguments.length){var i=this._time;return this._rDelay=r,pl(this),i?this.time(i):this}return this._rDelay},e.yoyo=function(r){return arguments.length?(this._yoyo=r,this):this._yoyo},e.seek=function(r,i){return this.totalTime(ht(this,r),Ye(i))},e.restart=function(r,i){return this.play().totalTime(r?-this._delay:0,Ye(i)),this._dur||(this._zTime=-oe),this},e.play=function(r,i){return r!=null&&this.seek(r,i),this.reversed(!1).paused(!1)},e.reverse=function(r,i){return r!=null&&this.seek(r||this.totalDuration(),i),this.reversed(!0).paused(!1)},e.pause=function(r,i){return r!=null&&this.seek(r,i),this.paused(!0)},e.resume=function(){return this.paused(!1)},e.reversed=function(r){return arguments.length?(!!r!==this.reversed()&&this.timeScale(-this._rts||(r?-oe:0)),this):this._rts<0},e.invalidate=function(){return this._initted=this._act=0,this._zTime=-oe,this},e.isActive=function(){var r=this.parent||this._dp,i=this._start,n;return!!(!r||this._ts&&this._initted&&r.isActive()&&(n=r.rawTime(!0))>=i&&n<this.endTime(!0)-oe)},e.eventCallback=function(r,i,n){var o=this.vars;return arguments.length>1?(i?(o[r]=i,n&&(o[r+"Params"]=n),r==="onUpdate"&&(this._onUpdate=i)):delete o[r],this):o[r]},e.then=function(r){var i=this,n=i._prom;return new Promise(function(o){var a=xe(r)?r:Iu,l=function(){var h=i.then;i.then=null,n&&n(),xe(a)&&(a=a(i))&&(a.then||a===i)&&(i.then=h),o(a),i.then=h};i._initted&&i.totalProgress()===1&&i._ts>=0||!i._tTime&&i._ts<0?l():i._prom=l})},e.kill=function(){wr(this)},t}();ut(Wr.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-oe,_prom:0,_ps:!1,_rts:1});var Ge=function(t){bu(e,t);function e(r,i){var n;return r===void 0&&(r={}),n=t.call(this,r)||this,n.labels={},n.smoothChildTiming=!!r.smoothChildTiming,n.autoRemoveChildren=!!r.autoRemoveChildren,n._sort=Ye(r.sortChildren),pe&&Et(r.parent||pe,Nt(n),i),r.reversed&&n.reverse(),r.paused&&n.paused(!0),r.scrollTrigger&&Mu(Nt(n),r.scrollTrigger),n}var s=e.prototype;return s.to=function(i,n,o){return Er(0,arguments,this),this},s.from=function(i,n,o){return Er(1,arguments,this),this},s.fromTo=function(i,n,o,a){return Er(2,arguments,this),this},s.set=function(i,n,o){return n.duration=0,n.parent=this,Tr(n).repeatDelay||(n.repeat=0),n.immediateRender=!!n.immediateRender,new ke(i,n,ht(this,o),1),this},s.call=function(i,n,o){return Et(this,ke.delayedCall(0,i,n),o)},s.staggerTo=function(i,n,o,a,l,c,h){return o.duration=n,o.stagger=o.stagger||a,o.onComplete=c,o.onCompleteParams=h,o.parent=this,new ke(i,o,ht(this,l)),this},s.staggerFrom=function(i,n,o,a,l,c,h){return o.runBackwards=1,Tr(o).immediateRender=Ye(o.immediateRender),this.staggerTo(i,n,o,a,l,c,h)},s.staggerFromTo=function(i,n,o,a,l,c,h,d){return a.startAt=o,Tr(a).immediateRender=Ye(a.immediateRender),this.staggerTo(i,n,a,l,c,h,d)},s.render=function(i,n,o){var a=this._time,l=this._dirty?this.totalDuration():this._tDur,c=this._dur,h=i<=0?0:fe(i),d=this._zTime<0!=i<0&&(this._initted||!c),p,f,g,m,v,y,w,b,_,x,A,T;if(this!==pe&&h>l&&i>=0&&(h=l),h!==this._tTime||o||d){if(a!==this._time&&c&&(h+=this._time-a,i+=this._time-a),p=h,_=this._start,b=this._ts,y=!b,d&&(c||(a=this._zTime),(i||!n)&&(this._zTime=i)),this._repeat){if(A=this._yoyo,v=c+this._rDelay,this._repeat<-1&&i<0)return this.totalTime(v*100+i,n,o);if(p=fe(h%v),h===l?(m=this._repeat,p=c):(x=fe(h/v),m=~~x,m&&m===x&&(p=c,m--),p>c&&(p=c)),x=rr(this._tTime,v),!a&&this._tTime&&x!==m&&this._tTime-x*v-this._dur<=0&&(x=m),A&&m&1&&(p=c-p,T=1),m!==x&&!this._lock){var C=A&&x&1,k=C===(A&&m&1);if(m<x&&(C=!C),a=C?0:h%c?c:h,this._lock=1,this.render(a||(T?0:fe(m*v)),n,!c)._lock=0,this._tTime=h,!n&&this.parent&&ot(this,"onRepeat"),this.vars.repeatRefresh&&!T&&(this.invalidate()._lock=1,x=m),a&&a!==this._time||y!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(c=this._dur,l=this._tDur,k&&(this._lock=2,a=C?c:-1e-4,this.render(a,!0),this.vars.repeatRefresh&&!T&&this.invalidate()),this._lock=0,!this._ts&&!y)return this;Yu(this,T)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(w=jg(this,fe(a),fe(p)),w&&(h-=p-(p=w._start))),this._tTime=h,this._time=p,this._act=!b,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=i,a=0),!a&&h&&c&&!n&&!x&&(ot(this,"onStart"),this._tTime!==h))return this;if(p>=a&&i>=0)for(f=this._first;f;){if(g=f._next,(f._act||p>=f._start)&&f._ts&&w!==f){if(f.parent!==this)return this.render(i,n,o);if(f.render(f._ts>0?(p-f._start)*f._ts:(f._dirty?f.totalDuration():f._tDur)+(p-f._start)*f._ts,n,o),p!==this._time||!this._ts&&!y){w=0,g&&(h+=this._zTime=-oe);break}}f=g}else{f=this._last;for(var j=i<0?i:p;f;){if(g=f._prev,(f._act||j<=f._end)&&f._ts&&w!==f){if(f.parent!==this)return this.render(i,n,o);if(f.render(f._ts>0?(j-f._start)*f._ts:(f._dirty?f.totalDuration():f._tDur)+(j-f._start)*f._ts,n,o||Be&&Qo(f)),p!==this._time||!this._ts&&!y){w=0,g&&(h+=this._zTime=j?-oe:oe);break}}f=g}}if(w&&!n&&(this.pause(),w.render(p>=a?0:-oe)._zTime=p>=a?1:-1,this._ts))return this._start=_,en(this),this.render(i,n,o);this._onUpdate&&!n&&ot(this,"onUpdate",!0),(h===l&&this._tTime>=this.totalDuration()||!h&&a)&&(_===this._start||Math.abs(b)!==Math.abs(this._ts))&&(this._lock||((i||!c)&&(h===l&&this._ts>0||!h&&this._ts<0)&&Zt(this,1),!n&&!(i<0&&!a)&&(h||a||!l)&&(ot(this,h===l&&i>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(h<l&&this.timeScale()>0)&&this._prom())))}return this},s.add=function(i,n){var o=this;if(Ft(n)||(n=ht(this,n,i)),!(i instanceof Wr)){if(Ue(i))return i.forEach(function(a){return o.add(a,n)}),this;if(Oe(i))return this.addLabel(i,n);if(xe(i))i=ke.delayedCall(0,i);else return this}return this!==i?Et(this,i,n):this},s.getChildren=function(i,n,o,a){i===void 0&&(i=!0),n===void 0&&(n=!0),o===void 0&&(o=!0),a===void 0&&(a=-pt);for(var l=[],c=this._first;c;)c._start>=a&&(c instanceof ke?n&&l.push(c):(o&&l.push(c),i&&l.push.apply(l,c.getChildren(!0,n,o)))),c=c._next;return l},s.getById=function(i){for(var n=this.getChildren(1,1,1),o=n.length;o--;)if(n[o].vars.id===i)return n[o]},s.remove=function(i){return Oe(i)?this.removeLabel(i):xe(i)?this.killTweensOf(i):(i.parent===this&&Zi(this,i),i===this._recent&&(this._recent=this._last),Ts(this))},s.totalTime=function(i,n){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=fe(nt.time-(this._ts>0?i/this._ts:(this.totalDuration()-i)/-this._ts))),t.prototype.totalTime.call(this,i,n),this._forcing=0,this):this._tTime},s.addLabel=function(i,n){return this.labels[i]=ht(this,n),this},s.removeLabel=function(i){return delete this.labels[i],this},s.addPause=function(i,n,o){var a=ke.delayedCall(0,n||Ur,o);return a.data="isPause",this._hasPause=1,Et(this,a,ht(this,i))},s.removePause=function(i){var n=this._first;for(i=ht(this,i);n;)n._start===i&&n.data==="isPause"&&Zt(n),n=n._next},s.killTweensOf=function(i,n,o){for(var a=this.getTweensOf(i,o),l=a.length;l--;)qt!==a[l]&&a[l].kill(i,n);return this},s.getTweensOf=function(i,n){for(var o=[],a=mt(i),l=this._first,c=Ft(n),h;l;)l instanceof ke?Sg(l._targets,a)&&(c?(!qt||l._initted&&l._ts)&&l.globalTime(0)<=n&&l.globalTime(l.totalDuration())>n:!n||l.isActive())&&o.push(l):(h=l.getTweensOf(a,n)).length&&o.push.apply(o,h),l=l._next;return o},s.tweenTo=function(i,n){n=n||{};var o=this,a=ht(o,i),l=n,c=l.startAt,h=l.onStart,d=l.onStartParams,p=l.immediateRender,f,g=ke.to(o,ut({ease:n.ease||"none",lazy:!1,immediateRender:!1,time:a,overwrite:"auto",duration:n.duration||Math.abs((a-(c&&"time"in c?c.time:o._time))/o.timeScale())||oe,onStart:function(){if(o.pause(),!f){var v=n.duration||Math.abs((a-(c&&"time"in c?c.time:o._time))/o.timeScale());g._dur!==v&&ir(g,v,0,1).render(g._time,!0,!0),f=1}h&&h.apply(g,d||[])}},n));return p?g.render(0):g},s.tweenFromTo=function(i,n,o){return this.tweenTo(n,ut({startAt:{time:ht(this,i)}},o))},s.recent=function(){return this._recent},s.nextLabel=function(i){return i===void 0&&(i=this._time),ml(this,ht(this,i))},s.previousLabel=function(i){return i===void 0&&(i=this._time),ml(this,ht(this,i),1)},s.currentLabel=function(i){return arguments.length?this.seek(i,!0):this.previousLabel(this._time+oe)},s.shiftChildren=function(i,n,o){o===void 0&&(o=0);var a=this._first,l=this.labels,c;for(i=fe(i);a;)a._start>=o&&(a._start+=i,a._end+=i),a=a._next;if(n)for(c in l)l[c]>=o&&(l[c]+=i);return Ts(this)},s.invalidate=function(i){var n=this._first;for(this._lock=0;n;)n.invalidate(i),n=n._next;return t.prototype.invalidate.call(this,i)},s.clear=function(i){i===void 0&&(i=!0);for(var n=this._first,o;n;)o=n._next,this.remove(n),n=o;return this._dp&&(this._time=this._tTime=this._pTime=0),i&&(this.labels={}),Ts(this)},s.totalDuration=function(i){var n=0,o=this,a=o._last,l=pt,c,h,d;if(arguments.length)return o.timeScale((o._repeat<0?o.duration():o.totalDuration())/(o.reversed()?-i:i));if(o._dirty){for(d=o.parent;a;)c=a._prev,a._dirty&&a.totalDuration(),h=a._start,h>l&&o._sort&&a._ts&&!o._lock?(o._lock=1,Et(o,a,h-a._delay,1)._lock=0):l=h,h<0&&a._ts&&(n-=h,(!d&&!o._dp||d&&d.smoothChildTiming)&&(o._start+=fe(h/o._ts),o._time-=h,o._tTime-=h),o.shiftChildren(-h,!1,-1/0),l=0),a._end>n&&a._ts&&(n=a._end),a=c;ir(o,o===pe&&o._time>n?o._time:n,1,1),o._dirty=0}return o._tDur},e.updateRoot=function(i){if(pe._ts&&(ju(pe,Oi(i,pe)),ku=nt.frame),nt.frame>=hl){hl+=lt.autoSleep||120;var n=pe._first;if((!n||!n._ts)&&lt.autoSleep&&nt._listeners.length<2){for(;n&&!n._ts;)n=n._next;n||nt.sleep()}}},e}(Wr);ut(Ge.prototype,{_lock:0,_hasPause:0,_forcing:0});var $g=function(e,s,r,i,n,o,a){var l=new Xe(this._pt,e,s,0,1,ih,null,n),c=0,h=0,d,p,f,g,m,v,y,w;for(l.b=r,l.e=i,r+="",i+="",(y=~i.indexOf("random("))&&(i=Vr(i)),o&&(w=[r,i],o(w,e,s),r=w[0],i=w[1]),p=r.match(vn)||[];d=vn.exec(i);)g=d[0],m=i.substring(c,d.index),f?f=(f+1)%5:m.substr(-5)==="rgba("&&(f=1),g!==p[h++]&&(v=parseFloat(p[h-1])||0,l._pt={_next:l._pt,p:m||h===1?m:",",s:v,c:g.charAt(1)==="="?Js(v,g)-v:parseFloat(g)-v,m:f&&f<4?Math.round:0},c=vn.lastIndex);return l.c=c<i.length?i.substring(c,i.length):"",l.fp=a,(Au.test(i)||y)&&(l.e=0),this._pt=l,l},Ko=function(e,s,r,i,n,o,a,l,c,h){xe(i)&&(i=i(n||0,e,o));var d=e[s],p=r!=="get"?r:xe(d)?c?e[s.indexOf("set")||!xe(e["get"+s.substr(3)])?s:"get"+s.substr(3)](c):e[s]():d,f=xe(d)?c?Jg:sh:Jo,g;if(Oe(i)&&(~i.indexOf("random(")&&(i=Vr(i)),i.charAt(1)==="="&&(g=Js(p,i)+(Le(p)||0),(g||g===0)&&(i=g))),!h||p!==i||co)return!isNaN(p*i)&&i!==""?(g=new Xe(this._pt,e,s,+p||0,i-(p||0),typeof d=="boolean"?Zg:rh,0,f),c&&(g.fp=c),a&&g.modifier(a,this,e),this._pt=g):(!d&&!(s in e)&&Go(s,i),$g.call(this,e,s,p,i,f,l||lt.stringFilter,c))},qg=function(e,s,r,i,n){if(xe(e)&&(e=Cr(e,n,s,r,i)),!Pt(e)||e.style&&e.nodeType||Ue(e)||xu(e))return Oe(e)?Cr(e,n,s,r,i):e;var o={},a;for(a in e)o[a]=Cr(e[a],n,s,r,i);return o},Zu=function(e,s,r,i,n,o){var a,l,c,h;if(rt[e]&&(a=new rt[e]).init(n,a.rawVars?s[e]:qg(s[e],i,n,o,r),r,i,o)!==!1&&(r._pt=l=new Xe(r._pt,n,e,0,1,a.render,a,0,a.priority),r!==Hs))for(c=r._ptLookup[r._targets.indexOf(n)],h=a._props.length;h--;)c[a._props[h]]=l;return a},qt,co,Yo=function t(e,s,r){var i=e.vars,n=i.ease,o=i.startAt,a=i.immediateRender,l=i.lazy,c=i.onUpdate,h=i.runBackwards,d=i.yoyoEase,p=i.keyframes,f=i.autoRevert,g=e._dur,m=e._startAt,v=e._targets,y=e.parent,w=y&&y.data==="nested"?y.vars.targets:v,b=e._overwrite==="auto"&&!Uo,_=e.timeline,x,A,T,C,k,j,I,V,L,Y,Q,J,z;if(_&&(!p||!n)&&(n="none"),e._ease=Es(n,tr.ease),e._yEase=d?Ku(Es(d===!0?n:d,tr.ease)):0,d&&e._yoyo&&!e._repeat&&(d=e._yEase,e._yEase=e._ease,e._ease=d),e._from=!_&&!!i.runBackwards,!_||p&&!i.stagger){if(V=v[0]?As(v[0]).harness:0,J=V&&i[V.prop],x=Ii(i,Ho),m&&(m._zTime<0&&m.progress(1),s<0&&h&&a&&!f?m.render(-1,!0):m.revert(h&&g?bi:_g),m._lazy=0),o){if(Zt(e._startAt=ke.set(v,ut({data:"isStart",overwrite:!1,parent:y,immediateRender:!0,lazy:!m&&Ye(l),startAt:null,delay:0,onUpdate:c&&function(){return ot(e,"onUpdate")},stagger:0},o))),e._startAt._dp=0,e._startAt._sat=e,s<0&&(Be||!a&&!f)&&e._startAt.revert(bi),a&&g&&s<=0&&r<=0){s&&(e._zTime=s);return}}else if(h&&g&&!m){if(s&&(a=!1),T=ut({overwrite:!1,data:"isFromStart",lazy:a&&!m&&Ye(l),immediateRender:a,stagger:0,parent:y},x),J&&(T[V.prop]=J),Zt(e._startAt=ke.set(v,T)),e._startAt._dp=0,e._startAt._sat=e,s<0&&(Be?e._startAt.revert(bi):e._startAt.render(-1,!0)),e._zTime=s,!a)t(e._startAt,oe,oe);else if(!s)return}for(e._pt=e._ptCache=0,l=g&&Ye(l)||l&&!g,A=0;A<v.length;A++){if(k=v[A],I=k._gsap||qo(v)[A]._gsap,e._ptLookup[A]=Y={},ro[I.id]&&Jt.length&&Ri(),Q=w===v?A:w.indexOf(k),V&&(L=new V).init(k,J||x,e,Q,w)!==!1&&(e._pt=C=new Xe(e._pt,k,L.name,0,1,L.render,L,0,L.priority),L._props.forEach(function(E){Y[E]=C}),L.priority&&(j=1)),!V||J)for(T in x)rt[T]&&(L=Zu(T,x,e,Q,k,w))?L.priority&&(j=1):Y[T]=C=Ko.call(e,k,T,"get",x[T],Q,w,0,i.stringFilter);e._op&&e._op[A]&&e.kill(k,e._op[A]),b&&e._pt&&(qt=e,pe.killTweensOf(k,Y,e.globalTime(s)),z=!e.parent,qt=0),e._pt&&l&&(ro[I.id]=1)}j&&nh(e),e._onInit&&e._onInit(e)}e._onUpdate=c,e._initted=(!e._op||e._pt)&&!z,p&&s<=0&&_.render(pt,!0,!0)},Qg=function(e,s,r,i,n,o,a,l){var c=(e._pt&&e._ptCache||(e._ptCache={}))[s],h,d,p,f;if(!c)for(c=e._ptCache[s]=[],p=e._ptLookup,f=e._targets.length;f--;){if(h=p[f][s],h&&h.d&&h.d._pt)for(h=h.d._pt;h&&h.p!==s&&h.fp!==s;)h=h._next;if(!h)return co=1,e.vars[s]="+=0",Yo(e,a),co=0,l?Fr(s+" not eligible for reset"):1;c.push(h)}for(f=c.length;f--;)d=c[f],h=d._pt||d,h.s=(i||i===0)&&!n?i:h.s+(i||0)+o*h.c,h.c=r-h.s,d.e&&(d.e=Te(r)+Le(d.e)),d.b&&(d.b=h.s+Le(d.b))},Kg=function(e,s){var r=e[0]?As(e[0]).harness:0,i=r&&r.aliases,n,o,a,l;if(!i)return s;n=sr({},s);for(o in i)if(o in n)for(l=i[o].split(","),a=l.length;a--;)n[l[a]]=n[o];return n},Yg=function(e,s,r,i){var n=s.ease||i||"power1.inOut",o,a;if(Ue(s))a=r[e]||(r[e]=[]),s.forEach(function(l,c){return a.push({t:c/(s.length-1)*100,v:l,e:n})});else for(o in s)a=r[o]||(r[o]=[]),o==="ease"||a.push({t:parseFloat(e),v:s[o],e:n})},Cr=function(e,s,r,i,n){return xe(e)?e.call(s,r,i,n):Oe(e)&&~e.indexOf("random(")?Vr(e):e},eh=$o+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",th={};Je(eh+",id,stagger,delay,duration,paused,scrollTrigger",function(t){return th[t]=1});var ke=function(t){bu(e,t);function e(r,i,n,o){var a;typeof i=="number"&&(n.duration=i,i=n,n=null),a=t.call(this,o?i:Tr(i))||this;var l=a.vars,c=l.duration,h=l.delay,d=l.immediateRender,p=l.stagger,f=l.overwrite,g=l.keyframes,m=l.defaults,v=l.scrollTrigger,y=l.yoyoEase,w=i.parent||pe,b=(Ue(r)||xu(r)?Ft(r[0]):"length"in i)?[r]:mt(r),_,x,A,T,C,k,j,I;if(a._targets=b.length?qo(b):Fr("GSAP target "+r+" not found. https://gsap.com",!lt.nullTargetWarn)||[],a._ptLookup=[],a._overwrite=f,g||p||di(c)||di(h)){if(i=a.vars,_=a.timeline=new Ge({data:"nested",defaults:m||{},targets:w&&w.data==="nested"?w.vars.targets:b}),_.kill(),_.parent=_._dp=Nt(a),_._start=0,p||di(c)||di(h)){if(T=b.length,j=p&&Fu(p),Pt(p))for(C in p)~eh.indexOf(C)&&(I||(I={}),I[C]=p[C]);for(x=0;x<T;x++)A=Ii(i,th),A.stagger=0,y&&(A.yoyoEase=y),I&&sr(A,I),k=b[x],A.duration=+Cr(c,Nt(a),x,k,b),A.delay=(+Cr(h,Nt(a),x,k,b)||0)-a._delay,!p&&T===1&&A.delay&&(a._delay=h=A.delay,a._start+=h,A.delay=0),_.to(k,A,j?j(x,k,b):0),_._ease=X.none;_.duration()?c=h=0:a.timeline=0}else if(g){Tr(ut(_.vars.defaults,{ease:"none"})),_._ease=Es(g.ease||i.ease||"none");var V=0,L,Y,Q;if(Ue(g))g.forEach(function(J){return _.to(b,J,">")}),_.duration();else{A={};for(C in g)C==="ease"||C==="easeEach"||Yg(C,g[C],A,g.easeEach);for(C in A)for(L=A[C].sort(function(J,z){return J.t-z.t}),V=0,x=0;x<L.length;x++)Y=L[x],Q={ease:Y.e,duration:(Y.t-(x?L[x-1].t:0))/100*c},Q[C]=Y.v,_.to(b,Q,V),V+=Q.duration;_.duration()<c&&_.to({},{duration:c-_.duration()})}}c||a.duration(c=_.duration())}else a.timeline=0;return f===!0&&!Uo&&(qt=Nt(a),pe.killTweensOf(b),qt=0),Et(w,Nt(a),n),i.reversed&&a.reverse(),i.paused&&a.paused(!0),(d||!c&&!g&&a._start===fe(w._time)&&Ye(d)&&Cg(Nt(a))&&w.data!=="nested")&&(a._tTime=-oe,a.render(Math.max(0,-h)||0)),v&&Mu(Nt(a),v),a}var s=e.prototype;return s.render=function(i,n,o){var a=this._time,l=this._tDur,c=this._dur,h=i<0,d=i>l-oe&&!h?l:i<oe?0:i,p,f,g,m,v,y,w,b,_;if(!c)Pg(this,i,n,o);else if(d!==this._tTime||!i||o||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==h||this._lazy){if(p=d,b=this.timeline,this._repeat){if(m=c+this._rDelay,this._repeat<-1&&h)return this.totalTime(m*100+i,n,o);if(p=fe(d%m),d===l?(g=this._repeat,p=c):(v=fe(d/m),g=~~v,g&&g===v?(p=c,g--):p>c&&(p=c)),y=this._yoyo&&g&1,y&&(_=this._yEase,p=c-p),v=rr(this._tTime,m),p===a&&!o&&this._initted&&g===v)return this._tTime=d,this;g!==v&&(b&&this._yEase&&Yu(b,y),this.vars.repeatRefresh&&!y&&!this._lock&&p!==m&&this._initted&&(this._lock=o=1,this.render(fe(m*g),!0).invalidate()._lock=0))}if(!this._initted){if(Nu(this,h?i:p,o,n,d))return this._tTime=0,this;if(a!==this._time&&!(o&&this.vars.repeatRefresh&&g!==v))return this;if(c!==this._dur)return this.render(i,n,o)}if(this._tTime=d,this._time=p,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=w=(_||this._ease)(p/c),this._from&&(this.ratio=w=1-w),!a&&d&&!n&&!v&&(ot(this,"onStart"),this._tTime!==d))return this;for(f=this._pt;f;)f.r(w,f.d),f=f._next;b&&b.render(i<0?i:b._dur*b._ease(p/this._dur),n,o)||this._startAt&&(this._zTime=i),this._onUpdate&&!n&&(h&&io(this,i,n,o),ot(this,"onUpdate")),this._repeat&&g!==v&&this.vars.onRepeat&&!n&&this.parent&&ot(this,"onRepeat"),(d===this._tDur||!d)&&this._tTime===d&&(h&&!this._onUpdate&&io(this,i,!0,!0),(i||!c)&&(d===this._tDur&&this._ts>0||!d&&this._ts<0)&&Zt(this,1),!n&&!(h&&!a)&&(d||a||y)&&(ot(this,d===l?"onComplete":"onReverseComplete",!0),this._prom&&!(d<l&&this.timeScale()>0)&&this._prom()))}return this},s.targets=function(){return this._targets},s.invalidate=function(i){return(!i||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(i),t.prototype.invalidate.call(this,i)},s.resetTo=function(i,n,o,a,l){zr||nt.wake(),this._ts||this.play();var c=Math.min(this._dur,(this._dp._time-this._start)*this._ts),h;return this._initted||Yo(this,c),h=this._ease(c/this._dur),Qg(this,i,n,o,a,h,c,l)?this.resetTo(i,n,o,a,1):(tn(this,0),this.parent||Ou(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},s.kill=function(i,n){if(n===void 0&&(n="all"),!i&&(!n||n==="all"))return this._lazy=this._pt=0,this.parent?wr(this):this.scrollTrigger&&this.scrollTrigger.kill(!!Be),this;if(this.timeline){var o=this.timeline.totalDuration();return this.timeline.killTweensOf(i,n,qt&&qt.vars.overwrite!==!0)._first||wr(this),this.parent&&o!==this.timeline.totalDuration()&&ir(this,this._dur*this.timeline._tDur/o,0,1),this}var a=this._targets,l=i?mt(i):a,c=this._ptLookup,h=this._pt,d,p,f,g,m,v,y;if((!n||n==="all")&&Tg(a,l))return n==="all"&&(this._pt=0),wr(this);for(d=this._op=this._op||[],n!=="all"&&(Oe(n)&&(m={},Je(n,function(w){return m[w]=1}),n=m),n=Kg(a,n)),y=a.length;y--;)if(~l.indexOf(a[y])){p=c[y],n==="all"?(d[y]=n,g=p,f={}):(f=d[y]=d[y]||{},g=n);for(m in g)v=p&&p[m],v&&((!("kill"in v.d)||v.d.kill(m)===!0)&&Zi(this,v,"_pt"),delete p[m]),f!=="all"&&(f[m]=1)}return this._initted&&!this._pt&&h&&wr(this),this},e.to=function(i,n){return new e(i,n,arguments[2])},e.from=function(i,n){return Er(1,arguments)},e.delayedCall=function(i,n,o,a){return new e(n,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:i,onComplete:n,onReverseComplete:n,onCompleteParams:o,onReverseCompleteParams:o,callbackScope:a})},e.fromTo=function(i,n,o){return Er(2,arguments)},e.set=function(i,n){return n.duration=0,n.repeatDelay||(n.repeat=0),new e(i,n)},e.killTweensOf=function(i,n,o){return pe.killTweensOf(i,n,o)},e}(Wr);ut(ke.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0});Je("staggerTo,staggerFrom,staggerFromTo",function(t){ke[t]=function(){var e=new Ge,s=oo.call(arguments,0);return s.splice(t==="staggerFromTo"?5:4,0,0),e[t].apply(e,s)}});var Jo=function(e,s,r){return e[s]=r},sh=function(e,s,r){return e[s](r)},Jg=function(e,s,r,i){return e[s](i.fp,r)},Xg=function(e,s,r){return e.setAttribute(s,r)},Xo=function(e,s){return xe(e[s])?sh:Vo(e[s])&&e.setAttribute?Xg:Jo},rh=function(e,s){return s.set(s.t,s.p,Math.round((s.s+s.c*e)*1e6)/1e6,s)},Zg=function(e,s){return s.set(s.t,s.p,!!(s.s+s.c*e),s)},ih=function(e,s){var r=s._pt,i="";if(!e&&s.b)i=s.b;else if(e===1&&s.e)i=s.e;else{for(;r;)i=r.p+(r.m?r.m(r.s+r.c*e):Math.round((r.s+r.c*e)*1e4)/1e4)+i,r=r._next;i+=s.c}s.set(s.t,s.p,i,s)},Zo=function(e,s){for(var r=s._pt;r;)r.r(e,r.d),r=r._next},e0=function(e,s,r,i){for(var n=this._pt,o;n;)o=n._next,n.p===i&&n.modifier(e,s,r),n=o},t0=function(e){for(var s=this._pt,r,i;s;)i=s._next,s.p===e&&!s.op||s.op===e?Zi(this,s,"_pt"):s.dep||(r=1),s=i;return!r},s0=function(e,s,r,i){i.mSet(e,s,i.m.call(i.tween,r,i.mt),i)},nh=function(e){for(var s=e._pt,r,i,n,o;s;){for(r=s._next,i=n;i&&i.pr>s.pr;)i=i._next;(s._prev=i?i._prev:o)?s._prev._next=s:n=s,(s._next=i)?i._prev=s:o=s,s=r}e._pt=n},Xe=function(){function t(s,r,i,n,o,a,l,c,h){this.t=r,this.s=n,this.c=o,this.p=i,this.r=a||rh,this.d=l||this,this.set=c||Jo,this.pr=h||0,this._next=s,s&&(s._prev=this)}var e=t.prototype;return e.modifier=function(r,i,n){this.mSet=this.mSet||this.set,this.set=s0,this.m=r,this.mt=n,this.tween=i},t}();Je($o+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(t){return Ho[t]=1});ct.TweenMax=ct.TweenLite=ke;ct.TimelineLite=ct.TimelineMax=Ge;pe=new Ge({sortChildren:!1,defaults:tr,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0});lt.stringFilter=Qu;var Cs=[],xi={},r0=[],vl=0,i0=0,xn=function(e){return(xi[e]||r0).map(function(s){return s()})},uo=function(){var e=Date.now(),s=[];e-vl>2&&(xn("matchMediaInit"),Cs.forEach(function(r){var i=r.queries,n=r.conditions,o,a,l,c;for(a in i)o=At.matchMedia(i[a]).matches,o&&(l=1),o!==n[a]&&(n[a]=o,c=1);c&&(r.revert(),l&&s.push(r))}),xn("matchMediaRevert"),s.forEach(function(r){return r.onMatch(r,function(i){return r.add(null,i)})}),vl=e,xn("matchMedia"))},oh=function(){function t(s,r){this.selector=r&&ao(r),this.data=[],this._r=[],this.isReverted=!1,this.id=i0++,s&&this.add(s)}var e=t.prototype;return e.add=function(r,i,n){xe(r)&&(n=i,i=r,r=xe);var o=this,a=function(){var c=he,h=o.selector,d;return c&&c!==o&&c.data.push(o),n&&(o.selector=ao(n)),he=o,d=i.apply(o,arguments),xe(d)&&o._r.push(d),he=c,o.selector=h,o.isReverted=!1,d};return o.last=a,r===xe?a(o,function(l){return o.add(null,l)}):r?o[r]=a:a},e.ignore=function(r){var i=he;he=null,r(this),he=i},e.getTweens=function(){var r=[];return this.data.forEach(function(i){return i instanceof t?r.push.apply(r,i.getTweens()):i instanceof ke&&!(i.parent&&i.parent.data==="nested")&&r.push(i)}),r},e.clear=function(){this._r.length=this.data.length=0},e.kill=function(r,i){var n=this;if(r?function(){for(var a=n.getTweens(),l=n.data.length,c;l--;)c=n.data[l],c.data==="isFlip"&&(c.revert(),c.getChildren(!0,!0,!1).forEach(function(h){return a.splice(a.indexOf(h),1)}));for(a.map(function(h){return{g:h._dur||h._delay||h._sat&&!h._sat.vars.immediateRender?h.globalTime(0):-1/0,t:h}}).sort(function(h,d){return d.g-h.g||-1/0}).forEach(function(h){return h.t.revert(r)}),l=n.data.length;l--;)c=n.data[l],c instanceof Ge?c.data!=="nested"&&(c.scrollTrigger&&c.scrollTrigger.revert(),c.kill()):!(c instanceof ke)&&c.revert&&c.revert(r);n._r.forEach(function(h){return h(r,n)}),n.isReverted=!0}():this.data.forEach(function(a){return a.kill&&a.kill()}),this.clear(),i)for(var o=Cs.length;o--;)Cs[o].id===this.id&&Cs.splice(o,1)},e.revert=function(r){this.kill(r||{})},t}(),n0=function(){function t(s){this.contexts=[],this.scope=s,he&&he.data.push(this)}var e=t.prototype;return e.add=function(r,i,n){Pt(r)||(r={matches:r});var o=new oh(0,n||this.scope),a=o.conditions={},l,c,h;he&&!o.selector&&(o.selector=he.selector),this.contexts.push(o),i=o.add("onMatch",i),o.queries=r;for(c in r)c==="all"?h=1:(l=At.matchMedia(r[c]),l&&(Cs.indexOf(o)<0&&Cs.push(o),(a[c]=l.matches)&&(h=1),l.addListener?l.addListener(uo):l.addEventListener("change",uo)));return h&&i(o,function(d){return o.add(null,d)}),this},e.revert=function(r){this.kill(r||{})},e.kill=function(r){this.contexts.forEach(function(i){return i.kill(r,!0)})},t}(),Di={registerPlugin:function(){for(var e=arguments.length,s=new Array(e),r=0;r<e;r++)s[r]=arguments[r];s.forEach(function(i){return Hu(i)})},timeline:function(e){return new Ge(e)},getTweensOf:function(e,s){return pe.getTweensOf(e,s)},getProperty:function(e,s,r,i){Oe(e)&&(e=mt(e)[0]);var n=As(e||{}).get,o=r?Iu:Ru;return r==="native"&&(r=""),e&&(s?o((rt[s]&&rt[s].get||n)(e,s,r,i)):function(a,l,c){return o((rt[a]&&rt[a].get||n)(e,a,l,c))})},quickSetter:function(e,s,r){if(e=mt(e),e.length>1){var i=e.map(function(h){return et.quickSetter(h,s,r)}),n=i.length;return function(h){for(var d=n;d--;)i[d](h)}}e=e[0]||{};var o=rt[s],a=As(e),l=a.harness&&(a.harness.aliases||{})[s]||s,c=o?function(h){var d=new o;Hs._pt=0,d.init(e,r?h+r:h,Hs,0,[e]),d.render(1,d),Hs._pt&&Zo(1,Hs)}:a.set(e,l);return o?c:function(h){return c(e,l,r?h+r:h,a,1)}},quickTo:function(e,s,r){var i,n=et.to(e,ut((i={},i[s]="+=0.1",i.paused=!0,i.stagger=0,i),r||{})),o=function(l,c,h){return n.resetTo(s,l,c,h)};return o.tween=n,o},isTweening:function(e){return pe.getTweensOf(e,!0).length>0},defaults:function(e){return e&&e.ease&&(e.ease=Es(e.ease,tr.ease)),dl(tr,e||{})},config:function(e){return dl(lt,e||{})},registerEffect:function(e){var s=e.name,r=e.effect,i=e.plugins,n=e.defaults,o=e.extendTimeline;(i||"").split(",").forEach(function(a){return a&&!rt[a]&&!ct[a]&&Fr(s+" effect requires "+a+" plugin.")}),yn[s]=function(a,l,c){return r(mt(a),ut(l||{},n),c)},o&&(Ge.prototype[s]=function(a,l,c){return this.add(yn[s](a,Pt(l)?l:(c=l)&&{},this),c)})},registerEase:function(e,s){X[e]=Es(s)},parseEase:function(e,s){return arguments.length?Es(e,s):X},getById:function(e){return pe.getById(e)},exportRoot:function(e,s){e===void 0&&(e={});var r=new Ge(e),i,n;for(r.smoothChildTiming=Ye(e.smoothChildTiming),pe.remove(r),r._dp=0,r._time=r._tTime=pe._time,i=pe._first;i;)n=i._next,(s||!(!i._dur&&i instanceof ke&&i.vars.onComplete===i._targets[0]))&&Et(r,i,i._start-i._delay),i=n;return Et(pe,r,0),r},context:function(e,s){return e?new oh(e,s):he},matchMedia:function(e){return new n0(e)},matchMediaRefresh:function(){return Cs.forEach(function(e){var s=e.conditions,r,i;for(i in s)s[i]&&(s[i]=!1,r=1);r&&e.revert()})||uo()},addEventListener:function(e,s){var r=xi[e]||(xi[e]=[]);~r.indexOf(s)||r.push(s)},removeEventListener:function(e,s){var r=xi[e],i=r&&r.indexOf(s);i>=0&&r.splice(i,1)},utils:{wrap:Bg,wrapYoyo:Lg,distribute:Fu,random:Vu,snap:Uu,normalize:Ng,getUnit:Le,clamp:Ig,splitColor:$u,toArray:mt,selector:ao,mapRange:Wu,pipe:Dg,unitize:Mg,interpolate:Fg,shuffle:Lu},install:Eu,effects:yn,ticker:nt,updateRoot:Ge.updateRoot,plugins:rt,globalTimeline:pe,core:{PropTween:Xe,globals:Cu,Tween:ke,Timeline:Ge,Animation:Wr,getCache:As,_removeLinkedListItem:Zi,reverting:function(){return Be},context:function(e){return e&&he&&(he.data.push(e),e._ctx=he),he},suppressOverwrites:function(e){return Uo=e}}};Je("to,from,fromTo,delayedCall,set,killTweensOf",function(t){return Di[t]=ke[t]});nt.add(Ge.updateRoot);Hs=Di.to({},{duration:0});var o0=function(e,s){for(var r=e._pt;r&&r.p!==s&&r.op!==s&&r.fp!==s;)r=r._next;return r},a0=function(e,s){var r=e._targets,i,n,o;for(i in s)for(n=r.length;n--;)o=e._ptLookup[n][i],o&&(o=o.d)&&(o._pt&&(o=o0(o,i)),o&&o.modifier&&o.modifier(s[i],e,r[n],i))},Sn=function(e,s){return{name:e,headless:1,rawVars:1,init:function(i,n,o){o._onInit=function(a){var l,c;if(Oe(n)&&(l={},Je(n,function(h){return l[h]=1}),n=l),s){l={};for(c in n)l[c]=s(n[c]);n=l}a0(a,n)}}}},et=Di.registerPlugin({name:"attr",init:function(e,s,r,i,n){var o,a,l;this.tween=r;for(o in s)l=e.getAttribute(o)||"",a=this.add(e,"setAttribute",(l||0)+"",s[o],i,n,0,0,o),a.op=o,a.b=l,this._props.push(o)},render:function(e,s){for(var r=s._pt;r;)Be?r.set(r.t,r.p,r.b,r):r.r(e,r.d),r=r._next}},{name:"endArray",headless:1,init:function(e,s){for(var r=s.length;r--;)this.add(e,r,e[r]||0,s[r],0,0,0,0,0,1)}},Sn("roundProps",lo),Sn("modifiers"),Sn("snap",Uu))||Di;ke.version=Ge.version=et.version="3.14.2";Tu=1;zo()&&nr();X.Power0;X.Power1;X.Power2;X.Power3;X.Power4;X.Linear;X.Quad;X.Cubic;X.Quart;X.Quint;X.Strong;X.Elastic;X.Back;X.SteppedEase;X.Bounce;X.Sine;X.Expo;X.Circ;/*!
 * CSSPlugin 3.14.2
 * https://gsap.com
 *
 * Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var yl,Qt,Xs,ea,_s,wl,ta,l0=function(){return typeof window<"u"},Ut={},ms=180/Math.PI,Zs=Math.PI/180,Bs=Math.atan2,bl=1e8,sa=/([A-Z])/g,c0=/(left|right|width|margin|padding|x)/i,u0=/[\s,\(]\S/,Ct={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},ho=function(e,s){return s.set(s.t,s.p,Math.round((s.s+s.c*e)*1e4)/1e4+s.u,s)},h0=function(e,s){return s.set(s.t,s.p,e===1?s.e:Math.round((s.s+s.c*e)*1e4)/1e4+s.u,s)},d0=function(e,s){return s.set(s.t,s.p,e?Math.round((s.s+s.c*e)*1e4)/1e4+s.u:s.b,s)},f0=function(e,s){return s.set(s.t,s.p,e===1?s.e:e?Math.round((s.s+s.c*e)*1e4)/1e4+s.u:s.b,s)},p0=function(e,s){var r=s.s+s.c*e;s.set(s.t,s.p,~~(r+(r<0?-.5:.5))+s.u,s)},ah=function(e,s){return s.set(s.t,s.p,e?s.e:s.b,s)},lh=function(e,s){return s.set(s.t,s.p,e!==1?s.b:s.e,s)},m0=function(e,s,r){return e.style[s]=r},g0=function(e,s,r){return e.style.setProperty(s,r)},v0=function(e,s,r){return e._gsap[s]=r},y0=function(e,s,r){return e._gsap.scaleX=e._gsap.scaleY=r},w0=function(e,s,r,i,n){var o=e._gsap;o.scaleX=o.scaleY=r,o.renderTransform(n,o)},b0=function(e,s,r,i,n){var o=e._gsap;o[s]=r,o.renderTransform(n,o)},me="transform",Ze=me+"Origin",_0=function t(e,s){var r=this,i=this.target,n=i.style,o=i._gsap;if(e in Ut&&n){if(this.tfm=this.tfm||{},e!=="transform")e=Ct[e]||e,~e.indexOf(",")?e.split(",").forEach(function(a){return r.tfm[a]=Bt(i,a)}):this.tfm[e]=o.x?o[e]:Bt(i,e),e===Ze&&(this.tfm.zOrigin=o.zOrigin);else return Ct.transform.split(",").forEach(function(a){return t.call(r,a,s)});if(this.props.indexOf(me)>=0)return;o.svg&&(this.svgo=i.getAttribute("data-svg-origin"),this.props.push(Ze,s,"")),e=me}(n||s)&&this.props.push(e,s,n[e])},ch=function(e){e.translate&&(e.removeProperty("translate"),e.removeProperty("scale"),e.removeProperty("rotate"))},x0=function(){var e=this.props,s=this.target,r=s.style,i=s._gsap,n,o;for(n=0;n<e.length;n+=3)e[n+1]?e[n+1]===2?s[e[n]](e[n+2]):s[e[n]]=e[n+2]:e[n+2]?r[e[n]]=e[n+2]:r.removeProperty(e[n].substr(0,2)==="--"?e[n]:e[n].replace(sa,"-$1").toLowerCase());if(this.tfm){for(o in this.tfm)i[o]=this.tfm[o];i.svg&&(i.renderTransform(),s.setAttribute("data-svg-origin",this.svgo||"")),n=ta(),(!n||!n.isStart)&&!r[me]&&(ch(r),i.zOrigin&&r[Ze]&&(r[Ze]+=" "+i.zOrigin+"px",i.zOrigin=0,i.renderTransform()),i.uncache=1)}},uh=function(e,s){var r={target:e,props:[],revert:x0,save:_0};return e._gsap||et.core.getCache(e),s&&e.style&&e.nodeType&&s.split(",").forEach(function(i){return r.save(i)}),r},hh,fo=function(e,s){var r=Qt.createElementNS?Qt.createElementNS((s||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):Qt.createElement(e);return r&&r.style?r:Qt.createElement(e)},at=function t(e,s,r){var i=getComputedStyle(e);return i[s]||i.getPropertyValue(s.replace(sa,"-$1").toLowerCase())||i.getPropertyValue(s)||!r&&t(e,or(s)||s,1)||""},_l="O,Moz,ms,Ms,Webkit".split(","),or=function(e,s,r){var i=s||_s,n=i.style,o=5;if(e in n&&!r)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);o--&&!(_l[o]+e in n););return o<0?null:(o===3?"ms":o>=0?_l[o]:"")+e},po=function(){l0()&&window.document&&(yl=window,Qt=yl.document,Xs=Qt.documentElement,_s=fo("div")||{style:{}},fo("div"),me=or(me),Ze=me+"Origin",_s.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",hh=!!or("perspective"),ta=et.core.reverting,ea=1)},xl=function(e){var s=e.ownerSVGElement,r=fo("svg",s&&s.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),i=e.cloneNode(!0),n;i.style.display="block",r.appendChild(i),Xs.appendChild(r);try{n=i.getBBox()}catch{}return r.removeChild(i),Xs.removeChild(r),n},Sl=function(e,s){for(var r=s.length;r--;)if(e.hasAttribute(s[r]))return e.getAttribute(s[r])},dh=function(e){var s,r;try{s=e.getBBox()}catch{s=xl(e),r=1}return s&&(s.width||s.height)||r||(s=xl(e)),s&&!s.width&&!s.x&&!s.y?{x:+Sl(e,["x","cx","x1"])||0,y:+Sl(e,["y","cy","y1"])||0,width:0,height:0}:s},fh=function(e){return!!(e.getCTM&&(!e.parentNode||e.ownerSVGElement)&&dh(e))},es=function(e,s){if(s){var r=e.style,i;s in Ut&&s!==Ze&&(s=me),r.removeProperty?(i=s.substr(0,2),(i==="ms"||s.substr(0,6)==="webkit")&&(s="-"+s),r.removeProperty(i==="--"?s:s.replace(sa,"-$1").toLowerCase())):r.removeAttribute(s)}},Kt=function(e,s,r,i,n,o){var a=new Xe(e._pt,s,r,0,1,o?lh:ah);return e._pt=a,a.b=i,a.e=n,e._props.push(r),a},Al={deg:1,rad:1,turn:1},S0={grid:1,flex:1},ts=function t(e,s,r,i){var n=parseFloat(r)||0,o=(r+"").trim().substr((n+"").length)||"px",a=_s.style,l=c0.test(s),c=e.tagName.toLowerCase()==="svg",h=(c?"client":"offset")+(l?"Width":"Height"),d=100,p=i==="px",f=i==="%",g,m,v,y;if(i===o||!n||Al[i]||Al[o])return n;if(o!=="px"&&!p&&(n=t(e,s,r,"px")),y=e.getCTM&&fh(e),(f||o==="%")&&(Ut[s]||~s.indexOf("adius")))return g=y?e.getBBox()[l?"width":"height"]:e[h],Te(f?n/g*d:n/100*g);if(a[l?"width":"height"]=d+(p?o:i),m=i!=="rem"&&~s.indexOf("adius")||i==="em"&&e.appendChild&&!c?e:e.parentNode,y&&(m=(e.ownerSVGElement||{}).parentNode),(!m||m===Qt||!m.appendChild)&&(m=Qt.body),v=m._gsap,v&&f&&v.width&&l&&v.time===nt.time&&!v.uncache)return Te(n/v.width*d);if(f&&(s==="height"||s==="width")){var w=e.style[s];e.style[s]=d+i,g=e[h],w?e.style[s]=w:es(e,s)}else(f||o==="%")&&!S0[at(m,"display")]&&(a.position=at(e,"position")),m===e&&(a.position="static"),m.appendChild(_s),g=_s[h],m.removeChild(_s),a.position="absolute";return l&&f&&(v=As(m),v.time=nt.time,v.width=m[h]),Te(p?g*n/d:g&&n?d/g*n:0)},Bt=function(e,s,r,i){var n;return ea||po(),s in Ct&&s!=="transform"&&(s=Ct[s],~s.indexOf(",")&&(s=s.split(",")[0])),Ut[s]&&s!=="transform"?(n=Hr(e,i),n=s!=="transformOrigin"?n[s]:n.svg?n.origin:Ni(at(e,Ze))+" "+n.zOrigin+"px"):(n=e.style[s],(!n||n==="auto"||i||~(n+"").indexOf("calc("))&&(n=Mi[s]&&Mi[s](e,s,r)||at(e,s)||Pu(e,s)||(s==="opacity"?1:0))),r&&!~(n+"").trim().indexOf(" ")?ts(e,s,n,r)+r:n},A0=function(e,s,r,i){if(!r||r==="none"){var n=or(s,e,1),o=n&&at(e,n,1);o&&o!==r?(s=n,r=o):s==="borderColor"&&(r=at(e,"borderTopColor"))}var a=new Xe(this._pt,e.style,s,0,1,ih),l=0,c=0,h,d,p,f,g,m,v,y,w,b,_,x;if(a.b=r,a.e=i,r+="",i+="",i.substring(0,6)==="var(--"&&(i=at(e,i.substring(4,i.indexOf(")")))),i==="auto"&&(m=e.style[s],e.style[s]=i,i=at(e,s)||i,m?e.style[s]=m:es(e,s)),h=[r,i],Qu(h),r=h[0],i=h[1],p=r.match(Gs)||[],x=i.match(Gs)||[],x.length){for(;d=Gs.exec(i);)v=d[0],w=i.substring(l,d.index),g?g=(g+1)%5:(w.substr(-5)==="rgba("||w.substr(-5)==="hsla(")&&(g=1),v!==(m=p[c++]||"")&&(f=parseFloat(m)||0,_=m.substr((f+"").length),v.charAt(1)==="="&&(v=Js(f,v)+_),y=parseFloat(v),b=v.substr((y+"").length),l=Gs.lastIndex-b.length,b||(b=b||lt.units[s]||_,l===i.length&&(i+=b,a.e+=b)),_!==b&&(f=ts(e,s,m,b)||0),a._pt={_next:a._pt,p:w||c===1?w:",",s:f,c:y-f,m:g&&g<4||s==="zIndex"?Math.round:0});a.c=l<i.length?i.substring(l,i.length):""}else a.r=s==="display"&&i==="none"?lh:ah;return Au.test(i)&&(a.e=0),this._pt=a,a},Tl={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},T0=function(e){var s=e.split(" "),r=s[0],i=s[1]||"50%";return(r==="top"||r==="bottom"||i==="left"||i==="right")&&(e=r,r=i,i=e),s[0]=Tl[r]||r,s[1]=Tl[i]||i,s.join(" ")},E0=function(e,s){if(s.tween&&s.tween._time===s.tween._dur){var r=s.t,i=r.style,n=s.u,o=r._gsap,a,l,c;if(n==="all"||n===!0)i.cssText="",l=1;else for(n=n.split(","),c=n.length;--c>-1;)a=n[c],Ut[a]&&(l=1,a=a==="transformOrigin"?Ze:me),es(r,a);l&&(es(r,me),o&&(o.svg&&r.removeAttribute("transform"),i.scale=i.rotate=i.translate="none",Hr(r,1),o.uncache=1,ch(i)))}},Mi={clearProps:function(e,s,r,i,n){if(n.data!=="isFromStart"){var o=e._pt=new Xe(e._pt,s,r,0,0,E0);return o.u=i,o.pr=-10,o.tween=n,e._props.push(r),1}}},Gr=[1,0,0,1,0,0],ph={},mh=function(e){return e==="matrix(1, 0, 0, 1, 0, 0)"||e==="none"||!e},El=function(e){var s=at(e,me);return mh(s)?Gr:s.substr(7).match(Su).map(Te)},ra=function(e,s){var r=e._gsap||As(e),i=e.style,n=El(e),o,a,l,c;return r.svg&&e.getAttribute("transform")?(l=e.transform.baseVal.consolidate().matrix,n=[l.a,l.b,l.c,l.d,l.e,l.f],n.join(",")==="1,0,0,1,0,0"?Gr:n):(n===Gr&&!e.offsetParent&&e!==Xs&&!r.svg&&(l=i.display,i.display="block",o=e.parentNode,(!o||!e.offsetParent&&!e.getBoundingClientRect().width)&&(c=1,a=e.nextElementSibling,Xs.appendChild(e)),n=El(e),l?i.display=l:es(e,"display"),c&&(a?o.insertBefore(e,a):o?o.appendChild(e):Xs.removeChild(e))),s&&n.length>6?[n[0],n[1],n[4],n[5],n[12],n[13]]:n)},mo=function(e,s,r,i,n,o){var a=e._gsap,l=n||ra(e,!0),c=a.xOrigin||0,h=a.yOrigin||0,d=a.xOffset||0,p=a.yOffset||0,f=l[0],g=l[1],m=l[2],v=l[3],y=l[4],w=l[5],b=s.split(" "),_=parseFloat(b[0])||0,x=parseFloat(b[1])||0,A,T,C,k;r?l!==Gr&&(T=f*v-g*m)&&(C=_*(v/T)+x*(-m/T)+(m*w-v*y)/T,k=_*(-g/T)+x*(f/T)-(f*w-g*y)/T,_=C,x=k):(A=dh(e),_=A.x+(~b[0].indexOf("%")?_/100*A.width:_),x=A.y+(~(b[1]||b[0]).indexOf("%")?x/100*A.height:x)),i||i!==!1&&a.smooth?(y=_-c,w=x-h,a.xOffset=d+(y*f+w*m)-y,a.yOffset=p+(y*g+w*v)-w):a.xOffset=a.yOffset=0,a.xOrigin=_,a.yOrigin=x,a.smooth=!!i,a.origin=s,a.originIsAbsolute=!!r,e.style[Ze]="0px 0px",o&&(Kt(o,a,"xOrigin",c,_),Kt(o,a,"yOrigin",h,x),Kt(o,a,"xOffset",d,a.xOffset),Kt(o,a,"yOffset",p,a.yOffset)),e.setAttribute("data-svg-origin",_+" "+x)},Hr=function(e,s){var r=e._gsap||new Xu(e);if("x"in r&&!s&&!r.uncache)return r;var i=e.style,n=r.scaleX<0,o="px",a="deg",l=getComputedStyle(e),c=at(e,Ze)||"0",h,d,p,f,g,m,v,y,w,b,_,x,A,T,C,k,j,I,V,L,Y,Q,J,z,E,O,Z,W,N,le,F,ie;return h=d=p=m=v=y=w=b=_=0,f=g=1,r.svg=!!(e.getCTM&&fh(e)),l.translate&&((l.translate!=="none"||l.scale!=="none"||l.rotate!=="none")&&(i[me]=(l.translate!=="none"?"translate3d("+(l.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+(l.rotate!=="none"?"rotate("+l.rotate+") ":"")+(l.scale!=="none"?"scale("+l.scale.split(" ").join(",")+") ":"")+(l[me]!=="none"?l[me]:"")),i.scale=i.rotate=i.translate="none"),T=ra(e,r.svg),r.svg&&(r.uncache?(E=e.getBBox(),c=r.xOrigin-E.x+"px "+(r.yOrigin-E.y)+"px",z=""):z=!s&&e.getAttribute("data-svg-origin"),mo(e,z||c,!!z||r.originIsAbsolute,r.smooth!==!1,T)),x=r.xOrigin||0,A=r.yOrigin||0,T!==Gr&&(I=T[0],V=T[1],L=T[2],Y=T[3],h=Q=T[4],d=J=T[5],T.length===6?(f=Math.sqrt(I*I+V*V),g=Math.sqrt(Y*Y+L*L),m=I||V?Bs(V,I)*ms:0,w=L||Y?Bs(L,Y)*ms+m:0,w&&(g*=Math.abs(Math.cos(w*Zs))),r.svg&&(h-=x-(x*I+A*L),d-=A-(x*V+A*Y))):(ie=T[6],le=T[7],Z=T[8],W=T[9],N=T[10],F=T[11],h=T[12],d=T[13],p=T[14],C=Bs(ie,N),v=C*ms,C&&(k=Math.cos(-C),j=Math.sin(-C),z=Q*k+Z*j,E=J*k+W*j,O=ie*k+N*j,Z=Q*-j+Z*k,W=J*-j+W*k,N=ie*-j+N*k,F=le*-j+F*k,Q=z,J=E,ie=O),C=Bs(-L,N),y=C*ms,C&&(k=Math.cos(-C),j=Math.sin(-C),z=I*k-Z*j,E=V*k-W*j,O=L*k-N*j,F=Y*j+F*k,I=z,V=E,L=O),C=Bs(V,I),m=C*ms,C&&(k=Math.cos(C),j=Math.sin(C),z=I*k+V*j,E=Q*k+J*j,V=V*k-I*j,J=J*k-Q*j,I=z,Q=E),v&&Math.abs(v)+Math.abs(m)>359.9&&(v=m=0,y=180-y),f=Te(Math.sqrt(I*I+V*V+L*L)),g=Te(Math.sqrt(J*J+ie*ie)),C=Bs(Q,J),w=Math.abs(C)>2e-4?C*ms:0,_=F?1/(F<0?-F:F):0),r.svg&&(z=e.getAttribute("transform"),r.forceCSS=e.setAttribute("transform","")||!mh(at(e,me)),z&&e.setAttribute("transform",z))),Math.abs(w)>90&&Math.abs(w)<270&&(n?(f*=-1,w+=m<=0?180:-180,m+=m<=0?180:-180):(g*=-1,w+=w<=0?180:-180)),s=s||r.uncache,r.x=h-((r.xPercent=h&&(!s&&r.xPercent||(Math.round(e.offsetWidth/2)===Math.round(-h)?-50:0)))?e.offsetWidth*r.xPercent/100:0)+o,r.y=d-((r.yPercent=d&&(!s&&r.yPercent||(Math.round(e.offsetHeight/2)===Math.round(-d)?-50:0)))?e.offsetHeight*r.yPercent/100:0)+o,r.z=p+o,r.scaleX=Te(f),r.scaleY=Te(g),r.rotation=Te(m)+a,r.rotationX=Te(v)+a,r.rotationY=Te(y)+a,r.skewX=w+a,r.skewY=b+a,r.transformPerspective=_+o,(r.zOrigin=parseFloat(c.split(" ")[2])||!s&&r.zOrigin||0)&&(i[Ze]=Ni(c)),r.xOffset=r.yOffset=0,r.force3D=lt.force3D,r.renderTransform=r.svg?k0:hh?gh:C0,r.uncache=0,r},Ni=function(e){return(e=e.split(" "))[0]+" "+e[1]},An=function(e,s,r){var i=Le(s);return Te(parseFloat(s)+parseFloat(ts(e,"x",r+"px",i)))+i},C0=function(e,s){s.z="0px",s.rotationY=s.rotationX="0deg",s.force3D=0,gh(e,s)},cs="0deg",gr="0px",us=") ",gh=function(e,s){var r=s||this,i=r.xPercent,n=r.yPercent,o=r.x,a=r.y,l=r.z,c=r.rotation,h=r.rotationY,d=r.rotationX,p=r.skewX,f=r.skewY,g=r.scaleX,m=r.scaleY,v=r.transformPerspective,y=r.force3D,w=r.target,b=r.zOrigin,_="",x=y==="auto"&&e&&e!==1||y===!0;if(b&&(d!==cs||h!==cs)){var A=parseFloat(h)*Zs,T=Math.sin(A),C=Math.cos(A),k;A=parseFloat(d)*Zs,k=Math.cos(A),o=An(w,o,T*k*-b),a=An(w,a,-Math.sin(A)*-b),l=An(w,l,C*k*-b+b)}v!==gr&&(_+="perspective("+v+us),(i||n)&&(_+="translate("+i+"%, "+n+"%) "),(x||o!==gr||a!==gr||l!==gr)&&(_+=l!==gr||x?"translate3d("+o+", "+a+", "+l+") ":"translate("+o+", "+a+us),c!==cs&&(_+="rotate("+c+us),h!==cs&&(_+="rotateY("+h+us),d!==cs&&(_+="rotateX("+d+us),(p!==cs||f!==cs)&&(_+="skew("+p+", "+f+us),(g!==1||m!==1)&&(_+="scale("+g+", "+m+us),w.style[me]=_||"translate(0, 0)"},k0=function(e,s){var r=s||this,i=r.xPercent,n=r.yPercent,o=r.x,a=r.y,l=r.rotation,c=r.skewX,h=r.skewY,d=r.scaleX,p=r.scaleY,f=r.target,g=r.xOrigin,m=r.yOrigin,v=r.xOffset,y=r.yOffset,w=r.forceCSS,b=parseFloat(o),_=parseFloat(a),x,A,T,C,k;l=parseFloat(l),c=parseFloat(c),h=parseFloat(h),h&&(h=parseFloat(h),c+=h,l+=h),l||c?(l*=Zs,c*=Zs,x=Math.cos(l)*d,A=Math.sin(l)*d,T=Math.sin(l-c)*-p,C=Math.cos(l-c)*p,c&&(h*=Zs,k=Math.tan(c-h),k=Math.sqrt(1+k*k),T*=k,C*=k,h&&(k=Math.tan(h),k=Math.sqrt(1+k*k),x*=k,A*=k)),x=Te(x),A=Te(A),T=Te(T),C=Te(C)):(x=d,C=p,A=T=0),(b&&!~(o+"").indexOf("px")||_&&!~(a+"").indexOf("px"))&&(b=ts(f,"x",o,"px"),_=ts(f,"y",a,"px")),(g||m||v||y)&&(b=Te(b+g-(g*x+m*T)+v),_=Te(_+m-(g*A+m*C)+y)),(i||n)&&(k=f.getBBox(),b=Te(b+i/100*k.width),_=Te(_+n/100*k.height)),k="matrix("+x+","+A+","+T+","+C+","+b+","+_+")",f.setAttribute("transform",k),w&&(f.style[me]=k)},P0=function(e,s,r,i,n){var o=360,a=Oe(n),l=parseFloat(n)*(a&&~n.indexOf("rad")?ms:1),c=l-i,h=i+c+"deg",d,p;return a&&(d=n.split("_")[1],d==="short"&&(c%=o,c!==c%(o/2)&&(c+=c<0?o:-o)),d==="cw"&&c<0?c=(c+o*bl)%o-~~(c/o)*o:d==="ccw"&&c>0&&(c=(c-o*bl)%o-~~(c/o)*o)),e._pt=p=new Xe(e._pt,s,r,i,c,h0),p.e=h,p.u="deg",e._props.push(r),p},Cl=function(e,s){for(var r in s)e[r]=s[r];return e},j0=function(e,s,r){var i=Cl({},r._gsap),n="perspective,force3D,transformOrigin,svgOrigin",o=r.style,a,l,c,h,d,p,f,g;i.svg?(c=r.getAttribute("transform"),r.setAttribute("transform",""),o[me]=s,a=Hr(r,1),es(r,me),r.setAttribute("transform",c)):(c=getComputedStyle(r)[me],o[me]=s,a=Hr(r,1),o[me]=c);for(l in Ut)c=i[l],h=a[l],c!==h&&n.indexOf(l)<0&&(f=Le(c),g=Le(h),d=f!==g?ts(r,l,c,g):parseFloat(c),p=parseFloat(h),e._pt=new Xe(e._pt,a,l,d,p-d,ho),e._pt.u=g||0,e._props.push(l));Cl(a,i)};Je("padding,margin,Width,Radius",function(t,e){var s="Top",r="Right",i="Bottom",n="Left",o=(e<3?[s,r,i,n]:[s+n,s+r,i+r,i+n]).map(function(a){return e<2?t+a:"border"+a+t});Mi[e>1?"border"+t:t]=function(a,l,c,h,d){var p,f;if(arguments.length<4)return p=o.map(function(g){return Bt(a,g,c)}),f=p.join(" "),f.split(p[0]).length===5?p[0]:f;p=(h+"").split(" "),f={},o.forEach(function(g,m){return f[g]=p[m]=p[m]||p[(m-1)/2|0]}),a.init(l,f,d)}});var vh={name:"css",register:po,targetTest:function(e){return e.style&&e.nodeType},init:function(e,s,r,i,n){var o=this._props,a=e.style,l=r.vars.startAt,c,h,d,p,f,g,m,v,y,w,b,_,x,A,T,C,k;ea||po(),this.styles=this.styles||uh(e),C=this.styles.props,this.tween=r;for(m in s)if(m!=="autoRound"&&(h=s[m],!(rt[m]&&Zu(m,s,r,i,e,n)))){if(f=typeof h,g=Mi[m],f==="function"&&(h=h.call(r,i,e,n),f=typeof h),f==="string"&&~h.indexOf("random(")&&(h=Vr(h)),g)g(this,e,m,h,r)&&(T=1);else if(m.substr(0,2)==="--")c=(getComputedStyle(e).getPropertyValue(m)+"").trim(),h+="",Xt.lastIndex=0,Xt.test(c)||(v=Le(c),y=Le(h),y?v!==y&&(c=ts(e,m,c,y)+y):v&&(h+=v)),this.add(a,"setProperty",c,h,i,n,0,0,m),o.push(m),C.push(m,0,a[m]);else if(f!=="undefined"){if(l&&m in l?(c=typeof l[m]=="function"?l[m].call(r,i,e,n):l[m],Oe(c)&&~c.indexOf("random(")&&(c=Vr(c)),Le(c+"")||c==="auto"||(c+=lt.units[m]||Le(Bt(e,m))||""),(c+"").charAt(1)==="="&&(c=Bt(e,m))):c=Bt(e,m),p=parseFloat(c),w=f==="string"&&h.charAt(1)==="="&&h.substr(0,2),w&&(h=h.substr(2)),d=parseFloat(h),m in Ct&&(m==="autoAlpha"&&(p===1&&Bt(e,"visibility")==="hidden"&&d&&(p=0),C.push("visibility",0,a.visibility),Kt(this,a,"visibility",p?"inherit":"hidden",d?"inherit":"hidden",!d)),m!=="scale"&&m!=="transform"&&(m=Ct[m],~m.indexOf(",")&&(m=m.split(",")[0]))),b=m in Ut,b){if(this.styles.save(m),k=h,f==="string"&&h.substring(0,6)==="var(--"){if(h=at(e,h.substring(4,h.indexOf(")"))),h.substring(0,5)==="calc("){var j=e.style.perspective;e.style.perspective=h,h=at(e,"perspective"),j?e.style.perspective=j:es(e,"perspective")}d=parseFloat(h)}if(_||(x=e._gsap,x.renderTransform&&!s.parseTransform||Hr(e,s.parseTransform),A=s.smoothOrigin!==!1&&x.smooth,_=this._pt=new Xe(this._pt,a,me,0,1,x.renderTransform,x,0,-1),_.dep=1),m==="scale")this._pt=new Xe(this._pt,x,"scaleY",x.scaleY,(w?Js(x.scaleY,w+d):d)-x.scaleY||0,ho),this._pt.u=0,o.push("scaleY",m),m+="X";else if(m==="transformOrigin"){C.push(Ze,0,a[Ze]),h=T0(h),x.svg?mo(e,h,0,A,0,this):(y=parseFloat(h.split(" ")[2])||0,y!==x.zOrigin&&Kt(this,x,"zOrigin",x.zOrigin,y),Kt(this,a,m,Ni(c),Ni(h)));continue}else if(m==="svgOrigin"){mo(e,h,1,A,0,this);continue}else if(m in ph){P0(this,x,m,p,w?Js(p,w+h):h);continue}else if(m==="smoothOrigin"){Kt(this,x,"smooth",x.smooth,h);continue}else if(m==="force3D"){x[m]=h;continue}else if(m==="transform"){j0(this,h,e);continue}}else m in a||(m=or(m)||m);if(b||(d||d===0)&&(p||p===0)&&!u0.test(h)&&m in a)v=(c+"").substr((p+"").length),d||(d=0),y=Le(h)||(m in lt.units?lt.units[m]:v),v!==y&&(p=ts(e,m,c,y)),this._pt=new Xe(this._pt,b?x:a,m,p,(w?Js(p,w+d):d)-p,!b&&(y==="px"||m==="zIndex")&&s.autoRound!==!1?p0:ho),this._pt.u=y||0,b&&k!==h?(this._pt.b=c,this._pt.e=k,this._pt.r=f0):v!==y&&y!=="%"&&(this._pt.b=c,this._pt.r=d0);else if(m in a)A0.call(this,e,m,c,w?w+h:h);else if(m in e)this.add(e,m,c||e[m],w?w+h:h,i,n);else if(m!=="parseTransform"){Go(m,h);continue}b||(m in a?C.push(m,0,a[m]):typeof e[m]=="function"?C.push(m,2,e[m]()):C.push(m,1,c||e[m])),o.push(m)}}T&&nh(this)},render:function(e,s){if(s.tween._time||!ta())for(var r=s._pt;r;)r.r(e,r.d),r=r._next;else s.styles.revert()},get:Bt,aliases:Ct,getSetter:function(e,s,r){var i=Ct[s];return i&&i.indexOf(",")<0&&(s=i),s in Ut&&s!==Ze&&(e._gsap.x||Bt(e,"x"))?r&&wl===r?s==="scale"?y0:v0:(wl=r||{})&&(s==="scale"?w0:b0):e.style&&!Vo(e.style[s])?m0:~s.indexOf("-")?g0:Xo(e,s)},core:{_removeProperty:es,_getMatrix:ra}};et.utils.checkPrefix=or;et.core.getStyleSaver=uh;(function(t,e,s,r){var i=Je(t+","+e+","+s,function(n){Ut[n]=1});Je(e,function(n){lt.units[n]="deg",ph[n]=1}),Ct[i[13]]=t+","+e,Je(r,function(n){var o=n.split(":");Ct[o[1]]=i[o[0]]})})("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY");Je("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(t){lt.units[t]="px"});et.registerPlugin(vh);var re=et.registerPlugin(vh)||et;re.core.Tween;const R0=({position:t="right",colors:e=["#B19EEF","#5227FF"],items:s=[],socialItems:r=[],displaySocials:i=!0,displayItemNumbering:n=!0,className:o,logoUrl:a="/src/assets/logos/reactbits-gh-white.svg",menuButtonColor:l="#fff",openMenuButtonColor:c="#fff",accentColor:h="#5227FF",changeMenuColorOnOpen:d=!0,isFixed:p=!1,closeOnClickAway:f=!0,isAuthenticated:g=!1,onMenuOpen:m,onMenuClose:v})=>{const y=Ps(),{currency:w,changeCurrency:b}=tu(),[_,x]=S.useState(!1),[A,T]=S.useState(0);Ke.useEffect(()=>{const D=()=>{const ee=JSON.parse(localStorage.getItem("cartItems")||"[]").reduce((se,Se)=>se+Se.quantity,0);T(ee)};return D(),window.addEventListener("cartUpdated",D),window.addEventListener("storage",D),()=>{window.removeEventListener("cartUpdated",D),window.removeEventListener("storage",D)}},[]);const C=S.useRef(!1),k=S.useRef(null),j=S.useRef(null),I=S.useRef([]),V=S.useRef(null),L=S.useRef(null),Y=S.useRef(null),Q=S.useRef(null),J=S.useRef(null),[z,E]=S.useState(["Menu","Close"]),O=S.useRef(null),Z=S.useRef(null),W=S.useRef(null),N=S.useRef(null),le=S.useRef(null),F=S.useRef(null),ie=S.useRef(!1),ue=S.useRef(null);S.useLayoutEffect(()=>{const D=re.context(()=>{const K=k.current,ee=j.current,se=V.current,Se=L.current,ye=Y.current,Ae=Q.current;if(!K||!se||!Se||!ye||!Ae)return;let ze=[];ee&&(ze=Array.from(ee.querySelectorAll(".sm-prelayer"))),I.current=ze;const q=t==="left"?-100:100;re.set([K,...ze],{xPercent:q}),re.set(se,{transformOrigin:"50% 50%",rotate:0}),re.set(Se,{transformOrigin:"50% 50%",rotate:90}),re.set(ye,{rotate:0,transformOrigin:"50% 50%"}),re.set(Ae,{yPercent:0}),F.current&&re.set(F.current,{color:l})});return()=>D.revert()},[l,t]);const tt=S.useCallback(()=>{var te,de;const D=k.current,K=I.current;if(!D)return null;(te=O.current)==null||te.kill(),Z.current&&(Z.current.kill(),Z.current=null),(de=ue.current)==null||de.kill();const ee=Array.from(D.querySelectorAll(".sm-panel-itemLabel")),se=Array.from(D.querySelectorAll(".sm-panel-list[data-numbering] .sm-panel-item")),Se=D.querySelector(".sm-socials-title"),ye=Array.from(D.querySelectorAll(".sm-socials-link")),Ae=K.map(we=>({el:we,start:Number(re.getProperty(we,"xPercent"))})),ze=Number(re.getProperty(D,"xPercent"));ee.length&&re.set(ee,{yPercent:140,rotate:10}),se.length&&re.set(se,{"--sm-num-opacity":0}),Se&&re.set(Se,{opacity:0}),ye.length&&re.set(ye,{y:25,opacity:0});const q=re.timeline({paused:!0});Ae.forEach((we,Wt)=>{q.fromTo(we.el,{xPercent:we.start},{xPercent:0,duration:.5,ease:"power4.out"},Wt*.07)});const R=(Ae.length?(Ae.length-1)*.07:0)+(Ae.length?.08:0),U=.65;if(q.fromTo(D,{xPercent:ze},{xPercent:0,duration:U,ease:"power4.out"},R),ee.length){const Wt=R+U*.15;q.to(ee,{yPercent:0,rotate:0,duration:1,ease:"power4.out",stagger:{each:.1,from:"start"}},Wt),se.length&&q.to(se,{duration:.6,ease:"power2.out","--sm-num-opacity":1,stagger:{each:.08,from:"start"}},Wt+.1)}if(Se||ye.length){const we=R+U*.4;Se&&q.to(Se,{opacity:1,duration:.5,ease:"power2.out"},we),ye.length&&q.to(ye,{y:0,opacity:1,duration:.55,ease:"power3.out",stagger:{each:.08,from:"start"},onComplete:()=>{re.set(ye,{clearProps:"opacity"})}},we+.04)}return O.current=q,q},[]),Pe=S.useCallback(()=>{if(ie.current)return;ie.current=!0;const D=tt();D?(D.eventCallback("onComplete",()=>{ie.current=!1}),D.play(0)):ie.current=!1},[tt]),qe=S.useCallback(()=>{var Se,ye,Ae;(Se=O.current)==null||Se.kill(),O.current=null,(ye=ue.current)==null||ye.kill();const D=k.current,K=I.current;if(!D)return;const ee=[...K,D];(Ae=Z.current)==null||Ae.kill();const se=t==="left"?-100:100;Z.current=re.to(ee,{xPercent:se,duration:.32,ease:"power3.in",overwrite:"auto",onComplete:()=>{const ze=Array.from(D.querySelectorAll(".sm-panel-itemLabel"));ze.length&&re.set(ze,{yPercent:140,rotate:10});const q=Array.from(D.querySelectorAll(".sm-panel-list[data-numbering] .sm-panel-item"));q.length&&re.set(q,{"--sm-num-opacity":0});const P=D.querySelector(".sm-socials-title"),R=Array.from(D.querySelectorAll(".sm-socials-link"));P&&re.set(P,{opacity:0}),R.length&&re.set(R,{y:25,opacity:0}),ie.current=!1}})},[t]),Ve=S.useCallback(D=>{var ee;const K=Y.current;K&&((ee=W.current)==null||ee.kill(),D?W.current=re.to(K,{rotate:225,duration:.8,ease:"power4.out",overwrite:"auto"}):W.current=re.to(K,{rotate:0,duration:.35,ease:"power3.inOut",overwrite:"auto"}))},[]),ve=S.useCallback(D=>{var ee;const K=F.current;if(K)if((ee=le.current)==null||ee.kill(),d){const se=D?c:l;le.current=re.to(K,{color:se,delay:.18,duration:.3,ease:"power2.out"})}else re.set(K,{color:l})},[c,l,d]);Ke.useEffect(()=>{if(F.current)if(d){const D=C.current?c:l;re.set(F.current,{color:D})}else re.set(F.current,{color:l})},[d,l,c]);const Qe=S.useCallback(D=>{var P;const K=Q.current;if(!K)return;(P=N.current)==null||P.kill();const ee=D?"Menu":"Close",se=D?"Close":"Menu",Se=3,ye=[ee];let Ae=ee;for(let R=0;R<Se;R++)Ae=Ae==="Menu"?"Close":"Menu",ye.push(Ae);Ae!==se&&ye.push(se),ye.push(se),E(ye),re.set(K,{yPercent:0});const ze=ye.length,q=(ze-1)/ze*100;N.current=re.to(K,{yPercent:-q,duration:.5+ze*.07,ease:"power4.out"})},[]),os=S.useCallback(()=>{const D=!C.current;C.current=D,x(D),D?(m==null||m(),Pe()):(v==null||v(),qe()),Ve(D),ve(D),Qe(D)},[Pe,qe,Ve,ve,Qe,m,v]),Ot=S.useCallback(()=>{C.current&&(C.current=!1,x(!1),v==null||v(),qe(),Ve(!1),ve(!1),Qe(!1))},[qe,Ve,ve,Qe,v]);return Ke.useEffect(()=>{if(!f||!_)return;const D=K=>{k.current&&!k.current.contains(K.target)&&F.current&&!F.current.contains(K.target)&&Ot()};return document.addEventListener("mousedown",D),()=>{document.removeEventListener("mousedown",D)}},[f,_,Ot]),u.jsxs("div",{className:(o?o+" ":"")+"staggered-menu-wrapper"+(p?" fixed-wrapper":""),style:h?{"--sm-accent":h}:void 0,"data-position":t,"data-open":_||void 0,children:[u.jsx("div",{ref:j,className:"sm-prelayers","aria-hidden":"true",children:(()=>{let K=[...e&&e.length?e.slice(0,4):["#1e1e22","#35353c"]];if(K.length>=3){const ee=Math.floor(K.length/2);K.splice(ee,1)}return K.map((ee,se)=>u.jsx("div",{className:"sm-prelayer",style:{background:ee}},se))})()}),u.jsxs("header",{className:"staggered-menu-header","aria-label":"Main navigation header",children:[u.jsx("div",{className:"sm-logo","aria-label":"Logo"}),u.jsxs("button",{ref:F,className:"sm-toggle","aria-label":_?"Close menu":"Open menu","aria-expanded":_,"aria-controls":"staggered-menu-panel",onClick:os,type:"button",children:[u.jsx("span",{ref:J,className:"sm-toggle-textWrap","aria-hidden":"true",children:u.jsx("span",{ref:Q,className:"sm-toggle-textInner",children:z.map((D,K)=>u.jsx("span",{className:"sm-toggle-line",children:D},K))})}),u.jsxs("span",{ref:Y,className:"sm-icon","aria-hidden":"true",children:[u.jsx("span",{ref:V,className:"sm-icon-line"}),u.jsx("span",{ref:L,className:"sm-icon-line sm-icon-line-v"})]})]})]}),u.jsx("aside",{id:"staggered-menu-panel",ref:k,className:"staggered-menu-panel","aria-hidden":!_,children:u.jsxs("div",{className:"sm-panel-inner",children:[u.jsx("ul",{className:"sm-panel-list",role:"list","data-numbering":n||void 0,children:s&&s.length?s.map((D,K)=>u.jsx("li",{className:"sm-panel-itemWrap",children:u.jsxs("a",{className:"sm-panel-item",href:D.link,"aria-label":D.ariaLabel,"data-index":K+1,onClick:ee=>{ee.preventDefault(),Ot(),D.onClick?setTimeout(()=>{D.onClick()},150):setTimeout(()=>{y(D.link)},150)},children:[u.jsx("span",{className:"sm-panel-itemLabel",children:D.label}),D.label==="Cart"&&A>0&&u.jsxs("span",{className:"cart-badge-container","aria-label":`${A} items in cart`,children:[u.jsx("svg",{className:"cart-icon",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{d:"M7 18C5.9 18 5.01 18.9 5.01 20C5.01 21.1 5.9 22 7 22C8.1 22 9 21.1 9 20C9 18.9 8.1 18 7 18ZM1 2V4H3L6.6 11.59L5.25 14.04C5.09 14.32 5 14.65 5 15C5 16.1 5.9 17 7 17H19V15H7.42C7.28 15 7.17 14.89 7.17 14.75L7.2 14.63L8.1 13H15.55C16.3 13 16.96 12.59 17.3 11.97L20.88 5.48C20.96 5.34 21 5.17 21 5C21 4.45 20.55 4 20 4H5.21L4.27 2H1ZM17 18C15.9 18 15.01 18.9 15.01 20C15.01 21.1 15.9 22 17 22C18.1 22 19 21.1 19 20C19 18.9 18.1 18 17 18Z",fill:"#ff3b3b"})}),u.jsx("span",{className:"cart-count",children:A})]}),(D.label==="Account"||D.label==="Logout")&&g&&u.jsx("span",{className:"settings-icon-container","aria-label":"Account Settings",onClick:ee=>{ee.preventDefault(),ee.stopPropagation(),Ot(),setTimeout(()=>{y("/settings")},150)},children:u.jsx("svg",{className:"settings-icon",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{d:"M19.14,12.94c0.04-0.3,0.06-0.61,0.06-0.94c0-0.32-0.02-0.64-0.07-0.94l2.03-1.58c0.18-0.14,0.23-0.41,0.12-0.61 l-1.92-3.32c-0.12-0.22-0.37-0.29-0.59-0.22l-2.39,0.96c-0.5-0.38-1.03-0.7-1.62-0.94L14.4,2.81c-0.04-0.24-0.24-0.41-0.48-0.41 h-3.84c-0.24,0-0.43,0.17-0.47,0.41L9.25,5.35C8.66,5.59,8.12,5.92,7.63,6.29L5.24,5.33c-0.22-0.08-0.47,0-0.59,0.22L2.74,8.87 C2.62,9.08,2.66,9.34,2.86,9.48l2.03,1.58C4.84,11.36,4.8,11.69,4.8,12s0.02,0.64,0.07,0.94l-2.03,1.58 c-0.18,0.14-0.23,0.41-0.12,0.61l1.92,3.32c0.12,0.22,0.37,0.29,0.59,0.22l2.39-0.96c0.5,0.38,1.03,0.7,1.62,0.94l0.36,2.54 c0.05,0.24,0.24,0.41,0.48,0.41h3.84c0.24,0,0.44-0.17,0.47-0.41l0.36-2.54c0.59-0.24,1.13-0.56,1.62-0.94l2.39,0.96 c0.22,0.08,0.47,0,0.59-0.22l1.92-3.32c0.12-0.22,0.07-0.47-0.12-0.61L19.14,12.94z M12,15.6c-1.98,0-3.6-1.62-3.6-3.6 s1.62-3.6,3.6-3.6s3.6,1.62,3.6,3.6S13.98,15.6,12,15.6z",fill:"#5227FF"})})})]})},D.label+K)):u.jsx("li",{className:"sm-panel-itemWrap","aria-hidden":"true",children:u.jsx("span",{className:"sm-panel-item",children:u.jsx("span",{className:"sm-panel-itemLabel",children:"No items"})})})}),i&&r&&r.length>0&&u.jsxs("div",{className:"sm-socials","aria-label":"Social links",children:[u.jsx("h3",{className:"sm-socials-title",children:"Socials"}),u.jsx("ul",{className:"sm-socials-list",role:"list",children:r.map((D,K)=>u.jsx("li",{className:"sm-socials-item",children:u.jsx("a",{href:D.link,target:"_blank",rel:"noopener noreferrer",className:"sm-socials-link",children:D.label})},D.label+K))})]}),u.jsxs("div",{className:"sm-currency","aria-label":"Currency selector",children:[u.jsx("h3",{className:"sm-currency-title",children:"Currency"}),u.jsxs("div",{className:"sm-currency-buttons",children:[u.jsxs("button",{className:`sm-currency-btn ${w==="USD"?"active":""}`,onClick:()=>b("USD"),"aria-label":"Switch to US Dollar",children:[u.jsx("span",{className:"currency-flag",children:"ðŸ‡ºðŸ‡¸"}),u.jsx("span",{className:"currency-code",children:"USD"})]}),u.jsxs("button",{className:`sm-currency-btn ${w==="CAD"?"active":""}`,onClick:()=>b("CAD"),"aria-label":"Switch to Canadian Dollar",children:[u.jsx("span",{className:"currency-flag",children:"ðŸ‡¨ðŸ‡¦"}),u.jsx("span",{className:"currency-code",children:"CAD"})]}),u.jsxs("button",{className:`sm-currency-btn ${w==="EUR"?"active":""}`,onClick:()=>b("EUR"),"aria-label":"Switch to Euro",children:[u.jsx("span",{className:"currency-flag",children:"ðŸ‡ªðŸ‡º"}),u.jsx("span",{className:"currency-code",children:"EUR"})]})]})]})]})})]})},Ls={logo:t=>u.jsx("img",{src:"/logo.png",alt:"Marapone Logo",style:{width:"60px",height:"60px",objectFit:"contain"},...t}),instagram:t=>u.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",...t,children:u.jsx("path",{d:"M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"})}),twitter:t=>u.jsx("svg",{viewBox:"0 0 1200 1227",fill:"currentColor",...t,children:u.jsx("path",{d:"M714.163 519.284L1160.89 0H1055.03L667.137 450.887L357.328 0H0L468.492 681.821L0 1226.37H105.866L515.491 750.218L842.672 1226.37H1200L714.137 519.284H714.163ZM569.165 687.828L521.697 619.934L144.011 79.6944H306.615L611.412 515.685L658.88 583.579L1055.08 1150.3H892.476L569.165 687.854V687.828Z"})}),facebook:t=>u.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",...t,children:u.jsx("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})}),github:t=>u.jsx("svg",{viewBox:"0 0 438.549 438.549",fill:"currentColor",...t,children:u.jsx("path",{d:"M409.132 114.573c-19.608-33.596-46.205-60.194-79.798-79.8-33.598-19.607-70.277-29.408-110.063-29.408-39.781 0-76.472 9.804-110.063 29.408-33.596 19.605-60.192 46.204-79.8 79.8C9.803 148.168 0 184.854 0 224.63c0 47.78 13.94 90.745 41.827 128.906 27.884 38.164 63.906 64.572 108.063 79.227 5.14.954 8.945.283 11.419-1.996 2.475-2.282 3.711-5.14 3.711-8.562 0-.571-.049-5.708-.144-15.417a2549.81 2549.81 0 01-.144-25.406l-6.567 1.136c-4.187.767-9.469 1.092-15.846 1-6.374-.089-12.991-.757-19.842-1.999-6.854-1.231-13.229-4.086-19.13-8.559-5.898-4.473-10.085-10.328-12.56-17.556l-2.855-6.57c-1.903-4.374-4.899-9.233-8.992-14.559-4.093-5.331-8.232-8.945-12.419-10.848l-1.999-1.431c-1.332-.951-2.568-2.098-3.711-3.429-1.142-1.331-1.997-2.663-2.568-3.997-.572-1.335-.098-2.43 1.427-3.289 1.525-.859 4.281-1.276 8.28-1.276l5.708.853c3.807.763 8.516 3.042 14.133 6.851 5.614 3.806 10.229 8.754 13.846 14.842 4.38 7.806 9.657 13.754 15.846 17.847 6.184 4.093 12.419 6.136 18.699 6.136 6.28 0 11.704-.476 16.274-1.423 4.565-.952 8.848-2.383 12.847-4.285 1.713-12.758 6.377-22.559 13.988-29.41-10.848-1.14-20.601-2.857-29.264-5.14-8.658-2.286-17.605-5.996-26.835-11.14-9.235-5.137-16.896-11.516-22.985-19.126-6.09-7.614-11.088-17.61-14.987-29.979-3.901-12.374-5.852-26.648-5.852-42.826 0-23.035 7.52-42.637 22.557-58.817-7.044-17.318-6.379-36.732 1.997-58.24 5.52-1.715 13.706-.428 24.554 3.853 10.85 4.283 18.794 7.952 23.84 10.994 5.046 3.041 9.089 5.618 12.135 7.708 17.705-4.947 35.976-7.421 54.818-7.421s37.117 2.474 54.823 7.421l10.849-6.849c7.419-4.57 16.18-8.758 26.262-12.565 10.088-3.805 17.802-4.853 23.134-3.138 8.562 21.509 9.325 40.922 2.279 58.24 15.036 16.18 22.559 35.787 22.559 58.817 0 16.178-1.958 30.497-5.853 42.966-3.9 12.471-8.941 22.457-15.125 29.979-6.191 7.521-13.901 13.85-23.131 18.986-9.232 5.14-18.182 8.85-26.84 11.136-8.662 2.286-18.415 4.004-29.263 5.146 9.894 8.562 14.842 22.077 14.842 40.539v60.237c0 3.422 1.19 6.279 3.572 8.562 2.379 2.279 6.136 2.95 11.276 1.995 44.163-14.653 80.185-41.062 108.068-79.226 27.88-38.161 41.825-81.126 41.825-128.906-.01-39.771-9.818-76.454-29.414-110.049z"})}),whatsapp:t=>u.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",...t,children:u.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413Z"})})};function yh(t){var e,s,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(s=yh(t[e]))&&(r&&(r+=" "),r+=s)}else for(s in t)t[s]&&(r&&(r+=" "),r+=s);return r}function I0(){for(var t,e,s=0,r="",i=arguments.length;s<i;s++)(t=arguments[s])&&(e=yh(t))&&(r&&(r+=" "),r+=e);return r}function wh(...t){return I0(t)}const fi={variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},gs=Ke.forwardRef(({className:t,variant:e="default",size:s="default",...r},i)=>{const n="inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",o=fi.variant[e]||fi.variant.default,a=fi.size[s]||fi.size.default;return u.jsx("button",{className:wh(n,o,a,t),ref:i,...r})});gs.displayName="Button";const bh=Ke.forwardRef(({className:t,type:e="text",...s},r)=>u.jsx("input",{type:e,className:wh("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:r,...s}));bh.displayName="Input";function O0(){const t=e=>{e.preventDefault(),console.log("Newsletter subscription submitted")};return u.jsx("footer",{className:"stacked-footer",children:u.jsx("div",{className:"stacked-footer-container",children:u.jsxs("div",{className:"stacked-footer-content",children:[u.jsx("div",{className:"stacked-footer-logo-circle",children:u.jsx(Ls.logo,{})}),u.jsxs("nav",{className:"stacked-footer-nav",children:[u.jsx(Tt,{to:"/",className:"stacked-footer-link",children:"Home"}),u.jsx(Tt,{to:"/about",className:"stacked-footer-link",children:"About"}),u.jsx(Tt,{to:"/services",className:"stacked-footer-link",children:"Packages"}),u.jsx(Tt,{to:"/products",className:"stacked-footer-link",children:"Products"}),u.jsx(Tt,{to:"/contact",className:"stacked-footer-link",children:"Contact"})]}),u.jsxs("div",{className:"stacked-footer-social",children:[u.jsxs(gs,{variant:"outline",size:"icon",className:"stacked-footer-social-btn",onClick:()=>window.open("https://instagram.com","_blank"),children:[u.jsx(Ls.instagram,{className:"stacked-footer-icon"}),u.jsx("span",{className:"sr-only",children:"Instagram"})]}),u.jsxs(gs,{variant:"outline",size:"icon",className:"stacked-footer-social-btn",onClick:()=>window.open("https://twitter.com","_blank"),children:[u.jsx(Ls.twitter,{className:"stacked-footer-icon"}),u.jsx("span",{className:"sr-only",children:"X (Twitter)"})]}),u.jsxs(gs,{variant:"outline",size:"icon",className:"stacked-footer-social-btn",onClick:()=>window.open("https://facebook.com","_blank"),children:[u.jsx(Ls.facebook,{className:"stacked-footer-icon"}),u.jsx("span",{className:"sr-only",children:"Facebook"})]}),u.jsxs(gs,{variant:"outline",size:"icon",className:"stacked-footer-social-btn",onClick:()=>window.open("https://github.com","_blank"),children:[u.jsx(Ls.github,{className:"stacked-footer-icon"}),u.jsx("span",{className:"sr-only",children:"GitHub"})]}),u.jsxs(gs,{variant:"outline",size:"icon",className:"stacked-footer-social-btn",onClick:()=>window.open("https://wa.me","_blank"),children:[u.jsx(Ls.whatsapp,{className:"stacked-footer-icon"}),u.jsx("span",{className:"sr-only",children:"WhatsApp"})]})]}),u.jsx("div",{className:"stacked-footer-newsletter",children:u.jsxs("form",{onSubmit:t,className:"stacked-footer-form",children:[u.jsxs("div",{className:"stacked-footer-input-wrapper",children:[u.jsx("label",{htmlFor:"email",className:"sr-only",children:"Email"}),u.jsx(bh,{id:"email",placeholder:"Enter your email",type:"email",className:"stacked-footer-input",required:!0})]}),u.jsx(gs,{type:"submit",className:"stacked-footer-submit",children:"Subscribe"})]})}),u.jsx("div",{className:"stacked-footer-copyright",children:u.jsx("p",{children:"Â© 2026 Marapone Contracting Inc. All rights reserved."})})]})})})}function D0({children:t}){const e=Ps(),{isAuthenticated:s,logout:r}=cr(),n=[{label:"Home",ariaLabel:"Go to home page",link:"/"},{label:"Products",ariaLabel:"View our products",link:"/products"},{label:"Packages",ariaLabel:"View service packages",link:"/packages"},{label:"Cart",ariaLabel:"View shopping cart",link:"/cart"},s?{label:"Logout",ariaLabel:"Logout from account",link:"/login",onClick:async()=>{await r(),e("/login")}}:{label:"Account",ariaLabel:"Create an account",link:"/account"},{label:"About",ariaLabel:"Learn about us",link:"/about"},{label:"Contact",ariaLabel:"Get in touch",link:"/contact"}];return u.jsxs("div",{style:{position:"relative",minHeight:"100vh",display:"flex",flexDirection:"column"},children:[u.jsx(R0,{position:"right",items:n,displaySocials:!1,displayItemNumbering:!0,menuButtonColor:"#ffffff",openMenuButtonColor:"#000000",changeMenuColorOnOpen:!0,colors:["#B19EEF","#5227FF","#FF9FFC"],accentColor:"#5227FF",isFixed:!0,closeOnClickAway:!0,isAuthenticated:s}),u.jsx("div",{style:{flex:1},children:t}),u.jsx(O0,{})]})}function M0({children:t}){const{isAuthenticated:e,loading:s}=cr(),r=Jc();return s?u.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",color:"white",fontSize:"1.2rem"},children:"Loading..."}):e?t:u.jsx(pf,{to:"/login",state:{from:r},replace:!0})}function Rt({mouseForce:t=20,cursorSize:e=100,isViscous:s=!1,viscous:r=30,iterationsViscous:i=32,iterationsPoisson:n=32,dt:o=.014,BFECC:a=!0,resolution:l=.5,isBounce:c=!1,colors:h=["#5227FF","#FF9FFC","#B19EEF"],style:d={},className:p="",autoDemo:f=!0,autoSpeed:g=.5,autoIntensity:m=2.2,takeoverDuration:v=.25,autoResumeDelay:y=1e3,autoRampDuration:w=.6}){const b=S.useRef(null),_=S.useRef(null),x=S.useRef(null),A=S.useRef(null),T=S.useRef(null),C=S.useRef(!0),k=S.useRef(null);return S.useEffect(()=>{if(!b.current)return;function j(q){let P;Array.isArray(q)&&q.length>0?q.length===1?P=[q[0],q[0]]:P=q:P=["#ffffff","#ffffff"];const R=P.length,U=new Uint8Array(R*4);for(let de=0;de<R;de++){const we=new Ba(P[de]);U[de*4+0]=Math.round(we.r*255),U[de*4+1]=Math.round(we.g*255),U[de*4+2]=Math.round(we.b*255),U[de*4+3]=255}const te=new yf(U,R,1,wf);return te.magFilter=ri,te.minFilter=ri,te.wrapS=ii,te.wrapT=ii,te.generateMipmaps=!1,te.needsUpdate=!0,te}const I=j(h),V=new xf(0,0,0,0),L=`
      attribute vec3 position;
      uniform vec2 px;
      uniform vec2 boundarySpace;
      varying vec2 uv;
      precision highp float;
      void main(){
        vec3 pos = position;
        vec2 scale = 1.0 - boundarySpace * 2.0;
        pos.xy = pos.xy * scale;
        uv = vec2(0.5)+(pos.xy)*0.5;
        gl_Position = vec4(pos, 1.0);
      }
    `,Y=`
      attribute vec3 position;
      uniform vec2 px;
      precision highp float;
      varying vec2 uv;
      void main(){
        vec3 pos = position;
        uv = 0.5 + pos.xy * 0.5;
        vec2 n = sign(pos.xy);
        pos.xy = abs(pos.xy) - px * 1.0;
        pos.xy *= n;
        gl_Position = vec4(pos, 1.0);
      }
    `,Q=`
      precision highp float;
      attribute vec3 position;
      attribute vec2 uv;
      uniform vec2 center;
      uniform vec2 scale;
      uniform vec2 px;
      varying vec2 vUv;
      void main(){
        vec2 pos = position.xy * scale * 2.0 * px + center;
        vUv = uv;
        gl_Position = vec4(pos, 0.0, 1.0);
      }
    `,J=`
      precision highp float;
      uniform sampler2D velocity;
      uniform float dt;
      uniform bool isBFECC;
      uniform vec2 fboSize;
      uniform vec2 px;
      varying vec2 uv;
      void main(){
        vec2 ratio = max(fboSize.x, fboSize.y) / fboSize;
        if(isBFECC == false){
          vec2 vel = texture2D(velocity, uv).xy;
          vec2 uv2 = uv - vel * dt * ratio;
          vec2 newVel = texture2D(velocity, uv2).xy;
          gl_FragColor = vec4(newVel, 0.0, 0.0);
        } else {
          vec2 spot_new = uv;
          vec2 vel_old = texture2D(velocity, uv).xy;
          vec2 spot_old = spot_new - vel_old * dt * ratio;
          vec2 vel_new1 = texture2D(velocity, spot_old).xy;
          vec2 spot_new2 = spot_old + vel_new1 * dt * ratio;
          vec2 error = spot_new2 - spot_new;
          vec2 spot_new3 = spot_new - error / 2.0;
          vec2 vel_2 = texture2D(velocity, spot_new3).xy;
          vec2 spot_old2 = spot_new3 - vel_2 * dt * ratio;
          vec2 newVel2 = texture2D(velocity, spot_old2).xy; 
          gl_FragColor = vec4(newVel2, 0.0, 0.0);
        }
      }
    `,z=`
      precision highp float;
      uniform sampler2D velocity;
      uniform sampler2D palette;
      uniform vec4 bgColor;
      varying vec2 uv;
      void main(){
        vec2 vel = texture2D(velocity, uv).xy;
        float lenv = clamp(length(vel), 0.0, 1.0);
        vec3 c = texture2D(palette, vec2(lenv, 0.5)).rgb;
        vec3 outRGB = mix(bgColor.rgb, c, lenv);
        float outA = mix(bgColor.a, 1.0, lenv);
        gl_FragColor = vec4(outRGB, outA);
      }
    `,E=`
      precision highp float;
      uniform sampler2D velocity;
      uniform float dt;
      uniform vec2 px;
      varying vec2 uv;
      void main(){
        float x0 = texture2D(velocity, uv-vec2(px.x, 0.0)).x;
        float x1 = texture2D(velocity, uv+vec2(px.x, 0.0)).x;
        float y0 = texture2D(velocity, uv-vec2(0.0, px.y)).y;
        float y1 = texture2D(velocity, uv+vec2(0.0, px.y)).y;
        float divergence = (x1 - x0 + y1 - y0) / 2.0;
        gl_FragColor = vec4(divergence / dt);
      }
    `,O=`
      precision highp float;
      uniform vec2 force;
      uniform vec2 center;
      uniform vec2 scale;
      uniform vec2 px;
      varying vec2 vUv;
      void main(){
        vec2 circle = (vUv - 0.5) * 2.0;
        float d = 1.0 - min(length(circle), 1.0);
        d *= d;
        gl_FragColor = vec4(force * d, 0.0, 1.0);
      }
    `,Z=`
      precision highp float;
      uniform sampler2D pressure;
      uniform sampler2D divergence;
      uniform vec2 px;
      varying vec2 uv;
      void main(){
        float p0 = texture2D(pressure, uv + vec2(px.x * 2.0, 0.0)).r;
        float p1 = texture2D(pressure, uv - vec2(px.x * 2.0, 0.0)).r;
        float p2 = texture2D(pressure, uv + vec2(0.0, px.y * 2.0)).r;
        float p3 = texture2D(pressure, uv - vec2(0.0, px.y * 2.0)).r;
        float div = texture2D(divergence, uv).r;
        float newP = (p0 + p1 + p2 + p3) / 4.0 - div;
        gl_FragColor = vec4(newP);
      }
    `,W=`
      precision highp float;
      uniform sampler2D pressure;
      uniform sampler2D velocity;
      uniform vec2 px;
      uniform float dt;
      varying vec2 uv;
      void main(){
        float step = 1.0;
        float p0 = texture2D(pressure, uv + vec2(px.x * step, 0.0)).r;
        float p1 = texture2D(pressure, uv - vec2(px.x * step, 0.0)).r;
        float p2 = texture2D(pressure, uv + vec2(0.0, px.y * step)).r;
        float p3 = texture2D(pressure, uv - vec2(0.0, px.y * step)).r;
        vec2 v = texture2D(velocity, uv).xy;
        vec2 gradP = vec2(p0 - p1, p2 - p3) * 0.5;
        v = v - gradP * dt;
        gl_FragColor = vec4(v, 0.0, 1.0);
      }
    `,N=`
      precision highp float;
      uniform sampler2D velocity;
      uniform sampler2D velocity_new;
      uniform float v;
      uniform vec2 px;
      uniform float dt;
      varying vec2 uv;
      void main(){
        vec2 old = texture2D(velocity, uv).xy;
        vec2 new0 = texture2D(velocity_new, uv + vec2(px.x * 2.0, 0.0)).xy;
        vec2 new1 = texture2D(velocity_new, uv - vec2(px.x * 2.0, 0.0)).xy;
        vec2 new2 = texture2D(velocity_new, uv + vec2(0.0, px.y * 2.0)).xy;
        vec2 new3 = texture2D(velocity_new, uv - vec2(0.0, px.y * 2.0)).xy;
        vec2 newv = 4.0 * old + v * dt * (new0 + new1 + new2 + new3);
        newv /= 4.0 * (1.0 + v * dt);
        gl_FragColor = vec4(newv, 0.0, 0.0);
      }
    `;class le{constructor(){this.width=0,this.height=0,this.aspect=1,this.pixelRatio=1,this.container=null,this.renderer=null,this.clock=null,this.time=0,this.delta=0}init(P){this.container=P,this.pixelRatio=Math.min(window.devicePixelRatio||1,2),this.resize(),this.renderer=new bf({antialias:!0,alpha:!0}),this.renderer.autoClear=!1,this.renderer.setClearColor(new Ba(0),0),this.renderer.setPixelRatio(this.pixelRatio),this.renderer.setSize(this.width,this.height),this.renderer.domElement.style.width="100%",this.renderer.domElement.style.height="100%",this.renderer.domElement.style.display="block",this.clock=new _f,this.clock.start()}resize(){if(!this.container)return;const P=this.container.getBoundingClientRect();this.width=Math.max(1,Math.floor(P.width)),this.height=Math.max(1,Math.floor(P.height)),this.aspect=this.width/this.height,this.renderer&&this.renderer.setSize(this.width,this.height,!1)}update(){this.delta=this.clock.getDelta(),this.time+=this.delta}}const F=new le;class ie{constructor(){this.mouseMoved=!1,this.coords=new We,this.coords_old=new We,this.diff=new We,this.timer=null,this.container=null,this.docTarget=null,this.listenerTarget=null,this.isHoverInside=!1,this.hasUserControl=!1,this.isAutoActive=!1,this.autoIntensity=2,this.takeoverActive=!1,this.takeoverStartTime=0,this.takeoverDuration=.25,this.takeoverFrom=new We,this.takeoverTo=new We,this.onInteract=null,this._onMouseMove=this.onDocumentMouseMove.bind(this),this._onTouchStart=this.onDocumentTouchStart.bind(this),this._onTouchMove=this.onDocumentTouchMove.bind(this),this._onTouchEnd=this.onTouchEnd.bind(this),this._onDocumentLeave=this.onDocumentLeave.bind(this)}init(P){this.container=P,this.docTarget=P.ownerDocument||null;const R=this.docTarget&&this.docTarget.defaultView||(typeof window<"u"?window:null);R&&(this.listenerTarget=R,this.listenerTarget.addEventListener("mousemove",this._onMouseMove),this.listenerTarget.addEventListener("touchstart",this._onTouchStart,{passive:!0}),this.listenerTarget.addEventListener("touchmove",this._onTouchMove,{passive:!0}),this.listenerTarget.addEventListener("touchend",this._onTouchEnd),this.docTarget&&this.docTarget.addEventListener("mouseleave",this._onDocumentLeave))}dispose(){this.listenerTarget&&(this.listenerTarget.removeEventListener("mousemove",this._onMouseMove),this.listenerTarget.removeEventListener("touchstart",this._onTouchStart),this.listenerTarget.removeEventListener("touchmove",this._onTouchMove),this.listenerTarget.removeEventListener("touchend",this._onTouchEnd)),this.docTarget&&this.docTarget.removeEventListener("mouseleave",this._onDocumentLeave),this.listenerTarget=null,this.docTarget=null,this.container=null}isPointInside(P,R){if(!this.container)return!1;const U=this.container.getBoundingClientRect();return U.width===0||U.height===0?!1:P>=U.left&&P<=U.right&&R>=U.top&&R<=U.bottom}updateHoverState(P,R){return this.isHoverInside=this.isPointInside(P,R),this.isHoverInside}setCoords(P,R){if(!this.container)return;this.timer&&window.clearTimeout(this.timer);const U=this.container.getBoundingClientRect();if(U.width===0||U.height===0)return;const te=(P-U.left)/U.width,de=(R-U.top)/U.height;this.coords.set(te*2-1,-(de*2-1)),this.mouseMoved=!0,this.timer=window.setTimeout(()=>{this.mouseMoved=!1},100)}setNormalized(P,R){this.coords.set(P,R),this.mouseMoved=!0}onDocumentMouseMove(P){if(this.updateHoverState(P.clientX,P.clientY)){if(this.onInteract&&this.onInteract(),this.isAutoActive&&!this.hasUserControl&&!this.takeoverActive){if(!this.container)return;const R=this.container.getBoundingClientRect();if(R.width===0||R.height===0)return;const U=(P.clientX-R.left)/R.width,te=(P.clientY-R.top)/R.height;this.takeoverFrom.copy(this.coords),this.takeoverTo.set(U*2-1,-(te*2-1)),this.takeoverStartTime=performance.now(),this.takeoverActive=!0,this.hasUserControl=!0,this.isAutoActive=!1;return}this.setCoords(P.clientX,P.clientY),this.hasUserControl=!0}}onDocumentTouchStart(P){if(P.touches.length!==1)return;const R=P.touches[0];this.updateHoverState(R.clientX,R.clientY)&&(this.onInteract&&this.onInteract(),this.setCoords(R.clientX,R.clientY),this.hasUserControl=!0)}onDocumentTouchMove(P){if(P.touches.length!==1)return;const R=P.touches[0];this.updateHoverState(R.clientX,R.clientY)&&(this.onInteract&&this.onInteract(),this.setCoords(R.clientX,R.clientY))}onTouchEnd(){this.isHoverInside=!1}onDocumentLeave(){this.isHoverInside=!1}update(){if(this.takeoverActive){const P=(performance.now()-this.takeoverStartTime)/(this.takeoverDuration*1e3);if(P>=1)this.takeoverActive=!1,this.coords.copy(this.takeoverTo),this.coords_old.copy(this.coords),this.diff.set(0,0);else{const R=P*P*(3-2*P);this.coords.copy(this.takeoverFrom).lerp(this.takeoverTo,R)}}this.diff.subVectors(this.coords,this.coords_old),this.coords_old.copy(this.coords),this.coords_old.x===0&&this.coords_old.y===0&&this.diff.set(0,0),this.isAutoActive&&!this.takeoverActive&&this.diff.multiplyScalar(this.autoIntensity)}}const ue=new ie;class tt{constructor(P,R,U){this.mouse=P,this.manager=R,this.enabled=U.enabled,this.speed=U.speed,this.resumeDelay=U.resumeDelay||3e3,this.rampDurationMs=(U.rampDuration||0)*1e3,this.active=!1,this.current=new We(0,0),this.target=new We,this.lastTime=performance.now(),this.activationTime=0,this.margin=.2,this._tmpDir=new We,this.pickNewTarget()}pickNewTarget(){const P=Math.random;this.target.set((P()*2-1)*(1-this.margin),(P()*2-1)*(1-this.margin))}forceStop(){this.active=!1,this.mouse.isAutoActive=!1}update(){if(!this.enabled)return;const P=performance.now();if(P-this.manager.lastUserInteraction<this.resumeDelay){this.active&&this.forceStop();return}if(this.mouse.isHoverInside){this.active&&this.forceStop();return}if(this.active||(this.active=!0,this.current.copy(this.mouse.coords),this.lastTime=P,this.activationTime=P),!this.active)return;this.mouse.isAutoActive=!0;let U=(P-this.lastTime)/1e3;this.lastTime=P,U>.2&&(U=.016);const te=this._tmpDir.subVectors(this.target,this.current),de=te.length();if(de<.01){this.pickNewTarget();return}te.normalize();let we=1;if(this.rampDurationMs>0){const an=Math.min(1,(P-this.activationTime)/this.rampDurationMs);we=an*an*(3-2*an)}const Wt=this.speed*U*we,pr=Math.min(Wt,de);this.current.addScaledVector(te,pr),this.mouse.setNormalized(this.current.x,this.current.y)}}class Pe{constructor(P){var R;this.props=P||{},this.uniforms=(R=this.props.material)==null?void 0:R.uniforms,this.scene=null,this.camera=null,this.material=null,this.geometry=null,this.plane=null}init(){this.scene=new La,this.camera=new Fa,this.uniforms&&(this.material=new ni(this.props.material),this.geometry=new cn(2,2),this.plane=new ln(this.geometry,this.material),this.scene.add(this.plane))}update(){F.renderer.setRenderTarget(this.props.output||null),F.renderer.render(this.scene,this.camera),F.renderer.setRenderTarget(null)}}class qe extends Pe{constructor(P){super({material:{vertexShader:L,fragmentShader:J,uniforms:{boundarySpace:{value:P.cellScale},px:{value:P.cellScale},fboSize:{value:P.fboSize},velocity:{value:P.src.texture},dt:{value:P.dt},isBFECC:{value:!0}}},output:P.dst}),this.uniforms=this.props.material.uniforms,this.init()}init(){super.init(),this.createBoundary()}createBoundary(){const P=new Ef,R=new Float32Array([-1,-1,0,-1,1,0,-1,1,0,1,1,0,1,1,0,1,-1,0,1,-1,0,-1,-1,0]);P.setAttribute("position",new Cf(R,3));const U=new ni({vertexShader:Y,fragmentShader:J,uniforms:this.uniforms});this.line=new kf(P,U),this.scene.add(this.line)}update({dt:P,isBounce:R,BFECC:U}){this.uniforms.dt.value=P,this.line.visible=R,this.uniforms.isBFECC.value=U,super.update()}}class Ve extends Pe{constructor(P){super({output:P.dst}),this.init(P)}init(P){super.init();const R=new cn(1,1),U=new ni({vertexShader:Q,fragmentShader:O,blending:Pf,depthWrite:!1,uniforms:{px:{value:P.cellScale},force:{value:new We(0,0)},center:{value:new We(0,0)},scale:{value:new We(P.cursor_size,P.cursor_size)}}});this.mouse=new ln(R,U),this.scene.add(this.mouse)}update(P){const R=ue.diff.x/2*P.mouse_force,U=ue.diff.y/2*P.mouse_force,te=P.cursor_size*P.cellScale.x,de=P.cursor_size*P.cellScale.y,we=Math.min(Math.max(ue.coords.x,-1+te+P.cellScale.x*2),1-te-P.cellScale.x*2),Wt=Math.min(Math.max(ue.coords.y,-1+de+P.cellScale.y*2),1-de-P.cellScale.y*2),pr=this.mouse.material.uniforms;pr.force.value.set(R,U),pr.center.value.set(we,Wt),pr.scale.value.set(P.cursor_size,P.cursor_size),super.update()}}class ve extends Pe{constructor(P){super({material:{vertexShader:L,fragmentShader:N,uniforms:{boundarySpace:{value:P.boundarySpace},velocity:{value:P.src.texture},velocity_new:{value:P.dst_.texture},v:{value:P.viscous},px:{value:P.cellScale},dt:{value:P.dt}}},output:P.dst,output0:P.dst_,output1:P.dst}),this.init()}update({viscous:P,iterations:R,dt:U}){let te,de;this.uniforms.v.value=P;for(let we=0;we<R;we++)we%2===0?(te=this.props.output0,de=this.props.output1):(te=this.props.output1,de=this.props.output0),this.uniforms.velocity_new.value=te.texture,this.props.output=de,this.uniforms.dt.value=U,super.update();return de}}class Qe extends Pe{constructor(P){super({material:{vertexShader:L,fragmentShader:E,uniforms:{boundarySpace:{value:P.boundarySpace},velocity:{value:P.src.texture},px:{value:P.cellScale},dt:{value:P.dt}}},output:P.dst}),this.init()}update({vel:P}){this.uniforms.velocity.value=P.texture,super.update()}}class os extends Pe{constructor(P){super({material:{vertexShader:L,fragmentShader:Z,uniforms:{boundarySpace:{value:P.boundarySpace},pressure:{value:P.dst_.texture},divergence:{value:P.src.texture},px:{value:P.cellScale}}},output:P.dst,output0:P.dst_,output1:P.dst}),this.init()}update({iterations:P}){let R,U;for(let te=0;te<P;te++)te%2===0?(R=this.props.output0,U=this.props.output1):(R=this.props.output1,U=this.props.output0),this.uniforms.pressure.value=R.texture,this.props.output=U,super.update();return U}}class Ot extends Pe{constructor(P){super({material:{vertexShader:L,fragmentShader:W,uniforms:{boundarySpace:{value:P.boundarySpace},pressure:{value:P.src_p.texture},velocity:{value:P.src_v.texture},px:{value:P.cellScale},dt:{value:P.dt}}},output:P.dst}),this.init()}update({vel:P,pressure:R}){this.uniforms.velocity.value=P.texture,this.uniforms.pressure.value=R.texture,super.update()}}class D{constructor(P){this.options={iterations_poisson:32,iterations_viscous:32,mouse_force:20,resolution:.5,cursor_size:100,viscous:30,isBounce:!1,dt:.014,isViscous:!1,BFECC:!0,...P},this.fbos={vel_0:null,vel_1:null,vel_viscous0:null,vel_viscous1:null,div:null,pressure_0:null,pressure_1:null},this.fboSize=new We,this.cellScale=new We,this.boundarySpace=new We,this.init()}init(){this.calcSize(),this.createAllFBO(),this.createShaderPass()}getFloatType(){return/(iPad|iPhone|iPod)/i.test(navigator.userAgent)?Sf:Af}createAllFBO(){const R={type:this.getFloatType(),depthBuffer:!1,stencilBuffer:!1,minFilter:ri,magFilter:ri,wrapS:ii,wrapT:ii};for(let U in this.fbos)this.fbos[U]=new Tf(this.fboSize.x,this.fboSize.y,R)}createShaderPass(){this.advection=new qe({cellScale:this.cellScale,fboSize:this.fboSize,dt:this.options.dt,src:this.fbos.vel_0,dst:this.fbos.vel_1}),this.externalForce=new Ve({cellScale:this.cellScale,cursor_size:this.options.cursor_size,dst:this.fbos.vel_1}),this.viscous=new ve({cellScale:this.cellScale,boundarySpace:this.boundarySpace,viscous:this.options.viscous,src:this.fbos.vel_1,dst:this.fbos.vel_viscous1,dst_:this.fbos.vel_viscous0,dt:this.options.dt}),this.divergence=new Qe({cellScale:this.cellScale,boundarySpace:this.boundarySpace,src:this.fbos.vel_viscous0,dst:this.fbos.div,dt:this.options.dt}),this.poisson=new os({cellScale:this.cellScale,boundarySpace:this.boundarySpace,src:this.fbos.div,dst:this.fbos.pressure_1,dst_:this.fbos.pressure_0}),this.pressure=new Ot({cellScale:this.cellScale,boundarySpace:this.boundarySpace,src_p:this.fbos.pressure_0,src_v:this.fbos.vel_viscous0,dst:this.fbos.vel_0,dt:this.options.dt})}calcSize(){const P=Math.max(1,Math.round(this.options.resolution*F.width)),R=Math.max(1,Math.round(this.options.resolution*F.height)),U=1/P,te=1/R;this.cellScale.set(U,te),this.fboSize.set(P,R)}resize(){this.calcSize();for(let P in this.fbos)this.fbos[P].setSize(this.fboSize.x,this.fboSize.y)}update(){this.options.isBounce?this.boundarySpace.set(0,0):this.boundarySpace.copy(this.cellScale),this.advection.update({dt:this.options.dt,isBounce:this.options.isBounce,BFECC:this.options.BFECC}),this.externalForce.update({cursor_size:this.options.cursor_size,mouse_force:this.options.mouse_force,cellScale:this.cellScale});let P=this.fbos.vel_1;this.options.isViscous&&(P=this.viscous.update({viscous:this.options.viscous,iterations:this.options.iterations_viscous,dt:this.options.dt})),this.divergence.update({vel:P});const R=this.poisson.update({iterations:this.options.iterations_poisson});this.pressure.update({vel:P,pressure:R})}}class K{constructor(){this.init()}init(){this.simulation=new D,this.scene=new La,this.camera=new Fa,this.output=new ln(new cn(2,2),new ni({vertexShader:L,fragmentShader:z,transparent:!0,depthWrite:!1,uniforms:{velocity:{value:this.simulation.fbos.vel_0.texture},boundarySpace:{value:new We},palette:{value:I},bgColor:{value:V}}})),this.scene.add(this.output)}resize(){this.simulation.resize()}render(){F.renderer.setRenderTarget(null),F.renderer.render(this.scene,this.camera)}update(){this.simulation.update(),this.render()}}class ee{constructor(P){this.props=P,F.init(P.$wrapper),ue.init(P.$wrapper),ue.autoIntensity=P.autoIntensity,ue.takeoverDuration=P.takeoverDuration,this.lastUserInteraction=performance.now(),ue.onInteract=()=>{this.lastUserInteraction=performance.now(),this.autoDriver&&this.autoDriver.forceStop()},this.autoDriver=new tt(ue,this,{enabled:P.autoDemo,speed:P.autoSpeed,resumeDelay:P.autoResumeDelay,rampDuration:P.autoRampDuration}),this.init(),this._loop=this.loop.bind(this),this._resize=this.resize.bind(this),window.addEventListener("resize",this._resize),this._onVisibility=()=>{document.hidden?this.pause():C.current&&this.start()},document.addEventListener("visibilitychange",this._onVisibility),this.running=!1}init(){this.props.$wrapper.prepend(F.renderer.domElement),this.output=new K}resize(){F.resize(),this.output.resize()}render(){this.autoDriver&&this.autoDriver.update(),ue.update(),F.update(),this.output.update()}loop(){this.running&&(this.render(),A.current=requestAnimationFrame(this._loop))}start(){this.running||(this.running=!0,this._loop())}pause(){this.running=!1,A.current&&(cancelAnimationFrame(A.current),A.current=null)}dispose(){try{if(window.removeEventListener("resize",this._resize),document.removeEventListener("visibilitychange",this._onVisibility),ue.dispose(),F.renderer){const P=F.renderer.domElement;P&&P.parentNode&&P.parentNode.removeChild(P),F.renderer.dispose()}}catch{}}}const se=b.current;se.style.position=se.style.position||"relative",se.style.overflow=se.style.overflow||"hidden";const Se=new ee({$wrapper:se,autoDemo:f,autoSpeed:g,autoIntensity:m,takeoverDuration:v,autoResumeDelay:y,autoRampDuration:w});_.current=Se,(()=>{var R;if(!_.current)return;const q=(R=_.current.output)==null?void 0:R.simulation;if(!q)return;const P=q.options.resolution;Object.assign(q.options,{mouse_force:t,cursor_size:e,isViscous:s,viscous:r,iterations_viscous:i,iterations_poisson:n,dt:o,BFECC:a,resolution:l,isBounce:c}),l!==P&&q.resize()})(),Se.start();const Ae=new IntersectionObserver(q=>{const P=q[0],R=P.isIntersecting&&P.intersectionRatio>0;C.current=R,_.current&&(R&&!document.hidden?_.current.start():_.current.pause())},{threshold:[0,.01,.1]});Ae.observe(se),T.current=Ae;const ze=new ResizeObserver(()=>{_.current&&(k.current&&cancelAnimationFrame(k.current),k.current=requestAnimationFrame(()=>{_.current&&_.current.resize()}))});return ze.observe(se),x.current=ze,()=>{if(A.current&&cancelAnimationFrame(A.current),x.current)try{x.current.disconnect()}catch{}if(T.current)try{T.current.disconnect()}catch{}_.current&&_.current.dispose(),_.current=null}},[a,e,o,c,s,n,i,t,l,r,h,f,g,m,v,y,w]),S.useEffect(()=>{var L;const j=_.current;if(!j)return;const I=(L=j.output)==null?void 0:L.simulation;if(!I)return;const V=I.options.resolution;Object.assign(I.options,{mouse_force:t,cursor_size:e,isViscous:s,viscous:r,iterations_viscous:i,iterations_poisson:n,dt:o,BFECC:a,resolution:l,isBounce:c}),j.autoDriver&&(j.autoDriver.enabled=f,j.autoDriver.speed=g,j.autoDriver.resumeDelay=y,j.autoDriver.rampDurationMs=w*1e3,j.autoDriver.mouse&&(j.autoDriver.mouse.autoIntensity=m,j.autoDriver.mouse.takeoverDuration=v)),l!==V&&I.resize()},[t,e,s,r,i,n,o,a,l,c,f,g,m,v,y,w]),u.jsx("div",{ref:b,className:`liquid-ether-container ${p||""}`,style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",zIndex:0,pointerEvents:"none",...d}})}const N0=`#version 300 es
precision mediump float;

layout(location = 0) in vec4 a_position;

uniform vec2 u_resolution;
uniform float u_pixelRatio;
uniform float u_imageAspectRatio;
uniform float u_originX;
uniform float u_originY;
uniform float u_worldWidth;
uniform float u_worldHeight;
uniform float u_fit;
uniform float u_scale;
uniform float u_rotation;
uniform float u_offsetX;
uniform float u_offsetY;

out vec2 v_objectUV;
out vec2 v_objectBoxSize;
out vec2 v_responsiveUV;
out vec2 v_responsiveBoxGivenSize;
out vec2 v_patternUV;
out vec2 v_patternBoxSize;
out vec2 v_imageUV;

vec3 getBoxSize(float boxRatio, vec2 givenBoxSize) {
  vec2 box = vec2(0.);
  // fit = none
  box.x = boxRatio * min(givenBoxSize.x / boxRatio, givenBoxSize.y);
  float noFitBoxWidth = box.x;
  if (u_fit == 1.) { // fit = contain
    box.x = boxRatio * min(u_resolution.x / boxRatio, u_resolution.y);
  } else if (u_fit == 2.) { // fit = cover
    box.x = boxRatio * max(u_resolution.x / boxRatio, u_resolution.y);
  }
  box.y = box.x / boxRatio;
  return vec3(box, noFitBoxWidth);
}

void main() {
  gl_Position = a_position;

  vec2 uv = gl_Position.xy * .5;
  vec2 boxOrigin = vec2(.5 - u_originX, u_originY - .5);
  vec2 givenBoxSize = vec2(u_worldWidth, u_worldHeight);
  givenBoxSize = max(givenBoxSize, vec2(1.)) * u_pixelRatio;
  float r = u_rotation * 3.14159265358979323846 / 180.;
  mat2 graphicRotation = mat2(cos(r), sin(r), -sin(r), cos(r));
  vec2 graphicOffset = vec2(-u_offsetX, u_offsetY);


  // ===================================================

  float fixedRatio = 1.;
  vec2 fixedRatioBoxGivenSize = vec2(
  (u_worldWidth == 0.) ? u_resolution.x : givenBoxSize.x,
  (u_worldHeight == 0.) ? u_resolution.y : givenBoxSize.y
  );

  v_objectBoxSize = getBoxSize(fixedRatio, fixedRatioBoxGivenSize).xy;
  vec2 objectWorldScale = u_resolution.xy / v_objectBoxSize;

  v_objectUV = uv;
  v_objectUV *= objectWorldScale;
  v_objectUV += boxOrigin * (objectWorldScale - 1.);
  v_objectUV += graphicOffset;
  v_objectUV /= u_scale;
  v_objectUV = graphicRotation * v_objectUV;

  // ===================================================

  v_responsiveBoxGivenSize = vec2(
  (u_worldWidth == 0.) ? u_resolution.x : givenBoxSize.x,
  (u_worldHeight == 0.) ? u_resolution.y : givenBoxSize.y
  );
  float responsiveRatio = v_responsiveBoxGivenSize.x / v_responsiveBoxGivenSize.y;
  vec2 responsiveBoxSize = getBoxSize(responsiveRatio, v_responsiveBoxGivenSize).xy;
  vec2 responsiveBoxScale = u_resolution.xy / responsiveBoxSize;

  #ifdef ADD_HELPERS
  v_responsiveHelperBox = uv;
  v_responsiveHelperBox *= responsiveBoxScale;
  v_responsiveHelperBox += boxOrigin * (responsiveBoxScale - 1.);
  #endif

  v_responsiveUV = uv;
  v_responsiveUV *= responsiveBoxScale;
  v_responsiveUV += boxOrigin * (responsiveBoxScale - 1.);
  v_responsiveUV += graphicOffset;
  v_responsiveUV /= u_scale;
  v_responsiveUV.x *= responsiveRatio;
  v_responsiveUV = graphicRotation * v_responsiveUV;
  v_responsiveUV.x /= responsiveRatio;

  // ===================================================

  float patternBoxRatio = givenBoxSize.x / givenBoxSize.y;
  vec2 patternBoxGivenSize = vec2(
  (u_worldWidth == 0.) ? u_resolution.x : givenBoxSize.x,
  (u_worldHeight == 0.) ? u_resolution.y : givenBoxSize.y
  );
  patternBoxRatio = patternBoxGivenSize.x / patternBoxGivenSize.y;

  vec3 boxSizeData = getBoxSize(patternBoxRatio, patternBoxGivenSize);
  v_patternBoxSize = boxSizeData.xy;
  float patternBoxNoFitBoxWidth = boxSizeData.z;
  vec2 patternBoxScale = u_resolution.xy / v_patternBoxSize;

  v_patternUV = uv;
  v_patternUV += graphicOffset / patternBoxScale;
  v_patternUV += boxOrigin;
  v_patternUV -= boxOrigin / patternBoxScale;
  v_patternUV *= u_resolution.xy;
  v_patternUV /= u_pixelRatio;
  if (u_fit > 0.) {
    v_patternUV *= (patternBoxNoFitBoxWidth / v_patternBoxSize.x);
  }
  v_patternUV /= u_scale;
  v_patternUV = graphicRotation * v_patternUV;
  v_patternUV += boxOrigin / patternBoxScale;
  v_patternUV -= boxOrigin;
  // x100 is a default multiplier between vertex and fragmant shaders
  // we use it to avoid UV presision issues
  v_patternUV *= .01;

  // ===================================================

  vec2 imageBoxSize;
  if (u_fit == 1.) { // contain
    imageBoxSize.x = min(u_resolution.x / u_imageAspectRatio, u_resolution.y) * u_imageAspectRatio;
  } else if (u_fit == 2.) { // cover
    imageBoxSize.x = max(u_resolution.x / u_imageAspectRatio, u_resolution.y) * u_imageAspectRatio;
  } else {
    imageBoxSize.x = min(10.0, 10.0 / u_imageAspectRatio * u_imageAspectRatio);
  }
  imageBoxSize.y = imageBoxSize.x / u_imageAspectRatio;
  vec2 imageBoxScale = u_resolution.xy / imageBoxSize;

  v_imageUV = uv;
  v_imageUV *= imageBoxScale;
  v_imageUV += boxOrigin * (imageBoxScale - 1.);
  v_imageUV += graphicOffset;
  v_imageUV /= u_scale;
  v_imageUV.x *= u_imageAspectRatio;
  v_imageUV = graphicRotation * v_imageUV;
  v_imageUV.x /= u_imageAspectRatio;

  v_imageUV += .5;
  v_imageUV.y = 1. - v_imageUV.y;
}`,kl=1920*1080*4;let B0=class{constructor(e,s,r,i,n=0,o=0,a=2,l=kl,c=[]){H(this,"parentElement");H(this,"canvasElement");H(this,"gl");H(this,"program",null);H(this,"uniformLocations",{});H(this,"fragmentShader");H(this,"rafId",null);H(this,"lastRenderTime",0);H(this,"currentFrame",0);H(this,"speed",0);H(this,"currentSpeed",0);H(this,"providedUniforms");H(this,"mipmaps",[]);H(this,"hasBeenDisposed",!1);H(this,"resolutionChanged",!0);H(this,"textures",new Map);H(this,"minPixelRatio");H(this,"maxPixelCount");H(this,"isSafari",U0());H(this,"uniformCache",{});H(this,"textureUnitMap",new Map);H(this,"initProgram",()=>{const e=L0(this.gl,N0,this.fragmentShader);e&&(this.program=e)});H(this,"setupPositionAttribute",()=>{const e=this.gl.getAttribLocation(this.program,"a_position"),s=this.gl.createBuffer();this.gl.bindBuffer(this.gl.ARRAY_BUFFER,s);const r=[-1,-1,1,-1,-1,1,-1,1,1,-1,1,1];this.gl.bufferData(this.gl.ARRAY_BUFFER,new Float32Array(r),this.gl.STATIC_DRAW),this.gl.enableVertexAttribArray(e),this.gl.vertexAttribPointer(e,2,this.gl.FLOAT,!1,0,0)});H(this,"setupUniforms",()=>{const e={u_time:this.gl.getUniformLocation(this.program,"u_time"),u_pixelRatio:this.gl.getUniformLocation(this.program,"u_pixelRatio"),u_resolution:this.gl.getUniformLocation(this.program,"u_resolution")};Object.entries(this.providedUniforms).forEach(([s,r])=>{if(e[s]=this.gl.getUniformLocation(this.program,s),r instanceof HTMLImageElement){const i=`${s}AspectRatio`;e[i]=this.gl.getUniformLocation(this.program,i)}}),this.uniformLocations=e});H(this,"renderScale",1);H(this,"parentWidth",0);H(this,"parentHeight",0);H(this,"parentDevicePixelWidth",0);H(this,"parentDevicePixelHeight",0);H(this,"devicePixelsSupported",!1);H(this,"resizeObserver",null);H(this,"setupResizeObserver",()=>{this.resizeObserver=new ResizeObserver(([e])=>{var s;if(e!=null&&e.borderBoxSize[0]){const r=(s=e.devicePixelContentBoxSize)==null?void 0:s[0];r!==void 0&&(this.devicePixelsSupported=!0,this.parentDevicePixelWidth=r.inlineSize,this.parentDevicePixelHeight=r.blockSize),this.parentWidth=e.borderBoxSize[0].inlineSize,this.parentHeight=e.borderBoxSize[0].blockSize}this.handleResize()}),this.resizeObserver.observe(this.parentElement)});H(this,"handleVisualViewportChange",()=>{var e;(e=this.resizeObserver)==null||e.disconnect(),this.setupResizeObserver()});H(this,"handleResize",()=>{let e=0,s=0;const r=Math.max(1,window.devicePixelRatio),i=(visualViewport==null?void 0:visualViewport.scale)??1;if(this.devicePixelsSupported){const h=Math.max(1,this.minPixelRatio/r);e=this.parentDevicePixelWidth*h*i,s=this.parentDevicePixelHeight*h*i}else{let h=Math.max(r,this.minPixelRatio)*i;if(this.isSafari){const d=V0();h*=Math.max(1,d)}e=Math.round(this.parentWidth)*h,s=Math.round(this.parentHeight)*h}const n=Math.sqrt(this.maxPixelCount)/Math.sqrt(e*s),o=Math.min(1,n),a=Math.round(e*o),l=Math.round(s*o),c=a/Math.round(this.parentWidth);(this.canvasElement.width!==a||this.canvasElement.height!==l||this.renderScale!==c)&&(this.renderScale=c,this.canvasElement.width=a,this.canvasElement.height=l,this.resolutionChanged=!0,this.gl.viewport(0,0,this.gl.canvas.width,this.gl.canvas.height),this.render(performance.now()))});H(this,"render",e=>{if(this.hasBeenDisposed)return;if(this.program===null){console.warn("Tried to render before program or gl was initialized");return}const s=e-this.lastRenderTime;this.lastRenderTime=e,this.currentSpeed!==0&&(this.currentFrame+=s*this.currentSpeed),this.gl.clear(this.gl.COLOR_BUFFER_BIT),this.gl.useProgram(this.program),this.gl.uniform1f(this.uniformLocations.u_time,this.currentFrame*.001),this.resolutionChanged&&(this.gl.uniform2f(this.uniformLocations.u_resolution,this.gl.canvas.width,this.gl.canvas.height),this.gl.uniform1f(this.uniformLocations.u_pixelRatio,this.renderScale),this.resolutionChanged=!1),this.gl.drawArrays(this.gl.TRIANGLES,0,6),this.currentSpeed!==0?this.requestRender():this.rafId=null});H(this,"requestRender",()=>{this.rafId!==null&&cancelAnimationFrame(this.rafId),this.rafId=requestAnimationFrame(this.render)});H(this,"setTextureUniform",(e,s)=>{if(!s.complete||s.naturalWidth===0)throw new Error(`Paper Shaders: image for uniform ${e} must be fully loaded`);const r=this.textures.get(e);r&&this.gl.deleteTexture(r),this.textureUnitMap.has(e)||this.textureUnitMap.set(e,this.textureUnitMap.size);const i=this.textureUnitMap.get(e);this.gl.activeTexture(this.gl.TEXTURE0+i);const n=this.gl.createTexture();this.gl.bindTexture(this.gl.TEXTURE_2D,n),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,this.gl.CLAMP_TO_EDGE),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,this.gl.CLAMP_TO_EDGE),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MIN_FILTER,this.gl.LINEAR),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MAG_FILTER,this.gl.LINEAR),this.gl.texImage2D(this.gl.TEXTURE_2D,0,this.gl.RGBA,this.gl.RGBA,this.gl.UNSIGNED_BYTE,s),this.mipmaps.includes(e)&&(this.gl.generateMipmap(this.gl.TEXTURE_2D),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MIN_FILTER,this.gl.LINEAR_MIPMAP_LINEAR));const o=this.gl.getError();if(o!==this.gl.NO_ERROR||n===null){console.error("Paper Shaders: WebGL error when uploading texture:",o);return}this.textures.set(e,n);const a=this.uniformLocations[e];if(a){this.gl.uniform1i(a,i);const l=`${e}AspectRatio`,c=this.uniformLocations[l];if(c){const h=s.naturalWidth/s.naturalHeight;this.gl.uniform1f(c,h)}}});H(this,"areUniformValuesEqual",(e,s)=>e===s?!0:Array.isArray(e)&&Array.isArray(s)&&e.length===s.length?e.every((r,i)=>this.areUniformValuesEqual(r,s[i])):!1);H(this,"setUniformValues",e=>{this.gl.useProgram(this.program),Object.entries(e).forEach(([s,r])=>{let i=r;if(r instanceof HTMLImageElement&&(i=`${r.src.slice(0,200)}|${r.naturalWidth}x${r.naturalHeight}`),this.areUniformValuesEqual(this.uniformCache[s],i))return;this.uniformCache[s]=i;const n=this.uniformLocations[s];if(!n){console.warn(`Uniform location for ${s} not found`);return}if(r instanceof HTMLImageElement)this.setTextureUniform(s,r);else if(Array.isArray(r)){let o=null,a=null;if(r[0]!==void 0&&Array.isArray(r[0])){const l=r[0].length;if(r.every(c=>c.length===l))o=r.flat(),a=l;else{console.warn(`All child arrays must be the same length for ${s}`);return}}else o=r,a=o.length;switch(a){case 2:this.gl.uniform2fv(n,o);break;case 3:this.gl.uniform3fv(n,o);break;case 4:this.gl.uniform4fv(n,o);break;case 9:this.gl.uniformMatrix3fv(n,!1,o);break;case 16:this.gl.uniformMatrix4fv(n,!1,o);break;default:console.warn(`Unsupported uniform array length: ${a}`)}}else typeof r=="number"?this.gl.uniform1f(n,r):typeof r=="boolean"?this.gl.uniform1i(n,r?1:0):console.warn(`Unsupported uniform type for ${s}: ${typeof r}`)})});H(this,"getCurrentFrame",()=>this.currentFrame);H(this,"setFrame",e=>{this.currentFrame=e,this.lastRenderTime=performance.now(),this.render(performance.now())});H(this,"setSpeed",(e=1)=>{this.speed=e,this.setCurrentSpeed(document.hidden?0:e)});H(this,"setCurrentSpeed",e=>{this.currentSpeed=e,this.rafId===null&&e!==0&&(this.lastRenderTime=performance.now(),this.rafId=requestAnimationFrame(this.render)),this.rafId!==null&&e===0&&(cancelAnimationFrame(this.rafId),this.rafId=null)});H(this,"setMaxPixelCount",(e=kl)=>{this.maxPixelCount=e,this.handleResize()});H(this,"setMinPixelRatio",(e=2)=>{this.minPixelRatio=e,this.handleResize()});H(this,"setUniforms",e=>{this.setUniformValues(e),this.providedUniforms={...this.providedUniforms,...e},this.render(performance.now())});H(this,"handleDocumentVisibilityChange",()=>{this.setCurrentSpeed(document.hidden?0:this.speed)});H(this,"dispose",()=>{this.hasBeenDisposed=!0,this.rafId!==null&&(cancelAnimationFrame(this.rafId),this.rafId=null),this.gl&&this.program&&(this.textures.forEach(e=>{this.gl.deleteTexture(e)}),this.textures.clear(),this.gl.deleteProgram(this.program),this.program=null,this.gl.bindBuffer(this.gl.ARRAY_BUFFER,null),this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,null),this.gl.bindRenderbuffer(this.gl.RENDERBUFFER,null),this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,null),this.gl.getError()),this.resizeObserver&&(this.resizeObserver.disconnect(),this.resizeObserver=null),visualViewport==null||visualViewport.removeEventListener("resize",this.handleVisualViewportChange),document.removeEventListener("visibilitychange",this.handleDocumentVisibilityChange),this.uniformLocations={},this.canvasElement.remove(),delete this.parentElement.paperShaderMount});if(e instanceof HTMLElement)this.parentElement=e;else throw new Error("Paper Shaders: parent element must be an HTMLElement");if(!document.querySelector("style[data-paper-shader]")){const p=document.createElement("style");p.innerHTML=F0,p.setAttribute("data-paper-shader",""),document.head.prepend(p)}const h=document.createElement("canvas");this.canvasElement=h,this.parentElement.prepend(h),this.fragmentShader=s,this.providedUniforms=r,this.mipmaps=c,this.currentFrame=o,this.minPixelRatio=a,this.maxPixelCount=l;const d=h.getContext("webgl2",i);if(!d)throw new Error("Paper Shaders: WebGL is not supported in this browser");this.gl=d,this.initProgram(),this.setupPositionAttribute(),this.setupUniforms(),this.setUniformValues(this.providedUniforms),this.setupResizeObserver(),visualViewport==null||visualViewport.addEventListener("resize",this.handleVisualViewportChange),this.setSpeed(n),this.parentElement.setAttribute("data-paper-shader",""),this.parentElement.paperShaderMount=this,document.addEventListener("visibilitychange",this.handleDocumentVisibilityChange)}};function Pl(t,e,s){const r=t.createShader(e);return r?(t.shaderSource(r,s),t.compileShader(r),t.getShaderParameter(r,t.COMPILE_STATUS)?r:(console.error("An error occurred compiling the shaders: "+t.getShaderInfoLog(r)),t.deleteShader(r),null)):null}function L0(t,e,s){const r=t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.MEDIUM_FLOAT),i=r?r.precision:null;i&&i<23&&(e=e.replace(/precision\s+(lowp|mediump)\s+float;/g,"precision highp float;"),s=s.replace(/precision\s+(lowp|mediump)\s+float/g,"precision highp float").replace(/\b(uniform|varying|attribute)\s+(lowp|mediump)\s+(\w+)/g,"$1 highp $3"));const n=Pl(t,t.VERTEX_SHADER,e),o=Pl(t,t.FRAGMENT_SHADER,s);if(!n||!o)return null;const a=t.createProgram();return a?(t.attachShader(a,n),t.attachShader(a,o),t.linkProgram(a),t.getProgramParameter(a,t.LINK_STATUS)?(t.detachShader(a,n),t.detachShader(a,o),t.deleteShader(n),t.deleteShader(o),a):(console.error("Unable to initialize the shader program: "+t.getProgramInfoLog(a)),t.deleteProgram(a),t.deleteShader(n),t.deleteShader(o),null)):null}const F0=`@layer paper-shaders {
  :where([data-paper-shader]) {
    isolation: isolate;
    position: relative;

    & canvas {
      contain: strict;
      display: block;
      position: absolute;
      inset: 0;
      z-index: -1;
      width: 100%;
      height: 100%;
      border-radius: inherit;
      corner-shape: inherit;
    }
  }
}`;function U0(){const t=navigator.userAgent.toLowerCase();return t.includes("safari")&&!t.includes("chrome")&&!t.includes("android")}function V0(){const t=(visualViewport==null?void 0:visualViewport.scale)??1,e=(visualViewport==null?void 0:visualViewport.width)??window.innerWidth,s=window.innerWidth-document.documentElement.clientWidth,r=t*e+s,i=outerWidth/r,n=Math.round(100*i);return n%5===0?n/100:n===33?1/3:n===67?2/3:n===133?4/3:i}const z0={fit:"none",scale:1,rotation:0,offsetX:0,offsetY:0,originX:.5,originY:.5,worldWidth:0,worldHeight:0},W0={none:0,contain:1,cover:2},G0=`
#define TWO_PI 6.28318530718
#define PI 3.14159265358979323846
`,H0=`
vec2 rotate(vec2 uv, float th) {
  return mat2(cos(th), sin(th), -sin(th), cos(th)) * uv;
}
`,$0=`
  color += 1. / 256. * (fract(sin(dot(.014 * gl_FragCoord.xy, vec2(12.9898, 78.233))) * 43758.5453123) - .5);
`,jl={maxColorCount:10},q0=`#version 300 es
precision mediump float;

uniform float u_time;
uniform float u_scale;

uniform sampler2D u_noiseTexture;

uniform vec4 u_colors[${jl.maxColorCount}];
uniform float u_colorsCount;
uniform float u_proportion;
uniform float u_softness;
uniform float u_shape;
uniform float u_shapeScale;
uniform float u_distortion;
uniform float u_swirl;
uniform float u_swirlIterations;

in vec2 v_patternUV;

out vec4 fragColor;

${G0}
${H0}
float randomG(vec2 p) {
  vec2 uv = floor(p) / 100. + .5;
  return texture(u_noiseTexture, fract(uv)).g;
}
float valueNoise(vec2 st) {
  vec2 i = floor(st);
  vec2 f = fract(st);
  float a = randomG(i);
  float b = randomG(i + vec2(1.0, 0.0));
  float c = randomG(i + vec2(0.0, 1.0));
  float d = randomG(i + vec2(1.0, 1.0));
  vec2 u = f * f * (3.0 - 2.0 * f);
  float x1 = mix(a, b, u.x);
  float x2 = mix(c, d, u.x);
  return mix(x1, x2, u.y);
}


void main() {
  vec2 uv = v_patternUV;
  uv *= .5;

  const float firstFrameOffset = 118.;
  float t = 0.0625 * (u_time + firstFrameOffset);

  float n1 = valueNoise(uv * 1. + t);
  float n2 = valueNoise(uv * 2. - t);
  float angle = n1 * TWO_PI;
  uv.x += 4. * u_distortion * n2 * cos(angle);
  uv.y += 4. * u_distortion * n2 * sin(angle);

  float swirl = u_swirl;
  for (int i = 1; i <= 20; i++) {
    if (i >= int(u_swirlIterations)) break;
    float iFloat = float(i);
    //    swirl *= (1. - smoothstep(.0, .25, length(fwidth(uv))));
    uv.x += swirl / iFloat * cos(t + iFloat * 1.5 * uv.y);
    uv.y += swirl / iFloat * cos(t + iFloat * 1. * uv.x);
  }

  float proportion = clamp(u_proportion, 0., 1.);

  float shape = 0.;
  if (u_shape < .5) {
    vec2 checksShape_uv = uv * (.5 + 3.5 * u_shapeScale);
    shape = .5 + .5 * sin(checksShape_uv.x) * cos(checksShape_uv.y);
    shape += .48 * sign(proportion - .5) * pow(abs(proportion - .5), .5);
  } else if (u_shape < 1.5) {
    vec2 stripesShape_uv = uv * (2. * u_shapeScale);
    float f = fract(stripesShape_uv.y);
    shape = smoothstep(.0, .55, f) * (1.0 - smoothstep(.45, 1., f));
    shape += .48 * sign(proportion - .5) * pow(abs(proportion - .5), .5);
  } else {
    float shapeScaling = 5. * (1. - u_shapeScale);
    float e0 = 0.45 - shapeScaling;
    float e1 = 0.55 + shapeScaling;
    shape = smoothstep(min(e0, e1), max(e0, e1), 1.0 - uv.y + 0.3 * (proportion - 0.5));
  }

  float mixer = shape * (u_colorsCount - 1.);
  vec4 gradient = u_colors[0];
  gradient.rgb *= gradient.a;
  float aa = fwidth(shape);
  for (int i = 1; i < ${jl.maxColorCount}; i++) {
    if (i >= int(u_colorsCount)) break;
    float m = clamp(mixer - float(i - 1), 0.0, 1.0);

    float localMixerStart = floor(m);
    float softness = .5 * u_softness + fwidth(m);
    float smoothed = smoothstep(max(0., .5 - softness - aa), min(1., .5 + softness + aa), m - localMixerStart);
    float stepped = localMixerStart + smoothed;

    m = mix(stepped, m, u_softness);

    vec4 c = u_colors[i];
    c.rgb *= c.a;
    gradient = mix(gradient, c, m);
  }

  vec3 color = gradient.rgb;
  float opacity = gradient.a;

  ${$0}

  fragColor = vec4(color, opacity);
}
`,Q0={checks:0,stripes:1,edge:2};function K0(t){if(Array.isArray(t))return t.length===4?t:t.length===3?[...t,1]:Tn;if(typeof t!="string")return Tn;let e,s,r,i=1;if(t.startsWith("#"))[e,s,r,i]=Y0(t);else if(t.startsWith("rgb"))[e,s,r,i]=J0(t);else if(t.startsWith("hsl"))[e,s,r,i]=Z0(X0(t));else return console.error("Unsupported color format",t),Tn;return[pi(e,0,1),pi(s,0,1),pi(r,0,1),pi(i,0,1)]}function Y0(t){t=t.replace(/^#/,""),t.length===3&&(t=t.split("").map(n=>n+n).join("")),t.length===6&&(t=t+"ff");const e=parseInt(t.slice(0,2),16)/255,s=parseInt(t.slice(2,4),16)/255,r=parseInt(t.slice(4,6),16)/255,i=parseInt(t.slice(6,8),16)/255;return[e,s,r,i]}function J0(t){const e=t.match(/^rgba?\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*([0-9.]+))?\s*\)$/i);return e?[parseInt(e[1]??"0")/255,parseInt(e[2]??"0")/255,parseInt(e[3]??"0")/255,e[4]===void 0?1:parseFloat(e[4])]:[0,0,0,1]}function X0(t){const e=t.match(/^hsla?\s*\(\s*(\d+)\s*,\s*(\d+)%\s*,\s*(\d+)%\s*(?:,\s*([0-9.]+))?\s*\)$/i);return e?[parseInt(e[1]??"0"),parseInt(e[2]??"0"),parseInt(e[3]??"0"),e[4]===void 0?1:parseFloat(e[4])]:[0,0,0,1]}function Z0(t){const[e,s,r,i]=t,n=e/360,o=s/100,a=r/100;let l,c,h;if(s===0)l=c=h=a;else{const d=(g,m,v)=>(v<0&&(v+=1),v>1&&(v-=1),v<.16666666666666666?g+(m-g)*6*v:v<.5?m:v<.6666666666666666?g+(m-g)*(.6666666666666666-v)*6:g),p=a<.5?a*(1+o):a+o-a*o,f=2*a-p;l=d(f,p,n+1/3),c=d(f,p,n),h=d(f,p,n-1/3)}return[l,c,h,i]}const pi=(t,e,s)=>Math.min(Math.max(t,e),s),Tn=[0,0,0,1];function ev(){if(typeof window>"u")return;const t=new Image;return t.src=tv,t}const tv="data:image/png;base64,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";function sv(){if(typeof window>"u"){console.warn("Paper Shaders: canâ€™t create an image on the server");return}const t=new Image;return t.src=rv,t}const rv="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==";function iv(t){const e=S.useRef(void 0),s=S.useCallback(r=>{const i=t.map(n=>{if(n!=null){if(typeof n=="function"){const o=n,a=o(r);return typeof a=="function"?a:()=>{o(null)}}return n.current=r,()=>{n.current=null}}});return()=>{i.forEach(n=>n==null?void 0:n())}},t);return S.useMemo(()=>t.every(r=>r==null)?null:r=>{e.current&&(e.current(),e.current=void 0),r!=null&&(e.current=s(r))},t)}function Rl(t){if(t.naturalWidth<1024&&t.naturalHeight<1024){if(t.naturalWidth<1||t.naturalHeight<1)return;const e=t.naturalWidth/t.naturalHeight;t.width=Math.round(e>1?1024*e:1024),t.height=Math.round(e>1?1024:1024/e)}}async function Il(t){const e={},s=[],r=n=>{try{return n.startsWith("/")||new URL(n),!0}catch{return!1}},i=n=>{try{return n.startsWith("/")?!1:new URL(n,window.location.origin).origin!==window.location.origin}catch{return!1}};return Object.entries(t).forEach(([n,o])=>{if(typeof o=="string"){if(!o){e[n]=sv();return}if(!r(o)){console.warn(`Uniform "${n}" has invalid URL "${o}". Skipping image loading.`);return}const a=new Promise((l,c)=>{const h=new Image;i(o)&&(h.crossOrigin="anonymous"),h.onload=()=>{Rl(h),e[n]=h,l()},h.onerror=()=>{console.error(`Could not set uniforms. Failed to load image at ${o}`),c()},h.src=o});s.push(a)}else o instanceof HTMLImageElement&&Rl(o),e[n]=o}),await Promise.all(s),e}const _h=S.forwardRef(function({fragmentShader:e,uniforms:s,webGlContextAttributes:r,speed:i=0,frame:n=0,width:o,height:a,minPixelRatio:l,maxPixelCount:c,mipmaps:h,style:d,...p},f){const[g,m]=S.useState(!1),v=S.useRef(null),y=S.useRef(null),w=S.useRef(r);S.useEffect(()=>((async()=>{const x=await Il(s);v.current&&!y.current&&(y.current=new B0(v.current,e,x,w.current,i,n,l,c,h),m(!0))})(),()=>{var x;(x=y.current)==null||x.dispose(),y.current=null}),[e]),S.useEffect(()=>{let _=!1;return(async()=>{var T;const A=await Il(s);_||(T=y.current)==null||T.setUniforms(A)})(),()=>{_=!0}},[s,g]),S.useEffect(()=>{var _;(_=y.current)==null||_.setSpeed(i)},[i,g]),S.useEffect(()=>{var _;(_=y.current)==null||_.setMaxPixelCount(c)},[c,g]),S.useEffect(()=>{var _;(_=y.current)==null||_.setMinPixelRatio(l)},[l,g]),S.useEffect(()=>{var _;(_=y.current)==null||_.setFrame(n)},[n,g]);const b=iv([v,f]);return u.jsx("div",{ref:b,style:o!==void 0||a!==void 0?{width:typeof o=="string"&&isNaN(+o)===!1?+o:o,height:typeof a=="string"&&isNaN(+a)===!1?+a:a,...d}:d,...p})});_h.displayName="ShaderMount";function nv(t,e){var s,r,i;for(const n in t){if(n==="colors"){const o=Array.isArray(t.colors),a=Array.isArray(e.colors);if(!o||!a){if(Object.is(t.colors,e.colors)===!1)return!1;continue}if(((s=t.colors)==null?void 0:s.length)!==((r=e.colors)==null?void 0:r.length)||!((i=t.colors)!=null&&i.every((l,c)=>{var h;return l===((h=e.colors)==null?void 0:h[c])})))return!1;continue}if(Object.is(t[n],e[n])===!1)return!1}return!0}const je={params:{...z0,rotation:0,speed:1,frame:0,colors:["#121212","#9470ff","#121212","#8838ff"],proportion:.45,softness:1,distortion:.25,swirl:.8,swirlIterations:10,shapeScale:.1,shape:"checks"}},ov=S.memo(function({speed:e=je.params.speed,frame:s=je.params.frame,colors:r=je.params.colors,proportion:i=je.params.proportion,softness:n=je.params.softness,distortion:o=je.params.distortion,swirl:a=je.params.swirl,swirlIterations:l=je.params.swirlIterations,shapeScale:c=je.params.shapeScale,shape:h=je.params.shape,fit:d=je.params.fit,scale:p=je.params.scale,rotation:f=je.params.rotation,originX:g=je.params.originX,originY:m=je.params.originY,offsetX:v=je.params.offsetX,offsetY:y=je.params.offsetY,worldWidth:w=je.params.worldWidth,worldHeight:b=je.params.worldHeight,..._}){const x={u_colors:r.map(K0),u_colorsCount:r.length,u_proportion:i,u_softness:n,u_distortion:o,u_swirl:a,u_swirlIterations:l,u_shapeScale:c,u_shape:Q0[h],u_noiseTexture:ev(),u_scale:p,u_rotation:f,u_fit:W0[d],u_offsetX:v,u_offsetY:y,u_originX:g,u_originY:m,u_worldWidth:w,u_worldHeight:b};return u.jsx(_h,{..._,speed:e,frame:s,fragmentShader:q0,uniforms:x})},nv),av=[{title:"Consulting",description:"Strategic consulting services to optimize your business operations and drive sustainable growth.",icon:u.jsx("svg",{className:"w-12 h-12 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{d:"M20 6h-4V4c0-1.11-.89-2-2-2h-4c-1.11 0-2 .89-2 2v2H4c-1.11 0-1.99.89-1.99 2L2 19c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V8c0-1.11-.89-2-2-2zm-6 0h-4V4h4v2z"})})},{title:"AI Solutions",description:"Cutting-edge AI-powered solutions to automate processes and unlock new opportunities.",icon:u.jsx("svg",{className:"w-12 h-12 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{d:"M20 9V7c0-1.1-.9-2-2-2h-3c0-1.66-1.34-3-3-3S9 3.34 9 5H6c-1.1 0-2 .9-2 2v2c-1.66 0-3 1.34-3 3s1.34 3 3 3v4c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2v-4c1.66 0 3-1.34 3-3s-1.34-3-3-3zM7.5 11.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5S9.83 13 9 13s-1.5-.67-1.5-1.5zM16 17H8v-2h8v2zm-1-4c-.83 0-1.5-.67-1.5-1.5S14.17 10 15 10s1.5.67 1.5 1.5S15.83 13 15 13z"})})},{title:"Import/Export & Logistics",description:"Comprehensive international trade and logistics optimization for seamless global operations.",icon:u.jsx("svg",{className:"w-12 h-12 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 17.93c-3.95-.49-7-3.85-7-7.93 0-.62.08-1.21.21-1.79L9 15v1c0 1.1.9 2 2 2v1.93zm6.9-2.54c-.26-.81-1-1.39-1.9-1.39h-1v-3c0-.55-.45-1-1-1H8v-2h2c.55 0 1-.45 1-1V7h2c1.1 0 2-.9 2-2v-.41c2.93 1.19 5 4.06 5 7.41 0 2.08-.8 3.97-2.1 5.39z"})})},{title:"Marketing Solutions",description:"Data-driven marketing strategies to amplify your brand and reach your target audience.",icon:u.jsx("svg",{className:"w-12 h-12 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{d:"M17 1.01L7 1c-1.1 0-2 .9-2 2v18c0 1.1.9 2 2 2h10c1.1 0 2-.9 2-2V3c0-1.1-.9-1.99-2-1.99zM17 19H7V5h10v14zm-1-6h-3V8h-2v5H8l4 4 4-4z"})})},{title:"Project Development/Management",description:"End-to-end project management ensuring on-time delivery and exceptional results.",icon:u.jsx("svg",{className:"w-12 h-12 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{d:"M9.4 16.6L4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4zm5.2 0l4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4z"})})},{title:"Contact Us",description:"Get in touch with our team to discuss your project and discover how we can help.",icon:u.jsx("svg",{className:"w-12 h-12 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.89 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z"})}),isClickable:!0,href:"/contact"}];function lv(){const t=Ps(),e=r=>{const i=[{proportion:.3,softness:.8,distortion:.15,swirl:.6,swirlIterations:8,shape:"checks",shapeScale:.08,colors:["hsl(280, 100%, 30%)","hsl(320, 100%, 60%)","hsl(340, 90%, 40%)","hsl(300, 100%, 70%)"]},{proportion:.4,softness:1.2,distortion:.2,swirl:.9,swirlIterations:12,shape:"dots",shapeScale:.12,colors:["hsl(200, 100%, 25%)","hsl(180, 100%, 65%)","hsl(160, 90%, 35%)","hsl(190, 100%, 75%)"]},{proportion:.35,softness:.9,distortion:.18,swirl:.7,swirlIterations:10,shape:"checks",shapeScale:.1,colors:["hsl(120, 100%, 25%)","hsl(140, 100%, 60%)","hsl(100, 90%, 30%)","hsl(130, 100%, 70%)"]},{proportion:.45,softness:1.1,distortion:.22,swirl:.8,swirlIterations:15,shape:"dots",shapeScale:.09,colors:["hsl(30, 100%, 35%)","hsl(50, 100%, 65%)","hsl(40, 90%, 40%)","hsl(45, 100%, 75%)"]},{proportion:.38,softness:.95,distortion:.16,swirl:.85,swirlIterations:11,shape:"checks",shapeScale:.11,colors:["hsl(250, 100%, 30%)","hsl(270, 100%, 65%)","hsl(260, 90%, 35%)","hsl(265, 100%, 70%)"]},{proportion:.42,softness:1,distortion:.19,swirl:.75,swirlIterations:9,shape:"dots",shapeScale:.13,colors:["hsl(330, 100%, 30%)","hsl(350, 100%, 60%)","hsl(340, 90%, 35%)","hsl(345, 100%, 75%)"]},{proportion:.36,softness:.85,distortion:.17,swirl:.65,swirlIterations:10,shape:"checks",shapeScale:.1,colors:["hsl(0, 100%, 30%)","hsl(20, 100%, 60%)","hsl(10, 90%, 40%)","hsl(15, 100%, 70%)"]}];return i[r%i.length]},s=r=>{r.isClickable&&r.href&&t(r.href)};return u.jsx("section",{className:"feature-shader-cards-section",children:u.jsxs("div",{className:"feature-shader-cards-container",children:[u.jsxs("div",{className:"feature-shader-cards-header",children:[u.jsx("h2",{className:"feature-shader-cards-title",children:"Our Services"}),u.jsx("p",{className:"feature-shader-cards-subtitle",children:"Comprehensive solutions to transform your business and drive exceptional results"})]}),u.jsx("div",{className:"feature-shader-cards-grid",children:av.map((r,i)=>{const n=e(i);return u.jsxs("div",{className:`feature-shader-card ${r.isClickable?"clickable":""}`,onClick:()=>s(r),children:[u.jsx("div",{className:"feature-shader-card-background",children:u.jsx(ov,{style:{height:"100%",width:"100%"},proportion:n.proportion,softness:n.softness,distortion:n.distortion,swirl:n.swirl,swirlIterations:n.swirlIterations,shape:n.shape,shapeScale:n.shapeScale,scale:1,rotation:0,speed:.8,colors:n.colors})}),u.jsxs("div",{className:"feature-shader-card-content",children:[u.jsx("div",{className:"feature-shader-card-icon",children:r.icon}),u.jsx("h3",{className:"feature-shader-card-title",children:r.title}),u.jsx("p",{className:"feature-shader-card-description",children:r.description}),r.isClickable&&u.jsxs("div",{className:"feature-shader-card-cta",children:[u.jsx("span",{className:"feature-shader-card-cta-text",children:"Learn more"}),u.jsx("svg",{className:"feature-shader-card-cta-icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})]},i)})})]})})}const cv=()=>typeof window>"u"?!1:/Windows/.test(navigator.userAgent),uv=()=>typeof window>"u"?!1:/Chrome/.test(navigator.userAgent)&&!/Edge/.test(navigator.userAgent),hv=()=>cv()&&uv(),It=t=>{const e=hv();return{resolution:e?t?.3:.4:t?.35:.5,iterationsViscous:e?t?20:28:t?24:32,iterationsPoisson:e?t?20:28:t?24:32,autoSpeed:e?t?.3:.4:t?.4:.5,usePassiveScroll:e,reducedMotion:!1}};function dv(){const t=typeof window<"u"&&(/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)||window.innerWidth<=768),e=It(t);return u.jsxs("div",{className:"homepage-container",children:[u.jsx(Rt,{colors:["#5227FF","#FF9FFC","#B19EEF"],mouseForce:t?18:24,cursorSize:t?80:100,isViscous:!0,viscous:30,iterationsViscous:e.iterationsViscous,iterationsPoisson:e.iterationsPoisson,resolution:e.resolution,isBounce:!1,autoDemo:!0,autoSpeed:e.autoSpeed,autoIntensity:2.2,takeoverDuration:.25,autoResumeDelay:3e3,autoRampDuration:.6}),u.jsxs("div",{className:"homepage-content",children:[u.jsx("div",{className:"logo-section",children:u.jsx("img",{src:"/logo.png",alt:"Marapone Contracting Inc. Logo"})}),u.jsxs("div",{className:"welcome-section",children:[u.jsx("h1",{className:"welcome-title",children:"Marapone"}),u.jsx("p",{className:"welcome-text",children:"Transforming vision into exceptional results - delivered with precision and professionalism."}),u.jsx("p",{className:"welcome-subtext",children:"Your strategic partner of choice in AI-powered solutions, international trade, logistics optimization, business development, marketing, consulting, and project excellence."})]}),u.jsx(lv,{})]})]})}const ia=S.createContext({});function na(t){const e=S.useRef(null);return e.current===null&&(e.current=t()),e.current}const xh=typeof window<"u",Sh=xh?S.useLayoutEffect:S.useEffect,sn=S.createContext(null);function oa(t,e){t.indexOf(e)===-1&&t.push(e)}function aa(t,e){const s=t.indexOf(e);s>-1&&t.splice(s,1)}const jt=(t,e,s)=>s>e?e:s<t?t:s;let la=()=>{};const Vt={},Ah=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function Th(t){return typeof t=="object"&&t!==null}const Eh=t=>/^0[^.\s]+$/u.test(t);function ca(t){let e;return()=>(e===void 0&&(e=t()),e)}const vt=t=>t,fv=(t,e)=>s=>e(t(s)),Zr=(...t)=>t.reduce(fv),$r=(t,e,s)=>{const r=e-t;return r===0?1:(s-t)/r};class ua{constructor(){this.subscriptions=[]}add(e){return oa(this.subscriptions,e),()=>aa(this.subscriptions,e)}notify(e,s,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,s,r);else for(let n=0;n<i;n++){const o=this.subscriptions[n];o&&o(e,s,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Lt=t=>t*1e3,gt=t=>t/1e3;function Ch(t,e){return e?t*(1e3/e):0}const kh=(t,e,s)=>(((1-3*s+3*e)*t+(3*s-6*e))*t+3*e)*t,pv=1e-7,mv=12;function gv(t,e,s,r,i){let n,o,a=0;do o=e+(s-e)/2,n=kh(o,r,i)-t,n>0?s=o:e=o;while(Math.abs(n)>pv&&++a<mv);return o}function ei(t,e,s,r){if(t===e&&s===r)return vt;const i=n=>gv(n,0,1,t,s);return n=>n===0||n===1?n:kh(i(n),e,r)}const Ph=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,jh=t=>e=>1-t(1-e),Rh=ei(.33,1.53,.69,.99),ha=jh(Rh),Ih=Ph(ha),Oh=t=>(t*=2)<1?.5*ha(t):.5*(2-Math.pow(2,-10*(t-1))),da=t=>1-Math.sin(Math.acos(t)),Dh=jh(da),Mh=Ph(da),vv=ei(.42,0,1,1),yv=ei(0,0,.58,1),Nh=ei(.42,0,.58,1),wv=t=>Array.isArray(t)&&typeof t[0]!="number",Bh=t=>Array.isArray(t)&&typeof t[0]=="number",bv={linear:vt,easeIn:vv,easeInOut:Nh,easeOut:yv,circIn:da,circInOut:Mh,circOut:Dh,backIn:ha,backInOut:Ih,backOut:Rh,anticipate:Oh},_v=t=>typeof t=="string",Ol=t=>{if(Bh(t)){la(t.length===4);const[e,s,r,i]=t;return ei(e,s,r,i)}else if(_v(t))return bv[t];return t},mi=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function xv(t,e){let s=new Set,r=new Set,i=!1,n=!1;const o=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1};function l(h){o.has(h)&&(c.schedule(h),t()),h(a)}const c={schedule:(h,d=!1,p=!1)=>{const g=p&&i?s:r;return d&&o.add(h),g.has(h)||g.add(h),h},cancel:h=>{r.delete(h),o.delete(h)},process:h=>{if(a=h,i){n=!0;return}i=!0,[s,r]=[r,s],s.forEach(l),s.clear(),i=!1,n&&(n=!1,c.process(h))}};return c}const Sv=40;function Lh(t,e){let s=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},n=()=>s=!0,o=mi.reduce((b,_)=>(b[_]=xv(n),b),{}),{setup:a,read:l,resolveKeyframes:c,preUpdate:h,update:d,preRender:p,render:f,postRender:g}=o,m=()=>{const b=Vt.useManualTiming?i.timestamp:performance.now();s=!1,Vt.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(b-i.timestamp,Sv),1)),i.timestamp=b,i.isProcessing=!0,a.process(i),l.process(i),c.process(i),h.process(i),d.process(i),p.process(i),f.process(i),g.process(i),i.isProcessing=!1,s&&e&&(r=!1,t(m))},v=()=>{s=!0,r=!0,i.isProcessing||t(m)};return{schedule:mi.reduce((b,_)=>{const x=o[_];return b[_]=(A,T=!1,C=!1)=>(s||v(),x.schedule(A,T,C)),b},{}),cancel:b=>{for(let _=0;_<mi.length;_++)o[mi[_]].cancel(b)},state:i,steps:o}}const{schedule:ce,cancel:ss,state:Ne,steps:En}=Lh(typeof requestAnimationFrame<"u"?requestAnimationFrame:vt,!0);let Si;function Av(){Si=void 0}const He={now:()=>(Si===void 0&&He.set(Ne.isProcessing||Vt.useManualTiming?Ne.timestamp:performance.now()),Si),set:t=>{Si=t,queueMicrotask(Av)}},Fh=t=>e=>typeof e=="string"&&e.startsWith(t),Uh=Fh("--"),Tv=Fh("var(--"),fa=t=>Tv(t)?Ev.test(t.split("/*")[0].trim()):!1,Ev=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function Dl(t){return typeof t!="string"?!1:t.split("/*")[0].includes("var(--")}const ur={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},qr={...ur,transform:t=>jt(0,1,t)},gi={...ur,default:1},kr=t=>Math.round(t*1e5)/1e5,pa=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Cv(t){return t==null}const kv=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,ma=(t,e)=>s=>!!(typeof s=="string"&&kv.test(s)&&s.startsWith(t)||e&&!Cv(s)&&Object.prototype.hasOwnProperty.call(s,e)),Vh=(t,e,s)=>r=>{if(typeof r!="string")return r;const[i,n,o,a]=r.match(pa);return{[t]:parseFloat(i),[e]:parseFloat(n),[s]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},Pv=t=>jt(0,255,t),Cn={...ur,transform:t=>Math.round(Pv(t))},xs={test:ma("rgb","red"),parse:Vh("red","green","blue"),transform:({red:t,green:e,blue:s,alpha:r=1})=>"rgba("+Cn.transform(t)+", "+Cn.transform(e)+", "+Cn.transform(s)+", "+kr(qr.transform(r))+")"};function jv(t){let e="",s="",r="",i="";return t.length>5?(e=t.substring(1,3),s=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),s=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,s+=s,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(s,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const go={test:ma("#"),parse:jv,transform:xs.transform},ti=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Gt=ti("deg"),kt=ti("%"),M=ti("px"),Rv=ti("vh"),Iv=ti("vw"),Ml={...kt,parse:t=>kt.parse(t)/100,transform:t=>kt.transform(t*100)},$s={test:ma("hsl","hue"),parse:Vh("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:s,alpha:r=1})=>"hsla("+Math.round(t)+", "+kt.transform(kr(e))+", "+kt.transform(kr(s))+", "+kr(qr.transform(r))+")"},Ce={test:t=>xs.test(t)||go.test(t)||$s.test(t),parse:t=>xs.test(t)?xs.parse(t):$s.test(t)?$s.parse(t):go.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?xs.transform(t):$s.transform(t),getAnimatableNone:t=>{const e=Ce.parse(t);return e.alpha=0,Ce.transform(e)}},Ov=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Dv(t){var e,s;return isNaN(t)&&typeof t=="string"&&(((e=t.match(pa))==null?void 0:e.length)||0)+(((s=t.match(Ov))==null?void 0:s.length)||0)>0}const zh="number",Wh="color",Mv="var",Nv="var(",Nl="${}",Bv=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Qr(t){const e=t.toString(),s=[],r={color:[],number:[],var:[]},i=[];let n=0;const a=e.replace(Bv,l=>(Ce.test(l)?(r.color.push(n),i.push(Wh),s.push(Ce.parse(l))):l.startsWith(Nv)?(r.var.push(n),i.push(Mv),s.push(l)):(r.number.push(n),i.push(zh),s.push(parseFloat(l))),++n,Nl)).split(Nl);return{values:s,split:a,indexes:r,types:i}}function Gh(t){return Qr(t).values}function Hh(t){const{split:e,types:s}=Qr(t),r=e.length;return i=>{let n="";for(let o=0;o<r;o++)if(n+=e[o],i[o]!==void 0){const a=s[o];a===zh?n+=kr(i[o]):a===Wh?n+=Ce.transform(i[o]):n+=i[o]}return n}}const Lv=t=>typeof t=="number"?0:Ce.test(t)?Ce.getAnimatableNone(t):t;function Fv(t){const e=Gh(t);return Hh(t)(e.map(Lv))}const rs={test:Dv,parse:Gh,createTransformer:Hh,getAnimatableNone:Fv};function kn(t,e,s){return s<0&&(s+=1),s>1&&(s-=1),s<1/6?t+(e-t)*6*s:s<1/2?e:s<2/3?t+(e-t)*(2/3-s)*6:t}function Uv({hue:t,saturation:e,lightness:s,alpha:r}){t/=360,e/=100,s/=100;let i=0,n=0,o=0;if(!e)i=n=o=s;else{const a=s<.5?s*(1+e):s+e-s*e,l=2*s-a;i=kn(l,a,t+1/3),n=kn(l,a,t),o=kn(l,a,t-1/3)}return{red:Math.round(i*255),green:Math.round(n*255),blue:Math.round(o*255),alpha:r}}function Bi(t,e){return s=>s>0?e:t}const ge=(t,e,s)=>t+(e-t)*s,Pn=(t,e,s)=>{const r=t*t,i=s*(e*e-r)+r;return i<0?0:Math.sqrt(i)},Vv=[go,xs,$s],zv=t=>Vv.find(e=>e.test(t));function Bl(t){const e=zv(t);if(!e)return!1;let s=e.parse(t);return e===$s&&(s=Uv(s)),s}const Ll=(t,e)=>{const s=Bl(t),r=Bl(e);if(!s||!r)return Bi(t,e);const i={...s};return n=>(i.red=Pn(s.red,r.red,n),i.green=Pn(s.green,r.green,n),i.blue=Pn(s.blue,r.blue,n),i.alpha=ge(s.alpha,r.alpha,n),xs.transform(i))},vo=new Set(["none","hidden"]);function Wv(t,e){return vo.has(t)?s=>s<=0?t:e:s=>s>=1?e:t}function Gv(t,e){return s=>ge(t,e,s)}function ga(t){return typeof t=="number"?Gv:typeof t=="string"?fa(t)?Bi:Ce.test(t)?Ll:qv:Array.isArray(t)?$h:typeof t=="object"?Ce.test(t)?Ll:Hv:Bi}function $h(t,e){const s=[...t],r=s.length,i=t.map((n,o)=>ga(n)(n,e[o]));return n=>{for(let o=0;o<r;o++)s[o]=i[o](n);return s}}function Hv(t,e){const s={...t,...e},r={};for(const i in s)t[i]!==void 0&&e[i]!==void 0&&(r[i]=ga(t[i])(t[i],e[i]));return i=>{for(const n in r)s[n]=r[n](i);return s}}function $v(t,e){const s=[],r={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const n=e.types[i],o=t.indexes[n][r[n]],a=t.values[o]??0;s[i]=a,r[n]++}return s}const qv=(t,e)=>{const s=rs.createTransformer(e),r=Qr(t),i=Qr(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?vo.has(t)&&!i.values.length||vo.has(e)&&!r.values.length?Wv(t,e):Zr($h($v(r,i),i.values),s):Bi(t,e)};function qh(t,e,s){return typeof t=="number"&&typeof e=="number"&&typeof s=="number"?ge(t,e,s):ga(t)(t,e)}const Qv=t=>{const e=({timestamp:s})=>t(s);return{start:(s=!0)=>ce.update(e,s),stop:()=>ss(e),now:()=>Ne.isProcessing?Ne.timestamp:He.now()}},Qh=(t,e,s=10)=>{let r="";const i=Math.max(Math.round(e/s),2);for(let n=0;n<i;n++)r+=Math.round(t(n/(i-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},Li=2e4;function va(t){let e=0;const s=50;let r=t.next(e);for(;!r.done&&e<Li;)e+=s,r=t.next(e);return e>=Li?1/0:e}function Kv(t,e=100,s){const r=s({...t,keyframes:[0,e]}),i=Math.min(va(r),Li);return{type:"keyframes",ease:n=>r.next(i*n).value/e,duration:gt(i)}}const Yv=5;function Kh(t,e,s){const r=Math.max(e-Yv,0);return Ch(s-t(r),e-r)}const _e={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},jn=.001;function Jv({duration:t=_e.duration,bounce:e=_e.bounce,velocity:s=_e.velocity,mass:r=_e.mass}){let i,n,o=1-e;o=jt(_e.minDamping,_e.maxDamping,o),t=jt(_e.minDuration,_e.maxDuration,gt(t)),o<1?(i=c=>{const h=c*o,d=h*t,p=h-s,f=yo(c,o),g=Math.exp(-d);return jn-p/f*g},n=c=>{const d=c*o*t,p=d*s+s,f=Math.pow(o,2)*Math.pow(c,2)*t,g=Math.exp(-d),m=yo(Math.pow(c,2),o);return(-i(c)+jn>0?-1:1)*((p-f)*g)/m}):(i=c=>{const h=Math.exp(-c*t),d=(c-s)*t+1;return-jn+h*d},n=c=>{const h=Math.exp(-c*t),d=(s-c)*(t*t);return h*d});const a=5/t,l=Zv(i,n,a);if(t=Lt(t),isNaN(l))return{stiffness:_e.stiffness,damping:_e.damping,duration:t};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:o*2*Math.sqrt(r*c),duration:t}}}const Xv=12;function Zv(t,e,s){let r=s;for(let i=1;i<Xv;i++)r=r-t(r)/e(r);return r}function yo(t,e){return t*Math.sqrt(1-e*e)}const ey=["duration","bounce"],ty=["stiffness","damping","mass"];function Fl(t,e){return e.some(s=>t[s]!==void 0)}function sy(t){let e={velocity:_e.velocity,stiffness:_e.stiffness,damping:_e.damping,mass:_e.mass,isResolvedFromDuration:!1,...t};if(!Fl(t,ty)&&Fl(t,ey))if(t.visualDuration){const s=t.visualDuration,r=2*Math.PI/(s*1.2),i=r*r,n=2*jt(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:_e.mass,stiffness:i,damping:n}}else{const s=Jv(t);e={...e,...s,mass:_e.mass},e.isResolvedFromDuration=!0}return e}function Fi(t=_e.visualDuration,e=_e.bounce){const s=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=s;const n=s.keyframes[0],o=s.keyframes[s.keyframes.length-1],a={done:!1,value:n},{stiffness:l,damping:c,mass:h,duration:d,velocity:p,isResolvedFromDuration:f}=sy({...s,velocity:-gt(s.velocity||0)}),g=p||0,m=c/(2*Math.sqrt(l*h)),v=o-n,y=gt(Math.sqrt(l/h)),w=Math.abs(v)<5;r||(r=w?_e.restSpeed.granular:_e.restSpeed.default),i||(i=w?_e.restDelta.granular:_e.restDelta.default);let b;if(m<1){const x=yo(y,m);b=A=>{const T=Math.exp(-m*y*A);return o-T*((g+m*y*v)/x*Math.sin(x*A)+v*Math.cos(x*A))}}else if(m===1)b=x=>o-Math.exp(-y*x)*(v+(g+y*v)*x);else{const x=y*Math.sqrt(m*m-1);b=A=>{const T=Math.exp(-m*y*A),C=Math.min(x*A,300);return o-T*((g+m*y*v)*Math.sinh(C)+x*v*Math.cosh(C))/x}}const _={calculatedDuration:f&&d||null,next:x=>{const A=b(x);if(f)a.done=x>=d;else{let T=x===0?g:0;m<1&&(T=x===0?Lt(g):Kh(b,x,A));const C=Math.abs(T)<=r,k=Math.abs(o-A)<=i;a.done=C&&k}return a.value=a.done?o:A,a},toString:()=>{const x=Math.min(va(_),Li),A=Qh(T=>_.next(x*T).value,x,30);return x+"ms "+A},toTransition:()=>{}};return _}Fi.applyToOptions=t=>{const e=Kv(t,100,Fi);return t.ease=e.ease,t.duration=Lt(e.duration),t.type="keyframes",t};function wo({keyframes:t,velocity:e=0,power:s=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:n=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:h}){const d=t[0],p={done:!1,value:d},f=C=>a!==void 0&&C<a||l!==void 0&&C>l,g=C=>a===void 0?l:l===void 0||Math.abs(a-C)<Math.abs(l-C)?a:l;let m=s*e;const v=d+m,y=o===void 0?v:o(v);y!==v&&(m=y-d);const w=C=>-m*Math.exp(-C/r),b=C=>y+w(C),_=C=>{const k=w(C),j=b(C);p.done=Math.abs(k)<=c,p.value=p.done?y:j};let x,A;const T=C=>{f(p.value)&&(x=C,A=Fi({keyframes:[p.value,g(p.value)],velocity:Kh(b,C,p.value),damping:i,stiffness:n,restDelta:c,restSpeed:h}))};return T(0),{calculatedDuration:null,next:C=>{let k=!1;return!A&&x===void 0&&(k=!0,_(C),T(C)),x!==void 0&&C>=x?A.next(C-x):(!k&&_(C),p)}}}function ry(t,e,s){const r=[],i=s||Vt.mix||qh,n=t.length-1;for(let o=0;o<n;o++){let a=i(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||vt:e;a=Zr(l,a)}r.push(a)}return r}function iy(t,e,{clamp:s=!0,ease:r,mixer:i}={}){const n=t.length;if(la(n===e.length),n===1)return()=>e[0];if(n===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[n-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=ry(e,r,i),l=a.length,c=h=>{if(o&&h<t[0])return e[0];let d=0;if(l>1)for(;d<t.length-2&&!(h<t[d+1]);d++);const p=$r(t[d],t[d+1],h);return a[d](p)};return s?h=>c(jt(t[0],t[n-1],h)):c}function ny(t,e){const s=t[t.length-1];for(let r=1;r<=e;r++){const i=$r(0,e,r);t.push(ge(s,1,i))}}function oy(t){const e=[0];return ny(e,t.length-1),e}function ay(t,e){return t.map(s=>s*e)}function ly(t,e){return t.map(()=>e||Nh).splice(0,t.length-1)}function Pr({duration:t=300,keyframes:e,times:s,ease:r="easeInOut"}){const i=wv(r)?r.map(Ol):Ol(r),n={done:!1,value:e[0]},o=ay(s&&s.length===e.length?s:oy(e),t),a=iy(o,e,{ease:Array.isArray(i)?i:ly(e,i)});return{calculatedDuration:t,next:l=>(n.value=a(l),n.done=l>=t,n)}}const cy=t=>t!==null;function ya(t,{repeat:e,repeatType:s="loop"},r,i=1){const n=t.filter(cy),a=i<0||e&&s!=="loop"&&e%2===1?0:n.length-1;return!a||r===void 0?n[a]:r}const uy={decay:wo,inertia:wo,tween:Pr,keyframes:Pr,spring:Fi};function Yh(t){typeof t.type=="string"&&(t.type=uy[t.type])}class wa{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,s){return this.finished.then(e,s)}}const hy=t=>t/100;class ba extends wa{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,i;const{motionValue:s}=this.options;s&&s.updatedAt!==He.now()&&this.tick(He.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(i=(r=this.options).onStop)==null||i.call(r))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;Yh(e);const{type:s=Pr,repeat:r=0,repeatDelay:i=0,repeatType:n,velocity:o=0}=e;let{keyframes:a}=e;const l=s||Pr;l!==Pr&&typeof a[0]!="number"&&(this.mixKeyframes=Zr(hy,qh(a[0],a[1])),a=[0,100]);const c=l({...e,keyframes:a});n==="mirror"&&(this.mirroredGenerator=l({...e,keyframes:[...a].reverse(),velocity:-o})),c.calculatedDuration===null&&(c.calculatedDuration=va(c));const{calculatedDuration:h}=c;this.calculatedDuration=h,this.resolvedDuration=h+i,this.totalDuration=this.resolvedDuration*(r+1)-i,this.generator=c}updateTime(e){const s=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=s}tick(e,s=!1){const{generator:r,totalDuration:i,mixKeyframes:n,mirroredGenerator:o,resolvedDuration:a,calculatedDuration:l}=this;if(this.startTime===null)return r.next(0);const{delay:c=0,keyframes:h,repeat:d,repeatType:p,repeatDelay:f,type:g,onUpdate:m,finalKeyframe:v}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),s?this.currentTime=e:this.updateTime(e);const y=this.currentTime-c*(this.playbackSpeed>=0?1:-1),w=this.playbackSpeed>=0?y<0:y>i;this.currentTime=Math.max(y,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let b=this.currentTime,_=r;if(d){const C=Math.min(this.currentTime,i)/a;let k=Math.floor(C),j=C%1;!j&&C>=1&&(j=1),j===1&&k--,k=Math.min(k,d+1),!!(k%2)&&(p==="reverse"?(j=1-j,f&&(j-=f/a)):p==="mirror"&&(_=o)),b=jt(0,1,j)*a}const x=w?{done:!1,value:h[0]}:_.next(b);n&&(x.value=n(x.value));let{done:A}=x;!w&&l!==null&&(A=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const T=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&A);return T&&g!==wo&&(x.value=ya(h,this.options,v,this.speed)),m&&m(x.value),T&&this.finish(),x}then(e,s){return this.finished.then(e,s)}get duration(){return gt(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+gt(e)}get time(){return gt(this.currentTime)}set time(e){var s;e=Lt(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(s=this.driver)==null||s.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(He.now());const s=this.playbackSpeed!==e;this.playbackSpeed=e,s&&(this.time=gt(this.currentTime))}play(){var i,n;if(this.isStopped)return;const{driver:e=Qv,startTime:s}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),(n=(i=this.options).onPlay)==null||n.call(i);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=s??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(He.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,s;this.notifyFinished(),this.teardown(),this.state="finished",(s=(e=this.options).onComplete)==null||s.call(e)}cancel(){var e,s;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(s=(e=this.options).onCancel)==null||s.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var s;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(s=this.driver)==null||s.stop(),e.observe(this)}}function dy(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Ss=t=>t*180/Math.PI,bo=t=>{const e=Ss(Math.atan2(t[1],t[0]));return _o(e)},fy={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:bo,rotateZ:bo,skewX:t=>Ss(Math.atan(t[1])),skewY:t=>Ss(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},_o=t=>(t=t%360,t<0&&(t+=360),t),Ul=bo,Vl=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),zl=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),py={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Vl,scaleY:zl,scale:t=>(Vl(t)+zl(t))/2,rotateX:t=>_o(Ss(Math.atan2(t[6],t[5]))),rotateY:t=>_o(Ss(Math.atan2(-t[2],t[0]))),rotateZ:Ul,rotate:Ul,skewX:t=>Ss(Math.atan(t[4])),skewY:t=>Ss(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function xo(t){return t.includes("scale")?1:0}function So(t,e){if(!t||t==="none")return xo(e);const s=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(s)r=py,i=s;else{const a=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=fy,i=a}if(!i)return xo(e);const n=r[e],o=i[1].split(",").map(gy);return typeof n=="function"?n(o):o[n]}const my=(t,e)=>{const{transform:s="none"}=getComputedStyle(t);return So(s,e)};function gy(t){return parseFloat(t.trim())}const hr=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],dr=new Set(hr),Wl=t=>t===ur||t===M,vy=new Set(["x","y","z"]),yy=hr.filter(t=>!vy.has(t));function wy(t){const e=[];return yy.forEach(s=>{const r=t.getValue(s);r!==void 0&&(e.push([s,r.get()]),r.set(s.startsWith("scale")?1:0))}),e}const Yt={width:({x:t},{paddingLeft:e="0",paddingRight:s="0"})=>t.max-t.min-parseFloat(e)-parseFloat(s),height:({y:t},{paddingTop:e="0",paddingBottom:s="0"})=>t.max-t.min-parseFloat(e)-parseFloat(s),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>So(e,"x"),y:(t,{transform:e})=>So(e,"y")};Yt.translateX=Yt.x;Yt.translateY=Yt.y;const ks=new Set;let Ao=!1,To=!1,Eo=!1;function Jh(){if(To){const t=Array.from(ks).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),s=new Map;e.forEach(r=>{const i=wy(r);i.length&&(s.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=s.get(r);i&&i.forEach(([n,o])=>{var a;(a=r.getValue(n))==null||a.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}To=!1,Ao=!1,ks.forEach(t=>t.complete(Eo)),ks.clear()}function Xh(){ks.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(To=!0)})}function by(){Eo=!0,Xh(),Jh(),Eo=!1}class _a{constructor(e,s,r,i,n,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=s,this.name=r,this.motionValue=i,this.element=n,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(ks.add(this),Ao||(Ao=!0,ce.read(Xh),ce.resolveKeyframes(Jh))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:s,element:r,motionValue:i}=this;if(e[0]===null){const n=i==null?void 0:i.get(),o=e[e.length-1];if(n!==void 0)e[0]=n;else if(r&&s){const a=r.readValue(s,o);a!=null&&(e[0]=a)}e[0]===void 0&&(e[0]=o),i&&n===void 0&&i.set(e[0])}dy(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),ks.delete(this)}cancel(){this.state==="scheduled"&&(ks.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const _y=t=>t.startsWith("--");function xy(t,e,s){_y(e)?t.style.setProperty(e,s):t.style[e]=s}const Sy=ca(()=>window.ScrollTimeline!==void 0),Ay={};function Ty(t,e){const s=ca(t);return()=>Ay[e]??s()}const Zh=Ty(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),_r=([t,e,s,r])=>`cubic-bezier(${t}, ${e}, ${s}, ${r})`,Gl={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:_r([0,.65,.55,1]),circOut:_r([.55,0,1,.45]),backIn:_r([.31,.01,.66,-.59]),backOut:_r([.33,1.53,.69,.99])};function ed(t,e){if(t)return typeof t=="function"?Zh()?Qh(t,e):"ease-out":Bh(t)?_r(t):Array.isArray(t)?t.map(s=>ed(s,e)||Gl.easeOut):Gl[t]}function Ey(t,e,s,{delay:r=0,duration:i=300,repeat:n=0,repeatType:o="loop",ease:a="easeOut",times:l}={},c=void 0){const h={[e]:s};l&&(h.offset=l);const d=ed(a,i);Array.isArray(d)&&(h.easing=d);const p={delay:r,duration:i,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:n+1,direction:o==="reverse"?"alternate":"normal"};return c&&(p.pseudoElement=c),t.animate(h,p)}function td(t){return typeof t=="function"&&"applyToOptions"in t}function Cy({type:t,...e}){return td(t)&&Zh()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class ky extends wa{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!e)return;const{element:s,name:r,keyframes:i,pseudoElement:n,allowFlatten:o=!1,finalKeyframe:a,onComplete:l}=e;this.isPseudoElement=!!n,this.allowFlatten=o,this.options=e,la(typeof e.type!="string");const c=Cy(e);this.animation=Ey(s,r,i,c,n),c.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!n){const h=ya(i,this.options,a,this.speed);this.updateMotionValue?this.updateMotionValue(h):xy(s,r,h),this.animation.cancel()}l==null||l(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,s;(s=(e=this.animation).finish)==null||s.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,s;this.isPseudoElement||(s=(e=this.animation).commitStyles)==null||s.call(e)}get duration(){var s,r;const e=((r=(s=this.animation.effect)==null?void 0:s.getComputedTiming)==null?void 0:r.call(s).duration)||0;return gt(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+gt(e)}get time(){return gt(Number(this.animation.currentTime)||0)}set time(e){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=Lt(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(e){this.manualStartTime=this.animation.startTime=e}attachTimeline({timeline:e,observe:s}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&Sy()?(this.animation.timeline=e,vt):s(this)}}const sd={anticipate:Oh,backInOut:Ih,circInOut:Mh};function Py(t){return t in sd}function jy(t){typeof t.ease=="string"&&Py(t.ease)&&(t.ease=sd[t.ease])}const Rn=10;class Ry extends ky{constructor(e){jy(e),Yh(e),super(e),e.startTime!==void 0&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:s,onUpdate:r,onComplete:i,element:n,...o}=this.options;if(!s)return;if(e!==void 0){s.set(e);return}const a=new ba({...o,autoplay:!1}),l=Math.max(Rn,He.now()-this.startTime),c=jt(0,Rn,l-Rn);s.setWithVelocity(a.sample(Math.max(0,l-c)).value,a.sample(l).value,c),a.stop()}}const Hl=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(rs.test(t)||t==="0")&&!t.startsWith("url("));function Iy(t){const e=t[0];if(t.length===1)return!0;for(let s=0;s<t.length;s++)if(t[s]!==e)return!0}function Oy(t,e,s,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const n=t[t.length-1],o=Hl(i,e),a=Hl(n,e);return!o||!a?!1:Iy(t)||(s==="spring"||td(s))&&r}function Co(t){t.duration=0,t.type="keyframes"}const Dy=new Set(["opacity","clipPath","filter","transform"]),My=ca(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function Ny(t){var h;const{motionValue:e,name:s,repeatDelay:r,repeatType:i,damping:n,type:o}=t;if(!(((h=e==null?void 0:e.owner)==null?void 0:h.current)instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:c}=e.owner.getProps();return My()&&s&&Dy.has(s)&&(s!=="transform"||!c)&&!l&&!r&&i!=="mirror"&&n!==0&&o!=="inertia"}const By=40;class Ly extends wa{constructor({autoplay:e=!0,delay:s=0,type:r="keyframes",repeat:i=0,repeatDelay:n=0,repeatType:o="loop",keyframes:a,name:l,motionValue:c,element:h,...d}){var g;super(),this.stop=()=>{var m,v;this._animation&&(this._animation.stop(),(m=this.stopTimeline)==null||m.call(this)),(v=this.keyframeResolver)==null||v.cancel()},this.createdAt=He.now();const p={autoplay:e,delay:s,type:r,repeat:i,repeatDelay:n,repeatType:o,name:l,motionValue:c,element:h,...d},f=(h==null?void 0:h.KeyframeResolver)||_a;this.keyframeResolver=new f(a,(m,v,y)=>this.onKeyframesResolved(m,v,p,!y),l,c,h),(g=this.keyframeResolver)==null||g.scheduleResolve()}onKeyframesResolved(e,s,r,i){var v,y;this.keyframeResolver=void 0;const{name:n,type:o,velocity:a,delay:l,isHandoff:c,onUpdate:h}=r;this.resolvedAt=He.now(),Oy(e,n,o,a)||((Vt.instantAnimations||!l)&&(h==null||h(ya(e,r,s))),e[0]=e[e.length-1],Co(r),r.repeat=0);const p={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>By?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:s,...r,keyframes:e},f=!c&&Ny(p),g=(y=(v=p.motionValue)==null?void 0:v.owner)==null?void 0:y.current,m=f?new Ry({...p,element:g}):new ba(p);m.finished.then(()=>{this.notifyFinished()}).catch(vt),this.pendingTimeline&&(this.stopTimeline=m.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=m}get finished(){return this._animation?this.animation.finished:this._finished}then(e,s){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),by()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}function rd(t,e,s,r=0,i=1){const n=Array.from(t).sort((c,h)=>c.sortNodePosition(h)).indexOf(e),o=t.size,a=(o-1)*r;return typeof s=="function"?s(n,o):i===1?n*r:a-n*r}const Fy=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Uy(t){const e=Fy.exec(t);if(!e)return[,];const[,s,r,i]=e;return[`--${s??r}`,i]}function id(t,e,s=1){const[r,i]=Uy(t);if(!r)return;const n=window.getComputedStyle(e).getPropertyValue(r);if(n){const o=n.trim();return Ah(o)?parseFloat(o):o}return fa(i)?id(i,e,s+1):i}const Vy={type:"spring",stiffness:500,damping:25,restSpeed:10},zy=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),Wy={type:"keyframes",duration:.8},Gy={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Hy=(t,{keyframes:e})=>e.length>2?Wy:dr.has(t)?t.startsWith("scale")?zy(e[1]):Vy:Gy,$y=t=>t!==null;function qy(t,{repeat:e,repeatType:s="loop"},r){const i=t.filter($y),n=e&&s!=="loop"&&e%2===1?0:i.length-1;return i[n]}function xa(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}function Qy({when:t,delay:e,delayChildren:s,staggerChildren:r,staggerDirection:i,repeat:n,repeatType:o,repeatDelay:a,from:l,elapsed:c,...h}){return!!Object.keys(h).length}const Sa=(t,e,s,r={},i,n)=>o=>{const a=xa(r,t)||{},l=a.delay||r.delay||0;let{elapsed:c=0}=r;c=c-Lt(l);const h={keyframes:Array.isArray(s)?s:[null,s],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-c,onUpdate:p=>{e.set(p),a.onUpdate&&a.onUpdate(p)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:n?void 0:i};Qy(a)||Object.assign(h,Hy(t,h)),h.duration&&(h.duration=Lt(h.duration)),h.repeatDelay&&(h.repeatDelay=Lt(h.repeatDelay)),h.from!==void 0&&(h.keyframes[0]=h.from);let d=!1;if((h.type===!1||h.duration===0&&!h.repeatDelay)&&(Co(h),h.delay===0&&(d=!0)),(Vt.instantAnimations||Vt.skipAnimations)&&(d=!0,Co(h),h.delay=0),h.allowFlatten=!a.type&&!a.ease,d&&!n&&e.get()!==void 0){const p=qy(h.keyframes,a);if(p!==void 0){ce.update(()=>{h.onUpdate(p),h.onComplete()});return}}return a.isSync?new ba(h):new Ly(h)};function $l(t){const e=[{},{}];return t==null||t.values.forEach((s,r)=>{e[0][r]=s.get(),e[1][r]=s.getVelocity()}),e}function Aa(t,e,s,r){if(typeof e=="function"){const[i,n]=$l(r);e=e(s!==void 0?s:t.custom,i,n)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,n]=$l(r);e=e(s!==void 0?s:t.custom,i,n)}return e}function er(t,e,s){const r=t.getProps();return Aa(r,e,s!==void 0?s:r.custom,t)}const nd=new Set(["width","height","top","left","right","bottom",...hr]),ql=30,Ky=t=>!isNaN(parseFloat(t));class Yy{constructor(e,s={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var n;const i=He.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((n=this.events.change)==null||n.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=s.owner}setCurrent(e){this.current=e,this.updatedAt=He.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=Ky(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,s){this.events[e]||(this.events[e]=new ua);const r=this.events[e].add(s);return e==="change"?()=>{r(),ce.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,s){this.passiveEffect=e,this.stopPassiveEffect=s}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,s,r){this.set(s),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,s=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,s&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=He.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>ql)return 0;const s=Math.min(this.updatedAt-this.prevUpdatedAt,ql);return Ch(parseFloat(this.current)-parseFloat(this.prevFrameValue),s)}start(e){return this.stop(),new Promise(s=>{this.hasAnimated=!0,this.animation=e(s),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,s;(e=this.dependents)==null||e.clear(),(s=this.events.destroy)==null||s.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ar(t,e){return new Yy(t,e)}const ko=t=>Array.isArray(t);function Jy(t,e,s){t.hasValue(e)?t.getValue(e).set(s):t.addValue(e,ar(s))}function Xy(t){return ko(t)?t[t.length-1]||0:t}function Zy(t,e){const s=er(t,e);let{transitionEnd:r={},transition:i={},...n}=s||{};n={...n,...r};for(const o in n){const a=Xy(n[o]);Jy(t,o,a)}}const Fe=t=>!!(t&&t.getVelocity);function ew(t){return!!(Fe(t)&&t.add)}function Po(t,e){const s=t.getValue("willChange");if(ew(s))return s.add(e);if(!s&&Vt.WillChange){const r=new Vt.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function Ta(t){return t.replace(/([A-Z])/g,e=>`-${e.toLowerCase()}`)}const tw="framerAppearId",od="data-"+Ta(tw);function ad(t){return t.props[od]}function sw({protectedKeys:t,needsAnimating:e},s){const r=t.hasOwnProperty(s)&&e[s]!==!0;return e[s]=!1,r}function ld(t,e,{delay:s=0,transitionOverride:r,type:i}={}){let{transition:n=t.getDefaultTransition(),transitionEnd:o,...a}=e;const l=n==null?void 0:n.reduceMotion;r&&(n=r);const c=[],h=i&&t.animationState&&t.animationState.getState()[i];for(const d in a){const p=t.getValue(d,t.latestValues[d]??null),f=a[d];if(f===void 0||h&&sw(h,d))continue;const g={delay:s,...xa(n||{},d)},m=p.get();if(m!==void 0&&!p.isAnimating&&!Array.isArray(f)&&f===m&&!g.velocity)continue;let v=!1;if(window.MotionHandoffAnimation){const b=ad(t);if(b){const _=window.MotionHandoffAnimation(b,d,ce);_!==null&&(g.startTime=_,v=!0)}}Po(t,d);const y=l??t.shouldReduceMotion;p.start(Sa(d,p,f,y&&nd.has(d)?{type:!1}:g,t,v));const w=p.animation;w&&c.push(w)}return o&&Promise.all(c).then(()=>{ce.update(()=>{o&&Zy(t,o)})}),c}function jo(t,e,s={}){var l;const r=er(t,e,s.type==="exit"?(l=t.presenceContext)==null?void 0:l.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=r||{};s.transitionOverride&&(i=s.transitionOverride);const n=r?()=>Promise.all(ld(t,r,s)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:h=0,staggerChildren:d,staggerDirection:p}=i;return rw(t,e,c,h,d,p,s)}:()=>Promise.resolve(),{when:a}=i;if(a){const[c,h]=a==="beforeChildren"?[n,o]:[o,n];return c().then(()=>h())}else return Promise.all([n(),o(s.delay)])}function rw(t,e,s=0,r=0,i=0,n=1,o){const a=[];for(const l of t.variantChildren)l.notify("AnimationStart",e),a.push(jo(l,e,{...o,delay:s+(typeof r=="function"?0:r)+rd(t.variantChildren,l,r,i,n)}).then(()=>l.notify("AnimationComplete",e)));return Promise.all(a)}function iw(t,e,s={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(n=>jo(t,n,s));r=Promise.all(i)}else if(typeof e=="string")r=jo(t,e,s);else{const i=typeof e=="function"?er(t,e,s.custom):e;r=Promise.all(ld(t,i,s))}return r.then(()=>{t.notify("AnimationComplete",e)})}const nw={test:t=>t==="auto",parse:t=>t},cd=t=>e=>e.test(t),ud=[ur,M,kt,Gt,Iv,Rv,nw],Ql=t=>ud.find(cd(t));function ow(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||Eh(t):!0}const aw=new Set(["brightness","contrast","saturate","opacity"]);function lw(t){const[e,s]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=s.match(pa)||[];if(!r)return t;const i=s.replace(r,"");let n=aw.has(e)?1:0;return r!==s&&(n*=100),e+"("+n+i+")"}const cw=/\b([a-z-]*)\(.*?\)/gu,Ro={...rs,getAnimatableNone:t=>{const e=t.match(cw);return e?e.map(lw).join(" "):t}},Kl={...ur,transform:Math.round},uw={rotate:Gt,rotateX:Gt,rotateY:Gt,rotateZ:Gt,scale:gi,scaleX:gi,scaleY:gi,scaleZ:gi,skew:Gt,skewX:Gt,skewY:Gt,distance:M,translateX:M,translateY:M,translateZ:M,x:M,y:M,z:M,perspective:M,transformPerspective:M,opacity:qr,originX:Ml,originY:Ml,originZ:M},Ea={borderWidth:M,borderTopWidth:M,borderRightWidth:M,borderBottomWidth:M,borderLeftWidth:M,borderRadius:M,borderTopLeftRadius:M,borderTopRightRadius:M,borderBottomRightRadius:M,borderBottomLeftRadius:M,width:M,maxWidth:M,height:M,maxHeight:M,top:M,right:M,bottom:M,left:M,inset:M,insetBlock:M,insetBlockStart:M,insetBlockEnd:M,insetInline:M,insetInlineStart:M,insetInlineEnd:M,padding:M,paddingTop:M,paddingRight:M,paddingBottom:M,paddingLeft:M,paddingBlock:M,paddingBlockStart:M,paddingBlockEnd:M,paddingInline:M,paddingInlineStart:M,paddingInlineEnd:M,margin:M,marginTop:M,marginRight:M,marginBottom:M,marginLeft:M,marginBlock:M,marginBlockStart:M,marginBlockEnd:M,marginInline:M,marginInlineStart:M,marginInlineEnd:M,fontSize:M,backgroundPositionX:M,backgroundPositionY:M,...uw,zIndex:Kl,fillOpacity:qr,strokeOpacity:qr,numOctaves:Kl},hw={...Ea,color:Ce,backgroundColor:Ce,outlineColor:Ce,fill:Ce,stroke:Ce,borderColor:Ce,borderTopColor:Ce,borderRightColor:Ce,borderBottomColor:Ce,borderLeftColor:Ce,filter:Ro,WebkitFilter:Ro},hd=t=>hw[t];function dd(t,e){let s=hd(t);return s!==Ro&&(s=rs),s.getAnimatableNone?s.getAnimatableNone(e):void 0}const dw=new Set(["auto","none","0"]);function fw(t,e,s){let r=0,i;for(;r<t.length&&!i;){const n=t[r];typeof n=="string"&&!dw.has(n)&&Qr(n).values.length&&(i=t[r]),r++}if(i&&s)for(const n of e)t[n]=dd(s,i)}class pw extends _a{constructor(e,s,r,i,n){super(e,s,r,i,n,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:s,name:r}=this;if(!s||!s.current)return;super.readKeyframes();for(let h=0;h<e.length;h++){let d=e[h];if(typeof d=="string"&&(d=d.trim(),fa(d))){const p=id(d,s.current);p!==void 0&&(e[h]=p),h===e.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!nd.has(r)||e.length!==2)return;const[i,n]=e,o=Ql(i),a=Ql(n),l=Dl(i),c=Dl(n);if(l!==c&&Yt[r]){this.needsMeasurement=!0;return}if(o!==a)if(Wl(o)&&Wl(a))for(let h=0;h<e.length;h++){const d=e[h];typeof d=="string"&&(e[h]=parseFloat(d))}else Yt[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:s}=this,r=[];for(let i=0;i<e.length;i++)(e[i]===null||ow(e[i]))&&r.push(i);r.length&&fw(e,r,s)}measureInitialState(){const{element:e,unresolvedKeyframes:s,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Yt[r](e.measureViewportBox(),window.getComputedStyle(e.current)),s[0]=this.measuredOrigin;const i=s[s.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var a;const{element:e,name:s,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const i=e.getValue(s);i&&i.jump(this.measuredOrigin,!1);const n=r.length-1,o=r[n];r[n]=Yt[s](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(a=this.removedTransforms)!=null&&a.length&&this.removedTransforms.forEach(([l,c])=>{e.getValue(l).set(c)}),this.resolveNoneKeyframes()}}function fd(t,e,s){if(t==null)return[];if(t instanceof EventTarget)return[t];if(typeof t=="string"){const i=document.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t).filter(r=>r!=null)}const pd=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function Io(t){return Th(t)&&"offsetHeight"in t}const{schedule:Ca}=Lh(queueMicrotask,!1),_t={x:!1,y:!1};function md(){return _t.x||_t.y}function mw(t){return t==="x"||t==="y"?_t[t]?null:(_t[t]=!0,()=>{_t[t]=!1}):_t.x||_t.y?null:(_t.x=_t.y=!0,()=>{_t.x=_t.y=!1})}function gd(t,e){const s=fd(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[s,i,()=>r.abort()]}function Yl(t){return!(t.pointerType==="touch"||md())}function gw(t,e,s={}){const[r,i,n]=gd(t,s),o=a=>{if(!Yl(a))return;const{target:l}=a,c=e(l,a);if(typeof c!="function"||!l)return;const h=d=>{Yl(d)&&(c(d),l.removeEventListener("pointerleave",h))};l.addEventListener("pointerleave",h,i)};return r.forEach(a=>{a.addEventListener("pointerenter",o,i)}),n}const vd=(t,e)=>e?t===e?!0:vd(t,e.parentElement):!1,ka=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,vw=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function yd(t){return vw.has(t.tagName)||t.isContentEditable===!0}const Ai=new WeakSet;function Jl(t){return e=>{e.key==="Enter"&&t(e)}}function In(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const yw=(t,e)=>{const s=t.currentTarget;if(!s)return;const r=Jl(()=>{if(Ai.has(s))return;In(s,"down");const i=Jl(()=>{In(s,"up")}),n=()=>In(s,"cancel");s.addEventListener("keyup",i,e),s.addEventListener("blur",n,e)});s.addEventListener("keydown",r,e),s.addEventListener("blur",()=>s.removeEventListener("keydown",r),e)};function Xl(t){return ka(t)&&!md()}function ww(t,e,s={}){const[r,i,n]=gd(t,s),o=a=>{const l=a.currentTarget;if(!Xl(a))return;Ai.add(l);const c=e(l,a),h=(f,g)=>{window.removeEventListener("pointerup",d),window.removeEventListener("pointercancel",p),Ai.has(l)&&Ai.delete(l),Xl(f)&&typeof c=="function"&&c(f,{success:g})},d=f=>{h(f,l===window||l===document||s.useGlobalTarget||vd(l,f.target))},p=f=>{h(f,!1)};window.addEventListener("pointerup",d,i),window.addEventListener("pointercancel",p,i)};return r.forEach(a=>{(s.useGlobalTarget?window:a).addEventListener("pointerdown",o,i),Io(a)&&(a.addEventListener("focus",c=>yw(c,i)),!yd(a)&&!a.hasAttribute("tabindex")&&(a.tabIndex=0))}),n}function wd(t){return Th(t)&&"ownerSVGElement"in t}function bw(t){return wd(t)&&t.tagName==="svg"}const _w=[...ud,Ce,rs],xw=t=>_w.find(cd(t)),Zl=()=>({translate:0,scale:1,origin:0,originPoint:0}),qs=()=>({x:Zl(),y:Zl()}),ec=()=>({min:0,max:0}),Ie=()=>({x:ec(),y:ec()}),Ui={current:null},Pa={current:!1},Sw=typeof window<"u";function bd(){if(Pa.current=!0,!!Sw)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Ui.current=t.matches;t.addEventListener("change",e),e()}else Ui.current=!1}const Aw=new WeakMap;function rn(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Kr(t){return typeof t=="string"||Array.isArray(t)}const ja=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Ra=["initial",...ja];function nn(t){return rn(t.animate)||Ra.some(e=>Kr(t[e]))}function _d(t){return!!(nn(t)||t.variants)}function Tw(t,e,s){for(const r in e){const i=e[r],n=s[r];if(Fe(i))t.addValue(r,i);else if(Fe(n))t.addValue(r,ar(i,{owner:t}));else if(n!==i)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=t.getStaticValue(r);t.addValue(r,ar(o!==void 0?o:i,{owner:t}))}}for(const r in s)e[r]===void 0&&t.removeValue(r);return e}const tc=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let Vi={};function xd(t){Vi=t}function Ew(){return Vi}class Cw{scrapeMotionValuesFromProps(e,s,r){return{}}constructor({parent:e,props:s,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:n,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=_a,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const p=He.now();this.renderScheduledAt<p&&(this.renderScheduledAt=p,ce.render(this.render,!1,!0))};const{latestValues:l,renderState:c}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=s.initial?{...l}:{},this.renderState=c,this.parent=e,this.props=s,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.blockInitialAnimation=!!n,this.isControllingVariants=nn(s),this.isVariantNode=_d(s),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:h,...d}=this.scrapeMotionValuesFromProps(s,{},this);for(const p in d){const f=d[p];l[p]!==void 0&&Fe(f)&&f.set(l[p])}}mount(e){var s;this.current=e,Aw.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,i)=>this.bindToMotionValue(i,r)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(Pa.current||bd(),this.shouldReduceMotion=Ui.current),(s=this.parent)==null||s.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),ss(this.notifyUpdate),ss(this.render),this.valueSubscriptions.forEach(s=>s()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const s in this.events)this.events[s].clear();for(const s in this.features){const r=this.features[s];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,s){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=dr.has(e);r&&this.onBindTransform&&this.onBindTransform();const i=s.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&ce.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let n;typeof window<"u"&&window.MotionCheckAppearSync&&(n=window.MotionCheckAppearSync(this,e,s)),this.valueSubscriptions.set(e,()=>{i(),n&&n(),s.owner&&s.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Vi){const s=Vi[e];if(!s)continue;const{isEnabled:r,Feature:i}=s;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const n=this.features[e];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ie()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,s){this.latestValues[e]=s}update(e,s){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=s;for(let r=0;r<tc.length;r++){const i=tc[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const n="on"+i,o=e[n];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=Tw(this,this.scrapeMotionValuesFromProps(e,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const s=this.getClosestVariantNode();if(s)return s.variantChildren&&s.variantChildren.add(e),()=>s.variantChildren.delete(e)}addValue(e,s){const r=this.values.get(e);s!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,s),this.values.set(e,s),this.latestValues[e]=s.get())}removeValue(e){this.values.delete(e);const s=this.valueSubscriptions.get(e);s&&(s(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,s){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&s!==void 0&&(r=ar(s===null?void 0:s,{owner:this}),this.addValue(e,r)),r}readValue(e,s){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(Ah(r)||Eh(r))?r=parseFloat(r):!xw(r)&&rs.test(s)&&(r=dd(e,s)),this.setBaseTarget(e,Fe(r)?r.get():r)),Fe(r)?r.get():r}setBaseTarget(e,s){this.baseTarget[e]=s}getBaseTarget(e){var n;const{initial:s}=this.props;let r;if(typeof s=="string"||typeof s=="object"){const o=Aa(this.props,s,(n=this.presenceContext)==null?void 0:n.custom);o&&(r=o[e])}if(s&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!Fe(i)?i:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,s){return this.events[e]||(this.events[e]=new ua),this.events[e].add(s)}notify(e,...s){this.events[e]&&this.events[e].notify(...s)}scheduleRenderMicrotask(){Ca.render(this.render)}}class Sd extends Cw{constructor(){super(...arguments),this.KeyframeResolver=pw}sortInstanceNodePosition(e,s){return e.compareDocumentPosition(s)&2?1:-1}getBaseTargetFromProps(e,s){const r=e.style;return r?r[s]:void 0}removeValueFromRenderState(e,{vars:s,style:r}){delete s[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Fe(e)&&(this.childSubscription=e.on("change",s=>{this.current&&(this.current.textContent=`${s}`)}))}}class ns{constructor(e){this.isMounted=!1,this.node=e}update(){}}function Ad({top:t,left:e,right:s,bottom:r}){return{x:{min:e,max:s},y:{min:t,max:r}}}function kw({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function Pw(t,e){if(!e)return t;const s=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:s.y,left:s.x,bottom:r.y,right:r.x}}function On(t){return t===void 0||t===1}function Oo({scale:t,scaleX:e,scaleY:s}){return!On(t)||!On(e)||!On(s)}function vs(t){return Oo(t)||Td(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function Td(t){return sc(t.x)||sc(t.y)}function sc(t){return t&&t!=="0%"}function zi(t,e,s){const r=t-s,i=e*r;return s+i}function rc(t,e,s,r,i){return i!==void 0&&(t=zi(t,i,r)),zi(t,s,r)+e}function Do(t,e=0,s=1,r,i){t.min=rc(t.min,e,s,r,i),t.max=rc(t.max,e,s,r,i)}function Ed(t,{x:e,y:s}){Do(t.x,e.translate,e.scale,e.originPoint),Do(t.y,s.translate,s.scale,s.originPoint)}const ic=.999999999999,nc=1.0000000000001;function jw(t,e,s,r=!1){const i=s.length;if(!i)return;e.x=e.y=1;let n,o;for(let a=0;a<i;a++){n=s[a],o=n.projectionDelta;const{visualElement:l}=n.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&n.options.layoutScroll&&n.scroll&&n!==n.root&&Ks(t,{x:-n.scroll.offset.x,y:-n.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,Ed(t,o)),r&&vs(n.latestValues)&&Ks(t,n.latestValues))}e.x<nc&&e.x>ic&&(e.x=1),e.y<nc&&e.y>ic&&(e.y=1)}function Qs(t,e){t.min=t.min+e,t.max=t.max+e}function oc(t,e,s,r,i=.5){const n=ge(t.min,t.max,i);Do(t,e,s,n,r)}function Ks(t,e){oc(t.x,e.x,e.scaleX,e.scale,e.originX),oc(t.y,e.y,e.scaleY,e.scale,e.originY)}function Cd(t,e){return Ad(Pw(t.getBoundingClientRect(),e))}function Rw(t,e,s){const r=Cd(t,s),{scroll:i}=e;return i&&(Qs(r.x,i.offset.x),Qs(r.y,i.offset.y)),r}const Iw={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Ow=hr.length;function Dw(t,e,s){let r="",i=!0;for(let n=0;n<Ow;n++){const o=hr[n],a=t[o];if(a===void 0)continue;let l=!0;if(typeof a=="number")l=a===(o.startsWith("scale")?1:0);else{const c=parseFloat(a);l=o.startsWith("scale")?c===1:c===0}if(!l||s){const c=pd(a,Ea[o]);if(!l){i=!1;const h=Iw[o]||o;r+=`${h}(${c}) `}s&&(e[o]=c)}}return r=r.trim(),s?r=s(e,i?"":r):i&&(r="none"),r}function Ia(t,e,s){const{style:r,vars:i,transformOrigin:n}=t;let o=!1,a=!1;for(const l in e){const c=e[l];if(dr.has(l)){o=!0;continue}else if(Uh(l)){i[l]=c;continue}else{const h=pd(c,Ea[l]);l.startsWith("origin")?(a=!0,n[l]=h):r[l]=h}}if(e.transform||(o||s?r.transform=Dw(e,t.transform,s):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:c="50%",originZ:h=0}=n;r.transformOrigin=`${l} ${c} ${h}`}}function kd(t,{style:e,vars:s},r,i){const n=t.style;let o;for(o in e)n[o]=e[o];i==null||i.applyProjectionStyles(n,r);for(o in s)n.setProperty(o,s[o])}function ac(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const vr={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(M.test(t))t=parseFloat(t);else return t;const s=ac(t,e.target.x),r=ac(t,e.target.y);return`${s}% ${r}%`}},Mw={correct:(t,{treeScale:e,projectionDelta:s})=>{const r=t,i=rs.parse(t);if(i.length>5)return r;const n=rs.createTransformer(t),o=typeof i[0]!="number"?1:0,a=s.x.scale*e.x,l=s.y.scale*e.y;i[0+o]/=a,i[1+o]/=l;const c=ge(a,l,.5);return typeof i[2+o]=="number"&&(i[2+o]/=c),typeof i[3+o]=="number"&&(i[3+o]/=c),n(i)}},Mo={borderRadius:{...vr,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:vr,borderTopRightRadius:vr,borderBottomLeftRadius:vr,borderBottomRightRadius:vr,boxShadow:Mw};function Pd(t,{layout:e,layoutId:s}){return dr.has(t)||t.startsWith("origin")||(e||s!==void 0)&&(!!Mo[t]||t==="opacity")}function Oa(t,e,s){var o;const r=t.style,i=e==null?void 0:e.style,n={};if(!r)return n;for(const a in r)(Fe(r[a])||i&&Fe(i[a])||Pd(a,t)||((o=s==null?void 0:s.getValue(a))==null?void 0:o.liveStyle)!==void 0)&&(n[a]=r[a]);return n}function Nw(t){return window.getComputedStyle(t)}class Bw extends Sd{constructor(){super(...arguments),this.type="html",this.renderInstance=kd}readValueFromInstance(e,s){var r;if(dr.has(s))return(r=this.projection)!=null&&r.isProjecting?xo(s):my(e,s);{const i=Nw(e),n=(Uh(s)?i.getPropertyValue(s):i[s])||0;return typeof n=="string"?n.trim():n}}measureInstanceViewportBox(e,{transformPagePoint:s}){return Cd(e,s)}build(e,s,r){Ia(e,s,r.transformTemplate)}scrapeMotionValuesFromProps(e,s,r){return Oa(e,s,r)}}const Lw={offset:"stroke-dashoffset",array:"stroke-dasharray"},Fw={offset:"strokeDashoffset",array:"strokeDasharray"};function Uw(t,e,s=1,r=0,i=!0){t.pathLength=1;const n=i?Lw:Fw;t[n.offset]=`${-r}`,t[n.array]=`${e} ${s}`}const Vw=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function jd(t,{attrX:e,attrY:s,attrScale:r,pathLength:i,pathSpacing:n=1,pathOffset:o=0,...a},l,c,h){if(Ia(t,a,c),l){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:d,style:p}=t;d.transform&&(p.transform=d.transform,delete d.transform),(p.transform||d.transformOrigin)&&(p.transformOrigin=d.transformOrigin??"50% 50%",delete d.transformOrigin),p.transform&&(p.transformBox=(h==null?void 0:h.transformBox)??"fill-box",delete d.transformBox);for(const f of Vw)d[f]!==void 0&&(p[f]=d[f],delete d[f]);e!==void 0&&(d.x=e),s!==void 0&&(d.y=s),r!==void 0&&(d.scale=r),i!==void 0&&Uw(d,i,n,o,!1)}const Rd=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),Id=t=>typeof t=="string"&&t.toLowerCase()==="svg";function zw(t,e,s,r){kd(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(Rd.has(i)?i:Ta(i),e.attrs[i])}function Od(t,e,s){const r=Oa(t,e,s);for(const i in t)if(Fe(t[i])||Fe(e[i])){const n=hr.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[n]=t[i]}return r}class Ww extends Sd{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ie}getBaseTargetFromProps(e,s){return e[s]}readValueFromInstance(e,s){if(dr.has(s)){const r=hd(s);return r&&r.default||0}return s=Rd.has(s)?s:Ta(s),e.getAttribute(s)}scrapeMotionValuesFromProps(e,s,r){return Od(e,s,r)}build(e,s,r){jd(e,s,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,s,r,i){zw(e,s,r,i)}mount(e){this.isSVGTag=Id(e.tagName),super.mount(e)}}const Gw=Ra.length;function Dd(t){if(!t)return;if(!t.isControllingVariants){const s=t.parent?Dd(t.parent)||{}:{};return t.props.initial!==void 0&&(s.initial=t.props.initial),s}const e={};for(let s=0;s<Gw;s++){const r=Ra[s],i=t.props[r];(Kr(i)||i===!1)&&(e[r]=i)}return e}function Md(t,e){if(!Array.isArray(e))return!1;const s=e.length;if(s!==t.length)return!1;for(let r=0;r<s;r++)if(e[r]!==t[r])return!1;return!0}const Hw=[...ja].reverse(),$w=ja.length;function qw(t){return e=>Promise.all(e.map(({animation:s,options:r})=>iw(t,s,r)))}function Qw(t){let e=qw(t),s=lc(),r=!0;const i=l=>(c,h)=>{var p;const d=er(t,h,l==="exit"?(p=t.presenceContext)==null?void 0:p.custom:void 0);if(d){const{transition:f,transitionEnd:g,...m}=d;c={...c,...m,...g}}return c};function n(l){e=l(t)}function o(l){const{props:c}=t,h=Dd(t.parent)||{},d=[],p=new Set;let f={},g=1/0;for(let v=0;v<$w;v++){const y=Hw[v],w=s[y],b=c[y]!==void 0?c[y]:h[y],_=Kr(b),x=y===l?w.isActive:null;x===!1&&(g=v);let A=b===h[y]&&b!==c[y]&&_;if(A&&r&&t.manuallyAnimateOnMount&&(A=!1),w.protectedKeys={...f},!w.isActive&&x===null||!b&&!w.prevProp||rn(b)||typeof b=="boolean")continue;const T=Kw(w.prevProp,b);let C=T||y===l&&w.isActive&&!A&&_||v>g&&_,k=!1;const j=Array.isArray(b)?b:[b];let I=j.reduce(i(y),{});x===!1&&(I={});const{prevResolvedValues:V={}}=w,L={...V,...I},Y=z=>{C=!0,p.has(z)&&(k=!0,p.delete(z)),w.needsAnimating[z]=!0;const E=t.getValue(z);E&&(E.liveStyle=!1)};for(const z in L){const E=I[z],O=V[z];if(f.hasOwnProperty(z))continue;let Z=!1;ko(E)&&ko(O)?Z=!Md(E,O):Z=E!==O,Z?E!=null?Y(z):p.add(z):E!==void 0&&p.has(z)?Y(z):w.protectedKeys[z]=!0}w.prevProp=b,w.prevResolvedValues=I,w.isActive&&(f={...f,...I}),r&&t.blockInitialAnimation&&(C=!1);const Q=A&&T;C&&(!Q||k)&&d.push(...j.map(z=>{const E={type:y};if(typeof z=="string"&&r&&!Q&&t.manuallyAnimateOnMount&&t.parent){const{parent:O}=t,Z=er(O,z);if(O.enteringChildren&&Z){const{delayChildren:W}=Z.transition||{};E.delay=rd(O.enteringChildren,t,W)}}return{animation:z,options:E}}))}if(p.size){const v={};if(typeof c.initial!="boolean"){const y=er(t,Array.isArray(c.initial)?c.initial[0]:c.initial);y&&y.transition&&(v.transition=y.transition)}p.forEach(y=>{const w=t.getBaseTarget(y),b=t.getValue(y);b&&(b.liveStyle=!0),v[y]=w??null}),d.push({animation:v})}let m=!!d.length;return r&&(c.initial===!1||c.initial===c.animate)&&!t.manuallyAnimateOnMount&&(m=!1),r=!1,m?e(d):Promise.resolve()}function a(l,c){var d;if(s[l].isActive===c)return Promise.resolve();(d=t.variantChildren)==null||d.forEach(p=>{var f;return(f=p.animationState)==null?void 0:f.setActive(l,c)}),s[l].isActive=c;const h=o(l);for(const p in s)s[p].protectedKeys={};return h}return{animateChanges:o,setActive:a,setAnimateFunction:n,getState:()=>s,reset:()=>{s=lc()}}}function Kw(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!Md(e,t):!1}function hs(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function lc(){return{animate:hs(!0),whileInView:hs(),whileHover:hs(),whileTap:hs(),whileDrag:hs(),whileFocus:hs(),exit:hs()}}function cc(t,e){t.min=e.min,t.max=e.max}function wt(t,e){cc(t.x,e.x),cc(t.y,e.y)}function uc(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}const Nd=1e-4,Yw=1-Nd,Jw=1+Nd,Bd=.01,Xw=0-Bd,Zw=0+Bd;function $e(t){return t.max-t.min}function e1(t,e,s){return Math.abs(t-e)<=s}function hc(t,e,s,r=.5){t.origin=r,t.originPoint=ge(e.min,e.max,t.origin),t.scale=$e(s)/$e(e),t.translate=ge(s.min,s.max,t.origin)-t.originPoint,(t.scale>=Yw&&t.scale<=Jw||isNaN(t.scale))&&(t.scale=1),(t.translate>=Xw&&t.translate<=Zw||isNaN(t.translate))&&(t.translate=0)}function jr(t,e,s,r){hc(t.x,e.x,s.x,r?r.originX:void 0),hc(t.y,e.y,s.y,r?r.originY:void 0)}function dc(t,e,s){t.min=s.min+e.min,t.max=t.min+$e(e)}function t1(t,e,s){dc(t.x,e.x,s.x),dc(t.y,e.y,s.y)}function fc(t,e,s){t.min=e.min-s.min,t.max=t.min+$e(e)}function Wi(t,e,s){fc(t.x,e.x,s.x),fc(t.y,e.y,s.y)}function pc(t,e,s,r,i){return t-=e,t=zi(t,1/s,r),i!==void 0&&(t=zi(t,1/i,r)),t}function s1(t,e=0,s=1,r=.5,i,n=t,o=t){if(kt.test(e)&&(e=parseFloat(e),e=ge(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=ge(n.min,n.max,r);t===n&&(a-=e),t.min=pc(t.min,e,s,a,i),t.max=pc(t.max,e,s,a,i)}function mc(t,e,[s,r,i],n,o){s1(t,e[s],e[r],e[i],e.scale,n,o)}const r1=["x","scaleX","originX"],i1=["y","scaleY","originY"];function gc(t,e,s,r){mc(t.x,e,r1,s?s.x:void 0,r?r.x:void 0),mc(t.y,e,i1,s?s.y:void 0,r?r.y:void 0)}function vc(t){return t.translate===0&&t.scale===1}function Ld(t){return vc(t.x)&&vc(t.y)}function yc(t,e){return t.min===e.min&&t.max===e.max}function n1(t,e){return yc(t.x,e.x)&&yc(t.y,e.y)}function wc(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function Fd(t,e){return wc(t.x,e.x)&&wc(t.y,e.y)}function bc(t){return $e(t.x)/$e(t.y)}function _c(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}function dt(t){return[t("x"),t("y")]}function o1(t,e,s){let r="";const i=t.x.translate/e.x,n=t.y.translate/e.y,o=(s==null?void 0:s.z)||0;if((i||n||o)&&(r=`translate3d(${i}px, ${n}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),s){const{transformPerspective:c,rotate:h,rotateX:d,rotateY:p,skewX:f,skewY:g}=s;c&&(r=`perspective(${c}px) ${r}`),h&&(r+=`rotate(${h}deg) `),d&&(r+=`rotateX(${d}deg) `),p&&(r+=`rotateY(${p}deg) `),f&&(r+=`skewX(${f}deg) `),g&&(r+=`skewY(${g}deg) `)}const a=t.x.scale*e.x,l=t.y.scale*e.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const Ud=["TopLeft","TopRight","BottomLeft","BottomRight"],a1=Ud.length,xc=t=>typeof t=="string"?parseFloat(t):t,Sc=t=>typeof t=="number"||M.test(t);function l1(t,e,s,r,i,n){i?(t.opacity=ge(0,s.opacity??1,c1(r)),t.opacityExit=ge(e.opacity??1,0,u1(r))):n&&(t.opacity=ge(e.opacity??1,s.opacity??1,r));for(let o=0;o<a1;o++){const a=`border${Ud[o]}Radius`;let l=Ac(e,a),c=Ac(s,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||Sc(l)===Sc(c)?(t[a]=Math.max(ge(xc(l),xc(c),r),0),(kt.test(c)||kt.test(l))&&(t[a]+="%")):t[a]=c}(e.rotate||s.rotate)&&(t.rotate=ge(e.rotate||0,s.rotate||0,r))}function Ac(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const c1=Vd(0,.5,Dh),u1=Vd(.5,.95,vt);function Vd(t,e,s){return r=>r<t?0:r>e?1:s($r(t,e,r))}function h1(t,e,s){const r=Fe(t)?t:ar(t);return r.start(Sa("",r,e,s)),r.animation}function Yr(t,e,s,r={passive:!0}){return t.addEventListener(e,s,r),()=>t.removeEventListener(e,s)}const d1=(t,e)=>t.depth-e.depth;class f1{constructor(){this.children=[],this.isDirty=!1}add(e){oa(this.children,e),this.isDirty=!0}remove(e){aa(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(d1),this.isDirty=!1,this.children.forEach(e)}}function p1(t,e){const s=He.now(),r=({timestamp:i})=>{const n=i-s;n>=e&&(ss(r),t(n-e))};return ce.setup(r,!0),()=>ss(r)}function Ti(t){return Fe(t)?t.get():t}class m1{constructor(){this.members=[]}add(e){oa(this.members,e),e.scheduleRender()}remove(e){if(aa(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const s=this.members[this.members.length-1];s&&this.promote(s)}}relegate(e){const s=this.members.findIndex(i=>e===i);if(s===0)return!1;let r;for(let i=s;i>=0;i--){const n=this.members[i];if(n.isPresent!==!1){r=n;break}}return r?(this.promote(r),!0):!1}promote(e,s){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender();const i=r.options.layoutDependency,n=e.options.layoutDependency;i!==void 0&&n!==void 0&&i===n||(e.resumeFrom=r,s&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0));const{crossfade:a}=e.options;a===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:s,resumingFrom:r}=e;s.onExitComplete&&s.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const Ei={hasAnimatedSinceResize:!0,hasEverUpdated:!1},Dn=["","X","Y","Z"],g1=1e3;let v1=0;function Mn(t,e,s,r){const{latestValues:i}=e;i[t]&&(s[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function zd(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const s=ad(e);if(window.MotionHasOptimisedAnimation(s,"transform")){const{layout:i,layoutId:n}=t.options;window.MotionCancelOptimisedAnimation(s,"transform",ce,!(i||n))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&zd(r)}function Wd({attachResizeListener:t,defaultParent:e,measureScroll:s,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},a=e==null?void 0:e()){this.id=v1++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(b1),this.nodes.forEach(A1),this.nodes.forEach(T1),this.nodes.forEach(_1)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new f1)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new ua),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=wd(o)&&!bw(o),this.instance=o;const{layoutId:a,layout:l,visualElement:c}=this.options;if(c&&!c.current&&c.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||a)&&(this.isLayoutDirty=!0),t){let h,d=0;const p=()=>this.root.updateBlockedByResize=!1;ce.read(()=>{d=window.innerWidth}),t(o,()=>{const f=window.innerWidth;f!==d&&(d=f,this.root.updateBlockedByResize=!0,h&&h(),h=p1(p,250),Ei.hasAnimatedSinceResize&&(Ei.hasAnimatedSinceResize=!1,this.nodes.forEach(Cc)))})}a&&this.root.registerSharedNode(a,this),this.options.animate!==!1&&c&&(a||l)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:d,hasRelativeLayoutChanged:p,layout:f})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const g=this.options.transition||c.getDefaultTransition()||j1,{onLayoutAnimationStart:m,onLayoutAnimationComplete:v}=c.getProps(),y=!this.targetLayout||!Fd(this.targetLayout,f),w=!d&&p;if(this.options.layoutRoot||this.resumeFrom||w||d&&(y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const b={...xa(g,"layout"),onPlay:m,onComplete:v};(c.shouldReduceMotion||this.options.layoutRoot)&&(b.delay=0,b.type=!1),this.startAnimation(b),this.setAnimationOrigin(h,w)}else d||Cc(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=f})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),ss(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(E1),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&zd(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let h=0;h<this.path.length;h++){const d=this.path[h];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Tc);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Ec);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(S1),this.nodes.forEach(y1),this.nodes.forEach(w1)):this.nodes.forEach(Ec),this.clearAllSnapshots();const a=He.now();Ne.delta=jt(0,1e3/60,a-Ne.timestamp),Ne.timestamp=a,Ne.isProcessing=!0,En.update.process(Ne),En.preRender.process(Ne),En.render.process(Ne),Ne.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Ca.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(x1),this.sharedNodes.forEach(C1)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ce.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ce.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!$e(this.snapshot.measuredBox.x)&&!$e(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Ie(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&this.instance){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:s(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!Ld(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,h=c!==this.prevTransformTemplateValue;o&&this.instance&&(a||vs(this.latestValues)||h)&&(i(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),R1(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var c;const{visualElement:o}=this.options;if(!o)return Ie();const a=o.measureViewportBox();if(!(((c=this.scroll)==null?void 0:c.wasRoot)||this.path.some(I1))){const{scroll:h}=this.root;h&&(Qs(a.x,h.offset.x),Qs(a.y,h.offset.y))}return a}removeElementScroll(o){var l;const a=Ie();if(wt(a,o),(l=this.scroll)!=null&&l.wasRoot)return a;for(let c=0;c<this.path.length;c++){const h=this.path[c],{scroll:d,options:p}=h;h!==this.root&&d&&p.layoutScroll&&(d.wasRoot&&wt(a,o),Qs(a.x,d.offset.x),Qs(a.y,d.offset.y))}return a}applyTransform(o,a=!1){const l=Ie();wt(l,o);for(let c=0;c<this.path.length;c++){const h=this.path[c];!a&&h.options.layoutScroll&&h.scroll&&h!==h.root&&Ks(l,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),vs(h.latestValues)&&Ks(l,h.latestValues)}return vs(this.latestValues)&&Ks(l,this.latestValues),l}removeTransform(o){const a=Ie();wt(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!vs(c.latestValues))continue;Oo(c.latestValues)&&c.updateSnapshot();const h=Ie(),d=c.measurePageBox();wt(h,d),gc(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,h)}return vs(this.latestValues)&&gc(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ne.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var f;const a=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==a;if(!(o||l&&this.isSharedProjectionDirty||this.isProjectionDirty||(f=this.parent)!=null&&f.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:d}=this.options;if(!this.layout||!(h||d))return;this.resolvedRelativeTargetAt=Ne.timestamp;const p=this.getClosestProjectingParent();p&&this.linkedParentVersion!==p.layoutVersion&&!p.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(p&&p.layout?this.createRelativeTarget(p,this.layout.layoutBox,p.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Ie(),this.targetWithTransforms=Ie()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),t1(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):wt(this.target,this.layout.layoutBox),Ed(this.target,this.targetDelta)):wt(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?this.createRelativeTarget(p,this.target,p.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||Oo(this.parent.latestValues)||Td(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(o,a,l){this.relativeParent=o,this.linkedParentVersion=o.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ie(),this.relativeTargetOrigin=Ie(),Wi(this.relativeTargetOrigin,a,l),wt(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){var g;const o=this.getLead(),a=!!this.resumingFrom||this!==o;let l=!0;if((this.isProjectionDirty||(g=this.parent)!=null&&g.isProjectionDirty)&&(l=!1),a&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===Ne.timestamp&&(l=!1),l)return;const{layout:c,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||h))return;wt(this.layoutCorrected,this.layout.layoutBox);const d=this.treeScale.x,p=this.treeScale.y;jw(this.layoutCorrected,this.treeScale,this.path,a),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=Ie());const{target:f}=o;if(!f){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(uc(this.prevProjectionDelta.x,this.projectionDelta.x),uc(this.prevProjectionDelta.y,this.projectionDelta.y)),jr(this.projectionDelta,this.layoutCorrected,f,this.latestValues),(this.treeScale.x!==d||this.treeScale.y!==p||!_c(this.projectionDelta.x,this.prevProjectionDelta.x)||!_c(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",f))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)==null||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=qs(),this.projectionDelta=qs(),this.projectionDeltaWithTransform=qs()}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},h={...this.latestValues},d=qs();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const p=Ie(),f=l?l.source:void 0,g=this.layout?this.layout.source:void 0,m=f!==g,v=this.getStack(),y=!v||v.members.length<=1,w=!!(m&&!y&&this.options.crossfade===!0&&!this.path.some(P1));this.animationProgress=0;let b;this.mixTargetDelta=_=>{const x=_/1e3;kc(d.x,o.x,x),kc(d.y,o.y,x),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Wi(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),k1(this.relativeTarget,this.relativeTargetOrigin,p,x),b&&n1(this.relativeTarget,b)&&(this.isProjectionDirty=!1),b||(b=Ie()),wt(b,this.relativeTarget)),m&&(this.animationValues=h,l1(h,c,this.latestValues,x,w,y)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=x},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var a,l,c;this.notifyListeners("animationStart"),(a=this.currentAnimation)==null||a.stop(),(c=(l=this.resumingFrom)==null?void 0:l.currentAnimation)==null||c.stop(),this.pendingAnimation&&(ss(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ce.update(()=>{Ei.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=ar(0)),this.currentAnimation=h1(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:h=>{this.mixTargetDelta(h),o.onUpdate&&o.onUpdate(h)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(g1),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:h}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&Gd(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||Ie();const d=$e(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+d;const p=$e(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+p}wt(a,l),Ks(a,h),jr(this.projectionDeltaWithTransform,this.layoutCorrected,a,h)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new m1),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var a;const{layoutId:o}=this.options;return o?((a=this.getStack())==null?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:o}=this.options;return o?(a=this.getStack())==null?void 0:a.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const c={};l.z&&Mn("z",o,c,this.animationValues);for(let h=0;h<Dn.length;h++)Mn(`rotate${Dn[h]}`,o,c,this.animationValues),Mn(`skew${Dn[h]}`,o,c,this.animationValues);o.render();for(const h in c)o.setStaticValue(h,c[h]),this.animationValues&&(this.animationValues[h]=c[h]);o.scheduleRender()}applyProjectionStyles(o,a){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const l=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=Ti(a==null?void 0:a.pointerEvents)||"",o.transform=l?l(this.latestValues,""):"none";return}const c=this.getLead();if(!this.projectionDelta||!this.layout||!c.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=Ti(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!vs(this.latestValues)&&(o.transform=l?l({},""):"none",this.hasProjected=!1);return}o.visibility="";const h=c.animationValues||c.latestValues;this.applyTransformsToTarget();let d=o1(this.projectionDeltaWithTransform,this.treeScale,h);l&&(d=l(h,d)),o.transform=d;const{x:p,y:f}=this.projectionDelta;o.transformOrigin=`${p.origin*100}% ${f.origin*100}% 0`,c.animationValues?o.opacity=c===this?h.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:o.opacity=c===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const g in Mo){if(h[g]===void 0)continue;const{correct:m,applyTo:v,isCSSVariable:y}=Mo[g],w=d==="none"?h[g]:m(h[g],c);if(v){const b=v.length;for(let _=0;_<b;_++)o[v[_]]=w}else y?this.options.visualElement.renderState.vars[g]=w:o[g]=w}this.options.layoutId&&(o.pointerEvents=c===this?Ti(a==null?void 0:a.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)==null?void 0:a.stop()}),this.root.nodes.forEach(Tc),this.root.sharedNodes.clear()}}}function y1(t){t.updateLayout()}function w1(t){var s;const e=((s=t.resumeFrom)==null?void 0:s.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:n}=t.options,o=e.source!==t.layout.source;n==="size"?dt(d=>{const p=o?e.measuredBox[d]:e.layoutBox[d],f=$e(p);p.min=r[d].min,p.max=p.min+f}):Gd(n,e.layoutBox,r)&&dt(d=>{const p=o?e.measuredBox[d]:e.layoutBox[d],f=$e(r[d]);p.max=p.min+f,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[d].max=t.relativeTarget[d].min+f)});const a=qs();jr(a,r,e.layoutBox);const l=qs();o?jr(l,t.applyTransform(i,!0),e.measuredBox):jr(l,r,e.layoutBox);const c=!Ld(a);let h=!1;if(!t.resumeFrom){const d=t.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:p,layout:f}=d;if(p&&f){const g=Ie();Wi(g,e.layoutBox,p.layoutBox);const m=Ie();Wi(m,r,f.layoutBox),Fd(g,m)||(h=!0),d.options.layoutRoot&&(t.relativeTarget=m,t.relativeTargetOrigin=g,t.relativeParent=d)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeLayoutChanged:h})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function b1(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function _1(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function x1(t){t.clearSnapshot()}function Tc(t){t.clearMeasurements()}function Ec(t){t.isLayoutDirty=!1}function S1(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Cc(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function A1(t){t.resolveTargetDelta()}function T1(t){t.calcProjection()}function E1(t){t.resetSkewAndRotation()}function C1(t){t.removeLeadSnapshot()}function kc(t,e,s){t.translate=ge(e.translate,0,s),t.scale=ge(e.scale,1,s),t.origin=e.origin,t.originPoint=e.originPoint}function Pc(t,e,s,r){t.min=ge(e.min,s.min,r),t.max=ge(e.max,s.max,r)}function k1(t,e,s,r){Pc(t.x,e.x,s.x,r),Pc(t.y,e.y,s.y,r)}function P1(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const j1={duration:.45,ease:[.4,0,.1,1]},jc=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),Rc=jc("applewebkit/")&&!jc("chrome/")?Math.round:vt;function Ic(t){t.min=Rc(t.min),t.max=Rc(t.max)}function R1(t){Ic(t.x),Ic(t.y)}function Gd(t,e,s){return t==="position"||t==="preserve-aspect"&&!e1(bc(e),bc(s),.2)}function I1(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const O1=Wd({attachResizeListener:(t,e)=>Yr(t,"resize",e),measureScroll:()=>{var t,e;return{x:document.documentElement.scrollLeft||((t=document.body)==null?void 0:t.scrollLeft)||0,y:document.documentElement.scrollTop||((e=document.body)==null?void 0:e.scrollTop)||0}},checkIsScrollRoot:()=>!0}),Nn={current:void 0},Hd=Wd({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Nn.current){const t=new O1({});t.mount(window),t.setOptions({layoutScroll:!0}),Nn.current=t}return Nn.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),Da=S.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function Oc(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function D1(...t){return e=>{let s=!1;const r=t.map(i=>{const n=Oc(i,e);return!s&&typeof n=="function"&&(s=!0),n});if(s)return()=>{for(let i=0;i<r.length;i++){const n=r[i];typeof n=="function"?n():Oc(t[i],null)}}}}function M1(...t){return S.useCallback(D1(...t),t)}class N1 extends S.Component{getSnapshotBeforeUpdate(e){const s=this.props.childRef.current;if(s&&e.isPresent&&!this.props.isPresent){const r=s.offsetParent,i=Io(r)&&r.offsetWidth||0,n=Io(r)&&r.offsetHeight||0,o=this.props.sizeRef.current;o.height=s.offsetHeight||0,o.width=s.offsetWidth||0,o.top=s.offsetTop,o.left=s.offsetLeft,o.right=i-o.width-o.left,o.bottom=n-o.height-o.top}return null}componentDidUpdate(){}render(){return this.props.children}}function B1({children:t,isPresent:e,anchorX:s,anchorY:r,root:i}){var d;const n=S.useId(),o=S.useRef(null),a=S.useRef({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:l}=S.useContext(Da),c=((d=t.props)==null?void 0:d.ref)??(t==null?void 0:t.ref),h=M1(o,c);return S.useInsertionEffect(()=>{const{width:p,height:f,top:g,left:m,right:v,bottom:y}=a.current;if(e||!o.current||!p||!f)return;const w=s==="left"?`left: ${m}`:`right: ${v}`,b=r==="bottom"?`bottom: ${y}`:`top: ${g}`;o.current.dataset.motionPopId=n;const _=document.createElement("style");l&&(_.nonce=l);const x=i??document.head;return x.appendChild(_),_.sheet&&_.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${p}px !important;
            height: ${f}px !important;
            ${w}px !important;
            ${b}px !important;
          }
        `),()=>{x.contains(_)&&x.removeChild(_)}},[e]),u.jsx(N1,{isPresent:e,childRef:o,sizeRef:a,children:S.cloneElement(t,{ref:h})})}const L1=({children:t,initial:e,isPresent:s,onExitComplete:r,custom:i,presenceAffectsLayout:n,mode:o,anchorX:a,anchorY:l,root:c})=>{const h=na(F1),d=S.useId();let p=!0,f=S.useMemo(()=>(p=!1,{id:d,initial:e,isPresent:s,custom:i,onExitComplete:g=>{h.set(g,!0);for(const m of h.values())if(!m)return;r&&r()},register:g=>(h.set(g,!1),()=>h.delete(g))}),[s,h,r]);return n&&p&&(f={...f}),S.useMemo(()=>{h.forEach((g,m)=>h.set(m,!1))},[s]),S.useEffect(()=>{!s&&!h.size&&r&&r()},[s]),o==="popLayout"&&(t=u.jsx(B1,{isPresent:s,anchorX:a,anchorY:l,root:c,children:t})),u.jsx(sn.Provider,{value:f,children:t})};function F1(){return new Map}function $d(t=!0){const e=S.useContext(sn);if(e===null)return[!0,null];const{isPresent:s,onExitComplete:r,register:i}=e,n=S.useId();S.useEffect(()=>{if(t)return i(n)},[t]);const o=S.useCallback(()=>t&&r&&r(n),[n,r,t]);return!s&&r?[!1,o]:[!0]}const vi=t=>t.key||"";function Dc(t){const e=[];return S.Children.forEach(t,s=>{S.isValidElement(s)&&e.push(s)}),e}const U1=({children:t,custom:e,initial:s=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:n="sync",propagate:o=!1,anchorX:a="left",anchorY:l="top",root:c})=>{const[h,d]=$d(o),p=S.useMemo(()=>Dc(t),[t]),f=o&&!h?[]:p.map(vi),g=S.useRef(!0),m=S.useRef(p),v=na(()=>new Map),y=S.useRef(new Set),[w,b]=S.useState(p),[_,x]=S.useState(p);Sh(()=>{g.current=!1,m.current=p;for(let C=0;C<_.length;C++){const k=vi(_[C]);f.includes(k)?(v.delete(k),y.current.delete(k)):v.get(k)!==!0&&v.set(k,!1)}},[_,f.length,f.join("-")]);const A=[];if(p!==w){let C=[...p];for(let k=0;k<_.length;k++){const j=_[k],I=vi(j);f.includes(I)||(C.splice(k,0,j),A.push(j))}return n==="wait"&&A.length&&(C=A),x(Dc(C)),b(p),null}const{forceRender:T}=S.useContext(ia);return u.jsx(u.Fragment,{children:_.map(C=>{const k=vi(C),j=o&&!h?!1:p===_||f.includes(k),I=()=>{if(y.current.has(k))return;if(y.current.add(k),v.has(k))v.set(k,!0);else return;let V=!0;v.forEach(L=>{L||(V=!1)}),V&&(T==null||T(),x(m.current),o&&(d==null||d()),r&&r())};return u.jsx(L1,{isPresent:j,initial:!g.current||s?void 0:!1,custom:e,presenceAffectsLayout:i,mode:n,root:c,onExitComplete:j?void 0:I,anchorX:a,anchorY:l,children:C},k)})})},qd=S.createContext({strict:!1}),Mc={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let Nc=!1;function V1(){if(Nc)return;const t={};for(const e in Mc)t[e]={isEnabled:s=>Mc[e].some(r=>!!s[r])};xd(t),Nc=!0}function Qd(){return V1(),Ew()}function z1(t){const e=Qd();for(const s in t)e[s]={...e[s],...t[s]};xd(e)}const W1=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Gi(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||W1.has(t)}let Kd=t=>!Gi(t);function G1(t){typeof t=="function"&&(Kd=e=>e.startsWith("on")?!Gi(e):t(e))}try{G1(require("@emotion/is-prop-valid").default)}catch{}function H1(t,e,s){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(Kd(i)||s===!0&&Gi(i)||!e&&!Gi(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}const on=S.createContext({});function $1(t,e){if(nn(t)){const{initial:s,animate:r}=t;return{initial:s===!1||Kr(s)?s:void 0,animate:Kr(r)?r:void 0}}return t.inherit!==!1?e:{}}function q1(t){const{initial:e,animate:s}=$1(t,S.useContext(on));return S.useMemo(()=>({initial:e,animate:s}),[Bc(e),Bc(s)])}function Bc(t){return Array.isArray(t)?t.join(" "):t}const Ma=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Yd(t,e,s){for(const r in e)!Fe(e[r])&&!Pd(r,s)&&(t[r]=e[r])}function Q1({transformTemplate:t},e){return S.useMemo(()=>{const s=Ma();return Ia(s,e,t),Object.assign({},s.vars,s.style)},[e])}function K1(t,e){const s=t.style||{},r={};return Yd(r,s,t),Object.assign(r,Q1(t,e)),r}function Y1(t,e){const s={},r=K1(t,e);return t.drag&&t.dragListener!==!1&&(s.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(s.tabIndex=0),s.style=r,s}const Jd=()=>({...Ma(),attrs:{}});function J1(t,e,s,r){const i=S.useMemo(()=>{const n=Jd();return jd(n,e,Id(r),t.transformTemplate,t.style),{...n.attrs,style:{...n.style}}},[e]);if(t.style){const n={};Yd(n,t.style,t),i.style={...n,...i.style}}return i}const X1=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Na(t){return typeof t!="string"||t.includes("-")?!1:!!(X1.indexOf(t)>-1||/[A-Z]/u.test(t))}function Z1(t,e,s,{latestValues:r},i,n=!1,o){const l=(o??Na(t)?J1:Y1)(e,r,i,t),c=H1(e,typeof t=="string",n),h=t!==S.Fragment?{...c,...l,ref:s}:{},{children:d}=e,p=S.useMemo(()=>Fe(d)?d.get():d,[d]);return S.createElement(t,{...h,children:p})}function eb({scrapeMotionValuesFromProps:t,createRenderState:e},s,r,i){return{latestValues:tb(s,r,i,t),renderState:e()}}function tb(t,e,s,r){const i={},n=r(t,{});for(const p in n)i[p]=Ti(n[p]);let{initial:o,animate:a}=t;const l=nn(t),c=_d(t);e&&c&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let h=s?s.initial===!1:!1;h=h||o===!1;const d=h?a:o;if(d&&typeof d!="boolean"&&!rn(d)){const p=Array.isArray(d)?d:[d];for(let f=0;f<p.length;f++){const g=Aa(t,p[f]);if(g){const{transitionEnd:m,transition:v,...y}=g;for(const w in y){let b=y[w];if(Array.isArray(b)){const _=h?b.length-1:0;b=b[_]}b!==null&&(i[w]=b)}for(const w in m)i[w]=m[w]}}}return i}const Xd=t=>(e,s)=>{const r=S.useContext(on),i=S.useContext(sn),n=()=>eb(t,e,r,i);return s?n():na(n)},sb=Xd({scrapeMotionValuesFromProps:Oa,createRenderState:Ma}),rb=Xd({scrapeMotionValuesFromProps:Od,createRenderState:Jd}),ib=Symbol.for("motionComponentSymbol");function nb(t,e,s){const r=S.useRef(s);S.useInsertionEffect(()=>{r.current=s});const i=S.useRef(null);return S.useCallback(n=>{var a;n&&((a=t.onMount)==null||a.call(t,n)),e&&(n?e.mount(n):e.unmount());const o=r.current;if(typeof o=="function")if(n){const l=o(n);typeof l=="function"&&(i.current=l)}else i.current?(i.current(),i.current=null):o(n);else o&&(o.current=n)},[e])}const Zd=S.createContext({});function xr(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function ob(t,e,s,r,i,n){var y,w;const{visualElement:o}=S.useContext(on),a=S.useContext(qd),l=S.useContext(sn),c=S.useContext(Da).reducedMotion,h=S.useRef(null),d=S.useRef(!1);r=r||a.renderer,!h.current&&r&&(h.current=r(t,{visualState:e,parent:o,props:s,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c,isSVG:n}),d.current&&h.current&&(h.current.manuallyAnimateOnMount=!0));const p=h.current,f=S.useContext(Zd);p&&!p.projection&&i&&(p.type==="html"||p.type==="svg")&&ab(h.current,s,i,f);const g=S.useRef(!1);S.useInsertionEffect(()=>{p&&g.current&&p.update(s,l)});const m=s[od],v=S.useRef(!!m&&!((y=window.MotionHandoffIsComplete)!=null&&y.call(window,m))&&((w=window.MotionHasOptimisedAnimation)==null?void 0:w.call(window,m)));return Sh(()=>{d.current=!0,p&&(g.current=!0,window.MotionIsMounted=!0,p.updateFeatures(),p.scheduleRenderMicrotask(),v.current&&p.animationState&&p.animationState.animateChanges())}),S.useEffect(()=>{p&&(!v.current&&p.animationState&&p.animationState.animateChanges(),v.current&&(queueMicrotask(()=>{var b;(b=window.MotionHandoffMarkAsComplete)==null||b.call(window,m)}),v.current=!1),p.enteringChildren=void 0)}),p}function ab(t,e,s,r){const{layoutId:i,layout:n,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:c,layoutCrossfade:h}=e;t.projection=new s(t.latestValues,e["data-framer-portal-id"]?void 0:ef(t.parent)),t.projection.setOptions({layoutId:i,layout:n,alwaysMeasureLayout:!!o||a&&xr(a),visualElement:t,animationType:typeof n=="string"?n:"both",initialPromotionConfig:r,crossfade:h,layoutScroll:l,layoutRoot:c})}function ef(t){if(t)return t.options.allowProjection!==!1?t.projection:ef(t.parent)}function Bn(t,{forwardMotionProps:e=!1,type:s}={},r,i){r&&z1(r);const n=s?s==="svg":Na(t),o=n?rb:sb;function a(c,h){let d;const p={...S.useContext(Da),...c,layoutId:lb(c)},{isStatic:f}=p,g=q1(c),m=o(c,f);if(!f&&xh){cb();const v=ub(p);d=v.MeasureLayout,g.visualElement=ob(t,m,p,i,v.ProjectionNode,n)}return u.jsxs(on.Provider,{value:g,children:[d&&g.visualElement?u.jsx(d,{visualElement:g.visualElement,...p}):null,Z1(t,c,nb(m,g.visualElement,h),m,f,e,n)]})}a.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const l=S.forwardRef(a);return l[ib]=t,l}function lb({layoutId:t}){const e=S.useContext(ia).id;return e&&t!==void 0?e+"-"+t:t}function cb(t,e){S.useContext(qd).strict}function ub(t){const e=Qd(),{drag:s,layout:r}=e;if(!s&&!r)return{};const i={...s,...r};return{MeasureLayout:s!=null&&s.isEnabled(t)||r!=null&&r.isEnabled(t)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}function hb(t,e){if(typeof Proxy>"u")return Bn;const s=new Map,r=(n,o)=>Bn(n,o,t,e),i=(n,o)=>r(n,o);return new Proxy(i,{get:(n,o)=>o==="create"?r:(s.has(o)||s.set(o,Bn(o,void 0,t,e)),s.get(o))})}const db=(t,e)=>e.isSVG??Na(t)?new Ww(e):new Bw(e,{allowProjection:t!==S.Fragment});class fb extends ns{constructor(e){super(e),e.animationState||(e.animationState=Qw(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();rn(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:s}=this.node.prevProps||{};e!==s&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let pb=0;class mb extends ns{constructor(){super(...arguments),this.id=pb++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:s}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);s&&!e&&i.then(()=>{s(this.id)})}mount(){const{register:e,onExitComplete:s}=this.node.presenceContext||{};s&&s(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const gb={animation:{Feature:fb},exit:{Feature:mb}};function si(t){return{point:{x:t.pageX,y:t.pageY}}}const vb=t=>e=>ka(e)&&t(e,si(e));function Rr(t,e,s,r){return Yr(t,e,vb(s),r)}const tf=({current:t})=>t?t.ownerDocument.defaultView:null,Lc=(t,e)=>Math.abs(t-e);function yb(t,e){const s=Lc(t.x,e.x),r=Lc(t.y,e.y);return Math.sqrt(s**2+r**2)}const Fc=new Set(["auto","scroll"]);class sf{constructor(e,s,{transformPagePoint:r,contextWindow:i=window,dragSnapToOrigin:n=!1,distanceThreshold:o=3,element:a}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=f=>{this.handleScroll(f.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=Fn(this.lastMoveEventInfo,this.history),g=this.startEvent!==null,m=yb(f.offset,{x:0,y:0})>=this.distanceThreshold;if(!g&&!m)return;const{point:v}=f,{timestamp:y}=Ne;this.history.push({...v,timestamp:y});const{onStart:w,onMove:b}=this.handlers;g||(w&&w(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),b&&b(this.lastMoveEvent,f)},this.handlePointerMove=(f,g)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=Ln(g,this.transformPagePoint),ce.update(this.updatePoint,!0)},this.handlePointerUp=(f,g)=>{this.end();const{onEnd:m,onSessionEnd:v,resumeAnimation:y}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&y&&y(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=Fn(f.type==="pointercancel"?this.lastMoveEventInfo:Ln(g,this.transformPagePoint),this.history);this.startEvent&&m&&m(f,w),v&&v(f,w)},!ka(e))return;this.dragSnapToOrigin=n,this.handlers=s,this.transformPagePoint=r,this.distanceThreshold=o,this.contextWindow=i||window;const l=si(e),c=Ln(l,this.transformPagePoint),{point:h}=c,{timestamp:d}=Ne;this.history=[{...h,timestamp:d}];const{onSessionStart:p}=s;p&&p(e,Fn(c,this.history)),this.removeListeners=Zr(Rr(this.contextWindow,"pointermove",this.handlePointerMove),Rr(this.contextWindow,"pointerup",this.handlePointerUp),Rr(this.contextWindow,"pointercancel",this.handlePointerUp)),a&&this.startScrollTracking(a)}startScrollTracking(e){let s=e.parentElement;for(;s;){const r=getComputedStyle(s);(Fc.has(r.overflowX)||Fc.has(r.overflowY))&&this.scrollPositions.set(s,{x:s.scrollLeft,y:s.scrollTop}),s=s.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(e){const s=this.scrollPositions.get(e);if(!s)return;const r=e===window,i=r?{x:window.scrollX,y:window.scrollY}:{x:e.scrollLeft,y:e.scrollTop},n={x:i.x-s.x,y:i.y-s.y};n.x===0&&n.y===0||(r?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=n.x,this.lastMoveEventInfo.point.y+=n.y):this.history.length>0&&(this.history[0].x-=n.x,this.history[0].y-=n.y),this.scrollPositions.set(e,i),ce.update(this.updatePoint,!0))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),ss(this.updatePoint)}}function Ln(t,e){return e?{point:e(t.point)}:t}function Uc(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Fn({point:t},e){return{point:t,delta:Uc(t,rf(e)),offset:Uc(t,wb(e)),velocity:bb(e,.1)}}function wb(t){return t[0]}function rf(t){return t[t.length-1]}function bb(t,e){if(t.length<2)return{x:0,y:0};let s=t.length-1,r=null;const i=rf(t);for(;s>=0&&(r=t[s],!(i.timestamp-r.timestamp>Lt(e)));)s--;if(!r)return{x:0,y:0};const n=gt(i.timestamp-r.timestamp);if(n===0)return{x:0,y:0};const o={x:(i.x-r.x)/n,y:(i.y-r.y)/n};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function _b(t,{min:e,max:s},r){return e!==void 0&&t<e?t=r?ge(e,t,r.min):Math.max(t,e):s!==void 0&&t>s&&(t=r?ge(s,t,r.max):Math.min(t,s)),t}function Vc(t,e,s){return{min:e!==void 0?t.min+e:void 0,max:s!==void 0?t.max+s-(t.max-t.min):void 0}}function xb(t,{top:e,left:s,bottom:r,right:i}){return{x:Vc(t.x,s,i),y:Vc(t.y,e,r)}}function zc(t,e){let s=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([s,r]=[r,s]),{min:s,max:r}}function Sb(t,e){return{x:zc(t.x,e.x),y:zc(t.y,e.y)}}function Ab(t,e){let s=.5;const r=$e(t),i=$e(e);return i>r?s=$r(e.min,e.max-r,t.min):r>i&&(s=$r(t.min,t.max-i,e.min)),jt(0,1,s)}function Tb(t,e){const s={};return e.min!==void 0&&(s.min=e.min-t.min),e.max!==void 0&&(s.max=e.max-t.min),s}const No=.35;function Eb(t=No){return t===!1?t=0:t===!0&&(t=No),{x:Wc(t,"left","right"),y:Wc(t,"top","bottom")}}function Wc(t,e,s){return{min:Gc(t,e),max:Gc(t,s)}}function Gc(t,e){return typeof t=="number"?t:t[e]||0}const Cb=new WeakMap;class kb{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ie(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:s=!1,distanceThreshold:r}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const n=d=>{s?(this.stopAnimation(),this.snapToCursor(si(d).point)):this.pauseAnimation()},o=(d,p)=>{this.stopAnimation();const{drag:f,dragPropagation:g,onDragStart:m}=this.getProps();if(f&&!g&&(this.openDragLock&&this.openDragLock(),this.openDragLock=mw(f),!this.openDragLock))return;this.latestPointerEvent=d,this.latestPanInfo=p,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),dt(y=>{let w=this.getAxisMotionValue(y).get()||0;if(kt.test(w)){const{projection:b}=this.visualElement;if(b&&b.layout){const _=b.layout.layoutBox[y];_&&(w=$e(_)*(parseFloat(w)/100))}}this.originPoint[y]=w}),m&&ce.postRender(()=>m(d,p)),Po(this.visualElement,"transform");const{animationState:v}=this.visualElement;v&&v.setActive("whileDrag",!0)},a=(d,p)=>{this.latestPointerEvent=d,this.latestPanInfo=p;const{dragPropagation:f,dragDirectionLock:g,onDirectionLock:m,onDrag:v}=this.getProps();if(!f&&!this.openDragLock)return;const{offset:y}=p;if(g&&this.currentDirection===null){this.currentDirection=Pb(y),this.currentDirection!==null&&m&&m(this.currentDirection);return}this.updateAxis("x",p.point,y),this.updateAxis("y",p.point,y),this.visualElement.render(),v&&v(d,p)},l=(d,p)=>{this.latestPointerEvent=d,this.latestPanInfo=p,this.stop(d,p),this.latestPointerEvent=null,this.latestPanInfo=null},c=()=>dt(d=>{var p;return this.getAnimationState(d)==="paused"&&((p=this.getAxisMotionValue(d).animation)==null?void 0:p.play())}),{dragSnapToOrigin:h}=this.getProps();this.panSession=new sf(e,{onSessionStart:n,onStart:o,onMove:a,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:h,distanceThreshold:r,contextWindow:tf(this.visualElement),element:this.visualElement.current})}stop(e,s){const r=e||this.latestPointerEvent,i=s||this.latestPanInfo,n=this.isDragging;if(this.cancel(),!n||!i||!r)return;const{velocity:o}=i;this.startAnimation(o);const{onDragEnd:a}=this.getProps();a&&ce.postRender(()=>a(r,i))}cancel(){this.isDragging=!1;const{projection:e,animationState:s}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.endPanSession();const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),s&&s.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(e,s,r){const{drag:i}=this.getProps();if(!r||!yi(e,i,this.currentDirection))return;const n=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=_b(o,this.constraints[e],this.elastic[e])),n.set(o)}resolveConstraints(){var n;const{dragConstraints:e,dragElastic:s}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(n=this.visualElement.projection)==null?void 0:n.layout,i=this.constraints;e&&xr(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=xb(r.layoutBox,e):this.constraints=!1,this.elastic=Eb(s),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&dt(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=Tb(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:s}=this.getProps();if(!e||!xr(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const n=Rw(r,i.root,this.visualElement.getTransformPagePoint());let o=Sb(i.layout.layoutBox,n);if(s){const a=s(kw(o));this.hasMutatedConstraints=!!a,a&&(o=Ad(a))}return o}startAnimation(e){const{drag:s,dragMomentum:r,dragElastic:i,dragTransition:n,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=dt(h=>{if(!yi(h,s,this.currentDirection))return;let d=l&&l[h]||{};o&&(d={min:0,max:0});const p=i?200:1e6,f=i?40:1e7,g={type:"inertia",velocity:r?e[h]:0,bounceStiffness:p,bounceDamping:f,timeConstant:750,restDelta:1,restSpeed:10,...n,...d};return this.startAxisValueAnimation(h,g)});return Promise.all(c).then(a)}startAxisValueAnimation(e,s){const r=this.getAxisMotionValue(e);return Po(this.visualElement,e),r.start(Sa(e,r,0,s,this.visualElement,!1))}stopAnimation(){dt(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){dt(e=>{var s;return(s=this.getAxisMotionValue(e).animation)==null?void 0:s.pause()})}getAnimationState(e){var s;return(s=this.getAxisMotionValue(e).animation)==null?void 0:s.state}getAxisMotionValue(e){const s=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[s];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){dt(s=>{const{drag:r}=this.getProps();if(!yi(s,r,this.currentDirection))return;const{projection:i}=this.visualElement,n=this.getAxisMotionValue(s);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[s],l=n.get()||0;n.set(e[s]-ge(o,a,.5)+l)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:s}=this.getProps(),{projection:r}=this.visualElement;if(!xr(s)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};dt(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();i[o]=Ab({min:l,max:l},this.constraints[o])}});const{transformTemplate:n}=this.visualElement.getProps();this.visualElement.current.style.transform=n?n({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),dt(o=>{if(!yi(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(ge(l,c,i[o]))})}addListeners(){if(!this.visualElement.current)return;Cb.set(this.visualElement,this);const e=this.visualElement.current,s=Rr(e,"pointerdown",l=>{const{drag:c,dragListener:h=!0}=this.getProps(),d=l.target,p=d!==e&&yd(d);c&&h&&!p&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();xr(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,n=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),ce.read(r);const o=Yr(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(dt(h=>{const d=this.getAxisMotionValue(h);d&&(this.originPoint[h]+=l[h].translate,d.set(d.get()+l[h].translate))}),this.visualElement.render())});return()=>{o(),s(),n(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:s=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:n=!1,dragElastic:o=No,dragMomentum:a=!0}=e;return{...e,drag:s,dragDirectionLock:r,dragPropagation:i,dragConstraints:n,dragElastic:o,dragMomentum:a}}}function yi(t,e,s){return(e===!0||e===t)&&(s===null||s===t)}function Pb(t,e=10){let s=null;return Math.abs(t.y)>e?s="y":Math.abs(t.x)>e&&(s="x"),s}class jb extends ns{constructor(e){super(e),this.removeGroupControls=vt,this.removeListeners=vt,this.controls=new kb(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||vt}update(){const{dragControls:e}=this.node.getProps(),{dragControls:s}=this.node.prevProps||{};e!==s&&(this.removeGroupControls(),e&&(this.removeGroupControls=e.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.isDragging||this.controls.endPanSession()}}const Hc=t=>(e,s)=>{t&&ce.postRender(()=>t(e,s))};class Rb extends ns{constructor(){super(...arguments),this.removePointerDownListener=vt}onPointerDown(e){this.session=new sf(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:tf(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:s,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:Hc(e),onStart:Hc(s),onMove:r,onEnd:(n,o)=>{delete this.session,i&&ce.postRender(()=>i(n,o))}}}mount(){this.removePointerDownListener=Rr(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let Un=!1;class Ib extends S.Component{componentDidMount(){const{visualElement:e,layoutGroup:s,switchLayoutGroup:r,layoutId:i}=this.props,{projection:n}=e;n&&(s.group&&s.group.add(n),r&&r.register&&i&&r.register(n),Un&&n.root.didUpdate(),n.addEventListener("animationComplete",()=>{this.safeToRemove()}),n.setOptions({...n.options,layoutDependency:this.props.layoutDependency,onExitComplete:()=>this.safeToRemove()})),Ei.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:s,visualElement:r,drag:i,isPresent:n}=this.props,{projection:o}=r;return o&&(o.isPresent=n,e.layoutDependency!==s&&o.setOptions({...o.options,layoutDependency:s}),Un=!0,i||e.layoutDependency!==s||s===void 0||e.isPresent!==n?o.willUpdate():this.safeToRemove(),e.isPresent!==n&&(n?o.promote():o.relegate()||ce.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Ca.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:s,switchLayoutGroup:r}=this.props,{projection:i}=e;Un=!0,i&&(i.scheduleCheckAfterUnmount(),s&&s.group&&s.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function nf(t){const[e,s]=$d(),r=S.useContext(ia);return u.jsx(Ib,{...t,layoutGroup:r,switchLayoutGroup:S.useContext(Zd),isPresent:e,safeToRemove:s})}const Ob={pan:{Feature:Rb},drag:{Feature:jb,ProjectionNode:Hd,MeasureLayout:nf}};function $c(t,e,s){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",s==="Start");const i="onHover"+s,n=r[i];n&&ce.postRender(()=>n(e,si(e)))}class Db extends ns{mount(){const{current:e}=this.node;e&&(this.unmount=gw(e,(s,r)=>($c(this.node,r,"Start"),i=>$c(this.node,i,"End"))))}unmount(){}}class Mb extends ns{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Zr(Yr(this.node.current,"focus",()=>this.onFocus()),Yr(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function qc(t,e,s){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",s==="Start");const i="onTap"+(s==="End"?"":s),n=r[i];n&&ce.postRender(()=>n(e,si(e)))}class Nb extends ns{mount(){const{current:e}=this.node;e&&(this.unmount=ww(e,(s,r)=>(qc(this.node,r,"Start"),(i,{success:n})=>qc(this.node,i,n?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Bo=new WeakMap,Vn=new WeakMap,Bb=t=>{const e=Bo.get(t.target);e&&e(t)},Lb=t=>{t.forEach(Bb)};function Fb({root:t,...e}){const s=t||document;Vn.has(s)||Vn.set(s,{});const r=Vn.get(s),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(Lb,{root:t,...e})),r[i]}function Ub(t,e,s){const r=Fb(e);return Bo.set(t,s),r.observe(t),()=>{Bo.delete(t),r.unobserve(t)}}const Vb={some:0,all:1};class zb extends ns{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:s,margin:r,amount:i="some",once:n}=e,o={root:s?s.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:Vb[i]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,n&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:h,onViewportLeave:d}=this.node.getProps(),p=c?h:d;p&&p(l)};return Ub(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:s}=this.node;["amount","margin","root"].some(Wb(e,s))&&this.startObserver()}unmount(){}}function Wb({viewport:t={}},{viewport:e={}}={}){return s=>t[s]!==e[s]}const Gb={inView:{Feature:zb},tap:{Feature:Nb},focus:{Feature:Mb},hover:{Feature:Db}},Hb={layout:{ProjectionNode:Hd,MeasureLayout:nf}},$b={...gb,...Gb,...Ob,...Hb},Ir=hb($b,db);function qb(){!Pa.current&&bd();const[t]=S.useState(Ui.current);return t}const Qb={some:0,all:1};function Kb(t,e,{root:s,margin:r,amount:i="some"}={}){const n=fd(t),o=new WeakMap,a=c=>{c.forEach(h=>{const d=o.get(h.target);if(h.isIntersecting!==!!d)if(h.isIntersecting){const p=e(h.target,h);typeof p=="function"?o.set(h.target,p):l.unobserve(h.target)}else typeof d=="function"&&(d(h),o.delete(h.target))})},l=new IntersectionObserver(a,{root:s,rootMargin:r,threshold:typeof i=="number"?i:Qb[i]});return n.forEach(c=>l.observe(c)),()=>l.disconnect()}function Yb(t,{root:e,margin:s,amount:r,once:i=!1,initial:n=!1}={}){const[o,a]=S.useState(n);return S.useEffect(()=>{if(!t.current||i&&o)return;const l=()=>(a(!0),i?void 0:()=>a(!1)),c={root:e&&e.current||void 0,margin:s,amount:r};return Kb(t.current,l,c)},[e,t,s,i,r]),o}function zn(...t){return t.filter(Boolean).join(" ")}function wi(t,e){return e<=0?0:(t%e+e)%e}function Jb(t,e,s,r){const i=t-e;if(!r||s<=1)return i;const n=i>0?i-s:i+s;return Math.abs(n)<Math.abs(i)?n:i}function Xb({item:t,active:e}){return u.jsxs("div",{className:"cardstack-card-inner",children:[u.jsx("div",{className:"cardstack-card-image",children:t.imageSrc?u.jsx("img",{src:t.imageSrc,alt:t.title,draggable:!1,loading:"eager"}):u.jsx("div",{className:"cardstack-card-placeholder",children:"No image"})}),u.jsx("div",{className:"cardstack-card-gradient"}),u.jsxs("div",{className:"cardstack-card-content",children:[u.jsx("div",{className:"cardstack-card-title",children:t.title}),t.description&&u.jsx("div",{className:"cardstack-card-description",children:t.description})]})]})}function Zb({items:t,initialIndex:e=0,maxVisible:s=7,cardWidth:r=520,cardHeight:i=320,overlap:n=.48,spreadDeg:o=48,perspectivePx:a=1100,depthPx:l=140,tiltXDeg:c=12,activeLiftPx:h=22,activeScale:d=1.03,inactiveScale:p=.94,springStiffness:f=280,springDamping:g=28,loop:m=!0,autoAdvance:v=!1,intervalMs:y=2800,pauseOnHover:w=!0,showDots:b=!0,className:_,onChangeIndex:x,renderCard:A}){const T=qb(),C=t.length,[k,j]=S.useState(()=>wi(e,C)),[I,V]=S.useState(!1);S.useEffect(()=>{j(N=>wi(N,C))},[C]),S.useEffect(()=>{C&&(x==null||x(k,t[k]))},[k,t,C,x]);const L=Math.max(0,Math.floor(s/2)),Y=Math.max(10,Math.round(r*(1-n))),Q=L>0?o/L:0,J=m||k>0,z=m||k<C-1,E=S.useCallback(()=>{!C||!J||j(N=>wi(N-1,C))},[J,C]),O=S.useCallback(()=>{!C||!z||j(N=>wi(N+1,C))},[z,C]),Z=N=>{N.key==="ArrowLeft"&&E(),N.key==="ArrowRight"&&O()};if(S.useEffect(()=>{if(!v||T||!C||w&&I)return;const N=window.setInterval(()=>{(m||k<C-1)&&O()},Math.max(700,y));return()=>window.clearInterval(N)},[v,y,I,w,T,C,m,k,O]),!C)return null;const W=t[k];return u.jsxs("div",{className:zn("cardstack-container",_),onMouseEnter:()=>V(!0),onMouseLeave:()=>V(!1),children:[u.jsxs("div",{className:"cardstack-stage",style:{height:Math.max(380,i+80)},tabIndex:0,onKeyDown:Z,children:[u.jsx("div",{className:"cardstack-bg-wash","aria-hidden":"true"}),u.jsx("div",{className:"cardstack-bg-spotlight","aria-hidden":"true"}),u.jsx("div",{className:"cardstack-perspective-wrapper",style:{perspective:`${a}px`},children:u.jsx(U1,{initial:!1,children:t.map((N,le)=>{const F=Jb(le,k,C,m),ie=Math.abs(F);if(!(ie<=L))return null;const tt=F*Q,Pe=F*Y,qe=ie*10,Ve=-ie*l,ve=F===0,Qe=ve?d:p,os=ve?-h:0,Ot=ve?0:c,D=100-ie,K=ve?{drag:"x",dragConstraints:{left:0,right:0},dragElastic:.18,onDragEnd:(ee,se)=>{if(T)return;const Se=se.offset.x,ye=se.velocity.x,Ae=Math.min(160,r*.22);Se>Ae||ye>650?E():(Se<-Ae||ye<-650)&&O()}}:{};return u.jsx(Ir.div,{className:zn("cardstack-card",ve?"cardstack-card-active":"cardstack-card-inactive"),style:{width:r,height:i,zIndex:D,transformStyle:"preserve-3d"},initial:T?!1:{opacity:0,y:qe+40,x:Pe,rotateZ:tt,rotateX:Ot,scale:Qe},animate:{opacity:1,x:Pe,y:qe+os,rotateZ:tt,rotateX:Ot,scale:Qe},transition:{type:"spring",stiffness:f,damping:g},onClick:()=>j(le),...K,children:u.jsx("div",{className:"cardstack-card-3d",style:{transform:`translateZ(${Ve}px)`,transformStyle:"preserve-3d"},children:A?A(N,{active:ve}):u.jsx(Xb,{item:N,active:ve})})},N.id)})})})]}),b&&u.jsxs("div",{className:"cardstack-dots-container",children:[u.jsx("div",{className:"cardstack-dots",children:t.map((N,le)=>{const F=le===k;return u.jsx("button",{onClick:()=>j(le),className:zn("cardstack-dot",F&&"cardstack-dot-active"),"aria-label":`Go to ${N.title}`},N.id)})}),W.href&&u.jsx("a",{href:W.href,target:"_blank",rel:"noreferrer",className:"cardstack-link-icon","aria-label":"Open link",children:u.jsx("svg",{className:"cardstack-icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})})]})]})}function e_({achievements:t=[{label:"Companies Supported",value:"300+"},{label:"Projects Finalized",value:"800+"},{label:"Happy Customers",value:"99%"},{label:"Recognized Awards",value:"10+"}]}){return u.jsxs("div",{className:"ruixen-about-container",children:[u.jsx("section",{className:"ruixen-hero-section",children:u.jsxs("div",{className:"ruixen-hero-content",children:[u.jsx("img",{className:"ruixen-hero-image",src:"https://pub-940ccf6255b54fa799a9b01050e6c227.r2.dev/ruixen_hero_gradient.jpg",alt:"Hero section",width:1200,height:600}),u.jsxs("div",{className:"ruixen-hero-grid",children:[u.jsxs("h1",{className:"ruixen-hero-title",children:["The Marapone ",u.jsx("span",{className:"ruixen-hero-accent",children:"ecosystem"})," ",u.jsx("span",{className:"ruixen-hero-subtitle-inline",children:"brings together AI solutions, consulting, and global logistics."})]}),u.jsxs("div",{className:"ruixen-hero-description",children:[u.jsx("p",{children:"Marapone is evolving to be more than just services. We support an entire ecosystem â€” from AI-powered automation to international trade platforms helping businesses innovate and grow globally."}),u.jsxs(Tt,{to:"/services",className:"ruixen-hero-button",children:[u.jsx("span",{children:"Learn More"}),u.jsx("svg",{className:"ruixen-chevron",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})]})]})}),u.jsx("section",{className:"ruixen-about-section",children:u.jsxs("div",{className:"ruixen-about-content",children:[u.jsxs("div",{className:"ruixen-about-header",children:[u.jsx("h1",{className:"ruixen-about-title",children:"About Us"}),u.jsx("p",{className:"ruixen-about-intro",children:"Marapone is a passionate team dedicated to creating innovative solutions that empower businesses to thrive in the digital age through AI, consulting, and global logistics."})]}),u.jsxs("div",{className:"ruixen-cards-layout",children:[u.jsx("div",{className:"ruixen-card-left",children:u.jsx("img",{src:"https://pub-940ccf6255b54fa799a9b01050e6c227.r2.dev/ruixen_chat_gradient.png",alt:"AI Solutions",className:"ruixen-card-left-image",width:800,height:550})}),u.jsxs("div",{className:"ruixen-cards-right",children:[u.jsxs(Ir.div,{whileHover:{scale:1.03},transition:{type:"spring",stiffness:250,damping:20},className:"ruixen-card-dark",children:[u.jsxs(Ir.div,{whileHover:{scale:1.05},transition:{duration:.4},className:"ruixen-card-image-wrapper",children:[u.jsx("img",{src:"https://pub-940ccf6255b54fa799a9b01050e6c227.r2.dev/ruixen_moon.png",alt:"Innovation",className:"ruixen-card-image",width:600,height:400}),u.jsx("div",{className:"ruixen-card-gradient-overlay"})]}),u.jsxs("div",{className:"ruixen-card-body",children:[u.jsx("h3",{className:"ruixen-card-heading",children:"Accelerate Growth"}),u.jsx("p",{className:"ruixen-card-text",children:"Our solutions drive innovation, efficiency, and measurable impact for businesses across multiple continents."}),u.jsx(Tt,{to:"/services",className:"ruixen-card-button",children:"Learn More"})]})]}),u.jsxs(Ir.div,{whileHover:{scale:1.03},transition:{type:"spring",stiffness:250,damping:20},className:"ruixen-card-muted",children:[u.jsx("img",{src:"https://pub-940ccf6255b54fa799a9b01050e6c227.r2.dev/ruixen_hero_gradient.jpg",alt:"Future Ready",className:"ruixen-card-muted-image",width:600,height:400}),u.jsxs("div",{className:"ruixen-card-muted-overlay",children:[u.jsx("h3",{className:"ruixen-card-heading",children:"Future-Ready Design"}),u.jsx("p",{className:"ruixen-card-text-light",children:"Intuitive, scalable solutions for modern businesses combining aesthetics, functionality, and real-world results."})]})]})]})]})]})})]})}function t_(){const t=typeof window<"u"&&(/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)||window.innerWidth<=768),e=It(t);return u.jsxs("div",{className:"page-container",children:[u.jsx(Rt,{colors:["#5227FF","#FF9FFC","#B19EEF"],mouseForce:t?18:24,cursorSize:t?80:100,isViscous:!0,viscous:30,iterationsViscous:e.iterationsViscous,iterationsPoisson:e.iterationsPoisson,resolution:e.resolution,isBounce:!1,autoDemo:!0,autoSpeed:e.autoSpeed,autoIntensity:2.2,takeoverDuration:.25,autoResumeDelay:3e3,autoRampDuration:.6}),u.jsxs("div",{className:"page-content",children:[u.jsx("h1",{className:"page-title",children:"About Marapone"}),u.jsx("p",{className:"page-subtitle",children:"Excellence in AI Solutions, Consulting, and Global Logistics"}),u.jsx("div",{className:"card-swap-wrapper",children:u.jsx(Zb,{items:[{id:1,title:"ðŸš€ Who We Are",description:"We're your strategic partner for AI-powered solutions, international trade, and business growth. Operating across multiple continents, we blend cutting-edge tech with real-world expertise.",imageSrc:"https://images.unsplash.com/photo-1451187580459-43490279c0fa?w=800&h=600&fit=crop"},{id:2,title:"âœ¨ Why Work With Us",description:"Global reach with multi-continent operations. Innovation-first approach with cutting-edge tech. Partnership-focused for long-term success. Results-driven with measurable outcomes.",imageSrc:"https://images.unsplash.com/photo-1522071820081-009f0129c71c?w=800&h=600&fit=crop"},{id:3,title:"ðŸ¤ Trusted Partners",description:"We team up with the best in the business: Claude AI, Searates, Freightos, and Airrates to bring you world-class solutions.",imageSrc:"https://images.unsplash.com/photo-1556761175-b413da4baf72?w=800&h=600&fit=crop",href:"https://claude.ai"},{id:4,title:"ðŸŽ¯ What We Offer",description:"AI that actually works. Strategic consulting beyond PowerPoints. Global trade made easy. Marketing that converts. Everything integrates seamlessly.",imageSrc:"https://images.unsplash.com/photo-1460925895917-afdab827c52f?w=800&h=600&fit=crop"}],cardWidth:t?350:520,cardHeight:t?400:320,maxVisible:7,overlap:.48,spreadDeg:48,autoAdvance:!0,intervalMs:4e3,pauseOnHover:!0,loop:!0})}),u.jsx(e_,{})]})]})}const ft=({children:t,className:e="",spotlightColor:s="rgba(255, 255, 255, 0.25)"})=>{const r=S.useRef(null),i=n=>{const o=r.current.getBoundingClientRect(),a=n.clientX-o.left,l=n.clientY-o.top;r.current.style.setProperty("--mouse-x",`${a}px`),r.current.style.setProperty("--mouse-y",`${l}px`),r.current.style.setProperty("--spotlight-color",s)};return u.jsx("div",{ref:r,onMouseMove:i,className:`card-spotlight ${e}`,children:t})},s_=({children:t,delay:e=0,index:s,onMouseEnter:r,onClick:i})=>{const n=S.useRef(null),o=Yb(n,{amount:.5});return u.jsx(Ir.div,{ref:n,"data-index":s,onMouseEnter:r,onClick:i,initial:{scale:.7,opacity:0},animate:o?{scale:1,opacity:1}:{scale:.7,opacity:0},transition:{duration:.2,delay:e},style:{marginBottom:"1rem",cursor:"pointer"},children:t})},r_=({items:t=["Item 1","Item 2","Item 3","Item 4","Item 5","Item 6","Item 7","Item 8","Item 9","Item 10","Item 11","Item 12","Item 13","Item 14","Item 15"],onItemSelect:e,onAddToCart:s,showGradients:r=!0,enableArrowNavigation:i=!0,className:n="",itemClassName:o="",displayScrollbar:a=!0,initialSelectedIndex:l=-1})=>{const c=S.useRef(null),[h,d]=S.useState(l),[p,f]=S.useState(!1),[g,m]=S.useState(0),[v,y]=S.useState(1),w=S.useCallback(A=>{d(A)},[]),b=S.useCallback((A,T)=>{d(T),e&&e(A,T)},[e]),_=S.useCallback((A,T)=>{A.stopPropagation(),s&&s(T)},[s]),x=S.useCallback(A=>{const{scrollTop:T,scrollHeight:C,clientHeight:k}=A.target;m(Math.min(T/50,1));const j=C-(T+k);y(C<=k?0:Math.min(j/50,1))},[]);return S.useEffect(()=>{if(!i)return;const A=T=>{T.key==="ArrowDown"||T.key==="Tab"&&!T.shiftKey?(T.preventDefault(),f(!0),d(C=>Math.min(C+1,t.length-1))):T.key==="ArrowUp"||T.key==="Tab"&&T.shiftKey?(T.preventDefault(),f(!0),d(C=>Math.max(C-1,0))):T.key==="Enter"&&h>=0&&h<t.length&&(T.preventDefault(),e&&e(t[h],h))};return window.addEventListener("keydown",A),()=>window.removeEventListener("keydown",A)},[t,h,e,i]),S.useEffect(()=>{if(!p||h<0||!c.current)return;const A=c.current,T=A.querySelector(`[data-index="${h}"]`);if(T){const k=A.scrollTop,j=A.clientHeight,I=T.offsetTop,V=I+T.offsetHeight;I<k+50?A.scrollTo({top:I-50,behavior:"smooth"}):V>k+j-50&&A.scrollTo({top:V-j+50,behavior:"smooth"})}f(!1)},[h,p]),u.jsxs("div",{className:`scroll-list-container ${n}`,children:[u.jsx("div",{ref:c,className:`scroll-list ${a?"":"no-scrollbar"}`,onScroll:x,children:t.map((A,T)=>u.jsx(s_,{delay:.1,index:T,onMouseEnter:()=>w(T),onClick:()=>b(A,T),children:u.jsx("div",{className:`item ${h===T?"selected":""} ${o}`,children:u.jsxs("div",{className:"item-content",children:[u.jsxs("div",{className:"item-info",children:[u.jsx("p",{className:"item-text",children:typeof A=="string"?A:A.name}),typeof A=="object"&&A.price&&u.jsxs("p",{className:"item-price",children:["$",A.price.toLocaleString()]})]}),s&&typeof A=="object"&&u.jsx("button",{className:"add-to-cart-btn",onClick:C=>_(C,A),"aria-label":`Add ${A.name} to cart`,children:u.jsx("span",{className:"add-to-cart-icon","aria-hidden":"true",children:"ðŸ›’"})})]})})},T))}),r&&u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"top-gradient",style:{opacity:g}}),u.jsx("div",{className:"bottom-gradient",style:{opacity:v}})]})]})};function i_({onDateSelect:t,selectedDate:e}){const[s,r]=S.useState(new Date),i=["January","February","March","April","May","June","July","August","September","October","November","December"],n=w=>new Date(w.getFullYear(),w.getMonth()+1,0).getDate(),o=w=>new Date(w.getFullYear(),w.getMonth(),1).getDay(),a=w=>{const b=w.getDay();return b!==0&&b!==6},l=w=>{const b=new Date;b.setHours(0,0,0,0);const _=new Date(w);return _.setHours(0,0,0,0),_<b},c=(w,b)=>!w||!b?!1:w.getDate()===b.getDate()&&w.getMonth()===b.getMonth()&&w.getFullYear()===b.getFullYear(),h=()=>JSON.parse(localStorage.getItem("bookedSlots")||"[]"),d=w=>{if(!w||!a(w)||l(w))return 0;const b=w.toISOString().split("T")[0],_=h(),x=16,A=_.filter(C=>C.date===b);let T=0;return A.forEach(C=>{T+=C.duration/30}),x-T},p=w=>d(w)===0,f=S.useMemo(()=>{const w=[],b=n(s),_=o(s),x=s.getFullYear(),A=s.getMonth();for(let T=0;T<_;T++)w.push({day:null,date:null});for(let T=1;T<=b;T++){const C=new Date(x,A,T);w.push({day:T,date:C})}return w},[s]),g=()=>{r(new Date(s.getFullYear(),s.getMonth()-1))},m=()=>{r(new Date(s.getFullYear(),s.getMonth()+1))},v=w=>{w&&a(w)&&!l(w)&&!p(w)&&t(w)},y=()=>{const w=new Date,b=new Date(s.getFullYear(),s.getMonth(),1),_=new Date(w.getFullYear(),w.getMonth(),1);return b>_};return u.jsxs("div",{className:"calendar-container",children:[u.jsxs("div",{className:"calendar-header",children:[u.jsx("button",{className:"calendar-nav-btn",onClick:g,disabled:!y(),children:"â†"}),u.jsxs("h3",{className:"calendar-month",children:[i[s.getMonth()]," ",s.getFullYear()]}),u.jsx("button",{className:"calendar-nav-btn",onClick:m,children:"â†’"})]}),u.jsxs("div",{className:"calendar-weekdays",children:[u.jsx("div",{className:"calendar-weekday",children:"S"}),u.jsx("div",{className:"calendar-weekday",children:"M"}),u.jsx("div",{className:"calendar-weekday",children:"T"}),u.jsx("div",{className:"calendar-weekday",children:"W"}),u.jsx("div",{className:"calendar-weekday",children:"T"}),u.jsx("div",{className:"calendar-weekday",children:"F"}),u.jsx("div",{className:"calendar-weekday",children:"S"})]}),u.jsx("div",{className:"calendar-days",children:f.map((w,b)=>{if(!w.day)return u.jsx("div",{className:"calendar-day empty"},`empty-${b}`);const _=a(w.date),x=l(w.date),A=c(w.date,e),T=p(w.date),C=_&&!x&&!T;return u.jsx("div",{className:`calendar-day ${C?"available":"unavailable"} ${A?"selected":""}`,onClick:()=>v(w.date),children:w.day},b)})}),u.jsxs("div",{className:"calendar-legend",children:[u.jsxs("div",{className:"legend-item",children:[u.jsx("span",{className:"legend-dot available-dot"}),u.jsx("span",{children:"Available"})]}),u.jsxs("div",{className:"legend-item",children:[u.jsx("span",{className:"legend-dot unavailable-dot"}),u.jsx("span",{children:"Unavailable"})]})]})]})}function n_({selectedDate:t,onTimeSelect:e,selectedTime:s}){const r=()=>JSON.parse(localStorage.getItem("bookedSlots")||"[]"),i=(l,c,h)=>{const d=r(),p=l.toISOString().split("T")[0],[f,g]=c.split(":").map(Number),m=f*60+g;return d.some(v=>{if(v.date!==p)return!1;const[y,w]=v.time24.split(":").map(Number),b=y*60+w,_=b+v.duration;return m>=b&&m<_})},n=()=>{const l=[];for(let f=8;f<=16;f++){const g=f===8?[30]:f===16?[0,30]:[0,30];for(const m of g){if(f===16&&m>30)break;const v=`${f.toString().padStart(2,"0")}:${m.toString().padStart(2,"0")}`,y=f>=12,b=`${f>12?f-12:f===0?12:f}:${m.toString().padStart(2,"0")} ${y?"PM":"AM"}`;l.push({time24:v,time12:b})}}return l},o=S.useMemo(()=>{const l=n();return t?l.filter(c=>!i(t,c.time24)):l},[t]);if(!t)return u.jsx("div",{className:"timeslot-container",children:u.jsx("p",{className:"timeslot-message",children:"Please select a date first"})});const a=l=>{const c={weekday:"long",year:"numeric",month:"long",day:"numeric"};return l.toLocaleDateString("en-US",c)};return u.jsxs("div",{className:"timeslot-container",children:[u.jsxs("h3",{className:"timeslot-title",children:["Select a Time for ",a(t)]}),u.jsx("div",{className:"timeslot-grid",children:o.length>0?o.map(l=>u.jsx("button",{className:`timeslot-btn ${s===l.time24?"selected":""}`,onClick:()=>e(l.time24,l.time12),children:l.time12},l.time24)):u.jsx("p",{className:"timeslot-message",children:"No available time slots for this date"})}),u.jsxs("div",{className:"timeslot-info",children:[u.jsx("p",{children:"ðŸ“… Available Monday - Friday"}),u.jsx("p",{children:"â° 30-minute time blocks"}),o.length>0&&u.jsxs("p",{children:["âœ… ",o.length," slots available"]})]})]})}function o_({onClose:t,onAddToCart:e}){var v;const[s,r]=S.useState(null),[i,n]=S.useState(null),[o,a]=S.useState(null),[l,c]=S.useState(null),h=[{value:30,label:"30 Minutes",price:150},{value:60,label:"1 Hour",price:250}],d=y=>{r(y),n(null),a(null),c(null)},p=(y,w)=>{n(y),a(w),c(null)},f=y=>{c(y)},g=()=>{if(!s||!i||!l)return;const y=h.find(_=>_.value===l),w=_=>{const x={weekday:"long",year:"numeric",month:"long",day:"numeric"};return _.toLocaleDateString("en-US",x)},b={name:`Consultation Meeting - ${y.label}`,price:y.price,quantity:1,category:"Consultation",details:{date:w(s),time:o,duration:`${l} minutes`}};e(b),t()},m=s&&i&&l;return u.jsx("div",{className:"schedule-meeting-overlay",onClick:t,children:u.jsxs("div",{className:"schedule-meeting-modal",onClick:y=>y.stopPropagation(),children:[u.jsxs("div",{className:"schedule-meeting-header",children:[u.jsx("h2",{children:"Schedule a Meeting"}),u.jsx("button",{className:"close-btn",onClick:t,children:"Ã—"})]}),u.jsxs("div",{className:"schedule-meeting-content",children:[u.jsxs("div",{className:"schedule-step",children:[u.jsxs("div",{className:"step-label",children:[u.jsx("span",{className:"step-number",children:"1"}),u.jsx("span",{children:"Select Date"})]}),u.jsx(i_,{onDateSelect:d,selectedDate:s})]}),s&&u.jsxs("div",{className:"schedule-step",children:[u.jsxs("div",{className:"step-label",children:[u.jsx("span",{className:"step-number",children:"2"}),u.jsx("span",{children:"Select Time"})]}),u.jsx(n_,{selectedDate:s,onTimeSelect:p,selectedTime:i})]}),i&&u.jsxs("div",{className:"schedule-step",children:[u.jsxs("div",{className:"step-label",children:[u.jsx("span",{className:"step-number",children:"3"}),u.jsx("span",{children:"Select Duration"})]}),u.jsx("div",{className:"duration-options",children:h.map(y=>u.jsxs("button",{className:`duration-btn ${l===y.value?"selected":""}`,onClick:()=>f(y.value),children:[u.jsx("div",{className:"duration-label",children:y.label}),u.jsxs("div",{className:"duration-price",children:["$",y.price]})]},y.value))})]}),m&&u.jsxs("div",{className:"schedule-summary",children:[u.jsx("h3",{children:"Booking Summary"}),u.jsxs("div",{className:"summary-details",children:[u.jsxs("div",{className:"summary-row",children:[u.jsx("span",{children:"ðŸ“… Date:"}),u.jsx("span",{children:s.toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric",year:"numeric"})})]}),u.jsxs("div",{className:"summary-row",children:[u.jsx("span",{children:"â° Time:"}),u.jsx("span",{children:o})]}),u.jsxs("div",{className:"summary-row",children:[u.jsx("span",{children:"â±ï¸ Duration:"}),u.jsxs("span",{children:[l," minutes"]})]}),u.jsxs("div",{className:"summary-row total",children:[u.jsx("span",{children:"ðŸ’° Total:"}),u.jsxs("span",{children:["$",(v=h.find(y=>y.value===l))==null?void 0:v.price]})]})]}),u.jsx("button",{className:"add-to-cart-btn",onClick:g,children:"Add to Cart"})]})]})]})})}function of({message:t,onClose:e,duration:s=3e3}){return S.useEffect(()=>{const r=setTimeout(()=>{e()},s);return()=>clearTimeout(r)},[s,e]),u.jsx("div",{className:"toast-notification",children:u.jsxs("div",{className:"toast-content",children:[u.jsx("span",{className:"toast-icon",children:"âœ“"}),u.jsx("span",{className:"toast-message",children:t})]})})}function a_(){const t=typeof window<"u"&&(/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)||window.innerWidth<=768),e=It(t),[s,r]=S.useState(null),[i,n]=S.useState(null),[o,a]=S.useState(!1),l={"AI Solutions":[{name:"Machine Learning Model Development",price:12500},{name:"Natural Language Processing (NLP)",price:1e4},{name:"Computer Vision Systems",price:15e3},{name:"Predictive Analysis",price:8500},{name:"AI Strategy Consulting",price:7500},{name:"Custom AI Integration",price:11e3},{name:"Automated Decision Systems",price:13500},{name:"Deep Learning Solutions",price:16500},{name:"AI Performance Optimization",price:8e3},{name:"Ongoing AI Support and Training",price:6500}],Consulting:[{name:"Business Strategy Development",price:7500},{name:"Operational Efficiency Analysis",price:6e3},{name:"Market Research & Insights",price:5500},{name:"Process Optimization",price:6500},{name:"Change Management",price:8e3},{name:"Risk Assessment and Mitigation",price:7e3},{name:"Financial Planning and Analysis",price:8500},{name:"Technology Consulting",price:9e3},{name:"Executive Coaching",price:10500},{name:"Long Term Strategic Planning",price:9500}],"Import/Export & Logistics":[{name:"International Shipping Coordination",price:4500},{name:"Customs Clearance Services",price:2800},{name:"Supply Chain Optimization",price:7500},{name:"Freight Forwarding",price:3800},{name:"Warehouse Management",price:5200},{name:"Documentation and Compliance",price:2500},{name:"Route Planning and Optimization",price:4200},{name:"Inventory Management",price:4800},{name:"Last Mile Delivery Solutions",price:3500},{name:"Logistics Analysis and Reporting",price:5800}],"Marketing Solutions":[{name:"Digital Marketing Strategy",price:6500},{name:"Social Media Management",price:3800},{name:"Content Creation and Marketing",price:4800},{name:"SEO and SEM Optimization",price:5200},{name:"Brand Development",price:8500},{name:"Email Marketing Campaigns",price:2900},{name:"Performance Analytics",price:4200},{name:"Influencer Partnerships",price:7e3},{name:"Conversion Rate Optimization",price:5800},{name:"Marketing Automation",price:6200}]},c=f=>{r(f)},h=f=>{f.target.classList.contains("products-detail-overlay")&&r(null)},d=f=>{const g=JSON.parse(localStorage.getItem("cartItems")||"[]"),m=g.findIndex(v=>v.name===f.name);m!==-1?g[m].quantity+=1:g.push({name:f.name,price:f.price,quantity:1,category:s}),localStorage.setItem("cartItems",JSON.stringify(g)),window.dispatchEvent(new Event("cartUpdated")),n(`"${f.name}" added to cart`)},p=f=>{const g=JSON.parse(localStorage.getItem("cartItems")||"[]");g.push(f),localStorage.setItem("cartItems",JSON.stringify(g)),window.dispatchEvent(new Event("cartUpdated")),n(`"${f.name}" added to cart`)};return u.jsxs("div",{className:"page-container",children:[u.jsx(Rt,{colors:["#5227FF","#FF9FFC","#B19EEF"],mouseForce:t?18:24,cursorSize:t?80:100,isViscous:!0,viscous:30,iterationsViscous:e.iterationsViscous,iterationsPoisson:e.iterationsPoisson,resolution:e.resolution,isBounce:!1,autoDemo:!0,autoSpeed:e.autoSpeed,autoIntensity:2.2,takeoverDuration:.25,autoResumeDelay:3e3,autoRampDuration:.6}),u.jsxs("div",{className:"page-content products-content",children:[u.jsx("h1",{className:"page-title",children:"Our Solutions"}),s?u.jsx("div",{className:"products-detail-overlay",onClick:h,children:u.jsxs("div",{className:"products-detail-content",onClick:f=>f.stopPropagation(),children:[u.jsx("button",{className:"back-button",onClick:()=>r(null),children:"â† Back to Products"}),u.jsx("h2",{className:"detail-title",children:s}),u.jsx(r_,{items:l[s],showGradients:!0,enableArrowNavigation:!0,displayScrollbar:!1,onItemSelect:(f,g)=>console.log(`Selected: ${f.name}`),onAddToCart:d})]})}):u.jsxs("div",{className:"products-grid",children:[u.jsx("div",{onClick:()=>c("AI Solutions"),children:u.jsxs(ft,{spotlightColor:"rgba(82, 39, 255, 0.3)",children:[u.jsx("span",{className:"spotlight-card-icon",children:"ðŸ¤–"}),u.jsx("h2",{children:"AI Solutions"}),u.jsx("p",{children:"Harness the power of artificial intelligence to transform your business operations. We deliver cutting-edge AI implementations including machine learning models, natural language processing, computer vision, and intelligent automation systems tailored to your unique challenges and opportunities."})]})}),u.jsx("div",{onClick:()=>c("Consulting"),children:u.jsxs(ft,{spotlightColor:"rgba(255, 159, 252, 0.3)",children:[u.jsx("span",{className:"spotlight-card-icon",children:"ðŸ’¡"}),u.jsx("h2",{children:"Consulting"}),u.jsx("p",{children:"Strategic guidance from industry experts to navigate complex business challenges. Our consulting services provide actionable insights, comprehensive analysis, and proven strategies to optimize operations, drive growth, and achieve sustainable competitive advantages in your market."})]})}),u.jsx("div",{onClick:()=>c("Import/Export & Logistics"),children:u.jsxs(ft,{spotlightColor:"rgba(177, 158, 239, 0.3)",children:[u.jsx("span",{className:"spotlight-card-icon",children:"ðŸŒ"}),u.jsx("h2",{children:"Import/Export & Logistics"}),u.jsx("p",{children:"Seamless global trade solutions with end-to-end logistics management. We handle international shipping, customs clearance, supply chain optimization, and freight forwarding to ensure your goods move efficiently across borders with full compliance and minimal risk."})]})}),u.jsx("div",{onClick:()=>c("Marketing Solutions"),children:u.jsxs(ft,{spotlightColor:"rgba(82, 39, 255, 0.3)",children:[u.jsx("span",{className:"spotlight-card-icon",children:"ðŸ“ˆ"}),u.jsx("h2",{children:"Marketing Solutions"}),u.jsx("p",{children:"Data-driven marketing strategies that amplify your brand and drive measurable results. From digital campaigns and content creation to SEO, social media management, and performance analytics, we build comprehensive marketing ecosystems that connect you with your target audience."})]})}),u.jsx("div",{className:"schedule-meeting-card-wrapper",onClick:()=>a(!0),children:u.jsx(ft,{spotlightColor:"rgba(82, 39, 255, 0.3)",children:u.jsxs("div",{className:"schedule-meeting-card-content",children:[u.jsx("span",{className:"spotlight-card-icon schedule-icon",children:"ðŸ“…"}),u.jsxs("div",{className:"schedule-text",children:[u.jsx("h2",{children:"Schedule a Meeting"}),u.jsx("p",{children:"Book a one-on-one consultation with our experts. Choose between 30-minute or 1-hour sessions at your convenience. Available Monday to Friday, 8:30 AM - 4:30 PM."})]})]})})})]})]}),o&&u.jsx(o_,{onClose:()=>a(!1),onAddToCart:p}),i&&u.jsx(of,{message:i,onClose:()=>n(null),duration:3e3})]})}function l_(){const t=typeof window<"u"&&(/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)||window.innerWidth<=768),e=It(t),[s,r]=S.useState(null),[i,n]=S.useState(null),o={"AI Solutions":{bronze:{name:"AI Starter",priceMonthly:50,priceOneTime:500,pricingLabel:"$50/month or $500 one-time (1 year)",description:"Perfect for businesses beginning their AI journey",hasTrial:!0,features:["Basic ML model implementation","Data preprocessing & cleaning","Model training & testing","Performance metrics dashboard","2 months support","Documentation & training materials","Up to 3 iterations","Basic integration assistance"]},silver:{name:"AI Professional",priceMonthly:125,priceOneTime:1350,pricingLabel:"$125/month or $1,350 one-time (1 year)",description:"Comprehensive AI solutions for growing enterprises",features:["Advanced ML/DL implementation","Custom NLP or Computer Vision","API integration & deployment","Real-time monitoring system","6 months premium support","Ongoing optimization","Unlimited iterations","Full technical documentation","Team training sessions","Cloud deployment setup"]},gold:{name:"AI Enterprise",priceMonthly:299,priceOneTime:2990,pricingLabel:"$299/month or $2,990 one-time (1 year)",description:"End-to-end AI transformation for industry leaders",features:["Everything in AI Professional","Multi-model ensemble & orchestration (combining ML/DL/NLP/CV/LLMs/agents)","Enterprise-grade security, compliance & governance (GDPR, HIPAA, SOC 2 support, audit trails, data sovereignty options)","Scalable production infrastructure (auto-scaling, high-availability setup, multi-region/cloud hybrid deployment)","Advanced MLOps pipeline (CI/CD for models, automated retraining, drift detection, A/B testing frameworks)","Custom AI agents or autonomous workflows","Priority dedicated account manager & senior AI architect access","12 months premium support with SLA (e.g., <4-hour response for critical issues)","Quarterly business reviews, ROI/performance audits & strategic AI roadmap consulting","Unlimited iterations + proactive feature development","White-label options & co-branded deliverables (if applicable)","Integration with enterprise systems (ERP, CRM, legacy databases, real-time data streams)"]}},Consulting:{bronze:{name:"Strategy Essentials",priceMonthly:null,priceOneTime:null,pricingLabel:"Contact for pricing",description:"Foundational consulting for immediate needs",features:["Initial business assessment","Strategy roadmap development","Market analysis report","Competitive landscape review","4 consulting sessions","Implementation guidelines","30 days email support","Final recommendations report"]},silver:{name:"Growth Accelerator",priceMonthly:null,priceOneTime:null,pricingLabel:"Contact for pricing",description:"Comprehensive consulting for sustainable growth",features:["In-depth strategic analysis","Custom growth strategy","Operational optimization plan","Change management framework","12 consulting sessions","Quarterly business reviews","3 months support","Executive presentations","Risk mitigation strategies","Performance tracking system"]},gold:{name:"Enterprise Transformation",priceMonthly:null,priceOneTime:null,pricingLabel:"Contact for pricing",description:"Complete business transformation partnership",features:["Full enterprise assessment","Multi-year strategic plan","Digital transformation roadmap","Organization restructuring plan","Unlimited consulting sessions","Dedicated senior consultant","12 months partnership","C-suite advisory services","Implementation oversight","Monthly board presentations","Crisis management support","Merger & acquisition guidance"]}},"Import/Export & Logistics":{bronze:{name:"Trade Starter",priceMonthly:100,priceOneTime:1e3,pricingLabel:"$100/month or $1,000 one-time (1 year)",description:"Essential services for new international traders",hasTrial:!0,features:["Customs documentation assistance","Basic freight forwarding","Import/export compliance check","Shipping coordination (up to 5 shipments)","Tariff classification help","Basic tracking & reporting","60 days support","Standard delivery timeframes"]},silver:{name:"Logistics Pro",priceMonthly:250,priceOneTime:2500,pricingLabel:"$250/month or $2,500 one-time (1 year)",description:"Advanced logistics management for regular traders",features:["Full customs clearance services","Multi-modal freight solutions","Supply chain optimization","Unlimited shipment coordination","Warehouse management","Route optimization","Real-time tracking portal","6 months support","Priority customer service","Quarterly logistics review"]},gold:{name:"Global Trade Elite",priceMonthly:600,priceOneTime:6500,pricingLabel:"$600/month or $6,500 one-time (1 year)",description:"Premium end-to-end logistics solutions",features:["Dedicated logistics manager","Full supply chain integration","Advanced analytics & forecasting","White-glove customs handling","Premium freight rates","Last-mile delivery solutions","24/7 support & monitoring","12 months service","Risk management & insurance","Multi-country coordination","Reverse logistics support","Sustainability reporting"]}},"Marketing Solutions":{bronze:{name:"Digital Presence",priceMonthly:50,priceOneTime:120,pricingLabel:"$50/month or $120 for 3 months",description:"Build your online presence and reach",hasTrial:!0,features:["Social media setup & strategy","Content calendar (3 months)","12 custom posts per month","Basic SEO optimization","Monthly performance reports","Email marketing setup","Brand guidelines document","90 days support"]},silver:{name:"Growth Marketing",priceMonthly:200,priceOneTime:500,pricingLabel:"$200/month or $500 for 3 months",description:"Comprehensive digital marketing for growth",features:["Multi-channel marketing strategy","Social media management (4 platforms)","20 custom posts per month","Advanced SEO & SEM","Email marketing campaigns","Content creation & copywriting","Conversion rate optimization","Bi-weekly strategy calls","6 months engagement","A/B testing & optimization","Influencer outreach program"]},gold:{name:"Brand Domination",priceMonthly:1e3,priceOneTime:1750,pricingLabel:"$1,000 for 3 months or $1,750 for 6 months",description:"Full-scale marketing transformation",features:["Comprehensive brand strategy","Full-service marketing team","All-channel campaign management","Premium content production","Video & multimedia marketing","Marketing automation setup","Advanced analytics & attribution","Weekly strategy sessions","12 months partnership","Dedicated account manager","PR & media relations","Event marketing support","Crisis communication plan"]}}},a=f=>{r(f)},l=f=>{f.target.classList.contains("packages-tier-overlay")&&r(null)},c=(f,g,m,v,y,w=!1)=>{const b=JSON.parse(localStorage.getItem("cartItems")||"[]"),_={name:`${f.name} - ${m}`,price:y,duration:v,quantity:1,category:"Package",tier:g,features:f.features,isTrial:w},x=b.findIndex(A=>A.name===_.name&&A.duration===v);x!==-1?b[x].quantity+=1:b.push(_),localStorage.setItem("cartItems",JSON.stringify(b)),window.dispatchEvent(new Event("cartUpdated")),n(`"${_.name} (${v})" added to cart`)},h=f=>{switch(f){case"bronze":return"rgba(205, 127, 50, 0.3)";case"silver":return"rgba(192, 192, 192, 0.3)";case"gold":return"rgba(255, 215, 0, 0.3)";default:return"rgba(82, 39, 255, 0.3)"}},d=f=>{switch(f){case"bronze":return"linear-gradient(135deg, rgba(205, 127, 50, 0.2), rgba(139, 69, 19, 0.2))";case"silver":return"linear-gradient(135deg, rgba(192, 192, 192, 0.2), rgba(128, 128, 128, 0.2))";case"gold":return"linear-gradient(135deg, rgba(255, 215, 0, 0.2), rgba(218, 165, 32, 0.2))";default:return"linear-gradient(135deg, rgba(82, 39, 255, 0.2), rgba(177, 158, 239, 0.2))"}},p=(f,g,m)=>{const v=m==="Marketing Solutions",y=m==="Consulting",w=g.toLowerCase(),b=g==="Bronze"&&f.hasTrial;return y?u.jsx("div",{className:"duration-buttons",children:u.jsx("button",{className:`duration-btn ${w}-btn`,onClick:()=>window.location.href="/contact",children:"Contact for Pricing"})}):v?u.jsxs("div",{className:"duration-buttons",children:[b&&u.jsx("button",{className:"duration-btn trial-btn",onClick:()=>c(f,g,m,"14-Day Free Trial",0,!0),children:"ðŸŽ 14-Day Free Trial"}),u.jsx("button",{className:`duration-btn ${w}-btn`,onClick:()=>c(f,g,m,f.priceMonthly?"Monthly":"3 Months",f.priceMonthly||f.priceOneTime),children:f.priceMonthly?`Monthly - $${f.priceMonthly}`:`3 Months - $${f.priceOneTime}`}),f.priceOneTime&&f.priceMonthly&&u.jsxs("button",{className:`duration-btn ${w}-btn`,onClick:()=>c(f,g,m,"3 Months",f.priceOneTime),children:["3 Months - $",f.priceOneTime]})]}):u.jsxs("div",{className:"duration-buttons",children:[b&&u.jsx("button",{className:"duration-btn trial-btn",onClick:()=>c(f,g,m,"14-Day Free Trial",0,!0),children:"ðŸŽ 14-Day Free Trial"}),f.priceMonthly&&u.jsxs("button",{className:`duration-btn ${w}-btn`,onClick:()=>c(f,g,m,"Monthly",f.priceMonthly),children:["Monthly - $",f.priceMonthly]}),f.priceOneTime&&u.jsxs("button",{className:`duration-btn ${w}-btn`,onClick:()=>c(f,g,m,"1 Year",f.priceOneTime),children:["1 Year - $",f.priceOneTime]})]})};return u.jsxs("div",{className:"page-container",children:[u.jsx(Rt,{colors:["#5227FF","#FF9FFC","#B19EEF"],mouseForce:t?18:24,cursorSize:t?80:100,isViscous:!0,viscous:30,iterationsViscous:e.iterationsViscous,iterationsPoisson:e.iterationsPoisson,resolution:e.resolution,isBounce:!1,autoDemo:!0,autoSpeed:e.autoSpeed,autoIntensity:2.2,takeoverDuration:.25,autoResumeDelay:3e3,autoRampDuration:.6}),u.jsxs("div",{className:"page-content packages-content",children:[u.jsx("h1",{className:"page-title",children:"Service Packages"}),s?u.jsx("div",{className:"packages-tier-overlay",onClick:l,children:u.jsxs("div",{className:"packages-tier-content",onClick:f=>f.stopPropagation(),children:[u.jsx("button",{className:"back-button",onClick:()=>r(null),children:"â† Back to Packages"}),u.jsxs("h2",{className:"detail-title",children:[s," Packages"]}),u.jsxs("div",{className:"tier-grid",children:[u.jsx("div",{className:"tier-card-wrapper",children:u.jsx(ft,{spotlightColor:h("bronze"),children:u.jsxs("div",{className:"tier-card bronze-tier",style:{background:d("bronze")},children:[u.jsx("div",{className:"tier-badge bronze",children:"Tier 1"}),o[s].bronze.hasTrial&&u.jsx("div",{className:"trial-badge",children:"ðŸŽ FREE TRIAL AVAILABLE"}),u.jsx("h3",{className:"tier-name",children:o[s].bronze.name}),u.jsx("p",{className:"tier-description",children:o[s].bronze.description}),u.jsxs("div",{className:"tier-features",children:[u.jsx("h4",{children:"Includes:"}),u.jsx("ul",{children:o[s].bronze.features.map((f,g)=>u.jsxs("li",{children:["âœ“ ",f]},g))})]}),p(o[s].bronze,"Bronze",s)]})})}),u.jsx("div",{className:"tier-card-wrapper",children:u.jsx(ft,{spotlightColor:h("silver"),children:u.jsxs("div",{className:"tier-card silver-tier",style:{background:d("silver")},children:[u.jsx("div",{className:"tier-badge silver",children:"Tier 2"}),u.jsx("div",{className:"popular-badge",children:"Most Popular"}),u.jsx("h3",{className:"tier-name",children:o[s].silver.name}),u.jsx("p",{className:"tier-description",children:o[s].silver.description}),u.jsxs("div",{className:"tier-features",children:[u.jsx("h4",{children:"Includes:"}),u.jsx("ul",{children:o[s].silver.features.map((f,g)=>u.jsxs("li",{children:["âœ“ ",f]},g))})]}),p(o[s].silver,"Silver",s)]})})}),u.jsx("div",{className:"tier-card-wrapper",children:u.jsx(ft,{spotlightColor:h("gold"),children:u.jsxs("div",{className:"tier-card gold-tier",style:{background:d("gold")},children:[u.jsx("div",{className:"tier-badge gold",children:"Tier 3"}),u.jsx("h3",{className:"tier-name",children:o[s].gold.name}),u.jsx("p",{className:"tier-description",children:o[s].gold.description}),u.jsxs("div",{className:"tier-features",children:[u.jsx("h4",{children:"Includes:"}),u.jsx("ul",{children:o[s].gold.features.map((f,g)=>u.jsxs("li",{children:["âœ“ ",f]},g))})]}),p(o[s].gold,"Gold",s)]})})})]})]})}):u.jsxs("div",{className:"products-grid",children:[u.jsx("div",{onClick:()=>a("AI Solutions"),children:u.jsxs(ft,{spotlightColor:"rgba(82, 39, 255, 0.3)",children:[u.jsx("span",{className:"spotlight-card-icon",children:"ðŸ¤–"}),u.jsx("h2",{children:"AI Solutions"}),u.jsx("p",{children:"Choose from our tiered AI packages designed to fit your business needs and budget. From starter implementations to enterprise-grade solutions with full support."})]})}),u.jsx("div",{onClick:()=>a("Consulting"),children:u.jsxs(ft,{spotlightColor:"rgba(255, 159, 252, 0.3)",children:[u.jsx("span",{className:"spotlight-card-icon",children:"ðŸ’¡"}),u.jsx("h2",{children:"Consulting"}),u.jsx("p",{children:"Strategic consulting packages tailored to your organization's size and objectives. From essential guidance to full transformation partnerships."})]})}),u.jsx("div",{onClick:()=>a("Import/Export & Logistics"),children:u.jsxs(ft,{spotlightColor:"rgba(177, 158, 239, 0.3)",children:[u.jsx("span",{className:"spotlight-card-icon",children:"ðŸŒ"}),u.jsx("h2",{children:"Import/Export & Logistics"}),u.jsx("p",{children:"International trade and logistics packages for businesses of all sizes. From starter documentation to premium global trade management."})]})}),u.jsx("div",{onClick:()=>a("Marketing Solutions"),children:u.jsxs(ft,{spotlightColor:"rgba(82, 39, 255, 0.3)",children:[u.jsx("span",{className:"spotlight-card-icon",children:"ðŸ“ˆ"}),u.jsx("h2",{children:"Marketing Solutions"}),u.jsx("p",{children:"Comprehensive marketing packages to build and amplify your brand. From digital presence to full-scale brand domination strategies."})]})})]})]}),i&&u.jsx(of,{message:i,onClose:()=>n(null),duration:3e3})]})}const c_="/api/account";async function Hi(){const{data:{session:t}}=await Dt.auth.getSession();return(t==null?void 0:t.access_token)||null}async function ds(t,e,s){const r=await Hi(),i={method:t,headers:{"Content-Type":"application/json"}};r&&(i.headers.Authorization=`Bearer ${r}`),s&&t!=="GET"&&(i.body=JSON.stringify(s));const n=await fetch(`${c_}${e}`,i);let o;const a=await n.text();try{o=JSON.parse(a)}catch{console.error("Failed to parse response JSON:",a),o={}}if(!n.ok){const l=new Error(o.message||"Something went wrong. Please try again.");throw l.status=n.status,l.data=o,l}return o}const fs={getToken:Hi,async register({username:t,email:e,password:s,terms:r}){throw new Error("Please use Supabase Auth for registration")},async login({usernameOrEmail:t,password:e}){throw new Error("Please use Supabase Auth for login")},async logout(){return{success:!0}},async getProfile(){return(await ds("GET","/me",null)).data},async updateProfile({username:t,email:e}){return(await ds("PUT","/profile",{username:t,email:e})).data},async updatePassword({newPassword:t}){return await ds("PUT","/password",{newPassword:t})},async getAddresses(){return(await ds("GET","/addresses",null)).data},async updateAddresses({billing:t,shipping:e}){return await ds("PUT","/addresses",{billing:t,shipping:e})},async getSubscriptions(t="active"){return(await ds("GET",`/subscriptions?status=${t}`,null)).data},async cancelSubscription(t){return await ds("POST",`/subscriptions/${t}/cancel`,{})}},Qc="/api/stripe",af={async createCheckoutSession({cartItems:t,userId:e,userEmail:s,mode:r="subscription"}){const i=await Hi(),n=await fetch(`${Qc}/create-checkout-session`,{method:"POST",headers:{"Content-Type":"application/json",...i&&{Authorization:`Bearer ${i}`}},body:JSON.stringify({cartItems:t,userId:e,userEmail:s,mode:r})}),o=await n.json();if(!n.ok)throw new Error(o.message||"Failed to create checkout session");return o},async createPortalSession(t){const e=await Hi(),s=await fetch(`${Qc}/create-portal-session`,{method:"POST",headers:{"Content-Type":"application/json",...e&&{Authorization:`Bearer ${e}`}},body:JSON.stringify({customerId:t})}),r=await s.json();if(!s.ok)throw new Error(r.message||"Failed to create portal session");return r}};function u_(){const t=typeof window<"u"&&(/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)||window.innerWidth<=768),e=It(t),{formatPrice:s,convertPrice:r,currency:i}=tu(),[n,o]=S.useState([]);S.useEffect(()=>{const E=()=>{const O=localStorage.getItem("cartItems");O&&o(JSON.parse(O))};return E(),window.addEventListener("storage",E),()=>window.removeEventListener("storage",E)},[]);const[a,l]=S.useState(null),[c,h]=S.useState(!1),[d,p]=S.useState({cardNumber:"",cardName:"",expiryDate:"",cvv:"",postalCode:"",email:""}),[f,g]=S.useState({email:""}),[m,v]=S.useState({walletAddress:"",network:"ethereum"}),y=[{id:"credit",name:"Credit Card",iconSvg:u.jsxs("div",{style:{display:"flex",gap:"6px",alignItems:"center",justifyContent:"center"},children:[u.jsx("svg",{viewBox:"0 0 60 20",xmlns:"http://www.w3.org/2000/svg",style:{width:"38px",height:"13px"},children:u.jsx("text",{x:"30",y:"15",fontFamily:"Arial, sans-serif",fontSize:"14",fontWeight:"bold",fill:"white",textAnchor:"middle",fontStyle:"italic",children:"VISA"})}),u.jsxs("svg",{viewBox:"0 0 32 20",xmlns:"http://www.w3.org/2000/svg",style:{width:"28px",height:"18px"},children:[u.jsx("circle",{cx:"10",cy:"10",r:"8",fill:"white",opacity:"0.85"}),u.jsx("circle",{cx:"22",cy:"10",r:"8",fill:"white",opacity:"0.85"}),u.jsx("path",{d:"M16 4.5 A8 8 0 0 1 16 15.5 A8 8 0 0 0 16 4.5",fill:"white"})]}),u.jsxs("svg",{viewBox:"0 0 40 24",xmlns:"http://www.w3.org/2000/svg",style:{width:"32px",height:"19px"},children:[u.jsx("rect",{x:"1",y:"2",width:"38",height:"20",rx:"2",fill:"none",stroke:"white",strokeWidth:"1.5"}),u.jsx("text",{x:"20",y:"15",fontFamily:"Arial, sans-serif",fontSize:"10",fontWeight:"bold",fill:"white",textAnchor:"middle",children:"AMEX"})]})]})},{id:"debit",name:"Debit",iconSvg:u.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"center"},children:[u.jsx("svg",{viewBox:"0 0 60 20",xmlns:"http://www.w3.org/2000/svg",style:{width:"42px",height:"14px"},children:u.jsx("text",{x:"30",y:"15",fontFamily:"Arial, sans-serif",fontSize:"14",fontWeight:"bold",fill:"white",textAnchor:"middle",fontStyle:"italic",children:"VISA"})}),u.jsxs("svg",{viewBox:"0 0 32 20",xmlns:"http://www.w3.org/2000/svg",style:{width:"32px",height:"20px"},children:[u.jsx("circle",{cx:"10",cy:"10",r:"8",fill:"white",opacity:"0.85"}),u.jsx("circle",{cx:"22",cy:"10",r:"8",fill:"white",opacity:"0.85"}),u.jsx("path",{d:"M16 4.5 A8 8 0 0 1 16 15.5 A8 8 0 0 0 16 4.5",fill:"white"})]})]})},{id:"apple",name:"Apple Pay",iconSvg:u.jsx("svg",{viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg",style:{width:"40px",height:"40px"},children:u.jsx("path",{d:"M31.5 11.5c-1.3 1.4-3.4 2.5-5.4 2.3-.3-2.1.7-4.2 1.9-5.5 1.3-1.4 3.5-2.4 5.2-2.5.2 2.2-.6 4.3-1.7 5.7zm1.7 2.7c-2.9-.2-5.4 1.6-6.8 1.6-1.4 0-3.5-1.5-5.8-1.5-3 .1-5.8 1.8-7.3 4.5-3.1 5.4-.8 13.4 2.2 17.8 1.5 2.2 3.3 4.6 5.6 4.5 2.2-.1 3.1-1.4 5.8-1.4 2.6 0 3.5 1.4 5.8 1.4 2.4-.1 4-2.1 5.5-4.3 1.7-2.5 2.4-4.9 2.5-5-.1 0-4.7-1.8-4.8-7.1-.1-4.4 3.6-6.5 3.8-6.7-2.1-3-5.3-3.4-6.5-3.8z",fill:"white"})})},{id:"google",name:"Google Pay",iconSvg:u.jsx("svg",{viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg",style:{width:"40px",height:"40px"},children:u.jsx("path",{d:"M24.5 20.5v7.2h10c-.4 2.5-2.9 7.3-10 7.3-6 0-11-5-11-11s5-11 11-11c3.4 0 5.7 1.5 7 2.7l5.7-5.5C34 6.3 29.6 4 24.5 4c-11 0-20 9-20 20s9 20 20 20c11.5 0 19.2-8.1 19.2-19.5 0-1.3-.1-2.3-.3-3.3H24.5z",fill:"white"})})},{id:"paypal",name:"PayPal",iconSvg:u.jsxs("svg",{viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg",style:{width:"40px",height:"40px"},children:[u.jsx("path",{d:"M29.5 10h-10c-.7 0-1.3.5-1.4 1.2l-4 25c-.1.5.3 1 .8 1h4.5c.7 0 1.3-.5 1.4-1.2l1.1-6.8c.1-.7.7-1.2 1.4-1.2h3.2c6.6 0 10.4-3.2 11.4-9.5.4-2.7 0-4.9-1.4-6.4-1.5-1.5-4.1-2.1-7-2.1zm.9 9.4c-.5 3.5-3.2 3.5-5.8 3.5h-1.5l1-6.5c.1-.4.4-.7.8-.7h.7c1.9 0 3.6 0 4.5.9.5.5.7 1.3.3 2.8z",fill:"white"}),u.jsx("path",{d:"M16.5 10h-10c-.7 0-1.3.5-1.4 1.2l-4 25c-.1.5.3 1 .8 1h4.8c.5 0 .9-.3 1-.8l1.1-7c.1-.7.7-1.2 1.4-1.2h3.2c6.6 0 10.4-3.2 11.4-9.5.4-2.7 0-4.9-1.4-6.4-1.5-1.5-4.1-2.1-7-2.1zm.9 9.4c-.5 3.5-3.2 3.5-5.8 3.5h-1.5l1-6.5c.1-.4.4-.7.8-.7h.7c1.9 0 3.6 0 4.5.9.5.5.7 1.3.3 2.8z",fill:"white",opacity:"0.7"})]})},{id:"bitcoin",name:"Bitcoin",iconSvg:u.jsxs("svg",{viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg",style:{width:"40px",height:"40px"},children:[u.jsx("circle",{cx:"16",cy:"16",r:"15",fill:"none",stroke:"white",strokeWidth:"1.5"}),u.jsx("path",{d:"M23.189 14.02c.314-2.096-1.283-3.223-3.465-3.975l.708-2.84-1.728-.43-.69 2.765c-.454-.114-.92-.22-1.385-.326l.695-2.783L15.596 6l-.708 2.839c-.376-.086-.746-.17-1.104-.26l.002-.009-2.384-.595-.46 1.846s1.283.294 1.256.312c.7.175.826.638.805 1.006l-.806 3.235c.048.012.11.03.18.057l-.183-.045-1.13 4.532c-.086.212-.303.531-.793.41.018.025-1.256-.313-1.256-.313l-.858 1.978 2.25.561c.418.105.828.215 1.231.318l-.715 2.872 1.727.43.708-2.84c.472.127.93.245 1.378.357l-.706 2.828 1.728.43.715-2.866c2.948.558 5.164.333 6.097-2.333.752-2.146-.037-3.385-1.588-4.192 1.13-.26 1.98-1.003 2.207-2.538zm-3.95 5.538c-.533 2.147-4.148.986-5.32.695l.95-3.805c1.172.293 4.929.872 4.37 3.11zm.535-5.569c-.487 1.953-3.495.96-4.47.717l.86-3.45c.975.243 4.118.696 3.61 2.733z",fill:"white"})]})},{id:"ethereum",name:"Ethereum",iconSvg:u.jsxs("svg",{viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg",style:{width:"40px",height:"40px"},children:[u.jsx("circle",{cx:"16",cy:"16",r:"15",fill:"none",stroke:"white",strokeWidth:"1.5"}),u.jsx("path",{d:"M16 4L15.7 5.1v13.5l.3.3 6.5-3.8L16 4z",fill:"white",opacity:"0.6"}),u.jsx("path",{d:"M16 4l-6.5 11.1L16 18.9V4z",fill:"white"}),u.jsx("path",{d:"M16 20.5l-.2.2v5l.2.6 6.5-9.2-6.5 3.4z",fill:"white",opacity:"0.6"}),u.jsx("path",{d:"M16 26.3v-5.8l-6.5-3.4L16 26.3z",fill:"white"}),u.jsx("path",{d:"M16 18.9l6.5-3.8L16 11.3v7.6z",fill:"white",opacity:"0.2"}),u.jsx("path",{d:"M9.5 15.1l6.5 3.8v-7.6l-6.5 3.8z",fill:"white",opacity:"0.6"})]})},{id:"usdt",name:"Tether (USDT)",iconSvg:u.jsxs("svg",{viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg",style:{width:"40px",height:"40px"},children:[u.jsx("circle",{cx:"16",cy:"16",r:"14.5",fill:"none",stroke:"white",strokeWidth:"1.5"}),u.jsx("path",{d:"M17.2 13.5h-2.4v-2.4h6.9V9.3H10.3v1.8h6.9v2.4h-2.4c-3.5 0-6.3.5-6.3 1.2 0 .5 1.7.9 4.1 1.1v5.9h2.8v-5.9c2.4-.2 4.1-.6 4.1-1.1 0-.7-2.8-1.2-6.3-1.2zm0 1.9c-2.9 0-5.2-.4-5.2-.9s2.3-.9 5.2-.9 5.2.4 5.2.9-2.3.9-5.2.9z",fill:"white"})]})},{id:"usdc",name:"USD Coin (USDC)",iconSvg:u.jsxs("svg",{viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg",style:{width:"40px",height:"40px"},children:[u.jsx("circle",{cx:"16",cy:"16",r:"14.5",fill:"none",stroke:"white",strokeWidth:"1.5"}),u.jsx("path",{d:"M13.5 19.5c0 .8.7 1.5 1.5 1.5h2c.8 0 1.5-.7 1.5-1.5v-.3c0-.6-.3-1.1-.8-1.3l-3.4-1.4c-.5-.2-.8-.7-.8-1.3v-.3c0-.8.7-1.5 1.5-1.5h2c.8 0 1.5.7 1.5 1.5v.2h1.5v-.2c0-1.5-1.2-2.7-2.7-2.9V11h-1.6v1.1c-1.5.2-2.7 1.4-2.7 2.9v.3c0 1.1.6 2 1.5 2.4l3.4 1.4c.2.1.3.3.3.5v.3c0 .3-.2.5-.5.5h-2c-.3 0-.5-.2-.5-.5v-.4h-1.5v.4zm4.8 4.8c-.2.1-.5.1-.7.2-.2 0-.5.1-.7.1-.2 0-.5 0-.7-.1-.2 0-.5-.1-.7-.2",stroke:"white",strokeWidth:"0.8",fill:"none",strokeLinecap:"round"}),u.jsx("path",{d:"M18.3 24.3c2.7-.8 4.7-3.3 4.7-6.3",stroke:"white",strokeWidth:"0.8",fill:"none",strokeLinecap:"round"}),u.jsx("path",{d:"M13.7 7.7c-2.7.8-4.7 3.3-4.7 6.3",stroke:"white",strokeWidth:"0.8",fill:"none",strokeLinecap:"round"}),u.jsx("circle",{cx:"20",cy:"12",r:"1",fill:"white"}),u.jsx("circle",{cx:"12",cy:"20",r:"1",fill:"white"})]})}],w=n.reduce((E,O)=>E+O.price*O.quantity,0),_=n.reduce((E,O)=>O.category==="Consultation"?E:E+O.price*O.quantity,0)*.1,x=w+_,A=(E,O)=>{if(O<1)return;const Z=n.map(W=>W.name===E?{...W,quantity:O}:W);o(Z),localStorage.setItem("cartItems",JSON.stringify(Z)),window.dispatchEvent(new Event("cartUpdated"))},T=E=>{const O=n.filter(Z=>Z.name!==E);o(O),localStorage.setItem("cartItems",JSON.stringify(O)),window.dispatchEvent(new Event("cartUpdated"))},C=Ps(),{user:k,isAuthenticated:j}=cr(),[I,V]=S.useState(!1),L=async()=>{if(!j){C("/login",{state:{from:{pathname:"/cart"}}});return}V(!0);try{const O=n.some(N=>N.duration==="Monthly"||N.duration==="3 Months"||N.duration==="1 Year")?"subscription":"payment",{sessionId:Z,url:W}=await af.createCheckoutSession({cartItems:n,userId:k.id,userEmail:k.email,mode:O});W&&(window.location.href=W)}catch(E){console.error("Checkout error:",E),alert("Failed to create checkout session. Please try again.")}finally{V(!1)}},Y=E=>{l(E)},Q=E=>{E.preventDefault();const O=n.filter(W=>W.category==="Consultation");if(O.length>0){const W=JSON.parse(localStorage.getItem("bookedSlots")||"[]");O.forEach(N=>{if(N.details){const F=new Date(N.details.date).toISOString().split("T")[0],ie=N.details.time,[ue,tt]=ie.split(" "),[Pe,qe]=ue.split(":").map(Number);let Ve=Pe;tt==="PM"&&Pe!==12&&(Ve+=12),tt==="AM"&&Pe===12&&(Ve=0);const ve=`${Ve.toString().padStart(2,"0")}:${qe.toString().padStart(2,"0")}`;W.push({date:F,time24:ve,time12:ie,duration:parseInt(N.details.duration),bookedAt:new Date().toISOString()})}}),localStorage.setItem("bookedSlots",JSON.stringify(W))}const Z=a==="paypal"?f.email:d.email;o([]),localStorage.setItem("cartItems",JSON.stringify([])),window.dispatchEvent(new Event("cartUpdated")),alert(`Payment successful! Your order has been confirmed.

A receipt has been sent to ${Z}`),h(!1),p({cardNumber:"",cardName:"",expiryDate:"",cvv:"",postalCode:"",email:""}),g({email:""}),v({walletAddress:""})},J=()=>{switch(a){case"credit":case"debit":return`Pay ${s(x)}`;case"apple":return"Continue with Apple Pay";case"google":return"Continue with Google Pay";case"paypal":return"Continue to PayPal";case"bitcoin":case"ethereum":case"usdt":case"usdc":return"Confirm Payment";default:return"Complete Payment"}},z=()=>{switch(a){case"credit":case"debit":return u.jsxs("form",{className:"payment-form",onSubmit:Q,children:[u.jsx("h3",{children:"Card Information"}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Card Number"}),u.jsx("input",{type:"text",placeholder:"1234 5678 9012 3456",value:d.cardNumber,onChange:E=>p({...d,cardNumber:E.target.value}),maxLength:"19",required:!0})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Cardholder Name"}),u.jsx("input",{type:"text",placeholder:"John Doe",value:d.cardName,onChange:E=>p({...d,cardName:E.target.value}),required:!0})]}),u.jsxs("div",{className:"form-row",children:[u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Expiry Date"}),u.jsx("input",{type:"text",placeholder:"MM/YY",value:d.expiryDate,onChange:E=>p({...d,expiryDate:E.target.value}),maxLength:"5",required:!0})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"CVV"}),u.jsx("input",{type:"text",placeholder:"123",value:d.cvv,onChange:E=>p({...d,cvv:E.target.value}),maxLength:"4",required:!0})]})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Postal Code / Zip Code"}),u.jsx("input",{type:"text",placeholder:"12345 or A1B 2C3",value:d.postalCode,onChange:E=>p({...d,postalCode:E.target.value}),maxLength:"10",required:!0})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Email Address"}),u.jsx("input",{type:"email",placeholder:"your.email@example.com",value:d.email,onChange:E=>p({...d,email:E.target.value}),required:!0})]})]});case"apple":case"google":return u.jsxs("form",{className:"payment-form",onSubmit:Q,children:[u.jsx("h3",{children:a==="apple"?"Apple Pay":"Google Pay"}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Email Address"}),u.jsx("input",{type:"email",placeholder:"your.email@example.com",value:d.email,onChange:E=>p({...d,email:E.target.value}),required:!0})]}),u.jsxs("p",{className:"payment-info",children:["You will be redirected to ",a==="apple"?"Apple Pay":"Google Pay"," to complete your purchase."]})]});case"paypal":return u.jsxs("form",{className:"payment-form",onSubmit:Q,children:[u.jsx("h3",{children:"PayPal Payment"}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"PayPal Email"}),u.jsx("input",{type:"email",placeholder:"your.email@example.com",value:f.email,onChange:E=>g({...f,email:E.target.value}),required:!0})]}),u.jsx("p",{className:"payment-info",children:"You will be redirected to PayPal to complete your purchase."})]});case"bitcoin":case"ethereum":case"usdt":case"usdc":return u.jsxs("form",{className:"payment-form",onSubmit:Q,children:[u.jsxs("h3",{children:[a==="bitcoin"?"Bitcoin":a==="ethereum"?"Ethereum":a==="usdt"?"Tether (USDT)":"USD Coin (USDC)"," Payment"]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Email Address"}),u.jsx("input",{type:"email",placeholder:"your.email@example.com",value:d.email,onChange:E=>p({...d,email:E.target.value}),required:!0})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Your Wallet Address"}),u.jsx("input",{type:"text",placeholder:a==="bitcoin"?"bc1q...":"0x...",value:m.walletAddress,onChange:E=>v({...m,walletAddress:E.target.value}),required:!0})]}),u.jsxs("div",{className:"crypto-info",children:[u.jsx("p",{children:u.jsx("strong",{children:"Amount to Send:"})}),u.jsx("p",{className:"crypto-amount",children:a==="bitcoin"?`${(x/45e3).toFixed(8)} BTC`:a==="ethereum"?`${(x/2500).toFixed(6)} ETH`:`${r(x)} ${a==="usdt"?"USDT":"USDC"}`}),u.jsxs("p",{className:"crypto-note",children:["Send exact amount to: ",u.jsx("br",{}),u.jsx("code",{children:a==="bitcoin"?"bc1qxy2kgdygjrsqtzq2n0yrf2493p83kkfjhx0wlh":"0x742d35Cc6634C0532925a3b844Bc454e4438f44e"})]}),(a==="usdt"||a==="usdc")&&u.jsxs("p",{className:"crypto-note",style:{marginTop:"1rem"},children:[u.jsx("strong",{children:"Network:"})," ERC-20 (Ethereum)",a==="usdt"?" or TRC-20 (Tron)":""]})]})]});default:return null}};return u.jsxs("div",{className:"page-container",children:[u.jsx(Rt,{colors:["#5227FF","#FF9FFC","#B19EEF"],mouseForce:t?18:24,cursorSize:t?80:100,isViscous:!0,viscous:30,iterationsViscous:e.iterationsViscous,iterationsPoisson:e.iterationsPoisson,resolution:e.resolution,isBounce:!1,autoDemo:!0,autoSpeed:e.autoSpeed,autoIntensity:2.2,takeoverDuration:.25,autoResumeDelay:3e3,autoRampDuration:.6}),u.jsxs("div",{className:"page-content cart-content",children:[u.jsx("h1",{className:"page-title",children:"Shopping Cart"}),c?u.jsxs("div",{className:"checkout-container",children:[u.jsx("button",{className:"back-to-cart",onClick:()=>h(!1),children:"â† Back to Cart"}),u.jsxs("div",{className:"checkout-content",children:[u.jsxs("div",{className:"payment-methods",children:[u.jsx("h2",{children:"Select Payment Method"}),u.jsx("div",{className:"payment-grid",children:y.map(E=>u.jsxs("button",{className:`payment-method-btn ${a===E.id?"selected":""}`,onClick:()=>Y(E.id),children:[u.jsx("span",{className:"payment-icon",children:E.iconSvg?E.iconSvg:E.icon}),u.jsx("span",{className:"payment-name",children:E.name})]},E.id))})]}),a&&u.jsx("div",{className:"payment-form-container",children:z()}),u.jsxs("div",{className:"checkout-summary",children:[u.jsx("h3",{children:"Order Summary"}),u.jsx("div",{className:"checkout-items-list",children:n.map(E=>u.jsxs("div",{className:"checkout-item",children:[u.jsxs("div",{className:"checkout-item-info",children:[u.jsx("div",{className:"checkout-item-name",children:E.name}),u.jsxs("div",{className:"checkout-item-details",children:[E.category&&u.jsx("span",{className:"checkout-item-category",children:E.category}),E.duration&&u.jsxs("span",{className:"checkout-item-duration",children:["Duration: ",E.duration]}),u.jsxs("span",{className:"checkout-item-qty",children:["Qty: ",E.quantity]})]})]}),u.jsxs("div",{className:"checkout-item-actions",children:[u.jsx("span",{className:"checkout-item-price",children:s(E.price*E.quantity)}),u.jsx("button",{className:"checkout-remove-btn",onClick:()=>T(E.name),"aria-label":"Remove item",children:"Ã—"})]})]},E.name))}),u.jsxs("div",{className:"checkout-totals",children:[u.jsxs("div",{className:"summary-row",children:[u.jsx("span",{children:"Subtotal:"}),u.jsx("span",{children:s(w)})]}),u.jsxs("div",{className:"summary-row",children:[u.jsx("span",{children:"Tax (10%):"}),u.jsx("span",{children:s(_)})]}),u.jsxs("div",{className:"summary-row total",children:[u.jsx("span",{children:"Total:"}),u.jsx("span",{children:s(x)})]})]}),a&&u.jsx("button",{onClick:Q,className:"submit-payment-btn",children:J()})]})]})]}):u.jsxs("div",{className:"cart-container",children:[u.jsx("div",{className:"cart-items",children:n.length===0?u.jsx("p",{className:"empty-cart",children:"Your cart is empty"}):n.map(E=>u.jsxs("div",{className:"cart-item",children:[u.jsxs("div",{className:"item-info",children:[u.jsx("h3",{children:E.name}),E.category&&u.jsx("p",{children:E.category}),E.duration&&u.jsxs("p",{className:"item-duration",children:[u.jsx("strong",{children:"Duration:"})," ",E.duration]})]}),u.jsxs("div",{className:"item-controls",children:[u.jsxs("div",{className:"quantity-control",children:[u.jsx("button",{onClick:()=>A(E.name,E.quantity-1),children:"-"}),u.jsx("span",{children:E.quantity}),u.jsx("button",{onClick:()=>A(E.name,E.quantity+1),children:"+"})]}),u.jsx("div",{className:"item-price",children:s(E.price*E.quantity)}),u.jsx("button",{className:"remove-btn",onClick:()=>T(E.name),children:"Ã—"})]})]},E.name))}),n.length>0&&u.jsxs("div",{className:"cart-summary",children:[u.jsx("h2",{children:"Order Summary"}),u.jsxs("div",{className:"summary-row",children:[u.jsx("span",{children:"Subtotal:"}),u.jsx("span",{children:s(w)})]}),u.jsxs("div",{className:"summary-row",children:[u.jsx("span",{children:"Tax (10%):"}),u.jsx("span",{children:s(_)})]}),u.jsxs("div",{className:"summary-row total",children:[u.jsx("span",{children:"Total:"}),u.jsx("span",{children:s(x)})]}),u.jsx("button",{className:"checkout-btn",onClick:L,disabled:I,children:I?"Redirecting to Checkout...":"Proceed to Checkout"})]})]})]})]})}const zs={SMOOTH_TAU:.25,MIN_COPIES:2,COPY_HEADROOM:2},Wn=t=>typeof t=="number"?`${t}px`:t??void 0,h_=(t,e,s)=>{S.useEffect(()=>{if(!window.ResizeObserver){const i=()=>t();return window.addEventListener("resize",i),t(),()=>window.removeEventListener("resize",i)}const r=e.map(i=>{if(!i.current)return null;const n=new ResizeObserver(t);return n.observe(i.current),n});return t(),()=>{r.forEach(i=>i==null?void 0:i.disconnect())}},[t,e,s])},d_=(t,e,s)=>{S.useEffect(()=>{var o;const r=((o=t.current)==null?void 0:o.querySelectorAll("img"))??[];if(r.length===0){e();return}let i=r.length;const n=()=>{i-=1,i===0&&e()};return r.forEach(a=>{const l=a;l.complete?n():(l.addEventListener("load",n,{once:!0}),l.addEventListener("error",n,{once:!0}))}),()=>{r.forEach(a=>{a.removeEventListener("load",n),a.removeEventListener("error",n)})}},[e,t,s])},f_=(t,e,s,r,i,n,o)=>{const a=S.useRef(null),l=S.useRef(null),c=S.useRef(0),h=S.useRef(0);S.useEffect(()=>{const d=t.current;if(!d)return;const p=o?r:s;if(p>0){c.current=(c.current%p+p)%p;const g=o?`translate3d(0, ${-c.current}px, 0)`:`translate3d(${-c.current}px, 0, 0)`;d.style.transform=g}const f=g=>{l.current===null&&(l.current=g);const m=Math.max(0,g-l.current)/1e3;l.current=g;const v=i&&n!==void 0?n:e,y=1-Math.exp(-m/zs.SMOOTH_TAU);if(h.current+=(v-h.current)*y,p>0){let w=c.current+h.current*m;w=(w%p+p)%p,c.current=w;const b=o?`translate3d(0, ${-c.current}px, 0)`:`translate3d(${-c.current}px, 0, 0)`;d.style.transform=b}a.current=requestAnimationFrame(f)};return a.current=requestAnimationFrame(f),()=>{a.current!==null&&(cancelAnimationFrame(a.current),a.current=null),l.current=null}},[e,s,r,i,n,o,t])},lf=S.memo(({logos:t,speed:e=120,direction:s="left",width:r="100%",logoHeight:i=28,gap:n=32,pauseOnHover:o,hoverSpeed:a,fadeOut:l=!1,fadeOutColor:c,scaleOnHover:h=!1,renderItem:d,ariaLabel:p="Partner logos",className:f,style:g})=>{const m=S.useRef(null),v=S.useRef(null),y=S.useRef(null),[w,b]=S.useState(0),[_,x]=S.useState(0),[A,T]=S.useState(zs.MIN_COPIES),[C,k]=S.useState(!1),j=S.useMemo(()=>{if(a!==void 0)return a;if(o===!0)return 0;if(o!==!1)return 0},[a,o]),I=s==="up"||s==="down",V=S.useMemo(()=>{const W=Math.abs(e);let N;I?N=s==="up"?1:-1:N=s==="left"?1:-1;const le=e<0?-1:1;return W*N*le},[e,s,I]),L=S.useCallback(()=>{var ie,ue,tt,Pe,qe,Ve;const W=((ie=m.current)==null?void 0:ie.clientWidth)??0,N=(tt=(ue=y.current)==null?void 0:ue.getBoundingClientRect)==null?void 0:tt.call(ue),le=(N==null?void 0:N.width)??0,F=(N==null?void 0:N.height)??0;if(I){const ve=((qe=(Pe=m.current)==null?void 0:Pe.parentElement)==null?void 0:qe.clientHeight)??0;if(m.current&&ve>0){const Qe=Math.ceil(ve);m.current.style.height!==`${Qe}px`&&(m.current.style.height=`${Qe}px`)}if(F>0){x(Math.ceil(F));const Qe=((Ve=m.current)==null?void 0:Ve.clientHeight)??ve??F,os=Math.ceil(Qe/F)+zs.COPY_HEADROOM;T(Math.max(zs.MIN_COPIES,os))}}else if(le>0){b(Math.ceil(le));const ve=Math.ceil(W/le)+zs.COPY_HEADROOM;T(Math.max(zs.MIN_COPIES,ve))}},[I]);h_(L,[m,y],[t,n,i,I]),d_(y,L,[t,n,i,I]),f_(v,V,w,_,C,j,I);const Y=S.useMemo(()=>({"--logoloop-gap":`${n}px`,"--logoloop-logoHeight":`${i}px`,...c&&{"--logoloop-fadeColor":c}}),[n,i,c]),Q=S.useMemo(()=>["logoloop",I?"logoloop--vertical":"logoloop--horizontal",l&&"logoloop--fade",h&&"logoloop--scale-hover",f].filter(Boolean).join(" "),[I,l,h,f]),J=S.useCallback(()=>{j!==void 0&&k(!0)},[j]),z=S.useCallback(()=>{j!==void 0&&k(!1)},[j]),E=S.useCallback((W,N)=>{if(d)return u.jsx("li",{className:"logoloop__item",role:"listitem",children:d(W,N)},N);const le="node"in W,F=le?u.jsx("span",{className:"logoloop__node","aria-hidden":!!W.href&&!W.ariaLabel,children:W.node}):u.jsx("img",{src:W.src,srcSet:W.srcSet,sizes:W.sizes,width:W.width,height:W.height,alt:W.alt??"",title:W.title,loading:"lazy",decoding:"async",draggable:!1}),ie=le?W.ariaLabel??W.title:W.alt??W.title,ue=W.href?u.jsx("a",{className:"logoloop__link",href:W.href,"aria-label":ie||"logo link",target:"_blank",rel:"noreferrer noopener",children:F}):F;return u.jsx("li",{className:"logoloop__item",role:"listitem",children:ue},N)},[d]),O=S.useMemo(()=>Array.from({length:A},(W,N)=>u.jsx("ul",{className:"logoloop__list",role:"list","aria-hidden":N>0,ref:N===0?y:void 0,children:t.map((le,F)=>E(le,`${N}-${F}`))},`copy-${N}`)),[A,t,E]),Z=S.useMemo(()=>({width:I?Wn(r)==="100%"?void 0:Wn(r):Wn(r)??"100%",...Y,...g}),[r,Y,g,I]);return u.jsx("div",{ref:m,className:Q,style:Z,role:"region","aria-label":p,children:u.jsx("div",{className:"logoloop__track",ref:v,onMouseEnter:J,onMouseLeave:z,children:O})})});lf.displayName="LogoLoop";var cf={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Kc=Ke.createContext&&Ke.createContext(cf),p_=["attr","size","title"];function m_(t,e){if(t==null)return{};var s=g_(t,e),r,i;if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);for(i=0;i<n.length;i++)r=n[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(s[r]=t[r])}return s}function g_(t,e){if(t==null)return{};var s={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;s[r]=t[r]}return s}function $i(){return $i=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(t[r]=s[r])}return t},$i.apply(this,arguments)}function Yc(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),s.push.apply(s,r)}return s}function qi(t){for(var e=1;e<arguments.length;e++){var s=arguments[e]!=null?arguments[e]:{};e%2?Yc(Object(s),!0).forEach(function(r){v_(t,r,s[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):Yc(Object(s)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(s,r))})}return t}function v_(t,e,s){return e=y_(e),e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}function y_(t){var e=w_(t,"string");return typeof e=="symbol"?e:e+""}function w_(t,e){if(typeof t!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var r=s.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function uf(t){return t&&t.map((e,s)=>Ke.createElement(e.tag,qi({key:s},e.attr),uf(e.child)))}function fr(t){return e=>Ke.createElement(b_,$i({attr:qi({},t.attr)},e),uf(t.child))}function b_(t){var e=s=>{var{attr:r,size:i,title:n}=t,o=m_(t,p_),a=i||s.size||"1em",l;return s.className&&(l=s.className),t.className&&(l=(l?l+" ":"")+t.className),Ke.createElement("svg",$i({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},s.attr,r,o,{className:l,style:qi(qi({color:t.color||s.color},s.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),n&&Ke.createElement("title",null,n),t.children)};return Kc!==void 0?Ke.createElement(Kc.Consumer,null,s=>e(s)):e(cf)}function __(t){return fr({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M80 299.3V512H196V299.3h86.5l18-97.8H196V166.9c0-51.7 20.3-71.5 72.7-71.5c16.3 0 29.4 .4 37 1.2V7.9C291.4 4 256.4 0 236.2 0C129.3 0 80 50.5 80 159.4v42.1H14v97.8H80z"},child:[]}]})(t)}function x_(t){return fr({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"},child:[]}]})(t)}function S_(t){return fr({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"},child:[]}]})(t)}function A_(t){return fr({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M100.28 448H7.4V148.9h92.88zM53.79 108.1C24.09 108.1 0 83.5 0 53.8a53.79 53.79 0 0 1 107.58 0c0 29.7-24.1 54.3-53.79 54.3zM447.9 448h-92.68V302.4c0-34.7-.7-79.2-48.29-79.2-48.29 0-55.69 37.7-55.69 76.7V448h-92.78V148.9h89.08v40.8h1.3c12.4-23.5 42.69-48.3 87.88-48.3 94 0 111.28 61.9 111.28 142.3V448z"},child:[]}]})(t)}function T_(t){return fr({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M380.9 97.1C339 55.1 283.2 32 223.9 32c-122.4 0-222 99.6-222 222 0 39.1 10.2 77.3 29.6 111L0 480l117.7-30.9c32.4 17.7 68.9 27 106.1 27h.1c122.3 0 224.1-99.6 224.1-222 0-59.3-25.2-115-67.1-157zm-157 341.6c-33.2 0-65.7-8.9-94-25.7l-6.7-4-69.8 18.3L72 359.2l-4.4-7c-18.5-29.4-28.2-63.3-28.2-98.2 0-101.7 82.8-184.5 184.6-184.5 49.3 0 95.6 19.2 130.4 54.1 34.8 34.9 56.2 81.2 56.1 130.5 0 101.8-84.9 184.6-186.6 184.6zm101.2-138.2c-5.5-2.8-32.8-16.2-37.9-18-5.1-1.9-8.8-2.8-12.5 2.8-3.7 5.6-14.3 18-17.6 21.8-3.2 3.7-6.5 4.2-12 1.4-32.6-16.3-54-29.1-75.5-66-5.7-9.8 5.7-9.1 16.3-30.3 1.8-3.7.9-6.9-.5-9.7-1.4-2.8-12.5-30.1-17.1-41.2-4.5-10.8-9.1-9.3-12.5-9.5-3.2-.2-6.9-.2-10.6-.2-3.7 0-9.7 1.4-14.8 6.9-5.1 5.6-19.4 19-19.4 46.3 0 27.3 19.9 53.7 22.6 57.4 2.8 3.7 39.1 59.7 94.8 83.8 35.2 15.2 49 16.5 66.6 13.9 10.7-1.6 32.8-13.4 37.4-26.4 4.6-13 4.6-24.1 3.2-26.4-1.3-2.5-5-3.9-10.5-6.6z"},child:[]}]})(t)}function E_(t){return fr({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M389.2 48h70.6L305.6 224.2 487 464H345L233.7 318.6 106.5 464H35.8L200.7 275.5 26.8 48H172.4L272.9 180.9 389.2 48zM364.4 421.8h39.1L151.1 88h-42L364.4 421.8z"},child:[]}]})(t)}function C_(){const t=typeof window<"u"&&(/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)||window.innerWidth<=768),e=It(t),[s,r]=S.useState({name:"",email:"",company:"",message:""}),i=a=>{r({...s,[a.target.name]:a.target.value})},n=a=>{a.preventDefault(),console.log("Form submitted:",s),alert("Thank you for contacting us! We will get back to you soon."),r({name:"",email:"",company:"",message:""})},o=[{node:u.jsx(S_,{}),title:"Instagram",href:"https://instagram.com",ariaLabel:"Follow us on Instagram"},{node:u.jsx(E_,{}),title:"X (Twitter)",href:"https://twitter.com",ariaLabel:"Follow us on X"},{node:u.jsx(__,{}),title:"Facebook",href:"https://facebook.com",ariaLabel:"Follow us on Facebook"},{node:u.jsx(T_,{}),title:"WhatsApp",href:"https://wa.me/",ariaLabel:"Message us on WhatsApp"},{node:u.jsx(A_,{}),title:"LinkedIn",href:"https://linkedin.com",ariaLabel:"Connect on LinkedIn"},{node:u.jsx(x_,{}),title:"GitHub",href:"https://github.com",ariaLabel:"View our GitHub"}];return u.jsxs("div",{className:"page-container",children:[u.jsx(Rt,{colors:["#5227FF","#FF9FFC","#B19EEF"],mouseForce:t?18:24,cursorSize:t?80:100,isViscous:!0,viscous:30,iterationsViscous:e.iterationsViscous,iterationsPoisson:e.iterationsPoisson,resolution:e.resolution,isBounce:!1,autoDemo:!0,autoSpeed:e.autoSpeed,autoIntensity:2.2,takeoverDuration:.25,autoResumeDelay:3e3,autoRampDuration:.6}),u.jsxs("div",{className:"page-content",children:[u.jsx("h1",{className:"page-title",children:"Contact Us"}),u.jsx("div",{className:"contact-form-wrapper",children:u.jsxs("form",{className:"contact-form",onSubmit:n,children:[u.jsxs("div",{className:"form-group",children:[u.jsx("label",{htmlFor:"name",children:"Name *"}),u.jsx("input",{type:"text",id:"name",name:"name",value:s.name,onChange:i,required:!0,placeholder:"Your full name"})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{htmlFor:"email",children:"Email *"}),u.jsx("input",{type:"email",id:"email",name:"email",value:s.email,onChange:i,required:!0,placeholder:"your.email@example.com"})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{htmlFor:"company",children:"Company"}),u.jsx("input",{type:"text",id:"company",name:"company",value:s.company,onChange:i,placeholder:"Your company name (optional)"})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{htmlFor:"message",children:"Message *"}),u.jsx("textarea",{id:"message",name:"message",value:s.message,onChange:i,required:!0,rows:"6",placeholder:"Tell us about your project or inquiry..."})]}),u.jsx("button",{type:"submit",className:"submit-button",children:"Send Message"})]})}),u.jsxs("div",{className:"social-logos-section",children:[u.jsx("h2",{className:"social-title",children:"Connect With Us"}),u.jsx("div",{className:"logoloop-container",children:u.jsx(lf,{logos:o,speed:50,direction:"left",logoHeight:48,gap:60,pauseOnHover:!0,scaleOnHover:!0,fadeOut:!0,fadeOutColor:"rgba(0, 0, 0, 0)",ariaLabel:"Social media links"})})]})]})]})}function k_(){const t=Ps(),{register:e}=cr(),s=typeof window<"u"&&(/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)||window.innerWidth<=768),r=It(s),[i,n]=S.useState({username:"",email:"",password:"",confirmPassword:"",terms:!1}),[o,a]=S.useState(!1),[l,c]=S.useState(null),h=p=>{const{name:f,type:g,value:m,checked:v}=p.target;n(y=>({...y,[f]:g==="checkbox"?v:m})),c(null)},d=async p=>{var f;if(p.preventDefault(),c(null),i.password!==i.confirmPassword){c("Passwords do not match!");return}if(!i.terms){c("Please agree to the terms and conditions.");return}a(!0);try{await e(i.username.trim(),i.email.trim(),i.password,i.terms),t("/",{replace:!0})}catch(g){c(g.message||((f=g.data)==null?void 0:f.message)||"Something went wrong. Please try again.")}finally{a(!1)}};return u.jsxs("div",{className:"page-container",children:[u.jsx(Rt,{colors:["#5227FF","#FF9FFC","#B19EEF"],mouseForce:s?18:24,cursorSize:s?80:100,isViscous:!0,viscous:30,iterationsViscous:r.iterationsViscous,iterationsPoisson:r.iterationsPoisson,resolution:r.resolution,isBounce:!1,autoDemo:!0,autoSpeed:r.autoSpeed,autoIntensity:2.2,takeoverDuration:.25,autoResumeDelay:3e3,autoRampDuration:.6}),u.jsxs("div",{className:"page-content",children:[u.jsx("h1",{className:"page-title",children:"Create Account"}),u.jsx("div",{className:"account-form-wrapper",children:u.jsxs("form",{onSubmit:d,className:"account-form",children:[l&&u.jsx("div",{className:"form-error",role:"alert",children:l}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{htmlFor:"username",children:"Username"}),u.jsx("input",{type:"text",id:"username",name:"username",value:i.username,onChange:h,required:!0,placeholder:"Choose a unique username",autoComplete:"username"})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{htmlFor:"email",children:"Email Address"}),u.jsx("input",{type:"email",id:"email",name:"email",value:i.email,onChange:h,required:!0,placeholder:"Enter your email",autoComplete:"email"})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{htmlFor:"password",children:"Password"}),u.jsx("input",{type:"password",id:"password",name:"password",value:i.password,onChange:h,required:!0,placeholder:"Create a password",minLength:8,autoComplete:"new-password"})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{htmlFor:"confirmPassword",children:"Confirm Password"}),u.jsx("input",{type:"password",id:"confirmPassword",name:"confirmPassword",value:i.confirmPassword,onChange:h,required:!0,placeholder:"Confirm your password",minLength:8,autoComplete:"new-password"})]}),u.jsx("div",{className:"form-group checkbox-group",children:u.jsxs("label",{className:"checkbox-label",children:[u.jsx("input",{type:"checkbox",name:"terms",checked:i.terms,onChange:h}),"I agree to the terms and conditions"]})}),u.jsx("button",{type:"submit",className:"submit-btn",disabled:o,children:o?"Creating accountâ€¦":"Create Account"}),u.jsxs("p",{className:"form-footer",children:["Already have an account? ",u.jsx(Tt,{to:"/login",children:"Sign in"})]})]})})]})]})}function P_(){const t=Ps(),e=Jc(),{login:s}=cr(),r=typeof window<"u"&&(/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)||window.innerWidth<=768),i=It(r),[n,o]=S.useState({usernameOrEmail:"",password:""}),[a,l]=S.useState(!1),[c,h]=S.useState(null),d=f=>{o({...n,[f.target.name]:f.target.value}),h(null)},p=async f=>{var g,m;f.preventDefault(),h(null),l(!0);try{await s(n.usernameOrEmail.trim(),n.password);const v=((m=(g=e.state)==null?void 0:g.from)==null?void 0:m.pathname)||"/";t(v,{replace:!0})}catch(v){h(v.message||"Invalid username/email or password.")}finally{l(!1)}};return u.jsxs("div",{className:"page-container",children:[u.jsx(Rt,{colors:["#5227FF","#FF9FFC","#B19EEF"],mouseForce:r?18:24,cursorSize:r?80:100,isViscous:!0,viscous:30,iterationsViscous:i.iterationsViscous,iterationsPoisson:i.iterationsPoisson,resolution:i.resolution,isBounce:!1,autoDemo:!0,autoSpeed:i.autoSpeed,autoIntensity:2.2,takeoverDuration:.25,autoResumeDelay:3e3,autoRampDuration:.6}),u.jsxs("div",{className:"page-content",children:[u.jsx("h1",{className:"page-title",children:"Sign in"}),u.jsx("div",{className:"account-form-wrapper",children:u.jsxs("form",{onSubmit:p,className:"account-form",children:[c&&u.jsx("div",{className:"form-error",role:"alert",children:c}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{htmlFor:"usernameOrEmail",children:"Username or Email"}),u.jsx("input",{type:"text",id:"usernameOrEmail",name:"usernameOrEmail",value:n.usernameOrEmail,onChange:d,required:!0,placeholder:"Username or email",autoComplete:"username"})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{htmlFor:"password",children:"Password"}),u.jsx("input",{type:"password",id:"password",name:"password",value:n.password,onChange:d,required:!0,placeholder:"Your password",autoComplete:"current-password"})]}),u.jsx("button",{type:"submit",className:"submit-btn",disabled:a,children:a?"Signing inâ€¦":"Log In"}),u.jsxs("p",{className:"form-footer",children:["Don't have an account? ",u.jsx(Tt,{to:"/account",children:"Create account"})]})]})})]})]})}function j_(){const{user:t,updateUser:e}=cr(),s=typeof window<"u"&&(/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)||window.innerWidth<=768),r=It(s),[i,n]=S.useState({username:(t==null?void 0:t.username)||"",email:(t==null?void 0:t.email)||""}),[o,a]=S.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[l,c]=S.useState({billing:{street:"",city:"",state:"",zip:"",country:"United States"},shipping:{street:"",city:"",state:"",zip:"",country:"United States"},sameAsBilling:!1}),[h,d]=S.useState([]),[p,f]=S.useState([]),[g,m]=S.useState(!1),[v,y]=S.useState(!1),[w,b]=S.useState(null),[_,x]=S.useState(null);S.useEffect(()=>{t&&(n({username:t.username,email:t.email}),A(),T())},[t]);const A=async()=>{try{const E=await fs.getAddresses();(E.billing||E.shipping)&&c({billing:E.billing||l.billing,shipping:E.shipping||l.shipping,sameAsBilling:!1})}catch(E){console.error("Failed to load addresses:",E)}},T=async()=>{try{const E=await fs.getSubscriptions("active"),O=await fs.getSubscriptions("cancelled");d(E||[]),f(O||[])}catch(E){console.error("Failed to load subscriptions:",E)}},C=E=>{n({...i,[E.target.name]:E.target.value}),b(null),x(null)},k=E=>{a({...o,[E.target.name]:E.target.value}),b(null),x(null)},j=(E,O,Z)=>{c({...l,[E]:{...l[E],[O]:Z}}),b(null),x(null)},I=E=>{const O=E.target.checked;c({...l,sameAsBilling:O,shipping:O?{...l.billing}:l.shipping})},V=async E=>{E.preventDefault(),b(null),x(null),m(!0);try{const O=await fs.updateProfile({username:i.username.trim(),email:i.email.trim()});e(O),x("Profile updated successfully!")}catch(O){b(O.message||"Failed to update profile")}finally{m(!1)}},L=async E=>{if(E.preventDefault(),b(null),x(null),o.newPassword!==o.confirmPassword){b("New passwords do not match!");return}if(o.newPassword.length<8){b("Password must be at least 8 characters long");return}m(!0);try{await fs.updatePassword({currentPassword:o.currentPassword,newPassword:o.newPassword}),x("Password updated successfully!"),a({currentPassword:"",newPassword:"",confirmPassword:""})}catch(O){b(O.message||"Failed to update password")}finally{m(!1)}},Y=async E=>{E.preventDefault(),b(null),x(null),m(!0);try{await fs.updateAddresses({billing:l.billing,shipping:l.sameAsBilling?l.billing:l.shipping}),x("Addresses updated successfully!")}catch(O){b(O.message||"Failed to update addresses")}finally{m(!1)}},Q=async E=>{if(confirm("Are you sure you want to cancel this subscription?"))try{await fs.cancelSubscription(E),x("Subscription cancelled successfully!"),T()}catch(O){b(O.message||"Failed to cancel subscription")}},J=async()=>{y(!0),b(null);try{const E=h[0];if(!E||!E.stripe_customer_id){b("No billing information found. Please contact support.");return}const{url:O}=await af.createPortalSession(E.stripe_customer_id);O&&(window.location.href=O)}catch(E){console.error("Portal error:",E),b("Failed to open billing portal. Please try again.")}finally{y(!1)}},z=E=>new Date(E).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"});return u.jsxs("div",{className:"page-container",children:[u.jsx(Rt,{colors:["#5227FF","#FF9FFC","#B19EEF"],mouseForce:s?18:24,cursorSize:s?80:100,isViscous:!0,viscous:30,iterationsViscous:r.iterationsViscous,iterationsPoisson:r.iterationsPoisson,resolution:r.resolution,isBounce:!1,autoDemo:!0,autoSpeed:r.autoSpeed,autoIntensity:2.2,takeoverDuration:.25,autoResumeDelay:3e3,autoRampDuration:.6}),u.jsxs("div",{className:"page-content",children:[u.jsx("h1",{className:"page-title",children:"Account Settings"}),u.jsxs("div",{className:"account-form-wrapper",children:[w&&u.jsx("div",{className:"form-error",role:"alert",children:w}),_&&u.jsx("div",{className:"form-success",role:"alert",children:_}),u.jsxs("form",{onSubmit:V,className:"account-form",children:[u.jsx("h2",{className:"form-section-title",children:"Profile Information"}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{htmlFor:"username",children:"Username"}),u.jsx("input",{type:"text",id:"username",name:"username",value:i.username,onChange:C,required:!0,placeholder:"Your username",autoComplete:"username"})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{htmlFor:"email",children:"Email Address"}),u.jsx("input",{type:"email",id:"email",name:"email",value:i.email,onChange:C,required:!0,placeholder:"Your email",autoComplete:"email"})]}),u.jsx("button",{type:"submit",className:"submit-btn",disabled:g,children:g?"Saving...":"Save Profile"})]}),u.jsxs("form",{onSubmit:Y,className:"account-form",style:{marginTop:"2rem"},children:[u.jsx("h2",{className:"form-section-title",children:"Billing Address"}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{htmlFor:"billing-street",children:"Street Address"}),u.jsx("input",{type:"text",id:"billing-street",value:l.billing.street,onChange:E=>j("billing","street",E.target.value),placeholder:"123 Main St"})]}),u.jsxs("div",{className:"form-row",children:[u.jsxs("div",{className:"form-group",children:[u.jsx("label",{htmlFor:"billing-city",children:"City"}),u.jsx("input",{type:"text",id:"billing-city",value:l.billing.city,onChange:E=>j("billing","city",E.target.value),placeholder:"City"})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{htmlFor:"billing-state",children:"State"}),u.jsx("input",{type:"text",id:"billing-state",value:l.billing.state,onChange:E=>j("billing","state",E.target.value),placeholder:"State"})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{htmlFor:"billing-zip",children:"ZIP Code"}),u.jsx("input",{type:"text",id:"billing-zip",value:l.billing.zip,onChange:E=>j("billing","zip",E.target.value),placeholder:"12345"})]})]}),u.jsx("h2",{className:"form-section-title",style:{marginTop:"2rem"},children:"Shipping Address"}),u.jsx("div",{className:"form-group",children:u.jsxs("label",{className:"checkbox-label",children:[u.jsx("input",{type:"checkbox",checked:l.sameAsBilling,onChange:I}),u.jsx("span",{children:"Same as billing address"})]})}),!l.sameAsBilling&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"form-group",children:[u.jsx("label",{htmlFor:"shipping-street",children:"Street Address"}),u.jsx("input",{type:"text",id:"shipping-street",value:l.shipping.street,onChange:E=>j("shipping","street",E.target.value),placeholder:"123 Main St"})]}),u.jsxs("div",{className:"form-row",children:[u.jsxs("div",{className:"form-group",children:[u.jsx("label",{htmlFor:"shipping-city",children:"City"}),u.jsx("input",{type:"text",id:"shipping-city",value:l.shipping.city,onChange:E=>j("shipping","city",E.target.value),placeholder:"City"})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{htmlFor:"shipping-state",children:"State"}),u.jsx("input",{type:"text",id:"shipping-state",value:l.shipping.state,onChange:E=>j("shipping","state",E.target.value),placeholder:"State"})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{htmlFor:"shipping-zip",children:"ZIP Code"}),u.jsx("input",{type:"text",id:"shipping-zip",value:l.shipping.zip,onChange:E=>j("shipping","zip",E.target.value),placeholder:"12345"})]})]})]}),u.jsx("button",{type:"submit",className:"submit-btn",disabled:g,children:g?"Saving...":"Save Addresses"})]}),u.jsxs("div",{className:"subscriptions-section",style:{marginTop:"2rem"},children:[u.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[u.jsx("h2",{className:"form-section-title",style:{margin:0},children:"Current Subscriptions"}),h.length>0&&u.jsx("button",{onClick:J,disabled:v,className:"submit-btn",style:{padding:"0.5rem 1.5rem",fontSize:"0.9rem",background:"linear-gradient(135deg, #5227FF, #B19EEF)"},children:v?"Loading...":"ðŸ’³ Manage Billing"})]}),h.length===0?u.jsx("p",{className:"no-subscriptions",children:"You don't have any active subscriptions yet."}):u.jsx("div",{className:"subscriptions-grid",children:h.map(E=>u.jsxs("div",{className:"subscription-card",children:[u.jsxs("div",{className:"subscription-header",children:[u.jsx("h3",{children:E.packageName}),u.jsx("span",{className:"subscription-tier",children:E.tier})]}),u.jsxs("div",{className:"subscription-details",children:[u.jsxs("p",{children:[u.jsx("strong",{children:"Duration:"})," ",E.duration]}),u.jsxs("p",{children:[u.jsx("strong",{children:"Price:"})," $",E.price]}),u.jsxs("p",{children:[u.jsx("strong",{children:"Started:"})," ",z(E.startDate)]}),u.jsxs("p",{children:[u.jsx("strong",{children:"Next Billing:"})," ",z(E.nextBillingDate)]})]}),u.jsx("button",{className:"cancel-btn",onClick:()=>Q(E.id),children:"Cancel Subscription"})]},E.id))})]}),p.length>0&&u.jsxs("div",{className:"subscriptions-section",style:{marginTop:"2rem"},children:[u.jsx("h2",{className:"form-section-title",children:"Past Subscriptions"}),u.jsx("div",{className:"subscriptions-grid",children:p.map(E=>u.jsxs("div",{className:"subscription-card cancelled",children:[u.jsxs("div",{className:"subscription-header",children:[u.jsx("h3",{children:E.packageName}),u.jsx("span",{className:"subscription-tier cancelled",children:E.tier})]}),u.jsxs("div",{className:"subscription-details",children:[u.jsxs("p",{children:[u.jsx("strong",{children:"Duration:"})," ",E.duration]}),u.jsxs("p",{children:[u.jsx("strong",{children:"Price:"})," $",E.price]}),u.jsxs("p",{children:[u.jsx("strong",{children:"Started:"})," ",z(E.startDate)]}),u.jsxs("p",{children:[u.jsx("strong",{children:"Cancelled:"})," ",z(E.cancelledAt)]})]})]},E.id))})]}),u.jsxs("form",{onSubmit:L,className:"account-form",style:{marginTop:"2rem"},children:[u.jsx("h2",{className:"form-section-title",children:"Change Password"}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{htmlFor:"currentPassword",children:"Current Password"}),u.jsx("input",{type:"password",id:"currentPassword",name:"currentPassword",value:o.currentPassword,onChange:k,required:!0,placeholder:"Enter current password",autoComplete:"current-password"})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{htmlFor:"newPassword",children:"New Password"}),u.jsx("input",{type:"password",id:"newPassword",name:"newPassword",value:o.newPassword,onChange:k,required:!0,placeholder:"Enter new password",minLength:8,autoComplete:"new-password"})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{htmlFor:"confirmPassword",children:"Confirm New Password"}),u.jsx("input",{type:"password",id:"confirmPassword",name:"confirmPassword",value:o.confirmPassword,onChange:k,required:!0,placeholder:"Confirm new password",minLength:8,autoComplete:"new-password"})]}),u.jsx("button",{type:"submit",className:"submit-btn",disabled:g,children:g?"Updating...":"Update Password"})]})]})]})]})}function R_(){const t=Ps(),[e]=mf(),s=e.get("session_id"),r=typeof window<"u"&&(/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)||window.innerWidth<=768),i=It(r);return S.useEffect(()=>{localStorage.setItem("cartItems",JSON.stringify([])),window.dispatchEvent(new Event("cartUpdated"))},[]),u.jsxs("div",{className:"page-container",children:[u.jsx(Rt,{colors:["#5227FF","#FF9FFC","#B19EEF"],mouseForce:r?18:24,cursorSize:r?80:100,isViscous:!0,viscous:30,iterationsViscous:i.iterationsViscous,iterationsPoisson:i.iterationsPoisson,resolution:i.resolution,isBounce:!1,autoDemo:!0,autoSpeed:i.autoSpeed,autoIntensity:2.2,takeoverDuration:.25,autoResumeDelay:3e3,autoRampDuration:.6}),u.jsx("div",{className:"page-content",style:{textAlign:"center",maxWidth:"600px",margin:"0 auto"},children:u.jsxs("div",{style:{background:"rgba(255, 255, 255, 0.05)",backdropFilter:"blur(20px)",border:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"20px",padding:"3rem 2rem",marginTop:"2rem"},children:[u.jsx("div",{style:{fontSize:"4rem",marginBottom:"1rem"},children:"âœ“"}),u.jsx("h1",{className:"page-title",style:{marginBottom:"1rem"},children:"Payment Successful!"}),u.jsx("p",{style:{fontSize:"1.1rem",marginBottom:"2rem",opacity:.9},children:"Thank you for your purchase. Your order has been confirmed and you'll receive a confirmation email shortly."}),s&&u.jsxs("p",{style:{fontSize:"0.9rem",opacity:.7,marginBottom:"2rem"},children:["Session ID: ",s.substring(0,20),"..."]}),u.jsxs("div",{style:{display:"flex",gap:"1rem",justifyContent:"center",flexWrap:"wrap"},children:[u.jsx("button",{onClick:()=>t("/settings"),style:{padding:"0.75rem 2rem",background:"linear-gradient(135deg, #5227FF, #B19EEF)",border:"none",borderRadius:"10px",color:"white",fontSize:"1rem",fontWeight:"600",cursor:"pointer",transition:"transform 0.2s"},onMouseEnter:n=>n.target.style.transform="scale(1.05)",onMouseLeave:n=>n.target.style.transform="scale(1)",children:"View My Account"}),u.jsx("button",{onClick:()=>t("/"),style:{padding:"0.75rem 2rem",background:"rgba(255, 255, 255, 0.1)",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"10px",color:"white",fontSize:"1rem",fontWeight:"600",cursor:"pointer",transition:"transform 0.2s"},onMouseEnter:n=>n.target.style.transform="scale(1.05)",onMouseLeave:n=>n.target.style.transform="scale(1)",children:"Back to Home"})]})]})})]})}function I_(){return u.jsxs("div",{style:{minHeight:"100vh",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",textAlign:"center",padding:"2rem",backgroundColor:"#0a0e1a",color:"#ffffff"},children:[u.jsx("h1",{style:{fontSize:"6rem",marginBottom:"1rem",fontWeight:"bold"},children:"404"}),u.jsx("h2",{style:{fontSize:"2rem",marginBottom:"1rem"},children:"Page Not Found"}),u.jsx("p",{style:{marginBottom:"2rem",color:"#e0e0e0",fontSize:"1.1rem"},children:"The page you're looking for doesn't exist."}),u.jsx(Tt,{to:"/",style:{display:"inline-block",padding:"0.75rem 2rem",backgroundColor:"#4da6ff",color:"#fff",textDecoration:"none",borderRadius:"4px",transition:"background-color 0.3s",fontSize:"1rem"},onMouseEnter:t=>t.target.style.backgroundColor="#3d8fdd",onMouseLeave:t=>t.target.style.backgroundColor="#4da6ff",children:"Go Home"})]})}function O_(){return u.jsx(gf,{children:u.jsx(wu,{children:u.jsx(dg,{children:u.jsx(Nf,{children:u.jsx(D0,{children:u.jsxs(vf,{children:[u.jsx(yt,{path:"/",element:u.jsx(dv,{})}),u.jsx(yt,{path:"/about",element:u.jsx(t_,{})}),u.jsx(yt,{path:"/products",element:u.jsx(a_,{})}),u.jsx(yt,{path:"/packages",element:u.jsx(l_,{})}),u.jsx(yt,{path:"/cart",element:u.jsx(u_,{})}),u.jsx(yt,{path:"/contact",element:u.jsx(C_,{})}),u.jsx(yt,{path:"/account",element:u.jsx(k_,{})}),u.jsx(yt,{path:"/login",element:u.jsx(P_,{})}),u.jsx(yt,{path:"/settings",element:u.jsx(M0,{children:u.jsx(j_,{})})}),u.jsx(yt,{path:"/checkout/success",element:u.jsx(R_,{})}),u.jsx(yt,{path:"*",element:u.jsx(I_,{})})]})})})})})})}Gn.createRoot(document.getElementById("root")).render(u.jsx(Ke.StrictMode,{children:u.jsx(wu,{children:u.jsx(O_,{})})}));
